{"version":3,"sources":["../node_modules/browser-pack/_prelude.js","src/auth_state/AuthHttpResponseInterceptor.ts","src/auth_state/AuthStateDecorator.ts","src/auth_state/AuthStateInit.ts","src/auth_state/AuthStateService.ts","src/auth_state/IAuthStateService.ts","src/auth_state/index.ts","src/cache/DataCacheService.ts","src/cache/IDataCacheService.ts","src/cache/index.ts","src/data/DataModelService.ts","src/data/index.ts","src/index.ts","src/rest/RestService.ts","src/rest/index.ts","src/change_password/ChangePassword.ts","src/change_password/ChangePasswordDialog.ts","src/change_password/ChangePasswordModel.ts","src/change_password/ChangePasswordPanel.ts","src/change_password/ChangePasswordViewModel.ts","src/common/EmailUnique.ts","src/common/EntryCommonService.ts","src/common/EntryHideObject.ts","src/common/EntryInit.ts","src/common/EntryModel.ts","src/common/EntryPageConfig.ts","src/common/EntryService.ts","src/common/EntryStrings.ts","src/common/PasswordMatch.ts","src/common/index.ts","src/data/Account.ts","src/data/EmailSettings.ts","src/data/EntryDataService.ts","src/data/Enums.ts","src/data/Role.ts","src/data/Session.ts","src/data/SessionData.ts","src/data/SessionDataService.ts","src/expire_change_password/ExpireChangePassword.ts","src/expire_change_password/ExpireChangePasswordDialog.ts","src/expire_change_password/ExpireChangePasswordModel.ts","src/expire_change_password/ExpireChangePasswordPanel.ts","src/expire_change_password/ExpireChangePasswordViewModel.ts","src/post_signup/PostSignup.ts","src/post_signup/PostSignupDialog.ts","src/post_signup/PostSignupModel.ts","src/post_signup/PostSignupPanel.ts","src/post_signup/PostSignupViewModel.ts","src/recover_password/RecoverPassword.ts","src/recover_password/RecoverPasswordDialog.ts","src/recover_password/RecoverPasswordModel.ts","src/recover_password/RecoverPasswordPanel.ts","src/recover_password/RecoverPasswordViewModel.ts","src/reset_password/ResetPassword.ts","src/reset_password/ResetPasswordDialog.ts","src/reset_password/ResetPasswordModel.ts","src/reset_password/ResetPasswordPanel.ts","src/reset_password/ResetPasswordViewModel.ts","src/rest/EntryResources.ts","src/rest/SessionResources.ts","src/rest/SettingsResources.ts","src/signin/Signin.ts","src/signin/SigninDialog.ts","src/signin/SigninModel.ts","src/signin/SigninPanel.ts","src/signin/SigninViewModel.ts","src/signout/Signout.ts","src/signup/Signup.ts","src/signup/SignupDialog.ts","src/signup/SignupModel.ts","src/signup/SignupPanel.ts","src/signup/SignupViewModel.ts","src/verify_email/VerifyEmail.ts","src/verify_email/VerifyEmailModel.ts","src/verify_email/VerifyEmailViewModel.ts","temp/pip-suite-entry-html.min.js","src/ISplitService.ts","src/SplitService.ts","../node_modules/async/lib/async.js","../node_modules/process/browser.js","../node_modules/timers-browserify/main.js","src/add_image/AddImage.ts","src/add_image/AddImageOption.ts","src/add_image/AddImageResult.ts","src/avatar/Avatar.ts","src/avatar_edit/AvatarEdit.ts","src/camera_dialog/CameraDialogController.ts","src/camera_dialog/CameraDialogService.ts","src/camera_dialog/index.ts","src/collage/Collage.ts","src/data/Attachment.ts","src/data/AvatarDataService.ts","src/data/BlobInfo.ts","src/data/DataPage.ts","src/data/IAvatarDataService.ts","src/data/IPictureDataService.ts","src/data/Image.ts","src/data/ImageSet.ts","src/data/ImageSetDataService.ts","src/data/PictureDataService.ts","src/gallery_search_dialog/GallerySearchDialogController.ts","src/gallery_search_dialog/GallerySearchDialogService.ts","src/gallery_search_dialog/IGallerySearchDialogService.ts","src/gallery_search_dialog/index.ts","src/picture/Picture.ts","src/picture_edit/PictureEdit.ts","src/picture_list_edit/PictureListEdit.ts","src/picture_url_dialog/PictureUrlDialogController.ts","src/picture_url_dialog/PictureUrlDialogService.ts","src/picture_url_dialog/index.ts","src/rest/AvatarResources.ts","src/rest/ImageSetResources.ts","src/rest/PictureResources.ts","src/utilities/IPictureUtils.ts","src/utilities/PicturePaste.ts","src/utilities/PictureUtils.ts","src/utilities/index.ts","temp/pip-suite-pictures-html.min.js","src/add_documents/AddDocument.ts","src/data/DocumentDataService.ts","src/data/IDocumentDataService.ts","src/document_list/DocumentList.ts","src/document_list_edit/DocumentListEdit.ts","src/document_url_dialog/DocumentUrlDialogService.ts","src/rest/DocumentResources.ts","src/rest/FileResources.ts","temp/pip-suite-documents-html.min.js","src/checklist_edit/ChecklistEdit.ts","src/checklist_view/ChecklistView.ts","src/composite_edit/CompositeEdit.ts","src/composite_summary/CompositeSummary.ts","src/composite_toolbar/CompositeToolbar.ts","src/composite_view/CompositeView.ts","src/content_switch/ContentSwitch.ts","src/data/ChecklistItem.ts","src/data/Content.ts","src/data/ContentBlockType.ts","src/data/EmbeddedType.ts","src/embedded_edit/EmbeddedEdit.ts","src/embedded_view/EmbeddedView.ts","src/mobile_mouse/MobileMousedown.ts","src/mobile_mouse/MobileMouseup.ts","src/mobile_mouse/index.ts","src/utilities/CompositeFocused.ts","temp/pip-suite-composite-html.min.js","src/data/Guide.ts","src/data/GuideDataService.ts","src/data/GuidePage.ts","src/data/GuideStatus.ts","src/data/GuideType.ts","src/data/MultiString.ts","src/data/PageData.ts","src/data/PartyReference.ts","src/data/Quote.ts","src/data/QuoteDataService.ts","src/data/QuoteStatus.ts","src/data/Tip.ts","src/data/TipDataService.ts","src/data/TipStatus.ts","src/guidance/GuidanceDialog.ts","src/intro_guidance/IntroGuidanceDialog.ts","src/intro_guidance/IntroGuidanceService.ts","src/intro_guidance/index.ts","src/quotes/QuotesService.ts","src/rest/GuideResources.ts","src/rest/QuoteResources.ts","src/rest/TipResources.ts","src/tips/TipsService.ts","temp/pip-suite-guidance-html.min.js","src/analytics/Analytics.ts","src/data/Feedback.ts","src/data/FeedbackDataService.ts","src/feedback/Feedback.ts","src/feedback/FeedbackDialog.ts","src/feedback/FeedbackPanel.ts","src/feedback/FeedbackStrings.ts","src/feedback/index.ts","src/rest/FeedbackResources.ts","temp/pip-suite-support-html.min.js","src/GoogleMapsRemoveAfterService.ts","src/HelpService.ts","src/Map.ts","src/MapEventHandlerService.ts","src/config.ts","src/edit/MapEdit.ts","src/edit/index.ts","src/elements/MapElementControllerService.ts","src/elements/MapElementDirectiveService.ts","src/elements/MapElementRequireService.ts","src/elements/circles/MapCircles.ts","src/elements/index.ts","src/elements/kml/MapKml.ts","src/elements/markers/MapMarkers.ts","src/elements/polygons/MapPolygons.ts","src/elements/polylines/MapPolylines.ts","src/popup/MapElementPopupService.ts","src/popup/MapPopup.ts","src/popup/MapPopupContent.ts","src/popup/MapPopupService.ts","src/popup/index.ts","temp/pip-suite-map-html.min.js","src/data/TagDataService.ts","src/rest/TagResources.ts","src/tag_list/TagList.ts","temp/pip-suite-tags-html.min.js"],"names":[],"mappings":"AAAA;;;ACCa,QAAA,oBAAoB,GAAW,yBAAyB,CAAC;AACzD,QAAA,kBAAkB,GAAW,uBAAuB,CAAC;AAElE;IACI,qCACY,EAAgB,EAChB,UAAgC,EAChC,SAA8B,EAC9B,IAAoB;QAE5B,UAAU,CAAC;QANf,iBAOC;QANW,OAAE,GAAF,EAAE,CAAc;QAChB,eAAU,GAAV,UAAU,CAAsB;QAChC,cAAS,GAAT,SAAS,CAAqB;QAC9B,SAAI,GAAJ,IAAI,CAAgB;QAKzB,kBAAa,GAAG,UAAC,SAAc;YAClC,IAAI,OAAO,GAAe,KAAI,CAAC,UAAU,CAAC,GAAG,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,KAAI,CAAC,UAAU,CAAC,GAAG,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC,IAAI,GAAG,KAAI,CAAC,UAAU,CAAC,GAAG,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC,IAAI,GAAG,IAAI,CAAC;YACrK,IAAI,QAAQ,GAAQ,KAAI,CAAC,UAAU,CAAC,GAAG,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,KAAI,CAAC,UAAU,CAAC,GAAG,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC,MAAM,GAAG,KAAI,CAAC,UAAU,CAAC,GAAG,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC;YAEnK,MAAM,CAAC,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,CAAC;gBACvB,KAAK,GAAG,CAAC;gBACT,KAAK,GAAG;oBACJ,KAAI,CAAC,IAAI,CAAC,KAAK,CAAC,oBAAoB,EAAE,SAAS,CAAC,CAAC;oBAEjD,KAAI,CAAC,UAAU,CAAC,KAAK,CAAC,4BAAoB,EAAE;wBACxC,WAAW,EAAE,OAAO,IAAI,QAAQ,IAAI,QAAQ,CAAC,WAAW,GAAG,EAAE,GAAG,KAAI,CAAC,SAAS,CAAC,GAAG,EAAE;wBACpF,OAAO,EAAE,OAAO;wBAChB,QAAQ,EAAE,QAAQ;qBACrB,CAAC,CAAC;oBAEH,KAAK,CAAC;gBACV,KAAK,GAAG;oBACJ,KAAI,CAAC,IAAI,CAAC,KAAK,CAAC,oBAAoB,EAAE,SAAS,CAAC,CAAC;oBAEjD,KAAI,CAAC,UAAU,CAAC,KAAK,CAAC,0BAAkB,CAAC,CAAC;oBAE1C,KAAK,CAAC;gBACV;oBACI,KAAI,CAAC,IAAI,CAAC,KAAK,CAAC,gBAAgB,EAAE,SAAS,CAAC,CAAC;oBAC7C,KAAK,CAAC;YACd,CAAC;YAED,MAAM,CAAC,KAAI,CAAC,EAAE,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;QACrC,CAAC,CAAA;IA9BD,CAAC;IA+BL,kCAAC;AAAD,CAvCA,AAuCC,IAAA;AAED,4BAA4B,aAA+B;IACvD,aAAa,CAAC,YAAY,CAAC,IAAI,CAAC,gCAAgC,CAAC,CAAC;AACtE,CAAC;AAED,OAAO;KACF,MAAM,CAAC,cAAc,CAAC;KACtB,MAAM,CAAC,kBAAkB,CAAC;KAC1B,OAAO,CAAC,gCAAgC,EAAE,2BAA2B,CAAC,CAAC;;;;ACpD5E,yDAAsD;AAGtD,wCAAwC,SAAS,EAAE,QAAQ;IACvD,UAAU,CAAC;IAEX,SAAS,CAAC,MAAM,GAAG,IAAI,mCAAe,EAAE,CAAC;IACzC,SAAS,CAAC,WAAW,GAAG,WAAW,CAAC;IACpC,SAAS,CAAC,YAAY,GAAG,YAAY,CAAC;IACtC,SAAS,CAAC,eAAe,GAAG,eAAe,CAAC;IAC5C,SAAS,CAAC,iBAAiB,GAAG,iBAAiB,CAAC;IAEhD,SAAS,CAAC,UAAU,GAAG,UAAU,CAAC;IAClC,SAAS,CAAC,WAAW,GAAG,WAAW,CAAC;IACpC,SAAS,CAAC,cAAc,GAAG,cAAc,CAAC;IAC1C,SAAS,CAAC,gBAAgB,GAAG,gBAAgB,CAAC;IAE9C,MAAM,CAAC,SAAS,CAAC;IAGjB,qBAAqB,KAAc;QAC/B,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;YACR,IAAI,CAAC,OAAO,CAAC,WAAW,GAAG,KAAK,CAAC;QACrC,CAAC;QAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC;IACtC,CAAC;IACD,sBAAsB,KAAc;QAChC,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;YACR,IAAI,CAAC,OAAO,CAAC,YAAY,GAAG,KAAK,CAAC;QACtC,CAAC;QAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC;IACvC,CAAC;IACD,yBAAyB,KAAc;QACnC,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;YACR,IAAI,CAAC,OAAO,CAAC,eAAe,GAAG,KAAK,CAAC;QACzC,CAAC;QAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC;IAC1C,CAAC;IACD,2BAA2B,KAAc;QACrC,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;YACR,IAAI,CAAC,OAAO,CAAC,iBAAiB,GAAG,KAAK,CAAC;QAC3C,CAAC;QAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,iBAAiB,CAAC;IAC5C,CAAC;IAED,yBAAyB,MAAW;QAChC,EAAE,CAAC,CAAC,CAAC,MAAM,CAAC;YAAC,MAAM,CAAC,MAAM,CAAC;QAE3B,EAAE,CAAC,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC;YAAC,MAAM,CAAC,MAAM,CAAC;QAEpC,MAAM,CAAC,UAAU,GAAG,MAAM,CAAC,QAAQ,CAAC,UAAU,GAAG,MAAM,CAAC,QAAQ,CAAC,UAAU,GAAG,IAAI,CAAC;QACnF,MAAM,CAAC,KAAK,GAAG,MAAM,CAAC,QAAQ,CAAC,KAAK,GAAG,MAAM,CAAC,QAAQ,CAAC,KAAK,GAAG,IAAI,CAAC;QACpE,MAAM,CAAC,QAAQ,GAAG,MAAM,CAAC,QAAQ,CAAC,QAAQ,GAAG,MAAM,CAAC,QAAQ,CAAC,QAAQ,GAAG,IAAI,CAAC;QAE7E,MAAM,CAAC,MAAM,CAAC;IAClB,CAAC;IAED,oBAAoB,MAAW;QAC3B,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,WAAW,IAAI,IAAI,CAAC,CAAC,CAAC;YACnC,MAAM,IAAI,KAAK,CAAC,8BAA8B,CAAC,CAAC;QACpD,CAAC;QAED,MAAM,GAAG,eAAe,CAAC,MAAM,CAAC,CAAC;QACjC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,OAAO,CAAC,WAAW,EAAE,MAAM,CAAC,CAAC;IAC9C,CAAC;IACD,qBAAqB,MAAW;QAC5B,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,YAAY,IAAI,IAAI,CAAC,CAAC,CAAC;YACpC,MAAM,IAAI,KAAK,CAAC,+BAA+B,CAAC,CAAC;QACrD,CAAC;QAED,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE,MAAM,CAAC,CAAC;IAC/C,CAAC;IACD,wBAAwB,MAAW;QAC/B,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,eAAe,IAAI,IAAI,CAAC,CAAC,CAAC;YACvC,MAAM,IAAI,KAAK,CAAC,kCAAkC,CAAC,CAAC;QACxD,CAAC;QAED,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,OAAO,CAAC,eAAe,EAAE,MAAM,CAAC,CAAC;IAClD,CAAC;IACD,0BAA0B,MAAW;QACjC,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,iBAAiB,IAAI,IAAI,CAAC,CAAC,CAAC;YACzC,MAAM,IAAI,KAAK,CAAC,8BAA8B,CAAC,CAAC;QACpD,CAAC;QAED,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,OAAO,CAAC,iBAAiB,EAAE,MAAM,CAAC,CAAC;IACpD,CAAC;AACL,CAAC;AAGD,oCAAoC,QAAQ;IACxC,UAAU,CAAC;IAEX,QAAQ,CAAC,SAAS,CAAC,cAAc,EAAE,8BAA8B,CAAC,CAAC;AACvE,CAAC;AAED,OAAO;KACF,MAAM,CAAC,cAAc,CAAC;KACtB,MAAM,CAAC,0BAA0B,CAAC,CAAC;;;;AC3FxC,uBACI,IAAoB,EACpB,UAAgC,EAChC,MAA2B,EAC3B,UAAwC,EACxC,YAA+B;IAK/B,UAAU,CAAC,GAAG,CAAC,mBAAmB,EAAE,gBAAgB,CAAC,CAAC;IAEtD,UAAU,CAAC,GAAG,CAAC,yBAAyB,EAAE,oBAAoB,CAAC,CAAC;IAEhE,UAAU,CAAC,GAAG,CAAC,qBAAqB,EAAE,WAAW,CAAC,CAAC;IAEnD,qBAAqB,KAAuB,EAAE,OAA0B,EACpE,QAAa,EAAE,SAA4B,EAAE,UAAe;QAE5D,UAAU,CAAC,GAAG,CAAC,QAAQ,CAAC,UAAU,CAAC,GAAG,KAAK,CAAC;IAChD,CAAC;IAED,0BAA0B,KAAuB,EAAE,OAAmB,EAAE,QAAa,EACjF,SAAqB,EAAE,UAAe;QAGtC,EAAE,CAAC,CAAC,YAAY,CAAC,QAAQ,IAAI,YAAY,CAAC,QAAQ,CAAC,KAAK,EAAE,OAAO,EAAE,QAAQ,EAAE,UAAU,CAAC,CAAC,CAAC,CAAC;YACvF,MAAM,CAAC;QACX,CAAC;QAGD,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC,IAAI,IAAI,OAAO,CAAC,IAAI,KAAK,SAAS,CAAC,IAAI,CAAC,UAAU,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC;YACzE,KAAK,CAAC,cAAc,EAAE,CAAC;YAEvB,IAAI,UAAU,GAAW,YAAY,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC;YAGnE,EAAE,CAAC,CAAC,UAAU,CAAC,MAAM,GAAG,CAAC,IAAI,UAAU,CAAC,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC;gBAChD,UAAU,GAAG,UAAU,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;YACzC,CAAC;YAGF,YAAY,CAAC,UAAU,CAAC,EAAE,WAAW,EAAE,UAAU,EAAE,OAAO,EAAE,OAAO,EAAE,QAAQ,EAAE,QAAQ,EAAE,CAAC,CAAC;YAE1F,MAAM,CAAC;QACX,CAAC;QAGD,EAAE,CAAC,CAAC,OAAO,CAAC,IAAI,IAAI,YAAY,CAAC,iBAAiB,EAAE,IAAI,UAAU,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC;YAC5E,KAAK,CAAC,cAAc,EAAE,CAAC;YACvB,YAAY,CAAC,cAAc,CAAC,EAAE,CAAC,CAAC;YAEhC,MAAM,CAAC;QACX,CAAC;IACL,CAAC;IAED,8BAA8B,KAAuB,EAAE,MAAW;QAE9D,YAAY,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;IACrC,CAAC;AAEL,CAAC;AAED,4BAA4B,oBAAqD;IAE7E,oBAAoB,CAAC,YAAY,CAAC,IAAI,EAAE;QACpC,iBAAiB,EAAE,yCAAyC;KAC/D,CAAC,CAAC;IAEH,oBAAoB,CAAC,YAAY,CAAC,IAAI,EAAE;QACpC,iBAAiB,EAAE,0CAA0C;KAChE,CAAC,CAAC;AACP,CAAC;AAED,OAAO;KACF,MAAM,CAAC,cAAc,CAAC;KACtB,MAAM,CAAC,kBAAkB,CAAC;KAC1B,GAAG,CAAC,aAAa,CAAC,CAAC;;;;AC/ExB,yDAAyG;AAEzG;IAOI,2BACY,cAAoC;QAE5C,UAAU,CAAC;QAHf,iBAyBC;QAxBW,mBAAc,GAAd,cAAc,CAAsB;QALxC,sBAAiB,GAAQ,EAAE,CAAC;QAShC,IAAI,CAAC,OAAO,GAAG,IAAI,mCAAe,EAAE,CAAC;QAGrC,IAAI,CAAC,KAAK,GAAG,UAAC,SAAiB,EAAE,WAAuB;YACpD,EAAE,CAAC,CAAC,SAAS,IAAI,IAAI,CAAC,CAAC,CAAC;gBACpB,MAAM,IAAI,KAAK,CAAC,0BAA0B,CAAC,CAAC;YAChD,CAAC;YACD,EAAE,CAAC,CAAC,WAAW,IAAI,IAAI,CAAC,CAAC,CAAC;gBACtB,MAAM,IAAI,KAAK,CAAC,4BAA4B,CAAC,CAAC;YAClD,CAAC;YAGD,EAAE,CAAC,CAAC,WAAW,IAAI,CAAC,WAAW,CAAC,IAAI,IAAI,WAAW,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC;gBAChE,WAAW,CAAC,OAAO,GAAG,WAAW,CAAC,OAAO,IAAI,EAAE,CAAC;YACpD,CAAC;YAED,KAAI,CAAC,cAAc,CAAC,KAAK,CAAC,SAAS,EAAE,WAAW,CAAC,CAAC;YAElD,MAAM,CAAC,KAAI,CAAC;QAChB,CAAC,CAAA;IACL,CAAC;IAEM,oCAAQ,GAAf,UAAgB,SAAiB,EAAE,OAAe;QAC9C,IAAI,CAAC,iBAAiB,CAAC,SAAS,CAAC,GAAG,OAAO,CAAC;IAChD,CAAC;IAED,sBAAW,0CAAW;aAAtB;YACI,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC;QACpC,CAAC;aAED,UAAuB,KAAa;YAChC,IAAI,CAAC,OAAO,CAAC,WAAW,GAAG,KAAK,IAAI,IAAI,CAAC;QAC7C,CAAC;;;OAJA;IAMD,sBAAW,2CAAY;aAAvB;YACI,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC;QACrC,CAAC;aAED,UAAwB,KAAa;YACjC,IAAI,CAAC,OAAO,CAAC,YAAY,GAAG,KAAK,IAAI,IAAI,CAAC;QAC9C,CAAC;;;OAJA;IAKD,sBAAW,8CAAe;aAA1B;YACI,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC;QACxC,CAAC;aAED,UAA2B,KAAa;YACpC,IAAI,CAAC,OAAO,CAAC,eAAe,GAAG,KAAK,IAAI,GAAG,CAAC;QAChD,CAAC;;;OAJA;IAKD,sBAAW,gDAAiB;aAA5B;YACI,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,iBAAiB,CAAC;QAC1C,CAAC;aAED,UAA6B,KAAa;YACtC,IAAI,CAAC,OAAO,CAAC,iBAAiB,GAAG,KAAK,IAAI,GAAG,CAAC;QAClD,CAAC;;;OAJA;IAMM,gCAAI,GAAX,UAAY,MAA2B,EAAE,QAA4B;QACjE,UAAU,CAAC;QAEX,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,CAAC,CAAC;YACxB,MAAM,CAAC,SAAS,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC;YACjC,MAAM,CAAC,mBAAmB,CAAC,GAAG,IAAI,CAAC,iBAAiB,CAAC;YACrD,MAAM,CAAC,UAAU,CAAC,GAAG,QAAQ,CAAC;QAClC,CAAC;QAED,IAAI,CAAC,QAAQ,GAAsB,MAAM,CAAC;QAE1C,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC;QAErB,kBAAkB,KAAK,EAAE,KAAK,EAAE,MAAM;YAAtC,iBAkBC;YAjBG,IAAI,OAAO,GAAG,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;YACjD,EAAE,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;gBACxB,OAAO,GAAG,OAAO,CAAC,KAAK,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;gBAEtC,EAAE,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;oBAClB,MAAM,IAAI,KAAK,CAAC,mCAAmC,CAAC,CAAC;YAC7D,CAAC;YACD,EAAE,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;gBACZ,QAAQ,CAAC;oBACL,KAAK,CAAC,cAAc,EAAE,CAAC;oBACvB,KAAI,CAAC,YAAY,CAAC,OAAO,EAAE,MAAM,EAAE,EAAE,QAAQ,EAAE,SAAS,EAAE,CAAC,CAAC;gBAChE,CAAC,CAAC,CAAC;gBAEH,MAAM,CAAC,IAAI,CAAC;YAChB,CAAC;YAED,MAAM,CAAC,KAAK,CAAC;QACjB,CAAC;IACL,CAAC;IACL,wBAAC;AAAD,CArGA,AAqGC,IAAA;AAED,OAAO;KACF,MAAM,CAAC,cAAc,CAAC;KACtB,QAAQ,CAAC,cAAc,EAAE,iBAAiB,CAAC,CAAC;;;;ACtGjD;IAAA;QACI,gBAAW,GAAW,IAAI,CAAC;QAC3B,iBAAY,GAAW,IAAI,CAAC;QAC5B,oBAAe,GAAW,GAAG,CAAC;QAC9B,sBAAiB,GAAW,GAAG,CAAC;IACpC,CAAC;IAAD,sBAAC;AAAD,CALA,AAKC,IAAA;AALY,0CAAe;;;;;;;ACL5B,OAAO;KACF,MAAM,CAAC,cAAc,EAAE;IACpB,YAAY;IACZ,aAAa;IACb,oBAAoB;CACvB,CAAC,CAAC;AAGP,yCAAuC;AACvC,gCAA8B;AAC9B,2BAAyB;AACzB,+BAA6B;AAC7B,8BAA4B;AAI5B,mDAA6C;AAC7C,yCAAmC;;;;ACdnC;IAKI,mBACY,EAAgB,EAChB,YAA+B;QAEvC,UAAU,CAAC;QAHH,OAAE,GAAF,EAAE,CAAc;QAChB,iBAAY,GAAZ,YAAY,CAAmB;QANnC,kBAAa,GAAG,EAAE,GAAG,KAAK,CAAC;QAU/B,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC;IACrB,CAAC;IAGO,wBAAI,GAAZ,UAAa,IAAiB;QAC1B,IAAI,YAAY,GAA6B,EAAE,CAAC;QAGhD,EAAE,CAAC,CAAC,IAAI,IAAI,IAAI,CAAC,CAAC,CAAC;YAGf,YAAY,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;YAClC,YAAY,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;YAClC,YAAY,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;YAChC,YAAY,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;YAC9B,YAAY,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;QAElC,CAAC;QAED,IAAI,gBAAgB,GAAG,OAAO,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC;QAEpD,EAAE,CAAC,CAAC,gBAAgB,IAAI,IAAI,IAAI,gBAAgB,CAAC,MAAM,KAAK,CAAC,CAAC;YAC1D,MAAM,CAAC,CAAC,CAAC;QAEb,IAAI,CAAC,GAAW,CAAC,CAAC;QAClB,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,GAAG,gBAAgB,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE,CAAC;YAC1D,IAAI,GAAG,GAAG,gBAAgB,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;YACzC,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC;YACzB,CAAC,IAAI,CAAC,CAAC;QACX,CAAC;QAED,MAAM,CAAC,CAAC,CAAC;IACb,CAAC;IAGO,+BAAW,GAAnB,UAAoB,QAAgB,EAAE,MAAoB;QACtD,IAAI,CAAC,GAAW,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAClC,MAAM,CAAC,QAAQ,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC,GAAG,EAAE,CAAC,CAAC;IAC9C,CAAC;IAAA,CAAC;IAGK,yBAAK,GAAZ,UAAa,QAAiB;QAC1B,EAAE,CAAC,CAAC,QAAQ,IAAI,IAAI,CAAC,CAAC,CAAC;YACnB,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC;QACrB,CAAC;QAAC,IAAI,CAAC,CAAC;YACJ,GAAG,CAAC,CAAC,IAAI,GAAG,IAAI,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;gBAC1B,EAAE,CAAC,CAAC,GAAG,IAAI,QAAQ,IAAI,GAAG,CAAC,UAAU,CAAC,QAAQ,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC;oBACpD,OAAO,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;gBAC5B,CAAC;YACL,CAAC;QACL,CAAC;IACL,CAAC;IAGM,4BAAQ,GAAf,UAAgB,QAAgB,EAAE,MAAoB;QAClD,EAAE,CAAC,CAAC,QAAQ,IAAI,IAAI,CAAC;YAAC,MAAM,IAAI,KAAK,CAAC,yBAAyB,CAAC,CAAC;QACjE,EAAE,CAAC,CAAC,QAAQ,IAAI,EAAE,CAAC;YAAC,MAAM,IAAI,KAAK,CAAC,0BAA0B,CAAC,CAAC;QAEhE,IAAI,GAAG,GAAW,IAAI,CAAC,WAAW,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;QACrD,IAAI,MAAM,GAAQ,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;QACnC,EAAE,CAAC,CAAC,MAAM,IAAI,IAAI,CAAC;YAAC,MAAM,CAAC,IAAI,CAAC;QAGhC,EAAE,CAAC,CAAC,MAAM,CAAC,MAAM,IAAI,CAAC,CAAC,GAAG,EAAE,GAAG,MAAM,CAAC,MAAM,GAAG,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC;YAChE,OAAO,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;YACxB,MAAM,CAAC,IAAI,CAAC;QAChB,CAAC;QAED,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC;IACvB,CAAC;IAGM,yBAAK,GAAZ,UAAa,QAAgB,EAAE,IAAS,EAAE,MAAoB;QAC1D,EAAE,CAAC,CAAC,QAAQ,IAAI,IAAI,CAAC;YAAC,MAAM,IAAI,KAAK,CAAC,yBAAyB,CAAC,CAAC;QACjE,EAAE,CAAC,CAAC,QAAQ,IAAI,EAAE,CAAC;YAAC,MAAM,IAAI,KAAK,CAAC,0BAA0B,CAAC,CAAC;QAEhE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC,GAAG;YAC9C,MAAM,EAAE,CAAC,CAAC,GAAG,EAAE;YACf,IAAI,EAAE,IAAI;SACb,CAAC;IACN,CAAC;IAGM,oCAAgB,GAAvB,UAAwB,QAAgB,EAAE,IAAS,EAAE,MAAoB;QACrE,EAAE,CAAC,CAAC,QAAQ,IAAI,IAAI,CAAC;YAAC,MAAM,IAAI,KAAK,CAAC,yBAAyB,CAAC,CAAC;QACjE,EAAE,CAAC,CAAC,QAAQ,IAAI,EAAE,CAAC;YAAC,MAAM,IAAI,KAAK,CAAC,0BAA0B,CAAC,CAAC;QAEhE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC,GAAG;YAC9C,MAAM,EAAE,IAAI;YACZ,IAAI,EAAE,IAAI;SACb,CAAC;IACN,CAAC;IAGM,0BAAM,GAAb,UAAc,QAAgB,EAAE,MAAoB;QAChD,EAAE,CAAC,CAAC,QAAQ,IAAI,IAAI,CAAC;YAAC,MAAM,IAAI,KAAK,CAAC,yBAAyB,CAAC,CAAC;QACjE,EAAE,CAAC,CAAC,QAAQ,IAAI,EAAE,CAAC;YAAC,MAAM,IAAI,KAAK,CAAC,0BAA0B,CAAC,CAAC;QAEhE,OAAO,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC,CAAC;IAC3D,CAAC;IAAA,CAAC;IAEK,6BAAS,GAAhB,UAAiB,QAAgB,EAAE,IAAS,EAAE,MAAoB;QAC9D,EAAE,CAAC,CAAC,QAAQ,IAAI,IAAI,CAAC;YAAC,MAAM,IAAI,KAAK,CAAC,yBAAyB,CAAC,CAAC;QACjE,EAAE,CAAC,CAAC,IAAI,IAAI,IAAI,CAAC;YAAC,MAAM,CAAC;QAEzB,IAAI,IAAI,GAAQ,IAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;QAEhD,EAAE,CAAC,CAAC,IAAI,IAAI,IAAI,CAAC,CAAC,CAAC;YACf,IAAI,OAAO,GAAG,KAAK,CAAC;YACpB,IAAI,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC;YACvB,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,EAAE,CAAC,EAAE,EAAE,CAAC;gBAC5B,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC;oBACxB,IAAI,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC;oBACf,OAAO,GAAG,IAAI,CAAC;oBAEf,MAAM,CAAC;gBACX,CAAC;YACL,CAAC;YACD,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC;gBAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAC9B,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,IAAI,EAAE,MAAM,CAAC,CAAC;QACvC,CAAC;IACL,CAAC;IAGM,kCAAc,GAArB,UAAsB,MAAmB,EAAE,eAAqC,EAAE,aAAkC;QAApH,iBAoDC;QAnDG,EAAE,CAAC,CAAC,MAAM,IAAI,IAAI,CAAC;YAAC,MAAM,IAAI,KAAK,CAAC,uBAAuB,CAAC,CAAC;QAE7D,IAAI,QAAQ,GAAW,MAAM,CAAC,QAAQ,CAAC;QAGvC,IAAI,MAAM,GAAa,MAAM,CAAC,MAAM,CAAC;QACrC,IAAI,KAAK,GAAY,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC;QACpC,IAAI,MAAM,GAAQ,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE,MAAM,CAAC,GAAG,IAAI,CAAC;QAClE,IAAI,QAAQ,GAAQ,IAAI,CAAC,EAAE,CAAC,KAAK,EAAE,CAAC;QACpC,IAAI,MAAc,CAAC;QACnB,EAAE,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC;YAClB,MAAM,GAAG,MAAM,CAAC;QACpB,CAAC;QAAC,IAAI,CAAC,CAAC;YACJ,MAAM,GAAG,MAAM,CAAC,YAAY,GAAG,SAAS,GAAG,MAAM,CAAC;QACtD,CAAC;QAED,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;YACT,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;gBACT,EAAE,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;oBACd,MAAM,CAAC,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;gBACtC,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACJ,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC;gBAC5B,CAAC;YACL,CAAC;YACD,EAAE,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC;gBAAC,eAAe,CAAC,MAAM,CAAC,CAAC;YAAC,CAAC;YAC/D,QAAQ,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;YAEzB,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC;QAC5B,CAAC;QAED,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,CACrB,MAAM,EACN,UAAC,IAAS;YAEN,MAAM,CAAC,WAAW;gBACd,KAAI,CAAC,SAAS,CAAC,QAAQ,EAAE,IAAI,EAAE,MAAM,CAAC;gBACtC,KAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,IAAI,EAAE,MAAM,CAAC,CAAC;YACvC,EAAE,CAAC,CAAC,MAAM,CAAC;gBAAC,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC,CAAC;YAChC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;YAEvB,EAAE,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC;gBAAC,eAAe,CAAC,IAAI,CAAC,CAAC;YAAC,CAAC;QACjE,CAAC,EACD,UAAC,GAAQ;YAEL,QAAQ,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;YACrB,EAAE,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,aAAa,CAAC,CAAC;gBAAC,aAAa,CAAC,GAAG,CAAC,CAAC;QACxD,CAAC,CACJ,CAAC;QAGF,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC;IAC5B,CAAC;IAEM,6BAAS,GAAhB,UAAiB,QAAgB,EAAE,IAAS;QACxC,EAAE,CAAC,CAAC,QAAQ,IAAI,IAAI,CAAC;YAAC,MAAM,IAAI,KAAK,CAAC,yBAAyB,CAAC,CAAC;QACjE,EAAE,CAAC,CAAC,IAAI,IAAI,IAAI,CAAC;YAAC,MAAM,CAAC;QAEzB,GAAG,CAAC,CAAC,IAAI,GAAG,IAAI,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;YAC1B,EAAE,CAAC,CAAC,GAAG,IAAI,QAAQ,IAAI,GAAG,CAAC,UAAU,CAAC,QAAQ,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC;gBACpD,IAAI,IAAI,GAAQ,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;gBACtC,EAAE,CAAC,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;oBACxB,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;wBACnC,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC;4BACxB,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;4BAClB,CAAC,EAAE,CAAC;wBACR,CAAC;oBACL,CAAC;gBACL,CAAC;YACL,CAAC;QACL,CAAC;IACL,CAAC;IAGM,uCAAmB,GAA1B,UAA2B,QAAgB,EAAE,MAAoB,EAAE,eAAqC;QAAxG,iBAKC;QAJG,MAAM,CAAC,UAAC,IAAS;YACb,EAAE,CAAC,CAAC,CAAC,MAAM,IAAI,CAAC,MAAM,CAAC,eAAe,CAAC,CAAC,CAAC;gBAAC,KAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;YAAC,CAAC;YACjE,EAAE,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC;gBAAC,eAAe,CAAC,IAAI,CAAC,CAAC;YAAC,CAAC;QACjE,CAAC,CAAC;IACN,CAAC;IAEM,0CAAsB,GAA7B,UAA8B,QAAgB,EAAE,MAAoB,EAAE,eAAqC;QAA3G,iBAKC;QAJG,MAAM,CAAC,UAAC,IAAS;YACb,KAAI,CAAC,SAAS,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;YACjC,EAAE,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC;gBAAC,eAAe,CAAC,IAAI,CAAC,CAAC;YAAC,CAAC;QACjE,CAAC,CAAC;IACN,CAAC;IAEM,0CAAsB,GAA7B,UAA8B,QAAgB,EAAE,MAAoB,EAAE,eAAqC;QAA3G,iBAiBC;QAhBG,MAAM,CAAC,UAAC,IAAS;YACb,GAAG,CAAC,CAAC,IAAI,GAAG,IAAI,KAAI,CAAC,MAAM,CAAC,CAAC,CAAC;gBAC1B,EAAE,CAAC,CAAC,GAAG,IAAI,QAAQ,IAAI,GAAG,CAAC,UAAU,CAAC,QAAQ,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC;oBACpD,IAAI,IAAI,GAAQ,KAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;oBACtC,EAAE,CAAC,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;wBACxB,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;4BACnC,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC;gCACxB,IAAI,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC;4BACnB,CAAC;wBACL,CAAC;oBACL,CAAC;gBACL,CAAC;YACL,CAAC;YAED,EAAE,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC;gBAAC,eAAe,CAAC,IAAI,CAAC,CAAC;YAAC,CAAC;QACjE,CAAC,CAAC;IACN,CAAC;IAEM,8BAAU,GAAjB,UAAkB,UAAkB;QAChC,EAAE,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC;YACb,IAAI,CAAC,aAAa,GAAG,UAAU,CAAC;QACpC,CAAC;QACD,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC;IAC9B,CAAC;IAEL,gBAAC;AAAD,CAzPA,AAyPC,IAAA;AAED;IAGI;IACA,CAAC;IAEM,gCAAI,GAAX,UAAY,EAAgB,EAAE,YAA+B;QACzD,UAAU,CAAC;QAEX,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,CAAC,CAAC;YACxB,IAAI,CAAC,QAAQ,GAAG,IAAI,SAAS,CAAC,EAAE,EAAE,YAAY,CAAC,CAAC;QACpD,CAAC;QACD,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC;IACzB,CAAC;IACL,wBAAC;AAAD,CAdA,AAcC,IAAA;AAED,OAAO;KACF,MAAM,CAAC,cAAc,EAAE,EAAE,CAAC;KAC1B,QAAQ,CAAC,cAAc,EAAE,iBAAiB,CAAC,CAAC;;;;AChRjD;IAAA;IAiBA,CAAC;IAAD,kBAAC;AAAD,CAjBA,AAiBC,IAAA;AAjBY,kCAAW;;;;;;;ACAxB,OAAO;KACF,MAAM,CAAC,cAAc,EAAE,CAAC,cAAc,CAAC,CAAC,CAAC;AAE9C,8BAA4B;AAC5B,+BAA6B;AAE7B,yCAAoC;;;;ACCpC;IAQI,mBACY,YAA4C,EAC5C,OAAqB;QAE7B,UAAU,CAAC;QAHH,iBAAY,GAAZ,YAAY,CAAgC;QAC5C,YAAO,GAAP,OAAO,CAAc;QAI7B,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC;QACxB,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;QAC1B,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC;QACvB,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,OAAO,CAAC;QACxB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC;QAC1B,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,IAAI,CAAC;IAC/B,CAAC;IAGM,2BAAO,GAAd,UAAe,MAAW,EAAE,eAAuC,EAC/D,aAAoC;QAEpC,IAAI,CAAC,GAAG,MAAM,CAAC,WAAW,EAAE,GAAG,CAAC;QAEhC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,oBAAoB,CAAC,CAAC,CAAC;YACpC,GAAG,GAAG,MAAM,CAAC,aAAa,GAAG,CAAC,CAAC,KAAK,CAChC,MAAM,CAAC,oBAAoB,IAAI,YAAY,CAC9C,CAAC;YACF,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC;gBAAC,MAAM,CAAC;QACrB,CAAC;QAGD,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC,SAAS,CAAC,CAC9D,MAAM,CAAC,IAAI,EACX,UAAC,MAAW;YACR,EAAE,CAAC,CAAC,CAAC,IAAI,GAAG,IAAI,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;gBAAC,MAAM,CAAC;YACvC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,kBAAkB,CAAC;gBAAC,CAAC,CAAC,GAAG,EAAE,CAAC;YAC7C,EAAE,CAAC,CAAC,eAAe,CAAC;gBAAC,eAAe,CAAC,MAAM,CAAC,CAAC;QACjD,CAAC,EACD,UAAC,KAAU;YACP,EAAE,CAAC,CAAC,CAAC,CAAC;gBAAC,CAAC,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;YACpB,EAAE,CAAC,CAAC,aAAa,CAAC;gBAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC5C,CAAC,CACJ,CAAC;IACN,CAAC;IAGM,0BAAM,GAAb,UAAc,MAAW,EAAE,eAAuC,EAC9D,aAAoC;QAEpC,MAAM,CAAC,oBAAoB,GAAG,MAAM,CAAC,oBAAoB,IAAI,QAAQ,CAAC;QACtE,MAAM,CAAC,SAAS,GAAG,MAAM,CAAC,SAAS,IAAI,MAAM,CAAC;QAE9C,MAAM,CAAC,IAAI,CAAC,OAAO,CACf,MAAM,EACN,UAAC,MAAW;YACR,EAAE,CAAC,CAAC,MAAM,CAAC,cAAc,CAAC;gBACtB,MAAM,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YAEvC,EAAE,CAAC,CAAC,eAAe,CAAC;gBAAC,eAAe,CAAC,MAAM,CAAC,CAAC;QACjD,CAAC,EACD,UAAC,KAAU;YACP,EAAE,CAAC,CAAC,aAAa,CAAC;gBAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC5C,CAAC,CACJ,CAAC;IACN,CAAC;IAGM,0BAAM,GAAb,UAAc,MAAW,EAAE,eAAuC,EAC9D,aAAoC;QAEpC,MAAM,CAAC,oBAAoB,GAAG,MAAM,CAAC,oBAAoB,IAAI,QAAQ,CAAC;QACtE,MAAM,CAAC,SAAS,GAAG,MAAM,CAAC,SAAS,IAAI,QAAQ,CAAC;QAEhD,MAAM,CAAC,IAAI,CAAC,OAAO,CACf,MAAM,EACN,UAAC,MAAW;YACR,EAAE,CAAC,CAAC,MAAM,CAAC,cAAc,CAAC;gBACtB,IAAI,KAAK,GAAG,CAAC,CAAC,SAAS,CAAC,MAAM,CAAC,cAAc,EAAE,UAAU,IAAS;oBAC9D,MAAM,CAAC,IAAI,CAAC,EAAE,IAAI,MAAM,CAAC,EAAE,CAAC;gBAChC,CAAC,CAAC,CAAC;YACP,EAAE,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;gBACb,MAAM,CAAC,cAAc,CAAC,KAAK,CAAC,GAAG,MAAM,CAAC;YAC1C,CAAC;YAED,EAAE,CAAC,CAAC,eAAe,CAAC;gBAAC,eAAe,CAAC,MAAM,CAAC,CAAC;QACjD,CAAC,EACD,UAAC,KAAU;YACP,EAAE,CAAC,CAAC,aAAa,CAAC;gBAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC5C,CAAC,CACJ,CAAC;IACN,CAAC;IAGM,0BAAM,GAAb,UAAc,MAAW,EAAE,eAAuC,EAC9D,aAAoC;QAEpC,MAAM,CAAC,oBAAoB,GAAG,MAAM,CAAC,oBAAoB,IAAI,QAAQ,CAAC;QACtE,MAAM,CAAC,SAAS,GAAG,MAAM,CAAC,SAAS,IAAI,QAAQ,CAAC;QAEhD,MAAM,CAAC,IAAI,CAAC,OAAO,CACf,MAAM,EACN,UAAC,MAAW;YACR,EAAE,CAAC,CAAC,MAAM,CAAC,cAAc,CAAC;gBACtB,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,cAAc,EAAE,EAAE,EAAE,EAAE,MAAM,CAAC,EAAE,IAAI,CAAC,MAAM,CAAC,MAAM,IAAI,EAAE,CAAC,CAAC,EAAE,IAAI,CAAC,MAAM,CAAC,IAAI,IAAI,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;YAE7G,EAAE,CAAC,CAAC,eAAe,CAAC;gBAAC,eAAe,CAAC,MAAM,CAAC,CAAC;QACjD,CAAC,EACD,UAAC,KAAU;YACP,EAAE,CAAC,CAAC,aAAa,CAAC;gBAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC5C,CAAC,CACJ,CAAC;IACN,CAAC;IAGM,wBAAI,GAAX,UAAY,MAAW,EAAE,eAAuC,EAC5D,aAAoC;QAEpC,MAAM,CAAC,oBAAoB,GAAG,MAAM,CAAC,oBAAoB,IAAI,SAAS,CAAC;QACvE,MAAM,CAAC,SAAS,GAAG,MAAM,CAAC,SAAS,IAAI,OAAO,CAAC;QAE/C,MAAM,CAAC,IAAI,CAAC,OAAO,CACf,MAAM,EACN,UAAC,MAAW;YACR,EAAE,CAAC,CAAC,eAAe,CAAC;gBAAC,eAAe,CAAC,MAAM,CAAC,CAAC;QACjD,CAAC,EACD,UAAC,KAAU;YACP,EAAE,CAAC,CAAC,aAAa,CAAC;gBAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC5C,CAAC,CACJ,CAAC;IACN,CAAC;IAGM,2BAAO,GAAd,UAAe,MAAW,EAAE,eAAuC,EAC/D,aAAoC;QAEpC,MAAM,CAAC,oBAAoB,GAAG,MAAM,CAAC,oBAAoB,IAAI,SAAS,CAAC;QACvE,MAAM,CAAC,SAAS,GAAG,MAAM,CAAC,SAAS,IAAI,MAAM,CAAC;QAE9C,MAAM,CAAC,IAAI,CAAC,OAAO,CACf,MAAM,EACN,UAAC,MAAW;YACR,EAAE,CAAC,CAAC,MAAM,CAAC,cAAc,IAAI,MAAM,CAAC,CAAC,CAAC;gBAClC,IAAI,KAAK,GAAG,CAAC,CAAC,SAAS,CAAC,MAAM,CAAC,cAAc,EAAE,EAAE,EAAE,EAAE,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;gBAClE,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,CAAC;oBAAC,MAAM,CAAC,cAAc,CAAC,KAAK,CAAC,GAAG,MAAM,CAAC;gBACtD,IAAI;oBAAC,MAAM,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YAC5C,CAAC;YAED,EAAE,CAAC,CAAC,eAAe,CAAC;gBAAC,eAAe,CAAC,MAAM,CAAC,CAAC;QACjD,CAAC,EACD,UAAC,KAAU;YACP,EAAE,CAAC,CAAC,aAAa,CAAC;gBAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC5C,CAAC,CACJ,CAAC;IACN,CAAC;IAGM,wBAAI,GAAX,UAAY,MAAW,EAAE,eAAuC,EAC5D,aAAoC;QAEpC,MAAM,CAAC,oBAAoB,GAAG,MAAM,CAAC,oBAAoB,IAAI,SAAS,CAAC;QACvE,MAAM,CAAC,SAAS,GAAG,MAAM,CAAC,SAAS,IAAI,MAAM,CAAC;QAE9C,MAAM,CAAC,IAAI,CAAC,OAAO,CACf,MAAM,EACN,UAAC,MAAW;YACR,EAAE,CAAC,CAAC,MAAM,CAAC,cAAc,IAAI,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;gBACvC,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE;oBACvC,MAAM,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;YACnD,CAAC;YAED,EAAE,CAAC,CAAC,eAAe,CAAC;gBAAC,eAAe,CAAC,MAAM,CAAC,CAAC;QACjD,CAAC,EACD,UAAC,KAAU;YACP,EAAE,CAAC,CAAC,aAAa,CAAC;gBAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC5C,CAAC,CACJ,CAAC;IACN,CAAC;IAGM,+BAAW,GAAlB,UAAmB,MAAW,EAAE,eAA4B,EACxD,aAAoC;QAEpC,IAAI,CAAC,GAAG,MAAM,CAAC,WAAW,EAAE,GAAG,CAAC;QAGhC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,oBAAoB,CAAC,CAAC,CAAC;YACpC,GAAG,GAAG,MAAM,CAAC,aAAa,GAAG,CAAC,CAAC,KAAK,CAChC,MAAM,CAAC,oBAAoB,IAAI,QAAQ,CAC1C,CAAC;YACF,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC;gBAAC,MAAM,CAAC;QACrB,CAAC;QAED,IAAI,WAAW,GAAG,CAAC;gBACf,QAAQ,EAAE,MAAM,CAAC,QAAQ;gBACzB,SAAS,EAAE,MAAM,CAAC,SAAS;aAC9B,CAAC,CAAC;QAGH,EAAE,CAAC,CAAC,MAAM,CAAC,IAAI,IAAI,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;YACrC,IAAI,UAAU,GAAG,IAAI,CAAC;YACtB,KAAK,CAAC,UAAU,CAAC,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,EAAE,WAAW,CAAC,EACtD,UAAC,GAAG,EAAE,QAAQ;gBAEV,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,QAAQ,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,CAAC;oBAClC,QAAQ,EAAE,CAAC;gBACf,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACJ,EAAE,CAAC,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,CAAC;wBAEf,GAAG,CAAC,QAAQ,CAAC,IAAI,CACb;4BACI,EAAE,CAAC,CAAC,CAAC,IAAI,GAAG,IAAI,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;gCAC7B,UAAU,GAAG,KAAK,CAAC;gCACnB,QAAQ,CAAC,SAAS,CAAC,CAAC;4BACxB,CAAC;4BAED,EAAE,CAAC,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,CAAC;gCAChB,GAAG,CAAC,SAAS,CAAC,IAAI,CACd;oCACI,EAAE,CAAC,CAAC,CAAC,IAAI,GAAG,IAAI,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;wCAC7B,UAAU,GAAG,KAAK,CAAC;wCACnB,QAAQ,CAAC,SAAS,CAAC,CAAC;oCACxB,CAAC;oCACD,QAAQ,EAAE,CAAC;gCACf,CAAC,EACD,UAAC,KAAU;oCACP,UAAU,GAAG,KAAK,CAAC;oCACnB,QAAQ,CAAC,KAAK,CAAC,CAAC;gCACpB,CAAC,CACJ,CAAC;4BACN,CAAC;4BAAC,IAAI,CAAC,CAAC;gCACJ,QAAQ,EAAE,CAAC;4BACf,CAAC;wBACL,CAAC,EACD,UAAC,KAAU;4BACP,UAAU,GAAG,KAAK,CAAC;4BACnB,QAAQ,CAAC,KAAK,CAAC,CAAC;wBACpB,CAAC,CACJ,CAAC;oBACN,CAAC;oBAAC,IAAI,CAAC,CAAC;wBACJ,EAAE,CAAC,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,CAAC;4BAEhB,GAAG,CAAC,SAAS,CAAC,IAAI,CACd;gCACI,EAAE,CAAC,CAAC,CAAC,IAAI,GAAG,IAAI,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;oCAC7B,UAAU,GAAG,KAAK,CAAC;oCACnB,QAAQ,CAAC,SAAS,CAAC,CAAC;gCACxB,CAAC;gCACD,QAAQ,EAAE,CAAC;4BACf,CAAC,EACD,UAAC,KAAU;gCACP,UAAU,GAAG,KAAK,CAAC;gCACnB,QAAQ,CAAC,KAAK,CAAC,CAAC;4BACpB,CAAC,CACJ,CAAC;wBACN,CAAC;oBACL,CAAC;gBACL,CAAC;YACL,CAAC,EACD,UAAC,KAAU;gBACP,EAAE,CAAC,CAAC,CAAC,KAAK,IAAI,UAAU,CAAC,CAAC,CAAC;oBAGvB,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,kBAAkB,CAAC;wBAAC,CAAC,CAAC,GAAG,EAAE,CAAC;oBAC7C,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,EAAE,UAAU,IAAI;wBACtC,OAAO,IAAI,CAAC,QAAQ,CAAC;wBACrB,OAAO,IAAI,CAAC,SAAS,CAAC;oBAC1B,CAAC,CAAC,CAAC;oBACH,EAAE,CAAC,CAAC,eAAe,CAAC;wBAAC,eAAe,EAAE,CAAC;gBAC3C,CAAC;gBAAC,IAAI,CAAC,CAAC;oBAEJ,EAAE,CAAC,CAAC,CAAC,CAAC;wBAAC,CAAC,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;oBACpB,EAAE,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC;wBAChB,aAAa,CAAC,KAAK,CAAC,CAAC;oBACzB,CAAC;gBACL,CAAC;YACL,CAAC,CACJ,CAAC;QACN,CAAC;QAAC,IAAI,CAAC,CAAC;YACJ,EAAE,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC;gBAElB,MAAM,CAAC,QAAQ,CAAC,IAAI,CAChB;oBACI,EAAE,CAAC,CAAC,CAAC,IAAI,GAAG,IAAI,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;wBAAC,MAAM,CAAC;oBAGvC,EAAE,CAAC,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,CAAC;wBACnB,MAAM,CAAC,SAAS,CAAC,IAAI,CACjB;4BACI,EAAE,CAAC,CAAC,CAAC,IAAI,GAAG,IAAI,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;gCAAC,MAAM,CAAC;4BAEvC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,kBAAkB,CAAC;gCAAC,CAAC,CAAC,GAAG,EAAE,CAAC;4BAC7C,EAAE,CAAC,CAAC,eAAe,CAAC;gCAAC,eAAe,EAAE,CAAC;wBAC3C,CAAC,EACD,UAAC,KAAU;4BACP,EAAE,CAAC,CAAC,CAAC,CAAC;gCAAC,CAAC,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;4BACpB,EAAE,CAAC,CAAC,aAAa,CAAC;gCAAC,aAAa,CAAC,KAAK,CAAC,CAAC;wBAC5C,CAAC,CACJ,CAAC;oBACN,CAAC;oBAAC,IAAI,CAAC,CAAC;wBAEJ,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,kBAAkB,CAAC;4BAAC,CAAC,CAAC,GAAG,EAAE,CAAC;wBAC7C,EAAE,CAAC,CAAC,eAAe,CAAC;4BAAC,eAAe,EAAE,CAAC;oBAC3C,CAAC;gBACL,CAAC,EACD,UAAC,KAAU;oBACP,EAAE,CAAC,CAAC,CAAC,CAAC;wBAAC,CAAC,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;oBACpB,EAAE,CAAC,CAAC,aAAa,CAAC;wBAAC,aAAa,CAAC,KAAK,CAAC,CAAC;gBAC5C,CAAC,CACJ,CAAC;YACN,CAAC;YAAC,IAAI,CAAC,EAAE,CAAC,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,CAAC;gBAE1B,MAAM,CAAC,SAAS,CAAC,IAAI,CACjB;oBACI,EAAE,CAAC,CAAC,CAAC,IAAI,GAAG,IAAI,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;wBAAC,MAAM,CAAC;oBAEvC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,kBAAkB,CAAC;wBAAC,CAAC,CAAC,GAAG,EAAE,CAAC;oBAC7C,EAAE,CAAC,CAAC,eAAe,CAAC;wBAAC,eAAe,EAAE,CAAC;gBAC3C,CAAC,EACD,UAAC,KAAU;oBACP,EAAE,CAAC,CAAC,CAAC,CAAC;wBAAC,CAAC,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;oBACpB,EAAE,CAAC,CAAC,aAAa,CAAC;wBAAC,aAAa,CAAC,KAAK,CAAC,CAAC;gBAC5C,CAAC,CACJ,CAAC;YACN,CAAC;YAAC,IAAI,CAAC,CAAC;gBAEJ,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,kBAAkB,CAAC;oBAAC,CAAC,CAAC,GAAG,EAAE,CAAC;gBAC7C,EAAE,CAAC,CAAC,eAAe,CAAC;oBAAC,eAAe,EAAE,CAAC;YAC3C,CAAC;QACL,CAAC;IACL,CAAC;IAGM,oCAAgB,GAAvB,UAAwB,MAAM;QAC1B,EAAE,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC;YAChB,MAAM,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC;QAC5B,EAAE,CAAC,CAAC,MAAM,CAAC,SAAS,CAAC;YACjB,MAAM,CAAC,SAAS,CAAC,KAAK,EAAE,CAAC;QAC7B,EAAE,CAAC,CAAC,MAAM,CAAC,WAAW,CAAC;YACnB,MAAM,CAAC,WAAW,CAAC,KAAK,EAAE,CAAC;IACnC,CAAC;IACL,gBAAC;AAAD,CAzVA,AAyVC,IAAA;AAED;IAGI;QAEI,UAAU,CAAC;IAEf,CAAC;IAEM,gCAAI,GAAX,UACI,YAA4C,EAC5C,OAAqB;QAErB,UAAU,CAAC;QAEX,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,CAAC,CAAC;YACxB,IAAI,CAAC,QAAQ,GAAG,IAAI,SAAS,CAAC,YAAY,EAAE,OAAO,CAAC,CAAC;QACzD,CAAC;QAED,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC;IACzB,CAAC;IACL,wBAAC;AAAD,CArBA,AAqBC,IAAA;AAED,OAAO;KACF,MAAM,CAAC,cAAc,CAAC;KACtB,QAAQ,CAAC,cAAc,EAAE,iBAAiB,CAAC,CAAC;;;;;;;AC3XjD,OAAO;KACF,MAAM,CAAC,cAAc,EAAE,CAAC,SAAS,CAAC,CAAC,CAAC;AAEzC,+BAA6B;AAC7B,8BAA4B;;;;;;;ACH5B,kBAAgB;AAChB,kBAAgB;AAChB,mBAAiB;AACjB,wBAAsB;AAEtB,OAAO;KACF,MAAM,CAAC,eAAe,EAAE;IACrB,cAAc;IACd,SAAS;IACT,cAAc;IACd,cAAc;CAEjB,CAAC,CAAC;AAKP,6BAAwB;AACxB,kCAA6B;;;;;;;ACb7B;IAAA;IAMA,CAAC;IAAD,yBAAC;AAAD,CANA,AAMC,IAAA;AAAA,CAAC;AAEF;IAKI,qBACY,SAAuC,EACvC,KAAsB,EACtB,YAAuC,EAC/C,SAAiB,EACjB,aAAsB,EACd,eAAqC;QAE7C,UAAU,CAAC;QAPH,cAAS,GAAT,SAAS,CAA8B;QACvC,UAAK,GAAL,KAAK,CAAiB;QACtB,iBAAY,GAAZ,YAAY,CAA2B;QAGvC,oBAAe,GAAf,eAAe,CAAsB;QAVzC,eAAU,GAAQ,EAAE,CAAC;QAczB,IAAI,CAAC,UAAU,GAAG,SAAS,CAAC;QAC5B,IAAI,CAAC,cAAc,GAAG,aAAa,CAAC;QACpC,IAAI,CAAC,aAAa,CAAC,eAAe,CAAC,CAAC;IACxC,CAAC;IAEO,oCAAc,GAAtB;QACI,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;QACrB,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;IAC7C,CAAC;IAEO,mCAAa,GAArB,UAAsB,eAAqC;QAA3D,iBA0BC;QAzBG,CAAC,CAAC,IAAI,CAAC,eAAe,EAAE,UAAC,cAAc;YACnC,IAAI,QAAa,CAAC;YAClB,MAAM,CAAC,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC,CAAC;gBAC/B,KAAK,gBAAgB;oBACjB,QAAQ,GAAG,KAAI,CAAC,cAAc,CAAC,KAAI,CAAC,UAAU,EAAE,cAAc,CAAC,IAAI,EAAE,cAAc,CAAC,aAAa,EAAE,cAAc,CAAC,OAAO,CAAC,CAAC;oBAC3H,KAAK,CAAC;gBACV,KAAK,iBAAiB;oBAClB,QAAQ,GAAG,KAAI,CAAC,eAAe,CAAC,KAAI,CAAC,UAAU,EAAE,cAAc,CAAC,IAAI,CAAC,CAAC;oBACtE,KAAK,CAAC;gBACV,KAAK,kBAAkB;oBACnB,QAAQ,GAAG,KAAI,CAAC,gBAAgB,CAAC,KAAI,CAAC,UAAU,EAAE,cAAc,CAAC,IAAI,EAAE,cAAc,CAAC,aAAa,CAAC,CAAC;oBACrG,KAAK,CAAC;gBACV,KAAK,uBAAuB;oBACxB,QAAQ,GAAG,KAAI,CAAC,qBAAqB,CAAC,KAAI,CAAC,UAAU,EAAE,cAAc,CAAC,IAAI,EAAE,cAAc,CAAC,aAAa,CAAC,CAAC;oBAE1G,KAAK,CAAC;gBACV,KAAK,uBAAuB;oBACxB,QAAQ,GAAG,KAAI,CAAC,qBAAqB,CAAC,KAAI,CAAC,UAAU,EAAE,cAAc,CAAC,IAAI,EAAE,cAAc,CAAC,aAAa,CAAC,CAAC;oBAC1G,KAAK,CAAC;YACd,CAAC;YAED,EAAE,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;gBACX,KAAI,CAAC,UAAU,CAAC,cAAc,CAAC,IAAI,CAAC,GAAG,QAAQ,CAAC;YACpD,CAAC;QACL,CAAC,CAAC,CAAC;IACP,CAAC;IAEO,oCAAc,GAAtB,UAAuB,GAAW,EAAE,IAAY,EAAE,aAAmB,EAAE,OAAa;QAChF,GAAG,GAAG,GAAG,IAAI,IAAI,CAAC,UAAU,CAAC;QAC7B,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,UAAU,GAAG,IAAI,EAAE,aAAa,EAAE,OAAO,CAAC,CAAC;IAC1E,CAAC;IAEO,qCAAe,GAAvB,UAAwB,GAAW,EAAE,IAAY;QAC7C,GAAG,GAAG,GAAG,IAAI,IAAI,CAAC,UAAU,CAAC;QAC7B,MAAM,CAAC,IAAI,CAAC,SAAS,CACjB,GAAG,GAAG,IAAI,EACV,EAAE,EACF;YACI,IAAI,EAAE,EAAE,MAAM,EAAE,MAAM,EAAE;SAC3B,CACJ,CAAC;IACN,CAAC;IAEO,sCAAgB,GAAxB,UAAyB,GAAW,EAAE,IAAY,EAAE,aAAmB;QACnE,GAAG,GAAG,GAAG,IAAI,IAAI,CAAC,UAAU,CAAC;QAC7B,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,GAAG,IAAI,EAC5B,aAAa,IAAI,EAAE,EAAE,EAAE,KAAK,EAAE,EAC9B;YACI,MAAM,EAAE,EAAE,MAAM,EAAE,KAAK,EAAE;SAC5B,CACJ,CAAC;IACN,CAAC;IAEO,2CAAqB,GAA7B,UAA8B,GAAW,EAAE,IAAY,EAAE,aAAmB;QACxE,GAAG,GAAG,GAAG,IAAI,IAAI,CAAC,UAAU,CAAC;QAC7B,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,GAAG,IAAI,EAC5B,aAAa,IAAI,EAAE,EAAE,EAAE,KAAK,EAAE,EAC9B;YACI,IAAI,EAAE,EAAE,MAAM,EAAE,KAAK,EAAE,OAAO,EAAE,KAAK,EAAE;YACvC,MAAM,EAAE,EAAE,MAAM,EAAE,KAAK,EAAE;SAC5B,CACJ,CAAC;IACN,CAAC;IAEO,2CAAqB,GAA7B,UAA8B,GAAW,EAAE,IAAY,EAAE,aAAmB;QACxE,MAAM,CAAC,IAAI,CAAC,qBAAqB,CAAC,GAAG,EAAE,IAAI,EAAE,aAAa;YACtD;gBACI,EAAE,EAAE,KAAK;gBACT,QAAQ,EAAE,WAAW;aACxB,CACJ,CAAC;IACN,CAAC;IAED,sBAAW,kCAAS;aAApB;YACI,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC;QAC3B,CAAC;aAED,UAAqB,KAAa;YAC9B,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;YACxB,IAAI,CAAC,cAAc,EAAE,CAAC;QAC1B,CAAC;;;OALA;IAOD,sBAAW,sCAAa;aAAxB;YACI,MAAM,CAAC,IAAI,CAAC,cAAc,CAAC;QAC/B,CAAC;aAED,UAAyB,KAAc;YACnC,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC;QAChC,CAAC;;;OAJA;IAMM,gCAAU,GAAjB,UAAkB,OAAY;QAC1B,GAAG,CAAC,CAAC,IAAI,MAAM,IAAI,OAAO,CAAC,CAAC,CAAC;YACzB,EAAE,CAAC,CAAC,OAAO,CAAC,cAAc,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;gBACjE,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,OAAO,CAAC,MAAM,CAAC,MAAM,CAAC,GAAG,OAAO,CAAC,MAAM,CAAC,CAAC;YACjE,CAAC;QACL,CAAC;IACL,CAAC;IAEM,iCAAW,GAAlB,UAAmB,IAAY;QAC3B,IAAI,QAAQ,GAAG,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;QACrC,EAAE,CAAC,CAAC,CAAC,QAAQ,CAAC;YACV,MAAM,IAAI,KAAK,CAAC,oBAAoB,CAAC,CAAC;QAE1C,MAAM,CAAC,QAAQ,CAAC;IACpB,CAAC;IAEL,kBAAC;AAAD,CApIA,AAoIC,IAAA;AAED;IAQI,sBAAY,aAA+B;QAFnC,qBAAgB,GAAyB,EAAE,CAAC;QAGhD,IAAI,CAAC,KAAK,GAAG,aAAa,CAAC;IAC/B,CAAC;IAED,sBAAW,mCAAS;aAApB;YACI,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC;QAC3B,CAAC;aAED,UAAqB,KAAa;YAC9B,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;QAC5B,CAAC;;;OAJA;IAMD,sBAAW,uCAAa;aAAxB;YACI,MAAM,CAAC,IAAI,CAAC,cAAc,CAAC;QAC/B,CAAC;aAED,UAAyB,KAAc;YACnC,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC;QAChC,CAAC;;;OAJA;IAMM,iCAAU,GAAjB,UAAkB,OAAY;QAC1B,GAAG,CAAC,CAAC,IAAI,MAAM,IAAI,OAAO,CAAC,CAAC,CAAC;YACzB,EAAE,CAAC,CAAC,OAAO,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC;gBAC/B,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,OAAO,CAAC,MAAM,CAAC,MAAM,CAAC,GAAG,OAAO,CAAC,MAAM,CAAC,CAAC;QACrE,CAAC;IACL,CAAC;IAEM,uCAAgB,GAAvB,UAAwB,IAAY,EAAE,IAAY,EAAE,aAAmB,EAAE,OAAa;QAClF,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC;YACvB,SAAS,EAAE,gBAAgB;YAC3B,IAAI,EAAE,IAAI;YACV,IAAI,EAAE,IAAI;YACV,aAAa,EAAE,aAAa,IAAI,IAAI;YACpC,OAAO,EAAE,OAAO,IAAI,IAAI;SAC3B,CAAC,CAAC;IACP,CAAC;IACM,wCAAiB,GAAxB,UAAyB,IAAY,EAAE,IAAY,EAAE,aAAmB,EAAE,OAAa;QACnF,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC;YACvB,SAAS,EAAE,iBAAiB;YAC5B,IAAI,EAAE,IAAI;YACV,IAAI,EAAE,IAAI;YACV,aAAa,EAAE,aAAa,IAAI,IAAI;YACpC,OAAO,EAAE,OAAO,IAAI,IAAI;SAC3B,CAAC,CAAC;IACP,CAAC;IAEM,yCAAkB,GAAzB,UAA0B,IAAY,EAAE,IAAY,EAAE,aAAmB,EAAE,OAAa;QACpF,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC;YACvB,SAAS,EAAE,kBAAkB;YAC7B,IAAI,EAAE,IAAI;YACV,IAAI,EAAE,IAAI;YACV,aAAa,EAAE,aAAa,IAAI,IAAI;YACpC,OAAO,EAAE,OAAO,IAAI,IAAI;SAC3B,CAAC,CAAC;IACP,CAAC;IAEM,8CAAuB,GAA9B,UAA+B,IAAY,EAAE,IAAY,EAAE,aAAmB,EAAE,OAAa;QACzF,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC;YACvB,SAAS,EAAE,uBAAuB;YAClC,IAAI,EAAE,IAAI;YACV,IAAI,EAAE,IAAI;YACV,aAAa,EAAE,aAAa,IAAI,IAAI;YACpC,OAAO,EAAE,OAAO,IAAI,IAAI;SAC3B,CAAC,CAAC;IACP,CAAC;IAEM,8CAAuB,GAA9B,UAA+B,IAAY,EAAE,IAAY,EAAE,aAAmB,EAAE,OAAa;QACzF,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC;YACvB,SAAS,EAAE,uBAAuB;YAClC,IAAI,EAAE,IAAI;YACV,IAAI,EAAE,IAAI;YACV,aAAa,EAAE,aAAa,IAAI,IAAI;YACpC,OAAO,EAAE,OAAO,IAAI,IAAI;SAC3B,CAAC,CAAC;IACP,CAAC;IAEM,2BAAI,GAAX,UACI,SAAuC,EACvC,KAAsB,EACtB,YAA4C;QAE5C,UAAU,CAAC;QAEX,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC;YACtB,IAAI,CAAC,QAAQ,GAAG,IAAI,WAAW,CAAC,SAAS,EAAE,KAAK,EAAE,YAAY,EAAE,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,cAAc,EAAE,IAAI,CAAC,gBAAgB,CAAC,CAAC;QAEjI,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC;IACzB,CAAC;IACL,mBAAC;AAAD,CAhGA,AAgGC,IAAA;AAED,OAAO;KACF,MAAM,CAAC,SAAS,CAAC;KACjB,QAAQ,CAAC,SAAS,EAAE,YAAY,CAAC,CAAC;;;;ACxPvC,OAAO;KACF,MAAM,CAAC,SAAS,EAAE,CAAE,YAAY,CAAC,CAAC,CAAC;AAGxC,0BAAwB;AACxB,yBAAuB;;;;;;;;;;;;;;;;;AdLvB;;;AeIA;IAEI,kCACI,MAA2B,EACnB,0BAAmD,EAC3D,cAAmC,EACnC,QAAuB,EACvB,YAAwC,EACxC,UAAwC,EAChC,OAA0B;QAElC,UAAU,CAAC;QAPH,+BAA0B,GAA1B,0BAA0B,CAAyB;QAKnD,YAAO,GAAP,OAAO,CAAmB;QAIlC,cAAc,CAAC,eAAe,EAAE,CAAC;QAEjC,EAAE,CAAC,CAAC,QAAQ,CAAC,cAAc,KAAK,KAAK,IAAI,CAAC,UAAU,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC;YAC9D,MAAM,CAAC,EAAE,CAAC,YAAY,CAAC,WAAW,EAAE,EAAE,EAAE,CAAC,CAAC;QAC9C,CAAC;IACL,CAAC;IAEM,yCAAM,GAAb;QACI,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;IAChC,CAAC;IAED,sBAAW,4CAAM;aAAjB;YACI,MAAM,CAAC,IAAI,CAAC,0BAA0B,CAAC,MAAM,CAAC;QAClD,CAAC;;;OAAA;IAEM,2CAAQ,GAAf;QACI,IAAI,CAAC,0BAA0B,CAAC,QAAQ,EAAE,CAAC;IAC/C,CAAC;IACL,+BAAC;AAAD,CA/BA,AA+BC,IAAA;AA/BY,4DAAwB;AAiCrC,CAAC;IACG,OAAO,CAAC,MAAM,CAAC,yBAAyB,EAAE,CAAC,iBAAiB,EAAE,wBAAwB,CAAC,CAAC,CAAC;AAE7F,CAAC;;;;AClCD,CAAC;IACG;QACI,qCAA2B,SAA0C;YAA1C,cAAS,GAAT,SAAS,CAAiC;QAAI,CAAC;QAAA,CAAC;QACpE,0CAAI,GAAX,UAAY,MAAW,EAAE,eAA4B,EAAE,cAA2B;YAC9E,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC;gBAChB,WAAW,EAAE,MAAM,CAAC,KAAK;gBACzB,WAAW,EAAE,2CAA2C;gBACxD,UAAU,EAAE,gCAA8B;gBAC1C,YAAY,EAAE,OAAO;gBACrB,MAAM,EAAE;oBACJ,MAAM,EAAE,MAAM;iBACjB;gBACD,mBAAmB,EAAE,KAAK;aAC7B,CAAC;iBACG,IAAI,CAAC;gBACF,EAAE,CAAC,CAAC,eAAe,CAAC,CAAC,CAAC;oBAClB,eAAe,EAAE,CAAC;gBACtB,CAAC;YACL,CAAC,EAAE;gBACC,EAAE,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC;oBACjB,cAAc,EAAE,CAAC;gBACrB,CAAC;YACL,CAAC,CAAC,CAAC;QACX,CAAC;QACL,kCAAC;IAAD,CAvBA,AAuBC,IAAA;IAED;QAGI,0CACI,SAA0C,EAClC,0BAAmD;YAE3D,UAAU,CAAC;YAFH,+BAA0B,GAA1B,0BAA0B,CAAyB;YAI3D,IAAI,CAAC,MAAM,GAAG,SAAS,CAAC,MAAM,CAAC;QACnC,CAAC;QAED,sBAAW,oDAAM;iBAAjB;gBACI,MAAM,CAAC,IAAI,CAAC,0BAA0B,CAAC,MAAM,CAAC;YAClD,CAAC;;;WAAA;QAEM,mDAAQ,GAAf;YAAA,iBAIC;YAHG,IAAI,CAAC,0BAA0B,CAAC,QAAQ,CAAC;gBACrC,KAAI,CAAC,MAAM,EAAE,CAAC;YAClB,CAAC,CAAC,CAAC;QACP,CAAC;QAEL,uCAAC;IAAD,CAtBA,AAsBC,IAAA;IAED,OAAO,CAAC,MAAM,CAAC,+BAA+B,EAAE,CAAC,iBAAiB,EAAE,wBAAwB,CAAC,CAAC;SACzF,OAAO,CAAC,yBAAyB,EAAE,2BAA2B,CAAC,CAAC;AAEzE,CAAC;;;;;;;;;;;;;;AC3DD,mDAAkD;AAKlD;IAAyC,uCAAU;IAC/C,6BACI,cAAmC,EACnC,cAAgD,EACxC,UAAgC,EAChC,SAA8B,EAC9B,MAA2B,EAC3B,SAAmC,EACnC,YAAwC,EACxC,aAA4C,EAC5C,OAA8B,EAC9B,YAA4C,EAC5C,YAA+B,EAC/B,QAAuB,EACvB,SAAqC;QAE7C,UAAU,CAAC;QAff,YAiBI,kBAAM,cAAc,CAAC,SAGxB;QAjBW,gBAAU,GAAV,UAAU,CAAsB;QAChC,eAAS,GAAT,SAAS,CAAqB;QAC9B,YAAM,GAAN,MAAM,CAAqB;QAC3B,eAAS,GAAT,SAAS,CAA0B;QACnC,kBAAY,GAAZ,YAAY,CAA4B;QACxC,mBAAa,GAAb,aAAa,CAA+B;QAC5C,aAAO,GAAP,OAAO,CAAuB;QAC9B,kBAAY,GAAZ,YAAY,CAAgC;QAC5C,kBAAY,GAAZ,YAAY,CAAmB;QAC/B,cAAQ,GAAR,QAAQ,CAAe;QACvB,eAAS,GAAT,SAAS,CAA4B;QAK7C,KAAI,CAAC,WAAW,GAAG,cAAc,CAAC,MAAM,CAAC,uBAAuB,CAAC,CAAC;;IAEtE,CAAC;IAEM,kCAAI,GAAX,UAAY,MAAM;QACd,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;QACvB,IAAI,CAAC,oBAAoB,EAAE,CAAC;IAChC,CAAC;IAEO,kDAAoB,GAA5B;QACI,IAAI,CAAC,UAAU,CAAC,QAAQ,GAAG,IAAI,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,IAAI,IAAI,CAAC;QACzE,IAAI,CAAC,UAAU,CAAC,KAAK,GAAG,IAAI,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,IAAI,CAAC;QACnE,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,IAAI,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,IAAI,IAAI,CAAC;QACrE,IAAI,CAAC,UAAU,CAAC,IAAI,GAAG,IAAI,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC;QACjE,IAAI,CAAC,UAAU,CAAC,QAAQ,GAAG,IAAI,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,IAAI,IAAI,CAAC;IAC7E,CAAC;IAEM,yCAAW,GAAlB,UAAmB,OAAe,EAAE,IAAY;QAC5C,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC;YAAC,MAAM,CAAC;QACrB,OAAO,GAAG,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC;QAC/C,IAAI,GAAG,IAAI,IAAI,SAAS,CAAC;QAEzB,EAAE,CAAC,CAAC,IAAI,IAAI,SAAS,CAAC,CAAC,CAAC;YACpB,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,OAAO,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;YACtD,MAAM,CAAC;QACX,CAAC;QACD,EAAE,CAAC,CAAC,IAAI,IAAI,OAAO,CAAC,CAAC,CAAC;YAClB,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,OAAO,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;YAC1D,MAAM,CAAC;QACX,CAAC;IACL,CAAC;IAEM,sCAAQ,GAAf,UAAgB,QAAqB;QAArC,iBAqDC;QApDG,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;YAC5B,IAAI,CAAC,aAAa,CAAC,eAAe,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;YAE3D,MAAM,CAAC;QACX,CAAC;QAED,IAAM,aAAa,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC;QAC3D,EAAE,CAAC,CAAC,CAAC,aAAa,CAAC;YAAC,MAAM,CAAC;QAC3B,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC,CAAC;YAC9B,IAAI,CAAC,OAAO,CAAC,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC;QACxD,CAAC;QAED,IAAI,CAAC,YAAY,CAAC,oBAAoB,CAAC;YACnC,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK;YAC7B,YAAY,EAAE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ;YACvC,YAAY,EAAE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,WAAW;YAC1C,OAAO,EAAE,IAAI,CAAC,YAAY,CAAC,SAAS,EAAE;SACzC,EACG,UAAC,IAAS;YACN,KAAI,CAAC,aAAa,CAAC,eAAe,CAAC,KAAI,CAAC,MAAM,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;YAC5D,EAAE,CAAC,CAAC,KAAI,CAAC,WAAW,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC;gBAAC,MAAM,CAAC;YAEpD,IAAM,OAAO,GAAG,MAAM,EAAE,GAAG,yBAAyB,CAAC;YACrD,KAAI,CAAC,WAAW,CAAC,OAAO,EAAE,SAAS,CAAC,CAAC;YACrC,KAAI,CAAC,WAAW,CAAC,GAAG,EAAE,CAAC;YACvB,EAAE,CAAC,CAAC,QAAQ,CAAC;gBAAC,QAAQ,EAAE,CAAC;YACzB,KAAI,CAAC,QAAQ,CAAC,OAAO,CACjB;gBACI,KAAI,CAAC,MAAM,CAAC,EAAE,CAAC,QAAQ,EAAE;oBACrB,UAAU,EAAE,KAAI,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS;oBACtC,KAAK,EAAE,KAAI,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK;iBAChC,CAAC,CAAC;YACP,CAAC,CACJ,CAAC;QAEN,CAAC,EACD,UAAC,KAAU;YACP,KAAI,CAAC,WAAW,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;YAC5B,KAAI,CAAC,aAAa,CAAC,eAAe,CAAC,KAAI,CAAC,MAAM,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;YAC3D,KAAI,CAAC,aAAa,CAAC,YAAY,CAC3B,KAAI,CAAC,MAAM,CAAC,IAAI,EAAE,KAAK,EAAE;gBACrB,UAAU,EAAE,OAAO;gBACnB,aAAa,EAAE,OAAO;gBACtB,iBAAiB,EAAE,OAAO;gBAC1B,gBAAgB,EAAE,UAAU;gBAC5B,aAAa,EAAE,MAAM;gBACrB,SAAS,EAAE,MAAM;gBACjB,IAAI,EAAE,MAAM;aACf,CACJ,CAAC;QACN,CAAC,CACJ,CAAC;IACN,CAAC;IAEL,0BAAC;AAAD,CA1GA,AA0GC,CA1GwC,uBAAU,GA0GlD;AA1GY,kDAAmB;;;;ACDhC,CAAC;IAOG,IAAM,2BAA2B,GAAiC,EAEjE,CAAA;IAED;QAEI,uCACY,MAAiB,EACjB,aAA4C,EAC5C,OAA8B,EAC9B,0BAAmD;YAE3D,UAAU,CAAC;YALH,WAAM,GAAN,MAAM,CAAW;YACjB,kBAAa,GAAb,aAAa,CAA+B;YAC5C,YAAO,GAAP,OAAO,CAAuB;YAC9B,+BAA0B,GAA1B,0BAA0B,CAAyB;YAI3D,IAAI,CAAC,qBAAqB,GAAG,aAAa,CAAC,qBAAqB,CAAC;YACjE,0BAA0B,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;QAGjD,CAAC;QAEM,iDAAS,GAAhB;YACI,IAAI,CAAC,MAAM,CAAC,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC;YACpC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;YACjC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;QACxC,CAAC;QAED,sBAAW,iDAAM;iBAAjB;gBACI,MAAM,CAAC,IAAI,CAAC,0BAA0B,CAAC,MAAM,CAAC;YAClD,CAAC;;;WAAA;QAED,sBAAW,sDAAW;iBAAtB;gBACI,MAAM,CAAC,IAAI,CAAC,0BAA0B,CAAC,WAAW,CAAC;YACvD,CAAC;;;WAAA;QAED,sBAAW,0DAAe;iBAA1B;gBACI,MAAM,CAAC,IAAI,CAAC,0BAA0B,CAAC,eAAe,CAAC;YAC3D,CAAC;;;WAAA;QAED,sBAAW,qDAAU;iBAArB;gBACI,MAAM,CAAC,IAAI,CAAC,0BAA0B,CAAC,UAAU,CAAC;YACtD,CAAC;;;WAAA;QAEM,mDAAW,GAAlB,UAAmB,OAAe,EAAE,IAAY;YAC5C,IAAI,CAAC,0BAA0B,CAAC,WAAW,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;QAC/D,CAAC;QAEM,0DAAkB,GAAzB;YACI,IAAI,CAAC,MAAM,CAAC,kBAAkB,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC;QACtF,CAAC;QAEM,iDAAS,GAAhB;YACI,IAAI,CAAC,aAAa,CAAC,eAAe,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;YAC5D,IAAI,CAAC,aAAa,CAAC,iBAAiB,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;YAC7D,IAAI,CAAC,OAAO,CAAC,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,UAAU,CAAC;YACzD,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,UAAU,CAAC;QACjE,CAAC;QAEM,wDAAgB,GAAvB;YACI,IAAI,CAAC,aAAa,CAAC,iBAAiB,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,aAAa,CAAC,CAAC;QAC1E,CAAC;QAEM,2DAAmB,GAA1B;YACI,IAAI,CAAC,aAAa,CAAC,iBAAiB,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,UAAU,CAAC,CAAC;YACnE,IAAI,CAAC,aAAa,CAAC,iBAAiB,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,iBAAiB,CAAC,CAAC;QAC9E,CAAC;QAEM,+DAAuB,GAA9B;YACI,IAAI,CAAC,aAAa,CAAC,iBAAiB,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,aAAa,CAAC,CAAC;QAC1E,CAAC;QACL,oCAAC;IAAD,CAjEA,AAiEC,IAAA;IAED,IAAM,mBAAmB,GAAyB;QAC9C,QAAQ,EAAE,2BAA2B;QACrC,UAAU,EAAE,6BAA6B;QACzC,WAAW,EAAE,0CAA0C;KAC1D,CAAA;IAED,OAAO,CAAC,MAAM,CAAC,wBAAwB,EAAE,CAAC,YAAY,EAAE,kBAAkB,CAAC,CAAC;SACvE,SAAS,CAAC,wBAAwB,EAAE,mBAAmB,CAAC,CAAC;AAClE,CAAC;;;;AC1FD,6DAA4D;AAG5D;IAGI,iCACI,cAAmB,EACnB,cAAgD,EAChD,UAAgC,EAChC,SAA8B,EAC9B,MAA2B,EAC3B,SAAmC,EACnC,YAAwC,EACxC,aAA4C,EAC5C,OAA8B,EAC9B,QAAuB,EACf,YAA4C,EAC5C,YAAiB,EACjB,SAAc;QAEtB,UAAU,CAAC;QAJH,iBAAY,GAAZ,YAAY,CAAgC;QAC5C,iBAAY,GAAZ,YAAY,CAAK;QACjB,cAAS,GAAT,SAAS,CAAK;QAItB,IAAI,CAAC,KAAK,GAAG,IAAI,yCAAmB,CAAC,cAAc,EAAE,cAAc,EAAE,UAAU,EAAE,SAAS,EAAE,MAAM,EAC9F,SAAS,EAAE,YAAY,EAAE,aAAa,EAAE,OAAO,EAAE,YAAY,EAAE,YAAY,EAAE,QAAQ,EAAE,SAAS,CAAC,CAAC;IAC1G,CAAC;IAED,sBAAW,gDAAW;aAAtB;YACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC;QAClC,CAAC;;;OAAA;IAED,sBAAW,+CAAU;aAArB;YACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC;QACjC,CAAC;;;OAAA;IAED,sBAAW,oDAAe;aAA1B;YACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC;QACtC,CAAC;;;OAAA;IAED,sBAAW,2CAAM;aAAjB;YACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC;QAC7B,CAAC;;;OAAA;IAEM,2CAAS,GAAhB,UAAiB,MAAM;QACnB,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IAC5B,CAAC;IAEM,6CAAW,GAAlB,UAAmB,OAAO,EAAE,IAAI;QAC5B,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;IAC1C,CAAC;IAEM,0CAAQ,GAAf,UAAgB,QAAqB;QACjC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;IAClC,CAAC;IACL,8BAAC;AAAD,CAnDA,AAmDC,IAAA;AAnDY,0DAAuB;AAqDpC,OAAO,CAAC,MAAM,CAAC,yBAAyB,CAAC;KACpC,OAAO,CAAC,4BAA4B,EAAE,uBAAuB,CAAC,CAAC;;;;ACtDpE,CAAC;IACG;QAGI,2BACI,MAAiB,EACjB,QAAgC,EAChC,MAAsB,EACtB,OAAY,EACZ,KAAsB,EACtB,YAA+B;YAE/B,UAAU,CAAC;YARf,iBA6BC;YAnBG,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,gBAAgB,CAAC,CAAC;YAEzC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC,QAAQ,CAAC,UAAC,QAAQ;gBACjD,IAAM,OAAO,GAAG,OAAO,CAAC,WAAW,CAAC,WAAW,CAAC;gBAChD,EAAE,CAAC,CAAC,CAAC,QAAQ,IAAI,QAAQ,CAAC,MAAM,IAAI,CAAC,IAAI,KAAI,CAAC,QAAQ,IAAI,QAAQ,CAAC,CAAC,CAAC;oBACjE,OAAO,CAAC,YAAY,CAAC,aAAa,EAAE,OAAO,CAAC,CAAC;oBAC7C,MAAM,CAAC;gBACX,CAAC;gBAED,EAAE,CAAC,CAAC,CAAC,QAAQ,CAAC;oBAAC,OAAO,CAAC,YAAY,CAAC,aAAa,EAAE,IAAI,CAAC,CAAC;gBAEzD,YAAY,CAAC,cAAc,CAAC,QAAQ,EAChC,UAAC,IAAI;oBACD,OAAO,CAAC,YAAY,CAAC,aAAa,EAAE,IAAI,CAAC,CAAC;gBAC9C,CAAC,EACD,UAAC,GAAG;oBACA,OAAO,CAAC,YAAY,CAAC,aAAa,EAAE,KAAK,CAAC,CAAC;gBAC/C,CAAC,CAAC,CAAC;YACX,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC;QACb,CAAC;QACL,wBAAC;IAAD,CAjCA,AAiCC,IAAA;IAED,OAAO,CAAC,MAAM,CAAC,gBAAgB,EAAE,CAAC,YAAY,EAAE,cAAc,CAAC,CAAC;SAC3D,SAAS,CAAC,gBAAgB,EACvB,UACI,KAAsB,EACtB,YAAiB;QAEjB,MAAM,CAAC;YACH,QAAQ,EAAE,GAAG;YACb,OAAO,EAAE,SAAS;YAClB,IAAI,EAAE,UACF,MAAiB,EACjB,QAAgC,EAChC,MAAsB,EACtB,OAAY;gBAEZ,IAAI,iBAAe,CAAC,MAAM,EAAE,QAAQ,EAAE,MAAM,EAAE,OAAO,EAAE,KAAK,EAAE,YAAY,CAAC,CAAC;YAChF,CAAC;SACJ,CAAC;IACN,CAAC,CACJ,CAAC;AACV,CAAC;;;;ACzDD,qDAAoF;AAEpF;IAGI,4BACY,UAAgC,EAChC,MAAoB,EACpB,SAAiC,EACjC,aAAkC,EAClC,OAA8B,EAC9B,QAAuB,EACvB,aAA4C,EAC5C,WAA0C,EAC1C,YAA4C,EAC5C,mBAAwB;QAEhC,UAAU,CAAC;QAXH,eAAU,GAAV,UAAU,CAAsB;QAChC,WAAM,GAAN,MAAM,CAAc;QACpB,cAAS,GAAT,SAAS,CAAwB;QACjC,kBAAa,GAAb,aAAa,CAAqB;QAClC,YAAO,GAAP,OAAO,CAAuB;QAC9B,aAAQ,GAAR,QAAQ,CAAe;QACvB,kBAAa,GAAb,aAAa,CAA+B;QAC5C,gBAAW,GAAX,WAAW,CAA+B;QAC1C,iBAAY,GAAZ,YAAY,CAAgC;QAC5C,wBAAmB,GAAnB,mBAAmB,CAAK;QAZ5B,YAAO,GAAoB,IAAI,iCAAe,EAAE,CAAC;IAgBzD,CAAC;IAEO,6CAAgB,GAAxB,UAAyB,SAAiB;QACtC,IAAI,OAAO,GAAiC,IAAI,CAAC,mBAAmB,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;QACpF,EAAE,CAAC,CAAC,OAAO,IAAI,OAAO,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;YAChC,MAAM,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,KAAK,CAAC;QACpC,CAAC;QAED,MAAM,CAAC,SAAS,CAAC;IACrB,CAAC;IAEO,4CAAe,GAAvB;QACI,IAAI,OAAO,GAAkB,IAAI,CAAC,mBAAmB,CAAC,GAAG,CAAC,SAAS,CAAC,IAAmB,EAAE,CAAC;QAE1F,MAAM,CAAC,OAAO,CAAC;IACnB,CAAC;IAEO,8CAAiB,GAAzB;QACI,IAAI,OAAO,GAAkB,IAAI,CAAC,mBAAmB,CAAC,GAAG,CAAC,SAAS,CAAC,IAAmB,EAAE,CAAC;QAC1F,IAAI,UAAU,GAAa,EAAE,CAAC;QAC9B,IAAI,SAAiB,CAAC;QAEtB,GAAG,CAAC,CAAC,IAAI,IAAI,IAAI,OAAO,CAAC,CAAC,CAAC;YACvB,EAAE,CAAC,CAAC,OAAO,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;gBAC/B,SAAS,GAAG,OAAO,CAAC,IAAI,CAAC,CAAC,SAAS,CAAC;gBACpC,EAAE,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC;oBACZ,UAAU,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;gBAC/B,CAAC;YACL,CAAC;QACL,CAAC;QAED,MAAM,CAAC,UAAU,CAAC;IACtB,CAAC;IAEM,4CAAe,GAAtB;QACI,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;QAClC,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;QAClC,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;QAC9C,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC,CAAC;YAC7B,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,EAAE,UAAU,CAAC,CAAC;QAC1D,CAAC;QACD,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC,CAAC;YAC5B,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,EAAE,YAAY,CAAC,CAAC;QAC1D,CAAC;QAAC,IAAI,CAAC,CAAC;YACJ,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;QACnD,CAAC;QACD,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,IAAI,GAAG,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC;QAC/D,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,SAAS,EAAE,CAAC;QACtC,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC;QAC/B,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC;QAClC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;QACpD,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC;YACzB,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC;QAC/D,CAAC;IAEL,CAAC;IAAA,CAAC;IAEK,sCAAS,GAAhB,UAAiB,MAAM;QAAvB,iBAiFC;QAhFG,IAAI,CAAC,OAAO,CAAC,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC;QACrD,IAAI,CAAC,OAAO,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC;QAC/C,IAAI,CAAC,OAAO,CAAC,YAAY,GAAG,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC;QACvD,IAAI,CAAC,OAAO,CAAC,SAAS,GAAG,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC;QACjD,IAAI,CAAC,OAAO,CAAC,cAAc,GAAG,IAAI,CAAC,QAAQ,CAAC,cAAc,CAAC;QAC3D,IAAI,CAAC,OAAO,CAAC,YAAY,GAAG,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC;QACvD,IAAI,CAAC,OAAO,CAAC,eAAe,GAAG,IAAI,CAAC,QAAQ,CAAC,eAAe,CAAC;QAC7D,IAAI,CAAC,OAAO,CAAC,eAAe,GAAG,IAAI,CAAC,QAAQ,CAAC,eAAe,CAAC;QAE7D,IAAI,QAAQ,GAAW,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,QAAQ,CAAC;QACnD,EAAE,CAAC,CAAC,QAAQ,CAAC;YAAC,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;QAE9C,IAAI,KAAK,GAAW,IAAI,CAAC;QACzB,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC,CAAC,CAAC;YAC/B,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,KAAK,GAAG,kBAAkB,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,KAAK,GAAG,kBAAkB,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC;QACrK,CAAC;QAAC,IAAI,CAAC,CAAC;YACJ,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,KAAK,GAAG,kBAAkB,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC;QAC3F,CAAC;QAED,IAAI,KAAK,GAAW,IAAI,CAAC;QACzB,KAAK,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,kBAAkB,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC;QAEzF,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;YAC9B,EAAE,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,QAAQ,IAAI,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC;gBAC9D,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC;gBACrF,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC;YACjD,CAAC;QACL,CAAC;QAED,IAAI,CAAC,OAAO,CAAC,IAAI,GAAG;YAChB,SAAS,EAAE,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,UAAU,GAAG,kBAAkB,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,UAAU,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,SAAS;YACrH,KAAK,EAAE,KAAK;YACZ,KAAK,EAAE,KAAK;YACZ,QAAQ,EAAE,EAAE;YACZ,QAAQ,EAAE,KAAK;YACf,SAAS,EAAE,IAAI,CAAC,OAAO,CAAC,SAAS;YACjC,IAAI,EAAE,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,IAAI,QAAQ,IAAI,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,GAAG,IAAI;YAChG,IAAI,EAAE,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,IAAI,IAAI;YACrC,SAAS,EAAE,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,UAAU,IAAI,IAAI;SACnD,CAAC;QACF,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;YACtD,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC;QACtD,CAAC;QACD,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;YAC/B,MAAM,IAAI,KAAK,CAAC,8BAA8B,CAAC,CAAC;QACpD,CAAC;QAED,IAAI,CAAC,OAAO,CAAC,aAAa,GAAG,KAAK,CAAC;QACnC,IAAI,CAAC,OAAO,CAAC,cAAc,GAAG,KAAK,CAAC;QACpC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC;QAGpF,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,cAAc,CAAC,CAAC,CAAC;YAC/B,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC;YACrD,IAAI,CAAC,OAAO,CAAC,cAAc,GAAG,IAAI,CAAC;QACvC,CAAC;QAED,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,IAAI,QAAQ,CAAC,CAAC,CAAC;YAC/B,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAC5G,CAAC;QACD,IAAI,CAAC,OAAO,CAAC,UAAU,GAAG,IAAI,CAAC,iBAAiB,EAAE,CAAC;QACnD,IAAI,CAAC,OAAO,CAAC,OAAO,GAAG,IAAI,CAAC,eAAe,EAAE,CAAC;QAE9C,IAAI,CAAC,OAAO,CAAC,QAAQ,GAAG,EAAE,CAAC;QAC3B,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC;QAG/D,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;YAC/B,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,SAAS,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,MAAM,CAAC,IAAI,IAAI,QAAQ,CAAC,CAAC,CAAC;gBAC1F,IAAI,MAAM,GAAQ,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;gBACpE,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,GAAG,CAAC,MAAM,IAAI,EAAE,CAAC,CAAC,KAAK,CAAC;YACnD,CAAC;QACL,CAAC;QAED,IAAI,CAAC,OAAO,CAAC,UAAU,GAAG,UAAC,IAAI,IAAO,MAAM,CAAC,KAAI,CAAC,UAAU,CAAC,IAAI,CAAC,CAAA,CAAC,CAAC,CAAC;QACrE,IAAI,CAAC,OAAO,CAAC,UAAU,GAAG,UAAC,KAAK,IAAO,MAAM,CAAC,KAAI,CAAC,UAAU,CAAC,KAAK,CAAC,CAAA,CAAC,CAAC,CAAC;QACvE,IAAI,CAAC,OAAO,CAAC,kBAAkB,GAAG,UAAC,IAAU,EAAE,GAAY,IAAO,KAAI,CAAC,kBAAkB,CAAC,IAAI,EAAE,GAAG,CAAC,CAAA,CAAC,CAAC,CAAC;QACvG,IAAI,CAAC,OAAO,CAAC,OAAO,GAAG,CAAC,CAAC,OAAO,CAAC;QAEjC,MAAM,CAAC,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;IACrC,CAAC;IAEO,uCAAU,GAAlB,UAAmB,IAAI;QACnB,IAAI,MAAM,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,UAAU,IAAI,IAAI;eAC/C,IAAI,CAAC,WAAW,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,UAAU,CAAC,WAAW,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC;QACxF,MAAM,CAAC,MAAM,CAAC;IAClB,CAAC;IAEO,uCAAU,GAAlB,UAAmB,KAAa;QAC5B,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC;YACP,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC;QAEtC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;QACpC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,UAAU,GAAG,KAAK,CAAC;QACzC,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,UAAU,EAAE,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;IACtE,CAAC;IAEO,+CAAkB,GAA1B,UAA2B,IAAU,EAAE,GAAY;QAC/C,IAAI,GAAG,IAAI,GAAG,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC;QACvC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,UAAU,CAAC;QAEnD,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC;YAAC,MAAM,CAAC;QACjB,IAAI,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;QAEvC,EAAE,CAAC,CAAC,MAAM,IAAI,IAAI,CAAC,MAAM,CAAC,IAAI,IAAI,QAAQ,CAAC,CAAC,CAAC;YACzC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,GAAG,MAAM,CAAC,KAAK,CAAC;YACvC,IAAI,CAAC,OAAO,CAAC,SAAS,GAAG,GAAG,CAAC;YAC7B,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,SAAS,GAAG,GAAG,CAAC;QACtC,CAAC;QAED,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;YACP,IAAI,CAAC,aAAa,CAAC,eAAe,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;YAChD,IAAI,CAAC,aAAa,CAAC,iBAAiB,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;QACrD,CAAC;IACL,CAAC;IACL,yBAAC;AAAD,CA9LA,AA8LC,IAAA;AAED,OAAO,CAAC,MAAM,CAAC,wBAAwB,EAAE,EAAE,CAAC;KACvC,OAAO,CAAC,gBAAgB,EAAE,kBAAkB,CAAC,CAAC;;;;ACrMnD;IAAA;QACW,aAAQ,GAAa,KAAK,CAAC;IAiBtC,CAAC;IAAD,sBAAC;AAAD,CAlBA,AAkBC,IAAA;AAlBY,0CAAe;;;;ACG5B,mBAAmB,QAAuB,EAAE,UAAgC,EAAE,UAAwC,EAClH,YAAwC,EAAE,QAAoC;IAG9E,UAAU,CAAC,GAAG,CAAC,GAAG,CAAC,QAAQ,CAAC,kBAAkB,EAAE,UAAC,KAAuB,EAAE,IAAqB;QAC3F,YAAY,CAAC,KAAK,EAAE,CAAC;QACrB,QAAQ,CAAC,KAAK,EAAE,CAAC;IACrB,CAAC,CAAC,CAAC;IAEH,UAAU,CAAC,GAAG,CAAC,GAAG,CAAC,QAAQ,CAAC,kBAAkB,EAAE,UAAC,KAAuB,EAAE,IAAqB;QAC3F,YAAY,CAAC,KAAK,EAAE,CAAC;IACzB,CAAC,CAAC,CAAC;IAIH,QAAQ,CAAC,aAAa,EAAE,CAAC;AAC7B,CAAC;AAED,OAAO,CAAC,MAAM,CAAC,kBAAkB,CAAC;KAC7B,GAAG,CAAC,SAAS,CAAC,CAAC;;;;AClBpB;IAMI,oBACW,cAAmC;QAE1C,UAAU,CAAC;QAFJ,mBAAc,GAAd,cAAc,CAAqB;QAJvC,oBAAe,GAAY,IAAI,CAAC;IAQvC,CAAC;IAES,8BAAS,GAAnB,UAAoB,MAAM;QACtB,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;QACpD,IAAI,CAAC,MAAM,CAAC,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,IAAI,MAAM,CAAC,IAAI,CAAC;QACnD,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,MAAM,CAAC,eAAe,CAAC;IAClD,CAAC;IACL,iBAAC;AAAD,CAlBA,AAkBC,IAAA;AAlBY,gCAAU;;;;;;;;;;;;;;ACJvB,+CAA6C;AAE7C;IAAqC,mCAAW;IAAhD;QAAA,qEAWC;QATG,mBAAa,GAAY,KAAK,CAAC;;IASnC,CAAC;IAAD,sBAAC;AAAD,CAXA,AAWC,CAXoC,0BAAW,GAW/C;AAXY,0CAAe;AAa5B;IAAA;IAWA,CAAC;IAAD,sBAAC;AAAD,CAXA,AAWC,IAAA;AAXY,0CAAe;AAkB5B;IAAA;IAOA,CAAC;IAAD,mBAAC;AAAD,CAPA,AAOC,IAAA;AAPY,oCAAY;AASzB;IAAA;IAWA,CAAC;IAAD,mBAAC;AAAD,CAXA,AAWC,IAAA;AAXY,oCAAY;AAazB;IAAA;QACI,cAAS,GAAW,SAAS,CAAC;QAC9B,cAAS,GAAW,SAAS,CAAC;QAC9B,WAAM,GAAW,SAAS,CAAC;IAC/B,CAAC;IAAD,sBAAC;AAAD,CAJA,AAIC,IAAA;AAJY,0CAAe;AAO5B;IAAA;IAGA,CAAC;IAAD,kBAAC;AAAD,CAHA,AAGC,IAAA;AAHY,kCAAW;;;;AC9DxB,qDAAmE;AAGnE,qDAAoD;AAqCpD;IAAA;IAaA,CAAC;IAAD,kBAAC;AAAD,CAbA,AAaC,IAAA;AAbY,kCAAW;AAexB;IAGI,sBACY,MAAmB,EACnB,OAA8B,EAC9B,mBAAwB,EAC9B,QAAa,EACP,YAAiB,EACjB,UAAwC,EACxC,WAA0C,EAC1C,QAAoC,EACpC,YAA4C,EAC5C,QAAkC,EAClC,QAA4B,EAC5B,YAAwC;QAEhD,UAAU,CAAC;QAdf,iBAoBC;QAnBW,WAAM,GAAN,MAAM,CAAa;QACnB,YAAO,GAAP,OAAO,CAAuB;QAC9B,wBAAmB,GAAnB,mBAAmB,CAAK;QAC9B,aAAQ,GAAR,QAAQ,CAAK;QACP,iBAAY,GAAZ,YAAY,CAAK;QACjB,eAAU,GAAV,UAAU,CAA8B;QACxC,gBAAW,GAAX,WAAW,CAA+B;QAC1C,aAAQ,GAAR,QAAQ,CAA4B;QACpC,iBAAY,GAAZ,YAAY,CAAgC;QAC5C,aAAQ,GAAR,QAAQ,CAA0B;QAClC,aAAQ,GAAR,QAAQ,CAAoB;QAC5B,iBAAY,GAAZ,YAAY,CAA4B;QAIhD,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC,UAAC,QAAkB;YAC/C,KAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC;QAClC,CAAC,CAAC,CAAC;IAEP,CAAC;IAEO,8BAAO,GAAf,UAAgB,IAAqB;QACjC,IAAI,MAAM,GAAoB,IAAI,iCAAe,EAAE,CAAC;QACpD,GAAG,CAAC,CAAC,IAAI,QAAQ,IAAI,IAAI,CAAC,CAAC,CAAC;YACxB,EAAE,CAAC,CAAC,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;gBAChC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;oBAC9B,MAAM,CAAC,QAAQ,CAAC,GAAyC,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,IAAI,CAAC,mBAAmB,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;gBACnI,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACJ,MAAM,CAAC,QAAQ,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC;gBACtC,CAAC;YACL,CAAC;QACL,CAAC;QAED,MAAM,CAAC,MAAM,CAAC;IAClB,CAAC;IAEO,mCAAY,GAApB,UAAqB,IAAS;QAC1B,GAAG,CAAC,CAAC,IAAI,QAAQ,IAAI,IAAI,CAAC,CAAC,CAAC;YACxB,EAAE,CAAC,CAAC,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;gBAC/D,IAAI,CAAC,mBAAmB,CAAC,GAAG,CAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;YAC3D,CAAC;QACL,CAAC;IACL,CAAC;IAEO,kCAAW,GAAnB,UAAoB,IAAS;QACzB,GAAG,CAAC,CAAC,IAAI,QAAQ,IAAI,IAAI,CAAC,CAAC,CAAC;YACxB,EAAE,CAAC,CAAC,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;gBAC/D,IAAI,CAAC,mBAAmB,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;YAC9C,CAAC;QACL,CAAC;IACL,CAAC;IAEO,oCAAa,GAArB,UAAsB,IAAS;QAC3B,GAAG,CAAC,CAAC,IAAI,QAAQ,IAAI,IAAI,CAAC,CAAC,CAAC;YACxB,EAAE,CAAC,CAAC,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;gBAE3E,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC,EAAE,EAAC,IAAI,EAAE,GAAG,EAAC,CAAC,CAAC;YACjD,CAAC;QACL,CAAC;IACL,CAAC;IAEO,mCAAY,GAApB,UAAqB,IAAS;QAC1B,GAAG,CAAC,CAAC,IAAI,QAAQ,IAAI,IAAI,CAAC,CAAC,CAAC;YACxB,EAAE,CAAC,CAAC,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;gBAE3E,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;YACvB,CAAC;QACL,CAAC;IACL,CAAC;IAEO,uCAAgB,GAAxB,UAAyB,KAAa;QAClC,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC;YAAC,MAAM,CAAC;QAGzB,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,KAAK,EAAE,KAAK,EAAE,EAAC,IAAI,EAAE,GAAG,EAAC,CAAC,CAAC;QACvC,IAAI,CAAC,mBAAmB,CAAC,GAAG,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;IAC/C,CAAC;IAED,sBAAW,oCAAU;aAArB;YACI,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC;QAClC,CAAC;;;OAAA;IAED,sBAAW,qCAAW;aAAtB;YACI,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC;QACnC,CAAC;;;OAAA;IAED,sBAAW,kCAAQ;aAAnB;YACI,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC;QAChC,CAAC;;;OAAA;IAED,sBAAW,sCAAY;aAAvB;YACI,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC;QACpC,CAAC;;;OAAA;IAED,sBAAW,mCAAS;aAApB;YACI,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC;QACjC,CAAC;;;OAAA;IAED,sBAAW,wCAAc;aAAzB;YACI,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC;QACtC,CAAC;;;OAAA;IAED,sBAAW,wCAAc;aAAzB;YACI,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC;QACtC,CAAC;;;OAAA;IAED,sBAAW,yCAAe;aAA1B;YACI,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,eAAe,CAAC;QACvC,CAAC;;;OAAA;IAED,sBAAW,sCAAY;aAAvB;YACI,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC;QACpC,CAAC;;;OAAA;IAED,sBAAW,yCAAe;aAA1B;YACI,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,eAAe,CAAC;QACvC,CAAC;;;OAAA;IAED,sBAAW,sCAAY;aAAvB;YACI,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC;QACpC,CAAC;;;OAAA;IAEM,kCAAW,GAAlB,UAAmB,IAAiB,EAAE,QAAkB;QACpD,IAAI,OAAO,GAAoB,IAAI,iCAAe,EAAE,CAAC;QACrD,OAAO,CAAC,SAAS,GAAG,IAAI,GAAG,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC;QAC1C,OAAO,CAAC,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;QACtC,OAAO,CAAC,SAAS,GAAG,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC;QAE3C,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,CAAC;YACrB,MAAM,IAAI,KAAK,CAAC,6BAA6B,CAAC,CAAC;QACnD,CAAC;QAED,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC;YAClB,MAAM,IAAI,KAAK,CAAC,0BAA0B,CAAC,CAAC;QAChD,CAAC;QAED,IAAI,CAAC,YAAY,GAAG,MAAM,CAAC;QAG3B,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC;YACpB,cAAc,EAAE,OAAO,CAAC,SAAS;SACpC,CAAC,CAAC;QAGH,EAAE,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;YACX,IAAI,OAAO,GAAkB,IAAI,CAAC,mBAAmB,CAAC,GAAG,CAAC,SAAS,CAAC,IAAmB,EAAE,CAAC;YAC1F,OAAO,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG;gBACzB,SAAS,EAAE,OAAO,CAAC,SAAS;gBAC5B,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,KAAK;aACzB,CAAC;YACF,IAAI,CAAC,mBAAmB,CAAC,GAAG,CAAC,SAAS,EAAE,OAAO,CAAC,CAAC;YACjD,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC;QAC/B,CAAC;QAED,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,SAAS,CAAC,CAAA;QAGxC,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;QAG5B,IAAI,CAAC,WAAW,CAAC,QAAQ,GAAG,IAAI,CAAC;QACjC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QAC9B,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QAE1C,EAAE,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC;YAC5D,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QACvC,CAAC;IACL,CAAC;IAEM,gCAAS,GAAhB,UAAiB,IAAiB;QAC9B,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;YACR,MAAM,CAAC,IAAI,CAAC;QAChB,CAAC;QACD,IAAI,EAAU,CAAC;QACf,EAAE,GAAG,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC;QAEnE,MAAM,CAAC,EAAE,CAAC;IACd,CAAC;IAEO,6CAAsB,GAA9B,UAA+B,IAAiB;QAC5C,MAAM,CAAC,CAAC,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,IAAI,CAAC,QAAQ;YACnC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,gBAAgB,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,gBAAgB,CAAC,IAAI,MAAM,CAAC,CAAC;IAChG,CAAC;IAEO,6CAAsB,GAA9B,UAA+B,IAAiB,EAAE,QAAkB;QAChE,EAAE,CAAC,CAAC,OAAO,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;YAC/B,QAAQ,EAAE,CAAA;QACd,CAAC;QACD,IAAI,CAAC,WAAW,CAAC,QAAQ,GAAG,IAAI,CAAC;QACjC,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;IAC9C,CAAC;IAEO,qCAAc,GAAtB,UAAuB,QAAkB;QAAzC,iBAqEC;QApEG,EAAE,CAAC,CAAC,IAAI,CAAC,YAAY,KAAK,MAAM,CAAC,CAAC,CAAC;YAC/B,EAAE,CAAC,CAAC,OAAO,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;gBAC/B,QAAQ,EAAE,CAAA;YACd,CAAC;YAED,MAAM,CAAC;QACX,CAAC;QAED,IAAI,OAAO,GAAoB,IAAI,iCAAe,EAAE,CAAC;QACrD,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;QAEhC,EAAE,CAAC,CAAC,CAAC,OAAO,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,CAAC;YACjC,IAAI,CAAC,OAAO,CAAC;gBACT,KAAI,CAAC,YAAY,CAAC,gBAAgB,CAAC,EAAE,CAAC,CAAC;YAC3C,CAAC,CAAC,CAAC;YAEH,MAAM,CAAC;QACX,CAAC;QAED,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,iBAAiB,CAAC,CAAC,IAAI,CAC5C;YACI,UAAU,EAAE,OAAO,CAAC,SAAS;SAChC,EACD,UAAC,IAAiB;YACd,EAAE,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC;gBACpB,KAAI,CAAC,OAAO,CAAC;oBACT,KAAI,CAAC,YAAY,CAAC,gBAAgB,CAAC,EAAE,CAAC,CAAC;gBAC3C,CAAC,CAAC,CAAC;gBAEH,MAAM,CAAC;YACX,CAAC;YAED,OAAO,CAAC,MAAM,GAAG,KAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;YACtC,OAAO,CAAC,SAAS,GAAG,KAAI,CAAC,OAAO,CAAC,SAAS,CAAC;YAE3C,KAAI,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;YAE5B,EAAE,CAAC,CAAC,KAAI,CAAC,sBAAsB,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;gBACpC,KAAI,CAAC,sBAAsB,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC;YAChD,CAAC;YAAC,IAAI,CAAC,CAAC;gBACJ,KAAI,CAAC,OAAO,CAAC,WAAW,CAAC,gBAAgB,CAAC,CAAC,GAAG,CAC1C;oBACI,OAAO,EAAE,IAAI,CAAC,IAAI,CAAC,EAAE;iBACxB,EACD,UAAC,OAAsB;oBACnB,EAAE,CAAC,CAAC,OAAO,IAAI,OAAO,CAAC,QAAQ,IAAI,OAAO,CAAC,KAAK,IAAI,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;wBAClE,KAAI,CAAC,sBAAsB,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC;oBAChD,CAAC;oBAAC,IAAI,CAAC,CAAC;wBACJ,KAAI,CAAC,sBAAsB,CAAC,IAAI,EAAE;4BAC9B,EAAE,CAAC,CAAC,QAAQ,CAAC;gCAAC,QAAQ,EAAE,CAAC;4BACzB,KAAI,CAAC,YAAY,CAAC,EAAE,CAAC,cAAc,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE,SAAS,EAAE,KAAI,CAAC,OAAO,CAAC,SAAS,EAAE,CAAC,CAAC;wBAC9H,CAAC,CAAC,CAAC;oBACP,CAAC;gBACL,CAAC,EACD,UAAC,KAAU;gBAEX,CAAC,CAAC,CAAC;YACX,CAAC;QACL,CAAC,EACD,UAAC,KAAU;YACP,EAAE,CAAC,CAAC,OAAO,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;gBAC/B,QAAQ,CAAC,KAAK,CAAC,CAAC;YACpB,CAAC;YAED,KAAI,CAAC,OAAO,CAAC;gBACT,KAAI,CAAC,YAAY,CAAC,gBAAgB,CAAC,EAAE,CAAC,CAAC;YAC3C,CAAC,CAAC,CAAC;QACP,CAAC,CAAC,CAAC;IACX,CAAC;IAEM,oCAAa,GAApB;QAAA,iBAuBC;QAtBG,IAAI,OAAO,GAAoB,IAAI,iCAAe,EAAE,CAAC;QACrD,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;QAEhC,EAAE,CAAC,CAAC,CAAC,OAAO,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,CAAC;YACjC,IAAI,CAAC,OAAO,CAAC;gBACT,KAAI,CAAC,YAAY,CAAC,gBAAgB,CAAC,EAAE,CAAC,CAAC;YAC3C,CAAC,CAAC,CAAC;YAEH,MAAM,CAAC;QACX,CAAC;QAED,IAAI,CAAC,YAAY,GAAG,QAAQ,CAAC;QAE7B,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC;YACpB,cAAc,EAAE,OAAO,CAAC,SAAS;SACpC,CAAC,CAAC;QAEH,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,aAAa,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,IAAI,OAAO,CAAC,SAAS,CAAC,CAAC,CAAC;YAChF,IAAI,CAAC,OAAO,CAAC,SAAS,GAAG,OAAO,CAAC,SAAS,CAAC;QAC/C,CAAC;QAED,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;IAClC,CAAC;IAEM,mCAAY,GAAnB;QACI,IAAI,OAAO,GAAoB,IAAI,iCAAe,EAAE,CAAC;QACrD,OAAO,CAAC,SAAS,GAAG,IAAI,CAAC;QACzB,OAAO,CAAC,MAAM,GAAG,IAAI,CAAC;QACtB,OAAO,CAAC,SAAS,GAAG,IAAI,CAAC;QAEzB,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC;YACpB,cAAc,EAAE,SAAS;SAC5B,CAAC,CAAC;QACH,IAAI,CAAC,WAAW,CAAC,QAAQ,GAAG,IAAI,CAAC;QAEjC,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;QAE1B,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC;QAE3B,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;QAErB,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE,CAAC;IAC5B,CAAC;IAEM,8BAAO,GAAd,UAAe,eAA4B;QACvC,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC;YAC7B,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,EAAE,EAAE,eAAe,EAAE,eAAe,CAAC,CAAC;QACnF,CAAC;QAED,IAAI,CAAC,YAAY,EAAE,CAAC;IACxB,CAAC;IACL,mBAAC;AAAD,CA/TA,AA+TC,IAAA;AAGD;IAII;QACI,IAAI,CAAC,MAAM,GAAG,IAAI,WAAW,EAAE,CAAC;QAChC,IAAI,CAAC,MAAM,CAAC,WAAW,GAAG,EAAE,CAAC;QAC7B,IAAI,CAAC,MAAM,CAAC,UAAU,GAAG,EAAE,CAAC;QAC5B,IAAI,CAAC,MAAM,CAAC,SAAS,GAAG,KAAK,CAAC;QAC9B,IAAI,CAAC,MAAM,CAAC,QAAQ,GAAG,KAAK,CAAC;QAC7B,IAAI,CAAC,MAAM,CAAC,YAAY,GAAG,IAAI,CAAC;QAChC,IAAI,CAAC,MAAM,CAAC,SAAS,GAAG,KAAK,CAAC;QAC9B,IAAI,CAAC,MAAM,CAAC,cAAc,GAAG,IAAI,CAAC;QAClC,IAAI,CAAC,MAAM,CAAC,cAAc,GAAG,KAAK,CAAC;QACnC,IAAI,CAAC,MAAM,CAAC,YAAY,GAAG,KAAK,CAAC;QACjC,IAAI,CAAC,MAAM,CAAC,eAAe,GAAG,KAAK,CAAC;QACpC,IAAI,CAAC,MAAM,CAAC,YAAY,GAAG,IAAI,CAAC;QAChC,IAAI,CAAC,MAAM,CAAC,eAAe,GAAG,IAAI,iCAAe,EAAE,CAAC;IACxD,CAAC;IAED,sBAAW,qCAAU;aAArB,UAAsB,aAAqB;YACvC,IAAI,CAAC,MAAM,CAAC,UAAU,GAAG,aAAa,CAAC;QAC3C,CAAC;;;OAAA;IAED,sBAAW,sCAAW;aAAtB,UAAuB,cAAsB;YACzC,IAAI,CAAC,MAAM,CAAC,WAAW,GAAG,cAAc,CAAC;QAC7C,CAAC;;;OAAA;IAED,sBAAW,mCAAQ;aAAnB,UAAoB,WAAoB;YACpC,IAAI,CAAC,MAAM,CAAC,QAAQ,GAAG,WAAW,CAAC;QACvC,CAAC;;;OAAA;IAED,sBAAW,uCAAY;aAAvB,UAAwB,eAAwB;YAC5C,IAAI,CAAC,MAAM,CAAC,YAAY,GAAG,eAAe,CAAC;QAC/C,CAAC;;;OAAA;IAED,sBAAW,oCAAS;aAApB,UAAqB,YAAqB;YACtC,IAAI,CAAC,MAAM,CAAC,SAAS,GAAG,YAAY,CAAC;QACzC,CAAC;;;OAAA;IAED,sBAAW,yCAAc;aAAzB,UAA0B,iBAA0B;YAChD,IAAI,CAAC,MAAM,CAAC,cAAc,GAAG,iBAAiB,CAAC;QACnD,CAAC;;;OAAA;IAED,sBAAW,yCAAc;aAAzB,UAA0B,KAAc;YACpC,IAAI,CAAC,MAAM,CAAC,cAAc,GAAG,KAAK,CAAC;QACvC,CAAC;;;OAAA;IAED,sBAAW,0CAAe;aAA1B,UAA2B,eAAgC;YACvD,IAAI,CAAC,MAAM,CAAC,eAAe,GAAG,eAAe,CAAC;QAClD,CAAC;;;OAAA;IAED,sBAAW,uCAAY;aAAvB,UAAwB,KAAc;YAClC,IAAI,CAAC,MAAM,CAAC,YAAY,GAAG,KAAK,CAAC;QACrC,CAAC;;;OAAA;IAED,sBAAW,0CAAe;aAA1B,UAA2B,KAAc;YACrC,IAAI,CAAC,MAAM,CAAC,eAAe,GAAG,KAAK,CAAC;QACxC,CAAC;;;OAAA;IAED,sBAAW,uCAAY;aAAvB,UAAwB,KAAc;YAClC,IAAI,CAAC,MAAM,CAAC,YAAY,GAAG,KAAK,CAAC;QACrC,CAAC;;;OAAA;IAEM,4BAAI,GAAX,UACI,OAA8B,EAC9B,mBAAwB,EAC9B,QAAa,EACP,YAAiB,EACjB,UAAwC,EACxC,WAA0C,EAC1C,QAAoC,EACpC,YAA4C,EAC5C,QAAkC,EAClC,QAA4B,EAC5B,YAAwC;QAExC,UAAU,CAAC;QACX,EAAE,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,WAAW,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;YAC1D,IAAI,CAAC,QAAQ,GAAG,IAAI,YAAY,CAAC,IAAI,CAAC,MAAM,EAAE,OAAO,EAAE,mBAAmB,EAAE,QAAQ,EAAE,YAAY,EAC9F,UAAU,EAAE,WAAW,EAAE,QAAQ,EAAE,YAAY,EAAE,QAAQ,EAAE,QAAQ,EAAE,YAAY,CAAC,CAAC;QAC3F,CAAC;QAED,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC;IACzB,CAAC;IACL,oBAAC;AAAD,CArFA,AAqFC,IAAA;AAED,OAAO,CAAC,MAAM,CAAC,kBAAkB,EAAE,EAAE,CAAC;KACjC,QAAQ,CAAC,UAAU,EAAE,aAAa,CAAC,CAAC;;AC/czC,CAAC;IACG,YAAY,CAAC;IAEb,OAAO,CAAC,MAAM,CAAC,kBAAkB,EAAE,EAAE,CAAC;SACjC,MAAM,CAAC,UAAU,oBAAoB;QAGlC,oBAAoB,CAAC,YAAY,CAAC,IAAI,EAAE;YAEpC,UAAU,EAAE,qBAAqB;YACjC,OAAO,EAAE,OAAO;YAChB,OAAO,EAAE,OAAO;YAChB,UAAU,EAAE,UAAU;YACtB,UAAU,EAAE,UAAU;YACtB,QAAQ,EAAE,QAAQ;YAClB,UAAU,EAAE,UAAU;YACtB,UAAU,EAAE,UAAU;YACtB,QAAQ,EAAE,QAAQ;YAClB,UAAU,EAAE,UAAU;YAItB,eAAe,EAAE,gDAAgD;YACjE,eAAe,EAAE,sBAAsB;YACvC,sBAAsB,EAAE,uBAAuB;YAC/C,YAAY,EAAE,0BAA0B;YACxC,cAAc,EAAE,qCAAqC;YACrD,YAAY,EAAE,kCAAkC;YAChD,cAAc,EAAE,qCAAqC;YACrD,YAAY,EAAE,0BAA0B;YAGxC,cAAc,EAAE,SAAS;YACzB,mBAAmB,EAAE,eAAe;YACpC,iBAAiB,EAAE,UAAU;YAC7B,wBAAwB,EAAE,kBAAkB;YAC5C,oBAAoB,EAAE,eAAe;YAGrC,cAAc,EAAE,SAAS;YACzB,mBAAmB,EAAE,2BAA2B;YAChD,gBAAgB,EAAE,uCAAuC;YACzD,gBAAgB,EAAE,mBAAmB;YACrC,gBAAgB,EAAE,KAAK;YACvB,iBAAiB,EAAE,oBAAoB;YACvC,eAAe,EAAE,yBAAyB;YAC1C,oBAAoB,EAAE,eAAe;YACrC,yBAAyB,EAAE,kCAAkC;YAC7D,yBAAyB,EAAE,kCAAkC;YAC7D,uBAAuB,EAAE,MAAM;YAC/B,oBAAoB,EAAE,MAAM;YAC5B,oBAAoB,EAAE,MAAM;YAG5B,mBAAmB,EAAE,qBAAqB;YAC1C,oBAAoB,EAAE,wCAAwC;YAC9D,oBAAoB,EAAE,mCAAmC;YAGzD,mBAAmB,EAAE,kBAAkB;YACvC,0BAA0B,EAAE,kGAAkG;YAC9H,0BAA0B,EAAE,mGAAmG;YAC/H,oBAAoB,EAAE,uHAAuH;YAC7I,qBAAqB,EAAE,kBAAkB;YAGzC,oBAAoB,EAAE,gBAAgB;YACtC,sBAAsB,EAAE,yHAAyH;YACjJ,sBAAsB,EAAE,0HAA0H;YAClJ,wBAAwB,EAAE,wCAAwC;YAGlE,mBAAmB,EAAE,mCAAmC;YACxD,oBAAoB,EAAE,oBAAoB;YAC1C,qBAAqB,EAAE,oDAAoD;YAC3E,sBAAsB,EAAE,0CAA0C;YAClE,qBAAqB,EAAE,QAAQ;YAC/B,sBAAsB,EAAE,mBAAmB;YAC3C,2BAA2B,EAAE,0DAA0D;YAEvF,gBAAgB,EAAE,wBAAwB;YAC1C,kBAAkB,EAAE,sBAAsB;YAC1C,cAAc,EAAE,gBAAgB;YAGhC,qBAAqB,EAAE,eAAe;YACtC,kBAAkB,EAAE,YAAY;YAChC,kBAAkB,EAAE,YAAY;YAChC,yBAAyB,EAAE,mBAAmB;YAC9C,oBAAoB,EAAE,cAAc;YACpC,oBAAoB,EAAE,cAAc;YACpC,sBAAsB,EAAE,KAAK;YAC7B,YAAY,EAAE,MAAM;YACpB,cAAc,EAAE,QAAQ;YAGxB,qBAAqB,EAAE,iBAAiB;YACxC,4BAA4B,EAAE,wBAAwB;YACtD,iBAAiB,EAAE,gCAAgC;YACnD,wBAAwB,EAAE,2DAA2D;YACrF,uBAAuB,EAAE,QAAQ;YACjC,8BAA8B,EAAE,QAAQ;YACxC,cAAc,EAAE,kBAAkB;YAClC,kBAAkB,EAAE,cAAc;YAClC,sBAAsB,EAAE,iBAAiB;YACzC,yBAAyB,EAAE,8BAA8B;YACzD,gCAAgC,EAAE,8BAA8B;YAIhE,qBAAqB,EAAE,qBAAqB;YAC5C,qBAAqB,EAAE,qBAAqB;YAC5C,wBAAwB,EAAE,wBAAwB;YAClD,oBAAoB,EAAE,sCAAsC;YAC5D,wBAAwB,EAAE,iBAAiB;YAC3C,oBAAoB,EAAE,wBAAwB;YAC9C,kBAAkB,EAAE,qBAAqB;YACzC,sBAAsB,EAAE,kBAAkB;YAG1C,kBAAkB,EAAE,SAAS;YAC7B,kBAAkB,EAAE,SAAS;YAI7B,mBAAmB,EAAE,kCAAkC;YACvD,mBAAmB,EAAE,uBAAuB;YAC5C,uBAAuB,EAAE,uBAAuB;YAChD,gBAAgB,EAAE,uBAAuB;YACzC,sBAAsB,EAAE,kBAAkB;YAC1C,kBAAkB,EAAE,gCAAgC;YACpD,oBAAoB,EAAE,iCAAiC;YACvD,gBAAgB,EAAE,eAAe;YACjC,eAAe,EAAE,sBAAsB;YACvC,qBAAqB,EAAE,4BAA4B;YACnD,0BAA0B,EAAE,4BAA4B;YACxD,2BAA2B,EAAE,4BAA4B;YACzD,yBAAyB,EAAE,uBAAuB;YAClD,sBAAsB,EAAE,uBAAuB;YAC/C,cAAc,EAAE,0BAA0B;YAC1C,sBAAsB,EAAE,sDAAsD;YAC9E,eAAe,EAAE,eAAe;YAChC,oBAAoB,EAAE,qCAAqC;SAC9D,CAAC,CAAC;QAEH,oBAAoB,CAAC,YAAY,CAAC,IAAI,EAAE;YAEpC,UAAU,EAAE,eAAe;YAC3B,OAAO,EAAE,gBAAgB;YACzB,OAAO,EAAE,OAAO;YAChB,UAAU,EAAE,QAAQ;YACpB,UAAU,EAAE,MAAM;YAClB,QAAQ,EAAE,KAAK;YACf,UAAU,EAAE,eAAe;YAC3B,UAAU,EAAE,iBAAiB;YAC7B,QAAQ,EAAE,aAAa;YACvB,UAAU,EAAE,YAAY;YAGxB,eAAe,EAAE,gGAAgG;YACjH,eAAe,EAAE,oBAAoB;YACrC,sBAAsB,EAAE,gBAAgB;YACxC,YAAY,EAAE,uBAAuB;YACrC,cAAc,EAAE,kCAAkC;YAClD,YAAY,EAAE,8BAA8B;YAC5C,cAAc,EAAE,wBAAwB;YACxC,YAAY,EAAE,oBAAoB;YAElC,cAAc,EAAE,gBAAgB;YAChC,mBAAmB,EAAE,4BAA4B;YACjD,iBAAiB,EAAE,WAAW;YAC9B,wBAAwB,EAAE,gBAAgB;YAC1C,oBAAoB,EAAE,2BAA2B;YAGjD,cAAc,EAAE,aAAa;YAC7B,mBAAmB,EAAE,qCAAqC;YAC1D,gBAAgB,EAAE,4CAA4C;YAC9D,iBAAiB,EAAE,sBAAsB;YACzC,gBAAgB,EAAE,GAAG;YACrB,gBAAgB,EAAE,6BAA6B;YAC/C,eAAe,EAAE,yBAAyB;YAC1C,oBAAoB,EAAE,aAAa;YACnC,yBAAyB,EAAE,oCAAoC;YAC/D,yBAAyB,EAAE,2BAA2B;YAGtD,mBAAmB,EAAE,6BAA6B;YAClD,oBAAoB,EAAE,8BAA8B;YACpD,oBAAoB,EAAE,wBAAwB;YAG9C,mBAAmB,EAAE,gBAAgB;YACrC,0BAA0B,EAAE,wGAAwG;YACpI,0BAA0B,EAAE,4GAA4G;YACxI,oBAAoB,EAAE,wHAAwH;YAC9I,qBAAqB,EAAE,qBAAqB;YAG5C,oBAAoB,EAAE,iBAAiB;YACvC,sBAAsB,EAAE,uHAAuH;YAC/I,sBAAsB,EAAE,2HAA2H;YACnJ,wBAAwB,EAAE,4BAA4B;YAGtD,mBAAmB,EAAE,2CAA2C;YAChE,oBAAoB,EAAE,+BAA+B;YACrD,qBAAqB,EAAE,8CAA8C;YACrE,sBAAsB,EAAE,0DAA0D;YAClF,qBAAqB,EAAE,iBAAiB;YACxC,sBAAsB,EAAE,GAAG;YAC3B,2BAA2B,EAAE,6DAA6D;YAE1F,gBAAgB,EAAE,qBAAqB;YACvC,kBAAkB,EAAE,oBAAoB;YACxC,cAAc,EAAE,gBAAgB;YAGhC,qBAAqB,EAAE,iBAAiB;YACxC,kBAAkB,EAAE,aAAa;YACjC,kBAAkB,EAAE,mBAAmB;YACvC,yBAAyB,EAAE,gCAAgC;YAC3D,oBAAoB,EAAE,cAAc;YACpC,oBAAoB,EAAE,iBAAiB;YACvC,sBAAsB,EAAE,UAAU;YAClC,YAAY,EAAE,WAAW;YACzB,cAAc,EAAE,WAAW;YAG3B,qBAAqB,EAAE,kBAAkB;YACzC,4BAA4B,EAAE,kBAAkB;YAChD,iBAAiB,EAAE,iCAAiC;YACpD,wBAAwB,EAAE,uEAAuE;YACjG,uBAAuB,EAAE,UAAU;YACnC,8BAA8B,EAAE,UAAU;YAC1C,cAAc,EAAE,gBAAgB;YAChC,kBAAkB,EAAE,cAAc;YAClC,sBAAsB,EAAE,kBAAkB;YAC1C,yBAAyB,EAAE,4BAA4B;YACvD,gCAAgC,EAAE,4BAA4B;YAG9D,qBAAqB,EAAE,iCAAiC;YACxD,qBAAqB,EAAE,eAAe;YACtC,wBAAwB,EAAE,gBAAgB;YAC1C,oBAAoB,EAAE,sCAAsC;YAC5D,wBAAwB,EAAE,oBAAoB;YAC9C,oBAAoB,EAAE,aAAa;YACnC,kBAAkB,EAAE,kBAAkB;YACtC,sBAAsB,EAAE,qBAAqB;YAG7C,kBAAkB,EAAE,SAAS;YAC7B,kBAAkB,EAAE,YAAY;YAIhC,mBAAmB,EAAE,0CAA0C;YAC/D,mBAAmB,EAAE,2CAA2C;YAChE,uBAAuB,EAAE,2CAA2C;YACpE,gBAAgB,EAAE,gBAAgB;YAClC,sBAAsB,EAAE,kBAAkB;YAC1C,kBAAkB,EAAE,qCAAqC;YACzD,oBAAoB,EAAE,6CAA6C;YACnE,gBAAgB,EAAE,mCAAmC;YACrD,eAAe,EAAE,4BAA4B;YAC7C,qBAAqB,EAAE,2BAA2B;YAClD,0BAA0B,EAAE,2BAA2B;YACvD,2BAA2B,EAAE,2BAA2B;YACxD,yBAAyB,EAAE,2CAA2C;YACtE,sBAAsB,EAAE,gBAAgB;YACxC,cAAc,EAAE,4CAA4C;YAC5D,sBAAsB,EAAE,iEAAiE;YACzF,eAAe,EAAE,oBAAoB;YACrC,oBAAoB,EAAE,iCAAiC;SAC1D,CAAC,CAAC;IAEP,CAAC,CAAC,CAAC;AAEX,CAAC,CAAC,EAAE,CAAC;;;;;ACvRL,4BAA4B,MAAwB;IAChD,MAAM,CAAC;QACH,OAAO,EAAE,SAAS;QAClB,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,EAAE,KAAK,EAAE,WAAW;YAC1C,WAAW,CAAC,aAAa,CAAC,CAAC,eAAe,GAAG,UAAU,UAAU,EAAE,SAAS;gBACxE,EAAE,CAAC,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;oBACtC,MAAM,CAAC,IAAI,CAAC;gBAChB,CAAC;gBAED,IAAI,eAAe,CAAC;gBACpB,IAAI,qBAAqB,GAAG,MAAM,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;gBAEpD,EAAE,CAAC,CAAC,CAAC,UAAU,IAAI,CAAC,CAAC,eAAe,CAAC;oBAAC,MAAM,CAAC,IAAI,CAAC;gBAElD,EAAE,CAAC,CAAC,qBAAqB,CAAC,CAAC,CAAC;oBACxB,eAAe,GAAG,qBAAqB,CAAC,KAAK,CAAC,CAAC;oBAE/C,MAAM,CAAC,UAAU,IAAI,eAAe,CAAC;gBACzC,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACJ,MAAM,CAAC,IAAI,CAAC;gBAChB,CAAC;YACL,CAAC,CAAA;QACL,CAAC;KACJ,CAAC;AACN,CAAC;AACD,4BAA4B,MAAwB;IAChD,MAAM,CAAC;QACH,OAAO,EAAE,SAAS;QAClB,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,EAAE,KAAK,EAAE,WAAW;YAC1C,WAAW,CAAC,aAAa,CAAC,CAAC,eAAe,GAAG,UAAU,UAAU,EAAE,SAAS;gBACxE,EAAE,CAAC,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;oBACtC,MAAM,CAAC,IAAI,CAAC;gBAChB,CAAC;gBACD,IAAI,eAAe,CAAC;gBACpB,IAAI,qBAAqB,GAAG,MAAM,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC;gBAErD,EAAE,CAAC,CAAC,CAAC,UAAU,IAAI,CAAC,CAAC,eAAe,CAAC;oBAAC,MAAM,CAAC,IAAI,CAAC;gBAElD,EAAE,CAAC,CAAC,qBAAqB,CAAC,CAAC,CAAC;oBACxB,eAAe,GAAG,qBAAqB,CAAC,KAAK,CAAC,CAAC;oBAE/C,MAAM,CAAC,UAAU,IAAI,eAAe,CAAC;gBACzC,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACJ,MAAM,CAAC,IAAI,CAAC;gBAChB,CAAC;YACL,CAAC,CAAA;QACL,CAAC;KACJ,CAAC;AACN,CAAC;AACD,8BAA8B,MAAwB;IAClD,MAAM,CAAC;QACH,OAAO,EAAE,SAAS;QAClB,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,EAAE,KAAK,EAAE,WAAW;YAC1C,WAAW,CAAC,aAAa,CAAC,CAAC,eAAe,GAAG,UAAU,UAAU,EAAE,SAAS;gBACxE,EAAE,CAAC,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;oBACtC,MAAM,CAAC,IAAI,CAAC;gBAChB,CAAC;gBACD,IAAI,eAAe,CAAC;gBACpB,IAAI,qBAAqB,GAAG,MAAM,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC;gBAErD,EAAE,CAAC,CAAC,CAAC,UAAU,IAAI,CAAC,CAAC,eAAe,CAAC;oBAAC,MAAM,CAAC,IAAI,CAAC;gBAElD,EAAE,CAAC,CAAC,qBAAqB,CAAC,CAAC,CAAC;oBACxB,eAAe,GAAG,qBAAqB,CAAC,KAAK,CAAC,CAAC;oBAE/C,MAAM,CAAC,UAAU,IAAI,eAAe,CAAC;gBACzC,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACJ,MAAM,CAAC,IAAI,CAAC;gBAChB,CAAC;YACL,CAAC,CAAA;QACL,CAAC;KACJ,CAAC;AACN,CAAC;AACD,OAAO,CAAC,MAAM,CAAC,kBAAkB,EAAE,EAAE,CAAC;KACjC,SAAS,CAAC,uBAAuB,EAAE,kBAAkB,CAAC;KACtD,SAAS,CAAC,uBAAuB,EAAE,kBAAkB,CAAC;KACtD,SAAS,CAAC,yBAAyB,EAAE,oBAAoB,CAAC,CAAC;;AC5EhE,CAAC;IACG,YAAY,CAAC;IAEb,OAAO,CAAC,MAAM,CAAC,iBAAiB,EAAE,CAAC,wBAAwB,EAAE,kBAAkB,CAAC,CAAC,CAAA;AAErF,CAAC,CAAC,EAAE,CAAC;;;;ACLL;IAAA;IAaA,CAAC;IAAD,cAAC;AAAD,CAbA,AAaC,IAAA;AAbY,0BAAO;;;;ACFpB;IAAA;IAMA,CAAC;IAAD,oBAAC;AAAD,CANA,AAMC,IAAA;AANY,sCAAa;;;;ACI1B;IACI,mBACY,YAA4C,EAC5C,OAA8B,EAC9B,QAAuB,EACvB,UAAwC;QAEhD,UAAU,CAAC;QALH,iBAAY,GAAZ,YAAY,CAAgC;QAC5C,YAAO,GAAP,OAAO,CAAuB;QAC9B,aAAQ,GAAR,QAAQ,CAAe;QACvB,eAAU,GAAV,UAAU,CAA8B;IAGpD,CAAC;IAEM,6BAAS,GAAhB;QACI,IAAI,MAAc,CAAC;QACnB,MAAM,GAAG,IAAI,CAAC,UAAU,CAAC,OAAO,GAAG,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,MAAM,GAAG,IAAI,CAAC;QAEzE,MAAM,CAAC,MAAM,CAAC;IAClB,CAAC;IAEM,0BAAM,GAAb,UAAc,MAAW,EAAE,eAA6C,EAAE,aAAoC;QAC1G,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,MAAM,EAAE,eAAe,EAAE,aAAa,CAAC,CAAC;IAC3F,CAAC;IAEM,mCAAe,GAAtB,UAAuB,MAAW,EAAE,eAAqC,EAAE,aAAoC;QAC3G,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,iBAAiB,CAAC,CAAC,IAAI,CACnD;YACI,KAAK,EAAE,MAAM,CAAC,KAAK;SACtB,EAAE,eAAe,EAAE,aAAa,CAAC,CAAC;IAC3C,CAAC;IAEM,iCAAa,GAApB,UAAqB,MAAW,EAAE,eAAqC,EAAE,aAAoC;QACzG,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,eAAe,CAAC,CAAC,IAAI,CACjD;YACI,KAAK,EAAE,MAAM,CAAC,KAAK;YACnB,IAAI,EAAE,MAAM,CAAC,IAAI;YACjB,QAAQ,EAAE,MAAM,CAAC,QAAQ;SAC5B,EAAE,eAAe,EAAE,aAAa,CAAC,CAAC;IAC3C,CAAC;IAEM,wCAAoB,GAA3B,UAA4B,MAAW,EAAE,eAAqC,EAAE,aAAoC;QAChH,IAAI,KAAK,GAAG,MAAM,IAAI,EAAE,CAAC;QACzB,KAAK,CAAC,OAAO,GAAG,IAAI,CAAC,SAAS,EAAE,CAAC;QAEjC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,gBAAgB,CAAC,CAAC,IAAI,CAAC,KAAK,EAAE,eAAe,EAAE,aAAa,CAAC,CAAC;IAClG,CAAC;IAEM,4CAAwB,GAA/B,UAAgC,MAAW,EAAE,eAAqC,EAAE,aAAoC;QACpH,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,0BAA0B,CAAC,CAAC,IAAI,CAC5D;YAEI,KAAK,EAAE,MAAM,CAAC,KAAK;SACtB,EAAE,eAAe,EAAE,aAAa,CAAC,CAAC;IAC3C,CAAC;IAEM,+BAAW,GAAlB,UAAmB,MAAW,EAAE,eAAqC,EAAE,aAAoC;QACvG,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,aAAa,CAAC,CAAC,IAAI,CAAC,MAAM,EAAE,eAAe,EAAE,aAAa,CAAC,CAAC;IAChG,CAAC;IAEM,qCAAiB,GAAxB,UAAyB,MAAW,EAAE,eAAqC,EAAE,aAAoC;QAC7G,IAAI,KAAK,GAAG,MAAM,IAAI,EAAE,CAAC;QACzB,KAAK,CAAC,OAAO,GAAG,KAAK,CAAC,OAAO,GAAG,KAAK,CAAC,OAAO,GAAG,IAAI,CAAC,SAAS,EAAE,CAAC;QAEjE,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,gBAAgB,CAAC,CAAC,GAAG,CAAC,MAAM,EAAE,eAAe,EAAE,aAAa,CAAC,CAAC;IAClG,CAAC;IAEM,kCAAc,GAArB,UAAsB,KAAa,EAAE,eAAqC,EAAE,aAAoC;QAC5G,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,gBAAgB,CAAC,CAAC,GAAG,CACjD;YACI,KAAK,EAAE,KAAK;SACf,EAAE,eAAe,EAAE,aAAa,CAAC,CAAC;IAC3C,CAAC;IAEM,mCAAe,GAAtB,UAAuB,OAAe,EAAE,GAAW,EAAE,KAAU,EAAE,eAAqC,EAAE,aAAoC;QACxI,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC,IAAI,CAC5C;YACI,OAAO,EAAE,OAAO;YAChB,GAAG,EAAE,GAAG;SACX,EACD,EAAE,KAAK,EAAE,KAAK,EAAE,EAChB,UAAC,IAAS;YACN,EAAE,CAAC,CAAC,eAAe,CAAC,CAAC,CAAC;gBAClB,eAAe,CAAC,IAAI,CAAC,CAAC;YAC1B,CAAC;QACL,CAAC,EACD,UAAC,KAAU;YACP,EAAE,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC;gBAChB,aAAa,CAAC,KAAK,CAAC,CAAC;YACzB,CAAC;QACL,CAAC,CAAC,CAAC;IACX,CAAC;IAEL,gBAAC;AAAD,CAzFA,AAyFC,IAAA;AAGD,OAAO;KACF,MAAM,CAAC,cAAc,EAAE,CAAC,SAAS,CAAC,CAAC;KACnC,OAAO,CAAC,cAAc,EAAE,SAAS,CAAC,CAAC;;;;AClGxC;IAAA;IAIA,CAAC;IAAD,aAAC;AAAD,CAJA,AAIC,IAAA;AAJY,wBAAM;;;;;;;;;;ACAnB;IAAA;IAEA,CAAC;IAAD,WAAC;AAAD,CAFA,AAEC,IAAA;AAFY,oBAAI;;;;ACAjB;IAAA;IASA,CAAC;IAAD,cAAC;AAAD,CATA,AASC,IAAA;AATY,0BAAO;;;;;;;;;;;;;;ACApB,qCAAoC;AAGpC;IAAiC,+BAAO;IAAxC;;IAIA,CAAC;IAAD,kBAAC;AAAD,CAJA,AAIC,CAJgC,iBAAO,GAIvC;AAJY,kCAAW;;;;ACAxB;IAKI,qBACY,YAA4C,EAC5C,OAA8B,EAC9B,UAAwC;QAEhD,UAAU,CAAC;QAJH,iBAAY,GAAZ,YAAY,CAAgC;QAC5C,YAAO,GAAP,OAAO,CAAuB;QAC9B,eAAU,GAAV,UAAU,CAA8B;QAP5C,aAAQ,GAAW,UAAU,CAAC;QAC9B,kBAAa,GAAW,cAAc,CAAC;QACvC,qBAAgB,GAAW,iBAAiB,CAAC;IAQrD,CAAC;IAEM,kCAAY,GAAnB;QACI,IAAI,SAAiB,CAAC;QACtB,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC,OAAO,GAAG,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,SAAS,GAAG,IAAI,CAAC;QAE/E,MAAM,CAAC,SAAS,CAAC;IACrB,CAAC;IAEM,+BAAS,GAAhB;QACI,IAAI,MAAc,CAAC;QACnB,MAAM,GAAG,IAAI,CAAC,UAAU,CAAC,OAAO,GAAG,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,MAAM,GAAG,IAAI,CAAC;QAEzE,MAAM,CAAC,MAAM,CAAC;IAClB,CAAC;IAEM,iCAAW,GAAlB,UAAmB,MAAW,EAAE,eAAqC,EAAE,aAAoC;QACvG,MAAM,GAAG,MAAM,IAAI,EAAE,CAAC;QACtB,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,MAAM,EAAE,eAAe,EAAE,aAAa,CAAC,CAAC;IAChG,CAAC;IAEM,oCAAc,GAArB,UAAsB,MAAW,EAAE,eAAqC,EAAE,aAAoC;QAC1G,MAAM,GAAG,MAAM,IAAI,EAAE,CAAC;QACtB,MAAM,CAAC,UAAU,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC;QAExC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC,IAAI,CAAC,MAAM,EAAE,eAAe,EAAE,aAAa,CAAC,CAAC;IACxG,CAAC;IAEM,qCAAe,GAAtB,UAAuB,MAAW,EAAE,eAAqC,EAAE,aAAoC;QAC3G,MAAM,GAAG,MAAM,IAAI,EAAE,CAAC;QACtB,MAAM,CAAC,OAAO,GAAG,IAAI,CAAC,SAAS,EAAE,CAAC;QAElC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,GAAG,CAAC,MAAM,EAAE,eAAe,EAAE,aAAa,CAAC,CAAC;IACpG,CAAC;IAEL,kBAAC;AAAD,CA9CA,AA8CC,IAAA;AAGD,OAAO;KACF,MAAM,CAAC,gBAAgB,EAAE,CAAC,SAAS,CAAC,CAAC;KACrC,OAAO,CAAC,gBAAgB,EAAE,WAAW,CAAC,CAAC;;;;;;;A1BrD5C,qBAAmB;AACnB,qBAAmB;AACnB,mBAAiB;AACjB,kBAAgB;AAChB,yBAAsB;AAGtB,gCAA8B;AAC9B,iCAA+B;AAC/B,8BAA4B;AAC5B,+BAA6B;AAE7B,OAAO,CAAC,MAAM,CAAC,eAAe,EAAE,CAAC,SAAS,EAAE,cAAc,EAAE,gBAAgB,CAAC,CAAC,CAAC;AAI/E,+BAA0B;AAC1B,+BAA0B;AAC1B,6BAAwB;AACxB,4BAAuB;AACvB,mCAA6B;;;;A2BjB7B;IAEI,wCACI,MAA2B,EACnB,gCAA+D,EACvE,cAAmC,EACnC,QAAuB,EACvB,YAAwC,EACxC,UAAwC,EAChC,OAA0B;QAElC,UAAU,CAAC;QAPH,qCAAgC,GAAhC,gCAAgC,CAA+B;QAK/D,YAAO,GAAP,OAAO,CAAmB;QAIlC,cAAc,CAAC,eAAe,EAAE,CAAC;QAEjC,EAAE,CAAC,CAAC,QAAQ,CAAC,cAAc,KAAK,KAAK,IAAI,CAAC,UAAU,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC;YAC9D,MAAM,CAAC,EAAE,CAAC,YAAY,CAAC,WAAW,EAAE,EAAE,EAAE,CAAC,CAAC;QAC9C,CAAC;IACL,CAAC;IAEM,+CAAM,GAAb;QACI,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;IAChC,CAAC;IAED,sBAAW,kDAAM;aAAjB;YACI,MAAM,CAAC,IAAI,CAAC,gCAAgC,CAAC,MAAM,CAAC;QACxD,CAAC;;;OAAA;IAEM,iDAAQ,GAAf;QACI,IAAI,CAAC,gCAAgC,CAAC,QAAQ,EAAE,CAAC;IACrD,CAAC;IACL,qCAAC;AAAD,CA/BA,AA+BC,IAAA;AA/BY,wEAA8B;AAiC3C,CAAC;IACG,OAAO,CAAC,MAAM,CAAC,+BAA+B,EAAE,CAAC,iBAAiB,EAAE,8BAA8B,CAAC,CAAC,CAAC;AAEzG,CAAC;;;;AClCD,CAAC;IACG;QACI,2CAA2B,SAA0C;YAA1C,cAAS,GAAT,SAAS,CAAiC;QAAI,CAAC;QAAA,CAAC;QACpE,gDAAI,GAAX,UAAY,MAAW,EAAE,eAA4B,EAAE,cAA2B;YAC9E,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC;gBAChB,WAAW,EAAE,MAAM,CAAC,KAAK;gBACzB,WAAW,EAAE,wDAAwD;gBACrE,UAAU,EAAE,sCAAoC;gBAChD,YAAY,EAAE,OAAO;gBACrB,MAAM,EAAE;oBACJ,MAAM,EAAE,MAAM;iBACjB;gBACD,mBAAmB,EAAE,KAAK;aAC7B,CAAC;iBACG,IAAI,CAAC;gBACF,EAAE,CAAC,CAAC,eAAe,CAAC,CAAC,CAAC;oBAClB,eAAe,EAAE,CAAC;gBACtB,CAAC;YACL,CAAC,EAAE;gBACC,EAAE,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC;oBACjB,cAAc,EAAE,CAAC;gBACrB,CAAC;YACL,CAAC,CAAC,CAAC;QACX,CAAC;QACL,wCAAC;IAAD,CAvBA,AAuBC,IAAA;IAED;QAGI,gDACI,SAA0C,EAClC,gCAA+D;YAEvE,UAAU,CAAC;YAFH,qCAAgC,GAAhC,gCAAgC,CAA+B;YAIvE,IAAI,CAAC,MAAM,GAAG,SAAS,CAAC,MAAM,CAAC;QACnC,CAAC;QAED,sBAAW,0DAAM;iBAAjB;gBACI,MAAM,CAAC,IAAI,CAAC,gCAAgC,CAAC,MAAM,CAAC;YACxD,CAAC;;;WAAA;QAEM,yDAAQ,GAAf;YAAA,iBAIC;YAHG,IAAI,CAAC,gCAAgC,CAAC,QAAQ,CAAC;gBAC3C,KAAI,CAAC,MAAM,EAAE,CAAC;YAClB,CAAC,CAAC,CAAC;QACP,CAAC;QAEL,6CAAC;IAAD,CAtBA,AAsBC,IAAA;IAED,OAAO,CAAC,MAAM,CAAC,qCAAqC,EAAE,CAAC,iBAAiB,EAAE,8BAA8B,CAAC,CAAC;SACrG,OAAO,CAAC,+BAA+B,EAAE,iCAAiC,CAAC,CAAC;AAErF,CAAC;;;;;;;;;;;;;;AC3DD,mDAAkD;AAKlD;IAA+C,6CAAU;IACrD,mCACI,cAAmC,EACnC,cAAgD,EACxC,UAAgC,EAChC,SAA8B,EAC9B,MAA2B,EAC3B,SAAmC,EACnC,YAAwC,EACxC,aAA4C,EAC5C,OAA8B,EAC9B,YAA4C,EAC5C,YAA+B,EAC/B,QAAuB,EACvB,SAAqC;QAE7C,UAAU,CAAC;QAff,YAiBI,kBAAM,cAAc,CAAC,SAGxB;QAjBW,gBAAU,GAAV,UAAU,CAAsB;QAChC,eAAS,GAAT,SAAS,CAAqB;QAC9B,YAAM,GAAN,MAAM,CAAqB;QAC3B,eAAS,GAAT,SAAS,CAA0B;QACnC,kBAAY,GAAZ,YAAY,CAA4B;QACxC,mBAAa,GAAb,aAAa,CAA+B;QAC5C,aAAO,GAAP,OAAO,CAAuB;QAC9B,kBAAY,GAAZ,YAAY,CAAgC;QAC5C,kBAAY,GAAZ,YAAY,CAAmB;QAC/B,cAAQ,GAAR,QAAQ,CAAe;QACvB,eAAS,GAAT,SAAS,CAA4B;QAK7C,KAAI,CAAC,WAAW,GAAG,cAAc,CAAC,MAAM,CAAC,8BAA8B,CAAC,CAAC;;IAE7E,CAAC;IAEM,wCAAI,GAAX,UAAY,MAAM;QACd,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;QACvB,IAAI,CAAC,oBAAoB,EAAE,CAAC;IAChC,CAAC;IAEO,wDAAoB,GAA5B;QACI,IAAI,CAAC,UAAU,CAAC,QAAQ,GAAG,IAAI,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,IAAI,IAAI,CAAC;QACzE,IAAI,CAAC,UAAU,CAAC,KAAK,GAAG,IAAI,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,IAAI,CAAC;QACnE,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,IAAI,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,IAAI,IAAI,CAAC;QACrE,IAAI,CAAC,UAAU,CAAC,IAAI,GAAG,IAAI,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC;QACjE,IAAI,CAAC,UAAU,CAAC,QAAQ,GAAG,IAAI,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,IAAI,IAAI,CAAC;IAC7E,CAAC;IAEM,+CAAW,GAAlB,UAAmB,OAAe,EAAE,IAAY;QAC5C,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC;YAAC,MAAM,CAAC;QACrB,OAAO,GAAG,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC;QAC/C,IAAI,GAAG,IAAI,IAAI,SAAS,CAAC;QAEzB,EAAE,CAAC,CAAC,IAAI,IAAI,SAAS,CAAC,CAAC,CAAC;YACpB,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,OAAO,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;YACtD,MAAM,CAAC;QACX,CAAC;QACD,EAAE,CAAC,CAAC,IAAI,IAAI,OAAO,CAAC,CAAC,CAAC;YAClB,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,OAAO,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;YAC1D,MAAM,CAAC;QACX,CAAC;IACL,CAAC;IAEM,4CAAQ,GAAf,UAAgB,QAAqB;QAArC,iBAoDC;QAnDG,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;YAC5B,IAAI,CAAC,aAAa,CAAC,eAAe,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;YAE3D,MAAM,CAAC;QACX,CAAC;QAED,IAAM,aAAa,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC;QAC3D,EAAE,CAAC,CAAC,CAAC,aAAa,CAAC;YAAC,MAAM,CAAC;QAC3B,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC,CAAC;YAC9B,IAAI,CAAC,OAAO,CAAC,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC;QACxD,CAAC;QAED,IAAI,CAAC,YAAY,CAAC,oBAAoB,CAAC;YACnC,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK;YAC7B,YAAY,EAAE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ;YACvC,YAAY,EAAE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,WAAW;YAC1C,OAAO,EAAE,IAAI,CAAC,YAAY,CAAC,SAAS,EAAE;SACzC,EACG,UAAC,IAAS;YACN,KAAI,CAAC,aAAa,CAAC,eAAe,CAAC,KAAI,CAAC,MAAM,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;YAC5D,EAAE,CAAC,CAAC,KAAI,CAAC,WAAW,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC;gBAAC,MAAM,CAAC;YAEpD,IAAM,OAAO,GAAG,MAAM,EAAE,GAAG,gCAAgC,CAAC;YAC5D,KAAI,CAAC,WAAW,CAAC,OAAO,EAAE,SAAS,CAAC,CAAC;YACrC,KAAI,CAAC,WAAW,CAAC,GAAG,EAAE,CAAC;YACvB,EAAE,CAAC,CAAC,QAAQ,CAAC;gBAAC,QAAQ,EAAE,CAAC;YACzB,KAAI,CAAC,QAAQ,CAAC,OAAO,CACjB;gBACI,KAAI,CAAC,MAAM,CAAC,EAAE,CAAC,QAAQ,EAAE;oBACrB,UAAU,EAAE,KAAI,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS;oBACtC,KAAK,EAAE,KAAI,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK;iBAChC,CAAC,CAAC;YACP,CAAC,CACJ,CAAC;QAEN,CAAC,EACD,UAAC,KAAU;YACP,KAAI,CAAC,WAAW,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;YAC5B,KAAI,CAAC,aAAa,CAAC,eAAe,CAAC,KAAI,CAAC,MAAM,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;YAC3D,KAAI,CAAC,aAAa,CAAC,YAAY,CAC3B,KAAI,CAAC,MAAM,CAAC,IAAI,EAAE,KAAK,EAAE;gBACrB,UAAU,EAAE,OAAO;gBACnB,aAAa,EAAE,OAAO;gBACtB,iBAAiB,EAAE,OAAO;gBAC1B,gBAAgB,EAAE,UAAU;gBAC5B,aAAa,EAAE,MAAM;gBACrB,IAAI,EAAE,MAAM;aACf,CACJ,CAAC;QACN,CAAC,CACJ,CAAC;IACN,CAAC;IAEL,gCAAC;AAAD,CAzGA,AAyGC,CAzG8C,uBAAU,GAyGxD;AAzGY,8DAAyB;;;;ACDtC,CAAC;IAOG,IAAM,iCAAiC,GAAuC,EAE7E,CAAA;IAED;QAEI,6CACY,MAAiB,EACjB,aAA4C,EAC5C,OAA8B,EAC9B,gCAA+D;YAEvE,UAAU,CAAC;YALH,WAAM,GAAN,MAAM,CAAW;YACjB,kBAAa,GAAb,aAAa,CAA+B;YAC5C,YAAO,GAAP,OAAO,CAAuB;YAC9B,qCAAgC,GAAhC,gCAAgC,CAA+B;YAIvE,IAAI,CAAC,qBAAqB,GAAG,aAAa,CAAC,qBAAqB,CAAC;YACjE,gCAAgC,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;QAGvD,CAAC;QAEM,uDAAS,GAAhB;YACI,IAAI,CAAC,MAAM,CAAC,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC;YACpC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;YACjC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;QACxC,CAAC;QAED,sBAAW,uDAAM;iBAAjB;gBACI,MAAM,CAAC,IAAI,CAAC,gCAAgC,CAAC,MAAM,CAAC;YACxD,CAAC;;;WAAA;QAED,sBAAW,4DAAW;iBAAtB;gBACI,MAAM,CAAC,IAAI,CAAC,gCAAgC,CAAC,WAAW,CAAC;YAC7D,CAAC;;;WAAA;QAED,sBAAW,gEAAe;iBAA1B;gBACI,MAAM,CAAC,IAAI,CAAC,gCAAgC,CAAC,eAAe,CAAC;YACjE,CAAC;;;WAAA;QAED,sBAAW,2DAAU;iBAArB;gBACI,MAAM,CAAC,IAAI,CAAC,gCAAgC,CAAC,UAAU,CAAC;YAC5D,CAAC;;;WAAA;QAEM,gEAAkB,GAAzB;YACI,IAAI,CAAC,MAAM,CAAC,kBAAkB,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC;QACtF,CAAC;QAEM,uDAAS,GAAhB;YACI,IAAI,CAAC,aAAa,CAAC,eAAe,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;YAC5D,IAAI,CAAC,aAAa,CAAC,iBAAiB,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;YAC7D,IAAI,CAAC,OAAO,CAAC,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,UAAU,CAAC;YACzD,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,UAAU,CAAC;QACjE,CAAC;QAEM,yDAAW,GAAlB,UAAmB,OAAe,EAAE,IAAY;YAC5C,IAAI,CAAC,gCAAgC,CAAC,WAAW,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;QACrE,CAAC;QAEL,0CAAC;IAAD,CArDA,AAqDC,IAAA;IAED,IAAM,yBAAyB,GAAyB;QACpD,QAAQ,EAAE,iCAAiC;QAC3C,UAAU,EAAE,mCAAmC;QAC/C,WAAW,EAAE,uDAAuD;KACvE,CAAA;IAED,OAAO,CAAC,MAAM,CAAC,8BAA8B,EAAE,CAAC,YAAY,EAAE,kBAAkB,CAAC,CAAC;SAC7E,SAAS,CAAC,8BAA8B,EAAE,yBAAyB,CAAC,CAAC;AAC9E,CAAC;;;;AC9ED,yEAAwE;AAGxE;IAGI,uCACI,cAAmB,EACnB,cAAgD,EAChD,UAAgC,EAChC,SAA8B,EAC9B,MAA2B,EAC3B,SAAmC,EACnC,YAAwC,EACxC,aAA4C,EAC5C,OAA8B,EAC9B,QAAuB,EACf,YAA4C,EAC5C,YAAiB,EACjB,SAAc;QAEtB,UAAU,CAAC;QAJH,iBAAY,GAAZ,YAAY,CAAgC;QAC5C,iBAAY,GAAZ,YAAY,CAAK;QACjB,cAAS,GAAT,SAAS,CAAK;QAItB,IAAI,CAAC,KAAK,GAAG,IAAI,qDAAyB,CAAC,cAAc,EAAE,cAAc,EAAE,UAAU,EAAE,SAAS,EAAE,MAAM,EACpG,SAAS,EAAE,YAAY,EAAE,aAAa,EAAE,OAAO,EAAE,YAAY,EAAE,YAAY,EAAE,QAAQ,EAAE,SAAS,CAAC,CAAC;IAC1G,CAAC;IAED,sBAAW,sDAAW;aAAtB;YACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC;QAClC,CAAC;;;OAAA;IAED,sBAAW,qDAAU;aAArB;YACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC;QACjC,CAAC;;;OAAA;IAED,sBAAW,0DAAe;aAA1B;YACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC;QACtC,CAAC;;;OAAA;IAED,sBAAW,iDAAM;aAAjB;YACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC;QAC7B,CAAC;;;OAAA;IAEM,iDAAS,GAAhB,UAAiB,MAAM;QACnB,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IAC5B,CAAC;IAEM,mDAAW,GAAlB,UAAmB,OAAO,EAAE,IAAI;QAC5B,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;IAC1C,CAAC;IAEM,gDAAQ,GAAf,UAAgB,QAAqB;QACjC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;IAClC,CAAC;IACL,oCAAC;AAAD,CAnDA,AAmDC,IAAA;AAnDY,sEAA6B;AAqD1C,OAAO,CAAC,MAAM,CAAC,+BAA+B,CAAC;KAC1C,OAAO,CAAC,kCAAkC,EAAE,6BAA6B,CAAC,CAAC;;;;;;;A9BzDhF,kBAAgB;AAChB,kBAAgB;AAChB,oBAAkB;AAClB,0DAAiG;AACjG,sEAA+E;AAC/E,gEAAyE;AACzE,uDAAgE;AAChE,6CAAsD;AACtD,mEAA4E;AAC5E,sFAA+F;AAG/F,CAAC;IACG,IAAM,iBAAiB,GAAG,UACtB,cAAmB,EACnB,iBAAuC,EACvC,aAA+B,EAC/B,oBAAiD;QAMjD,cAAc;aACT,KAAK,CAAC,kBAAkB,EAAE;YACvB,GAAG,EAAE,oCAAoC;YACzC,IAAI,EAAE,KAAK;YACX,YAAY,EAAE,OAAO;YACrB,UAAU,EAAE,2CAAyB;YACrC,WAAW,EAAE,uCAAuC;SACvD,CAAC;aACD,KAAK,CAAC,iBAAiB,EAAE;YACtB,GAAG,EAAE,mCAAmC;YACxC,IAAI,EAAE,IAAI;YACV,YAAY,EAAE,OAAO;YACrB,UAAU,EAAE,yCAAwB;YACpC,WAAW,EAAE,qCAAqC;SACrD,CAAC;aACD,KAAK,CAAC,wBAAwB,EAAE;YAC7B,GAAG,EAAE,0CAA0C;YAC/C,IAAI,EAAE,IAAI;YACV,YAAY,EAAE,OAAO;YACrB,UAAU,EAAE,qDAA8B;YAC1C,WAAW,EAAE,kDAAkD;SAClE,CAAC;aACD,KAAK,CAAC,gBAAgB,EAAE;YACrB,GAAG,EAAE,6CAA6C;YAClD,IAAI,EAAE,KAAK;YACX,UAAU,EAAE,uCAAuB;YACnC,YAAY,EAAE,OAAO;YACrB,WAAW,EAAE,mCAAmC;SACnD,CAAC;aACD,KAAK,CAAC,SAAS,EAAE;YACd,GAAG,EAAE,UAAU;YACf,UAAU,EAAE,2BAAiB;YAC7B,IAAI,EAAE,KAAK;SACd,CAAC;aACD,KAAK,CAAC,aAAa,EAAE;YAClB,GAAG,EAAE,uBAAuB;YAC5B,IAAI,EAAE,IAAI;YACV,UAAU,EAAE,iCAAoB;YAChC,YAAY,EAAE,OAAO;YACrB,WAAW,EAAE,6BAA6B;SAC7C,CAAC;aACD,KAAK,CAAC,cAAc,EAAE;YACnB,GAAG,EAAE,8CAA8C;YACnD,IAAI,EAAE,IAAI;YACV,UAAU,EAAE,mCAAqB;YACjC,YAAY,EAAE,OAAO;YACrB,WAAW,EAAE,+BAA+B;SAC/C,CAAC;aACD,KAAK,CAAC,sBAAsB,EAAE;YAC3B,GAAG,EAAE,uBAAuB;YAC5B,IAAI,EAAE,IAAI;YACV,UAAU,EAAE,0CAA4B;YACxC,YAAY,EAAE,OAAO;YACrB,WAAW,EAAE,sCAAsC;SACtD,CAAC,CAAC;QAGP,oBAAoB,CAAC,WAAW,GAAG,QAAQ,CAAC;QAC5C,oBAAoB,CAAC,YAAY,GAAG,SAAS,CAAC;IAClD,CAAC,CAAA;IAED,OAAO,CAAC,MAAM,CAAC,UAAU,EAAE;QACvB,WAAW,EAAE,YAAY,EAAE,WAAW,EAAE,oBAAoB;QAE5D,aAAa,EAAE,cAAc,EAAE,WAAW;QAC1C,cAAc,EAAE,eAAe;QAE/B,kBAAkB;QAClB,eAAe,EAAE,eAAe;QAChC,iBAAiB,EAAE,iBAAiB,EAAE,iBAAiB;QACvD,qBAAqB,EAAE,sBAAsB;QAC7C,0BAA0B,EAAE,wBAAwB;QACpD,8BAA8B,EAAE,gCAAgC;QAChE,yBAAyB,EAAE,+BAA+B;QAC1D,+BAA+B,EAAE,qCAAqC;QACtE,oBAAoB;KACvB,CAAC;SACG,MAAM,CAAC,iBAAiB,CAAC,CAAC;AACnC,CAAC;AAED,4BAAuB;;;;A+BrGvB;IAGI,8BACY,OAA0B,EAC3B,MAAW,EACV,sBAA2C;QAEnD,UAAU,CAAC;QAJH,YAAO,GAAP,OAAO,CAAmB;QAC3B,WAAM,GAAN,MAAM,CAAK;QACV,2BAAsB,GAAtB,sBAAsB,CAAqB;IAIvD,CAAC;IATG,sCAAO,GAAd,cAAkB,CAAC;IAWT,iDAAkB,GAAzB;QACI,IAAI,CAAC,sBAAsB,CAAC,kBAAkB,EAAE,CAAC;IACrD,CAAC;IAED,sBAAW,6CAAW;aAAtB;YACI,MAAM,CAAC,IAAI,CAAC,sBAAsB,CAAC,WAAW,CAAC;QACnD,CAAC;;;OAAA;IACL,2BAAC;AAAD,CAnBA,AAmBC,IAAA;AAnBY,oDAAoB;AAqBjC,CAAC;IACG,OAAO,CAAC,MAAM,CAAC,qBAAqB,EAAE,CAAC,iBAAiB,EAAE,oBAAoB,CAAC,CAAC;SAC3E,UAAU,CAAC,yBAAyB,EAAE,oBAAoB,CAAC,CAAC;AACrE,CAAC;;;;ACpBD,CAAC;IACG;QACI,iCAA2B,SAA0C;YAA1C,cAAS,GAAT,SAAS,CAAiC;QAAI,CAAC;QAAA,CAAC;QACpE,sCAAI,GAAX,UAAY,MAAW,EAAE,eAA4B,EAAE,cAA2B;YAC9E,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC;gBAChB,WAAW,EAAE,MAAM,CAAC,KAAK;gBACzB,WAAW,EAAE,mCAAmC;gBAChD,UAAU,EAAE,4BAA0B;gBACtC,YAAY,EAAE,OAAO;gBACrB,MAAM,EAAE;oBACJ,MAAM,EAAE,MAAM;iBACjB;gBACD,mBAAmB,EAAE,KAAK;aAC7B,CAAC;iBACG,IAAI,CAAC;gBACF,EAAE,CAAC,CAAC,eAAe,CAAC,CAAC,CAAC;oBAClB,eAAe,EAAE,CAAC;gBACtB,CAAC;YACL,CAAC,EAAE;gBACC,EAAE,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC;oBACjB,cAAc,EAAE,CAAC;gBACrB,CAAC;YACL,CAAC,CAAC,CAAC;QACX,CAAC;QACL,8BAAC;IAAD,CAvBA,AAuBC,IAAA;IAED;QAII,sCACI,SAA0C,EAC1C,MAAW,EACH,sBAA2C;YAEnD,UAAU,CAAC;YAFH,2BAAsB,GAAtB,sBAAsB,CAAqB;YAInD,IAAI,CAAC,MAAM,GAAG,SAAS,CAAC,MAAM,CAAC;YAC/B,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC;QAChC,CAAC;QAEM,yDAAkB,GAAzB;YAAA,iBAIC;YAHG,IAAI,CAAC,sBAAsB,CAAC,kBAAkB,CAAC;gBAC3C,KAAI,CAAC,MAAM,EAAE,CAAC;YAClB,CAAC,CAAC,CAAC;QACP,CAAC;QAED,sBAAW,qDAAW;iBAAtB;gBACI,MAAM,CAAC,IAAI,CAAC,sBAAsB,CAAC,WAAW,CAAC;YACnD,CAAC;;;WAAA;QACL,mCAAC;IAAD,CAxBA,AAwBC,IAAA;IAED,OAAO,CAAC,MAAM,CAAC,2BAA2B,EAAE,CAAC,iBAAiB,EAAE,oBAAoB,CAAC,CAAC;SACjF,OAAO,CAAC,qBAAqB,EAAE,uBAAuB,CAAC,CAAC;AAEjE,CAAC;;;;;;;;;;;;;;AC7DD,mDAAkD;AAKlD;IAAqC,mCAAU;IAC3C,yBACI,cAAmC,EACnC,cAAgD,EACxC,UAAgC,EAChC,SAA8B,EAC9B,MAA2B,EAC3B,SAAmC,EACnC,yBAA6D,EAC7D,YAAwC,EACxC,aAA4C,EAC5C,QAAuB,EACvB,OAA8B,EAC9B,YAA4C,EAC5C,YAA+B,EAC/B,SAAqC;QAE7C,UAAU,CAAC;QAhBf,YAkBI,kBAAM,cAAc,CAAC,SAExB;QAjBW,gBAAU,GAAV,UAAU,CAAsB;QAChC,eAAS,GAAT,SAAS,CAAqB;QAC9B,YAAM,GAAN,MAAM,CAAqB;QAC3B,eAAS,GAAT,SAAS,CAA0B;QACnC,+BAAyB,GAAzB,yBAAyB,CAAoC;QAC7D,kBAAY,GAAZ,YAAY,CAA4B;QACxC,mBAAa,GAAb,aAAa,CAA+B;QAC5C,cAAQ,GAAR,QAAQ,CAAe;QACvB,aAAO,GAAP,OAAO,CAAuB;QAC9B,kBAAY,GAAZ,YAAY,CAAgC;QAC5C,kBAAY,GAAZ,YAAY,CAAmB;QAC/B,eAAS,GAAT,SAAS,CAA4B;QAK7C,KAAI,CAAC,WAAW,GAAG,cAAc,CAAC,MAAM,CAAC,cAAc,CAAC,CAAC;;IAC7D,CAAC;IAEM,8BAAI,GAAX,UAAY,MAAM;QACd,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;QACvB,IAAI,CAAC,oBAAoB,EAAE,CAAC;IAChC,CAAC;IAEO,8CAAoB,GAA5B;QACI,IAAI,CAAC,UAAU,CAAC,QAAQ,GAAG,IAAI,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,IAAI,IAAI,CAAC;QACzE,IAAI,CAAC,UAAU,CAAC,KAAK,GAAG,IAAI,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,IAAI,CAAC;QACnE,IAAI,CAAC,UAAU,CAAC,YAAY,GAAG,IAAI,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,YAAY,CAAC,IAAI,IAAI,CAAC;QACjF,IAAI,CAAC,UAAU,CAAC,QAAQ,GAAG,IAAI,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,IAAI,IAAI,CAAC;IAC7E,CAAC;IAEO,wCAAc,GAAtB;QACI,IAAI,aAAa,GAAQ,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,eAAe,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,eAAe,CAAC,GAAG,IAAI,CAAC;QAC1G,EAAE,CAAC,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC;YACjB,MAAM,CAAC,IAAI,CAAC;QAChB,CAAC;QAED,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,yBAAyB,IAAI,CAAC,IAAI,CAAC,yBAAyB,CAAC,OAAO;YAC1E,CAAC,IAAI,CAAC,yBAAyB,CAAC,OAAO,CAAC,WAAW,IAAI,CAAC,IAAI,CAAC,yBAAyB,CAAC,OAAO,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC,CAAC;YAEpH,MAAM,CAAC,IAAI,CAAC;QAChB,CAAC;QAED,IAAI,OAAO,GAAW,aAAa,CAAC,WAAW,CAAC;QAChD,IAAI,OAAO,GAAW,aAAa,CAAC,cAAc,CAAC;QACnD,OAAO,GAAG,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;QAEhC,IAAI,SAAS,GAAG,IAAI,CAAC,yBAAyB,CAAC,OAAO,CAAC,WAAW,CAAC,MAAM,IAAI,IAAI,CAAC,yBAAyB,CAAC,OAAO,CAAC,WAAW,CAAC,MAAM,CAAC,SAAS,GAAG,IAAI,CAAC,yBAAyB,CAAC,OAAO,CAAC,WAAW,CAAC,MAAM,CAAC,SAAS,GAAG,IAAI,CAAC;QAC9N,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC;YAEb,MAAM,CAAC,IAAI,CAAC;QAChB,CAAC;QAED,EAAE,CAAC,CAAC,OAAO,IAAI,SAAS,CAAC,OAAO,CAAC,IAAI,OAAO,IAAI,SAAS,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;YACjE,MAAM,CAAC,IAAI,CAAC;QAChB,CAAC;QAED,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC;QACxB,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,GAAG,CAAC,MAAM,CAAC,sBAAsB,CAAC,CAAC;QAClD,MAAM,CAAC,KAAK,CAAC;IACjB,CAAC;IAEM,4CAAkB,GAAzB,UAA0B,QAAqB;QAC3C,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;YAC5B,IAAI,CAAC,aAAa,CAAC,eAAe,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;YAC3D,MAAM,CAAC;QACX,CAAC;QAED,IAAI,aAAa,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC;QACzD,EAAE,CAAC,CAAC,CAAC,aAAa,CAAC;YAAC,MAAM,CAAC;QAE3B,EAAE,CAAC,CAAC,QAAQ,CAAC;YAAC,QAAQ,EAAE,CAAC;IA8B7B,CAAC;IACL,sBAAC;AAAD,CA1GA,AA0GC,CA1GoC,uBAAU,GA0G9C;AA1GY,0CAAe;;;;ACH5B,uCAAuC;AAEvC,CAAC;IAOG,IAAM,uBAAuB,GAA6B;QACtD,MAAM,EAAE,WAAW;KACtB,CAAA;IAED;QAKI,mCACY,MAAiB,EACzB,YAA4C,EAC5C,aAA4C,EACpC,sBAA2C;YAElD,UAAU,CAAC;YALJ,WAAM,GAAN,MAAM,CAAW;YAGjB,2BAAsB,GAAtB,sBAAsB,CAAqB;YAInD,sBAAsB,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;YACzC,IAAI,CAAC,qBAAqB,GAAG,aAAa,CAAC,qBAAqB,CAAC;YACjE,IAAI,CAAC,MAAM,CAAC,IAAI,GAAG;gBACf,EAAE,EAAE,IAAI,CAAC,MAAM,CAAC,EAAE;gBAClB,IAAI,EAAE,IAAI,CAAC,MAAM,CAAC,IAAI;gBACtB,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,KAAK;gBACxB,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,KAAK;gBACxB,QAAQ,EAAE,YAAY,CAAC,QAAQ;gBAC/B,QAAQ,EAAE,IAAI,CAAC,MAAM,CAAC,QAAQ;gBAC9B,MAAM,EAAE,IAAI,CAAC,MAAM,CAAC,MAAM,IAAI,cAAM,CAAC,aAAa;gBAClD,QAAQ,EAAE,IAAI,CAAC,MAAM,CAAC,QAAQ;aACjC,CAAC;QACN,CAAC;QAEM,6CAAS,GAAhB;YACI,IAAI,CAAC,MAAM,CAAC,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC;QACxC,CAAC;QAED,sBAAW,6CAAM;iBAAjB;gBACI,MAAM,CAAC,IAAI,CAAC,sBAAsB,CAAC,MAAM,CAAC;YAC9C,CAAC;;;WAAA;QAED,sBAAW,kDAAW;iBAAtB;gBACI,MAAM,CAAC,IAAI,CAAC,sBAAsB,CAAC,WAAW,CAAC;YACnD,CAAC;;;WAAA;QAED,sBAAW,sDAAe;iBAA1B;gBACI,MAAM,CAAC,IAAI,CAAC,sBAAsB,CAAC,eAAe,CAAC;YACvD,CAAC;;;WAAA;QAED,sBAAW,iDAAU;iBAArB;gBACI,MAAM,CAAC,IAAI,CAAC,sBAAsB,CAAC,UAAU,CAAC;YAClD,CAAC;;;WAAA;QAEM,oDAAgB,GAAvB,UAAwB,QAAQ;YAC5B,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC,CAAC;gBAAC,MAAM,CAAA;YAAC,CAAC;YAEzC,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC;gBACb,IAAI,CAAC,OAAO,CAAC,IAAI,CAEb,cAAa,CAAC,EAEd,UAAU,KAAK;gBACf,CAAC,CACJ,CAAC;QACV,CAAC;QAEM,oDAAgB,GAAvB,UAAwB,MAAM;YAC1B,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC,MAAM,CAAC;QACjC,CAAC;QACL,gCAAC;IAAD,CA/DA,AA+DC,IAAA;IAED,IAAM,eAAe,GAAyB;QAC1C,QAAQ,EAAE,uBAAuB;QACjC,WAAW,EAAE,kCAAkC;QAC/C,UAAU,EAAE,yBAAyB;KACxC,CAAA;IAED,OAAO,CAAC,MAAM,CAAC,oBAAoB,EAAE,CAAC,YAAY,EAAE,kBAAkB,CAAC,CAAC;SACnE,SAAS,CAAC,oBAAoB,EAAE,eAAe,CAAC,CAAC;AAC1D,CAAC;;;;ACxFD,qDAAoD;AAKpD;IAGI,6BACI,cAAmC,EACnC,cAAgD,EAChD,UAAgC,EAChC,SAA8B,EAC9B,MAA2B,EAC3B,SAAmC,EACnC,yBAA6D,EAC7D,YAAwC,EACxC,QAAuB,EACvB,aAA4C,EAC5C,OAA8B,EACtB,YAA4C,EAC5C,YAA+B,EAC/B,SAAqC;QAE7C,UAAU,CAAC;QAJH,iBAAY,GAAZ,YAAY,CAAgC;QAC5C,iBAAY,GAAZ,YAAY,CAAmB;QAC/B,cAAS,GAAT,SAAS,CAA4B;QAI7C,IAAI,CAAC,KAAK,GAAG,IAAI,iCAAe,CAAC,cAAc,EAAE,cAAc,EAAE,UAAU,EAAE,SAAS,EAAE,MAAM,EAAE,SAAS,EACrG,yBAAyB,EAAE,YAAY,EAAE,aAAa,EAAE,QAAQ,EAAE,OAAO,EAAE,YAAY,EAAE,YAAY,EAAE,SAAS,CAAC,CAAC;IAC1H,CAAC;IAED,sBAAW,4CAAW;aAAtB;YACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC;QAClC,CAAC;;;OAAA;IAED,sBAAW,2CAAU;aAArB;YACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC;QACjC,CAAC;;;OAAA;IAED,sBAAW,gDAAe;aAA1B;YACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC;QACtC,CAAC;;;OAAA;IAED,sBAAW,uCAAM;aAAjB;YACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC;QAC7B,CAAC;;;OAAA;IAEM,uCAAS,GAAhB,UAAiB,MAAM;QACnB,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IAC5B,CAAC;IAEM,gDAAkB,GAAzB,UAA0B,QAAqB;QAC3C,IAAI,CAAC,KAAK,CAAC,kBAAkB,CAAC,QAAQ,CAAC,CAAC;IAC5C,CAAC;IACL,0BAAC;AAAD,CAhDA,AAgDC,IAAA;AAhDY,kDAAmB;AAkDhC,OAAO,CAAC,MAAM,CAAC,qBAAqB,CAAC;KAChC,OAAO,CAAC,wBAAwB,EAAE,mBAAmB,CAAC,CAAC;;;;ACpD5D;IACI,mCACY,MAAiB,EACjB,2BAAqD,EACrD,sBAAmD,EAC3D,cAAmC,EAC3B,MAA2B,EAC3B,YAAwC,EACxC,aAA4C,EAC5C,OAA0B;QAElC,UAAU,CAAC;QATH,WAAM,GAAN,MAAM,CAAW;QACjB,gCAA2B,GAA3B,2BAA2B,CAA0B;QACrD,2BAAsB,GAAtB,sBAAsB,CAA6B;QAEnD,WAAM,GAAN,MAAM,CAAqB;QAC3B,iBAAY,GAAZ,YAAY,CAA4B;QACxC,kBAAa,GAAb,aAAa,CAA+B;QAC5C,YAAO,GAAP,OAAO,CAAmB;QAIlC,cAAc,CAAC,eAAe,EAAE,CAAC;IACrC,CAAC;IAEM,0CAAM,GAAb;QACI,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,IAAI,CAAC,YAAY,CAAC,WAAW,EAAE,CAAC,CAAC;IACpD,CAAC;IAED,sBAAW,kDAAW;aAAtB;YACI,MAAM,CAAC,IAAI,CAAC,2BAA2B,CAAC,WAAW,CAAC;QACxD,CAAC;;;OAAA;IAED,sBAAW,6CAAM;aAAjB;YACI,MAAM,CAAC,IAAI,CAAC,2BAA2B,CAAC,MAAM,CAAC;QACnD,CAAC;;;OAAA;IAEM,6CAAS,GAAhB;QAAA,iBAgBC;QAfG,IAAI,CAAC,2BAA2B,CAAC,SAAS,CACtC;YACI,KAAI,CAAC,sBAAsB,CAAC,IAAI,CAC5B,EAAE,EACF;gBAEI,KAAI,CAAC,MAAM,CAAC,UAAU,CAAC,qBAAqB,CAAC,CAAC;YAClD,CAAC,EACD;gBAEI,KAAI,CAAC,MAAM,CAAC,UAAU,CAAC,qBAAqB,CAAC,CAAC;YAClD,CAAC,CACJ,CAAC;QACN,CAAC,CACJ,CAAC;IACN,CAAC;IACL,gCAAC;AAAD,CA7CA,AA6CC,IAAA;AA7CY,8DAAyB;AA+CtC,CAAC;IACG,OAAO,CAAC,MAAM,CAAC,0BAA0B,EAAE,CAAC,iBAAiB,EAAE,yBAAyB,EAAE,8BAA8B,CAAC,CAAC,CAAC;AAC/H,CAAC;;;;AC9CD,CAAC;IACG;QACI,sCAA2B,SAA0C;YAA1C,cAAS,GAAT,SAAS,CAAiC;QAAI,CAAC;QAAA,CAAC;QACpE,2CAAI,GAAX,UAAY,MAAW,EAAE,eAA4B,EAAE,cAA2B;YAC9E,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC;gBAChB,WAAW,EAAE,MAAM,CAAC,KAAK;gBACzB,WAAW,EAAE,6CAA6C;gBAC1D,UAAU,EAAE,iCAA+B;gBAC3C,YAAY,EAAE,OAAO;gBACrB,MAAM,EAAE;oBACJ,MAAM,EAAE,MAAM;iBACjB;gBACD,mBAAmB,EAAE,KAAK;aAC7B,CAAC;iBACG,IAAI,CAAC;gBACF,EAAE,CAAC,CAAC,eAAe,CAAC,CAAC,CAAC;oBAClB,eAAe,EAAE,CAAC;gBACtB,CAAC;YACL,CAAC,EAAE;gBACC,EAAE,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC;oBACjB,cAAc,EAAE,CAAC;gBACrB,CAAC;YACL,CAAC,CAAC,CAAC;QACX,CAAC;QACL,mCAAC;IAAD,CAvBA,AAuBC,IAAA;IAED;QAGI,2CACY,sBAAmD,EACnD,2BAAqD,EACrD,aAA6C,EAC7C,SAA0C;YAElD,UAAU,CAAC;YALH,2BAAsB,GAAtB,sBAAsB,CAA6B;YACnD,gCAA2B,GAA3B,2BAA2B,CAA0B;YACrD,kBAAa,GAAb,aAAa,CAAgC;YAC7C,cAAS,GAAT,SAAS,CAAiC;YAIlD,IAAI,CAAC,MAAM,GAAG,SAAS,CAAC,MAAM,CAAC;QACnC,CAAC;QAED,sBAAW,0DAAW;iBAAtB;gBACI,MAAM,CAAC,IAAI,CAAC,2BAA2B,CAAC,WAAW,CAAC;YACxD,CAAC;;;WAAA;QAED,sBAAW,qDAAM;iBAAjB;gBACI,MAAM,CAAC,IAAI,CAAC,2BAA2B,CAAC,MAAM,CAAC;YACnD,CAAC;;;WAAA;QAEM,qDAAS,GAAhB;YAAA,iBAOC;YANG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;YACtB,IAAI,CAAC,2BAA2B,CAAC,SAAS,CACtC;gBACI,KAAI,CAAC,sBAAsB,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;YACzC,CAAC,CACJ,CAAC;QACN,CAAC;QACL,wCAAC;IAAD,CA9BA,AA8BC,IAAA;IAED,OAAO,CAAC,MAAM,CAAC,gCAAgC,EAAE,CAAC,iBAAiB,EAAE,yBAAyB;QAC1F,8BAA8B;KACjC,CAAC;SACG,OAAO,CAAC,0BAA0B,EAAE,4BAA4B,CAAC,CAAC;AAE3E,CAAC;;;;;;;;;;;;;;ACtED,mDAAkD;AAIlD;IAA0C,wCAAU;IAChD,8BACI,cAAmC,EACnC,cAAgD,EACxC,UAAgC,EAChC,SAA8B,EAC9B,MAA2B,EAC3B,SAAmC,EACnC,YAAwC,EACxC,aAA6C,EAC7C,OAA8B,EAC9B,YAA4C,EAC5C,YAA+B,EAC/B,SAAqC;QAE7C,UAAU,CAAC;QAdf,YAgBI,kBAAM,cAAc,CAAC,SAExB;QAfW,gBAAU,GAAV,UAAU,CAAsB;QAChC,eAAS,GAAT,SAAS,CAAqB;QAC9B,YAAM,GAAN,MAAM,CAAqB;QAC3B,eAAS,GAAT,SAAS,CAA0B;QACnC,kBAAY,GAAZ,YAAY,CAA4B;QACxC,mBAAa,GAAb,aAAa,CAAgC;QAC7C,aAAO,GAAP,OAAO,CAAuB;QAC9B,kBAAY,GAAZ,YAAY,CAAgC;QAC5C,kBAAY,GAAZ,YAAY,CAAmB;QAC/B,eAAS,GAAT,SAAS,CAA4B;QAK7C,KAAI,CAAC,WAAW,GAAG,cAAc,CAAC,MAAM,CAAC,cAAc,CAAC,CAAC;;IAC7D,CAAC;IAEM,mCAAI,GAAX,UAAY,MAAM;QACd,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;QACvB,IAAI,CAAC,oBAAoB,EAAE,CAAC;IAChC,CAAC;IAEO,mDAAoB,GAA5B;QACI,IAAI,CAAC,UAAU,CAAC,KAAK,GAAG,IAAI,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,IAAI,CAAC;QACnE,IAAI,CAAC,UAAU,CAAC,SAAS,GAAG,IAAI,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,IAAI,IAAI,CAAC;QAC3E,IAAI,CAAC,UAAU,CAAC,SAAS,GAAG,IAAI,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,IAAI,IAAI,CAAC;QAC3E,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,IAAI,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,IAAI,IAAI,CAAC;QACrE,IAAI,CAAC,UAAU,CAAC,IAAI,GAAG,IAAI,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC;QACjE,IAAI,CAAC,UAAU,CAAC,QAAQ,GAAG,IAAI,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,IAAI,IAAI,CAAC;IAC7E,CAAC;IAEM,wCAAS,GAAhB,UAAiB,SAAqB;QAAtC,iBA0CC;QAzCG,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;YAC5B,IAAI,CAAC,aAAa,CAAC,eAAe,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;YAC3D,MAAM,CAAC;QACX,CAAC;QACD,IAAM,aAAa,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC;QAC3D,EAAE,CAAC,CAAC,CAAC,aAAa,CAAC;YAAC,MAAM,CAAC;QAE3B,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC,CAAC;YAC9B,IAAI,CAAC,OAAO,CAAC,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC;QACxD,CAAC;QACD,IAAI,CAAC,YAAY,CAAC,eAAe,CAAC;YAC1B,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK;SAChC,EACD,UAAC,IAAS;YACN,KAAI,CAAC,aAAa,CAAC,eAAe,CAAC,KAAI,CAAC,MAAM,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;YAC3D,EAAE,CAAC,CAAC,KAAI,CAAC,WAAW,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC;gBAAC,MAAM,CAAC;YAEpD,KAAI,CAAC,WAAW,CAAC,GAAG,EAAE,CAAC;YACvB,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC;gBACb,KAAI,CAAC,MAAM,CAAC,EAAE,CAAC,gBAAgB,EAAE;oBAC7B,UAAU,EAAE,KAAI,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS;oBACtC,KAAK,EAAE,KAAI,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK;iBAChC,CAAC,CAAC;YACP,CAAC;YAAC,IAAI,CAAC,CAAC;gBACJ,SAAS,EAAE,CAAC;YAChB,CAAC;QACL,CAAC,EACD,UAAC,KAAU;YACP,KAAI,CAAC,WAAW,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;YAC5B,KAAI,CAAC,aAAa,CAAC,YAAY,CAC3B,KAAI,CAAC,MAAM,CAAC,IAAI,EAAE,KAAK,EAAE;gBACrB,aAAa,EAAE,OAAO;gBACtB,UAAU,EAAE,OAAO;gBACnB,iBAAiB,EAAE,OAAO;gBAC1B,aAAa,EAAE,MAAM;gBACrB,IAAI,EAAE,MAAM;aACf,CACJ,CAAC;YACF,KAAI,CAAC,aAAa,CAAC,eAAe,CAAC,KAAI,CAAC,MAAM,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;QAC/D,CAAC,CACJ,CAAC;IACN,CAAC;IAAA,CAAC;IACN,2BAAC;AAAD,CA9EA,AA8EC,CA9EyC,uBAAU,GA8EnD;AA9EY,oDAAoB;;;;ACAjC,CAAC;IAMG,IAAM,4BAA4B,GAAkC,EAEnE,CAAA;IAED;QAEI,wCACY,MAAiB,EACjB,aAA4C,EAC5C,OAA8B,EAC9B,2BAAqD;YAE7D,UAAU,CAAC;YANf,iBAcC;YAbW,WAAM,GAAN,MAAM,CAAW;YACjB,kBAAa,GAAb,aAAa,CAA+B;YAC5C,YAAO,GAAP,OAAO,CAAuB;YAC9B,gCAA2B,GAA3B,2BAA2B,CAA0B;YAI7D,IAAI,CAAC,qBAAqB,GAAG,aAAa,CAAC,qBAAqB,CAAC;YACjE,2BAA2B,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;YAE9C,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,qBAAqB,EAAE;gBACnC,KAAI,CAAC,MAAM,CAAC,IAAI,GAAG,KAAI,CAAC,MAAM,CAAC,IAAI,CAAC;YACxC,CAAC,CAAC,CAAC;QACP,CAAC;QAEM,kDAAS,GAAhB;YACI,IAAI,CAAC,MAAM,CAAC,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC;YACpC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;YACjC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;QACxC,CAAC;QAED,sBAAW,kDAAM;iBAAjB;gBACI,MAAM,CAAC,IAAI,CAAC,2BAA2B,CAAC,MAAM,CAAC;YACnD,CAAC;;;WAAA;QAED,sBAAW,uDAAW;iBAAtB;gBACI,MAAM,CAAC,IAAI,CAAC,2BAA2B,CAAC,WAAW,CAAC;YACxD,CAAC;;;WAAA;QAED,sBAAW,2DAAe;iBAA1B;gBACI,MAAM,CAAC,IAAI,CAAC,2BAA2B,CAAC,eAAe,CAAC;YAC5D,CAAC;;;WAAA;QAEM,2DAAkB,GAAzB;YACI,IAAI,CAAC,MAAM,CAAC,kBAAkB,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC;QACtF,CAAC;QAEM,kDAAS,GAAhB;YACI,IAAI,CAAC,aAAa,CAAC,eAAe,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;YAC5D,IAAI,CAAC,aAAa,CAAC,iBAAiB,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;YAC7D,IAAI,CAAC,OAAO,CAAC,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,UAAU,CAAC;YACzD,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,UAAU,CAAC;QACjE,CAAC;QAED,sBAAW,sDAAU;iBAArB;gBACI,MAAM,CAAC,IAAI,CAAC,2BAA2B,CAAC,UAAU,CAAC;YACvD,CAAC;;;WAAA;QACL,qCAAC;IAAD,CAlDA,AAkDC,IAAA;IAED,IAAM,oBAAoB,GAAyB;QAC/C,QAAQ,EAAE,4BAA4B;QACtC,UAAU,EAAE,8BAA8B;QAC1C,WAAW,EAAE,4CAA4C;KAC5D,CAAA;IAED,OAAO,CAAC,MAAM,CAAC,yBAAyB,EAAE,CAAC,YAAY,EAAE,kBAAkB,CAAC,CAAC;SACxE,SAAS,CAAC,yBAAyB,EAAE,oBAAoB,CAAC,CAAC;AACpE,CAAC;;;;AC1ED,+DAA8D;AAE9D;IAGI,kCACI,cAAmB,EACnB,cAAgD,EAChD,UAAgC,EAChC,SAA8B,EAC9B,MAA2B,EAC3B,SAAmC,EACnC,YAAwC,EACxC,aAA4C,EAC5C,OAA8B,EACtB,YAA4C,EAC5C,YAAiB,EACjB,SAAc;QAEtB,UAAU,CAAC;QAJH,iBAAY,GAAZ,YAAY,CAAgC;QAC5C,iBAAY,GAAZ,YAAY,CAAK;QACjB,cAAS,GAAT,SAAS,CAAK;QAItB,IAAI,CAAC,KAAK,GAAG,IAAI,2CAAoB,CAAC,cAAc,EAAE,cAAc,EAAE,UAAU,EAAE,SAAS,EAAE,MAAM,EAC/F,SAAS,EAAE,YAAY,EAAE,aAAa,EAAE,OAAO,EAAE,YAAY,EAAE,YAAY,EAAE,SAAS,CAAC,CAAC;IAChG,CAAC;IAED,sBAAW,iDAAW;aAAtB;YACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC;QAClC,CAAC;;;OAAA;IAED,sBAAW,gDAAU;aAArB;YACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC;QACjC,CAAC;;;OAAA;IAED,sBAAW,qDAAe;aAA1B;YACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC;QACtC,CAAC;;;OAAA;IAED,sBAAW,4CAAM;aAAjB;YACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC;QAC7B,CAAC;;;OAAA;IAEM,4CAAS,GAAhB,UAAiB,MAAM;QACnB,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IAC5B,CAAC;IAEM,4CAAS,GAAhB,UAAiB,SAAc;QAC3B,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;IACpC,CAAC;IACL,+BAAC;AAAD,CA9CA,AA8CC,IAAA;AA9CY,4DAAwB;AAgDrC,OAAO,CAAC,MAAM,CAAC,0BAA0B,CAAC;KACrC,OAAO,CAAC,6BAA6B,EAAE,wBAAwB,CAAC,CAAC;;;;AChDtE;IAEI,iCACY,yBAAiD,EACzD,cAAmC,EAC3B,OAA0B;QAElC,UAAU,CAAC;QAJH,8BAAyB,GAAzB,yBAAyB,CAAwB;QAEjD,YAAO,GAAP,OAAO,CAAmB;QAIlC,cAAc,CAAC,eAAe,EAAE,CAAC;IACrC,CAAC;IAEM,wCAAM,GAAb;QACI,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;IAChC,CAAC;IAED,sBAAW,2CAAM;aAAjB;YACI,MAAM,CAAC,IAAI,CAAC,yBAAyB,CAAC,MAAM,CAAC;QACjD,CAAC;;;OAAA;IAEM,yCAAO,GAAd;QACI,IAAI,CAAC,yBAAyB,CAAC,OAAO,EAAE,CAAC;IAC7C,CAAC;IACL,8BAAC;AAAD,CAvBA,AAuBC,IAAA;AAvBY,0DAAuB;AAyBpC,CAAC;IACG,OAAO,CAAC,MAAM,CAAC,wBAAwB,EAAE,CAAC,iBAAiB,EAAE,uBAAuB;QAChF,gBAAgB;KACnB,CAAC,CAAC;AAEP,CAAC;;;;AC3BD,CAAC;IACG;QACI,oCAA2B,SAA0C;YAA1C,cAAS,GAAT,SAAS,CAAiC;QAAI,CAAC;QAAA,CAAC;QACpE,yCAAI,GAAX,UAAY,MAAW,EAAE,eAA4B,EAAE,cAA2B;YAC9E,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC;gBAChB,WAAW,EAAE,MAAM,CAAC,KAAK;gBACzB,WAAW,EAAE,yCAAyC;gBACtD,UAAU,EAAE,+BAA6B;gBACzC,YAAY,EAAE,OAAO;gBACrB,MAAM,EAAE;oBACJ,MAAM,EAAE,MAAM;iBACjB;gBACD,mBAAmB,EAAE,KAAK;aAC7B,CAAC;iBACG,IAAI,CAAC;gBACF,EAAE,CAAC,CAAC,eAAe,CAAC,CAAC,CAAC;oBAClB,eAAe,EAAE,CAAC;gBACtB,CAAC;YACL,CAAC,EAAE;gBACC,EAAE,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC;oBACjB,cAAc,EAAE,CAAC;gBACrB,CAAC;YACL,CAAC,CAAC,CAAC;QACX,CAAC;QACL,iCAAC;IAAD,CAvBA,AAuBC,IAAA;IAED;QAGI,yCACI,SAA0C,EAClC,yBAAiD;YAEzD,UAAU,CAAC;YAFH,8BAAyB,GAAzB,yBAAyB,CAAwB;YAIzD,IAAI,CAAC,MAAM,GAAG,SAAS,CAAC,MAAM,CAAC;QACnC,CAAC;QAED,sBAAW,mDAAM;iBAAjB;gBACI,MAAM,CAAC,IAAI,CAAC,yBAAyB,CAAC,MAAM,CAAC;YACjD,CAAC;;;WAAA;QAEM,iDAAO,GAAd;YAAA,iBAIC;YAHG,IAAI,CAAC,yBAAyB,CAAC,OAAO,CAAC;gBACnC,KAAI,CAAC,MAAM,EAAE,CAAC;YAClB,CAAC,CAAC,CAAC;QACP,CAAC;QAEM,kDAAQ,GAAf;YACI,IAAI,CAAC,MAAM,EAAE,CAAC;QAClB,CAAC;QAEL,sCAAC;IAAD,CA1BA,AA0BC,IAAA;IAED,OAAO,CAAC,MAAM,CAAC,8BAA8B,EAAE,CAAC,iBAAiB,EAAE,uBAAuB,CAAC,CAAC;SACvF,OAAO,CAAC,wBAAwB,EAAE,0BAA0B,CAAC,CAAC;AAEvE,CAAC;;;;;;;;;;;;;;AC/DD,mDAAkD;AAIlD;IAAwC,sCAAU;IAC9C,4BACI,cAAmC,EACnC,cAAgD,EAExC,UAAgC,EAChC,SAA8B,EAC9B,MAA2B,EAC3B,SAAmC,EAEnC,YAAwC,EACxC,aAA4C,EAC5C,OAA8B,EAC9B,YAA4C,EAC5C,YAA+B,EAC/B,SAAqC;QAE7C,UAAU,CAAC;QAhBf,YAkBI,kBAAM,cAAc,CAAC,SAGxB;QAjBW,gBAAU,GAAV,UAAU,CAAsB;QAChC,eAAS,GAAT,SAAS,CAAqB;QAC9B,YAAM,GAAN,MAAM,CAAqB;QAC3B,eAAS,GAAT,SAAS,CAA0B;QAEnC,kBAAY,GAAZ,YAAY,CAA4B;QACxC,mBAAa,GAAb,aAAa,CAA+B;QAC5C,aAAO,GAAP,OAAO,CAAuB;QAC9B,kBAAY,GAAZ,YAAY,CAAgC;QAC5C,kBAAY,GAAZ,YAAY,CAAmB;QAC/B,eAAS,GAAT,SAAS,CAA4B;QAK7C,KAAI,CAAC,WAAW,GAAG,cAAc,CAAC,MAAM,CAAC,cAAc,CAAC,CAAC;;IAE7D,CAAC;IAEM,iCAAI,GAAX,UAAY,MAAM;QACd,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;QACvB,IAAI,CAAC,oBAAoB,EAAE,CAAC;IAChC,CAAC;IAEO,iDAAoB,GAA5B;QACI,IAAI,CAAC,UAAU,CAAC,QAAQ,GAAG,IAAI,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,IAAI,IAAI,CAAC;QACzE,IAAI,CAAC,UAAU,CAAC,KAAK,GAAG,IAAI,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,IAAI,CAAC;QACnE,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,IAAI,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,IAAI,IAAI,CAAC;QACrE,IAAI,CAAC,UAAU,CAAC,IAAI,GAAG,IAAI,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC;QACjE,IAAI,CAAC,UAAU,CAAC,QAAQ,GAAG,IAAI,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,IAAI,IAAI,CAAC;IAC7E,CAAC;IAEM,wCAAW,GAAlB,UAAmB,OAAe,EAAE,IAAY;QAC5C,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC;YAAC,MAAM,CAAC;QACrB,OAAO,GAAG,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC;QAC/C,IAAI,GAAG,IAAI,IAAI,SAAS,CAAC;QAEzB,EAAE,CAAC,CAAC,IAAI,IAAI,SAAS,CAAC,CAAC,CAAC;YACpB,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,OAAO,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;YACtD,MAAM,CAAC;QACX,CAAC;QACD,EAAE,CAAC,CAAC,IAAI,IAAI,OAAO,CAAC,CAAC,CAAC;YAClB,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,OAAO,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;YAC1D,MAAM,CAAC;QACX,CAAC;IACL,CAAC;IAEM,oCAAO,GAAd,UAAe,QAAqB;QAApC,iBA8CC;QA7CG,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;YAC5B,IAAI,CAAC,aAAa,CAAC,eAAe,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;YAE3D,MAAM,CAAC;QACX,CAAC;QAED,IAAM,aAAa,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC;QAC3D,EAAE,CAAC,CAAC,CAAC,aAAa,CAAC;YAAC,MAAM,CAAC;QAC3B,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC,CAAC;YAC9B,IAAI,CAAC,OAAO,CAAC,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC;QACxD,CAAC;QACD,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC;YAC5B,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK;YAC7B,IAAI,EAAE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS;YAChC,QAAQ,EAAE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ;SACtC,EACG,UAAC,IAAS;YACN,KAAI,CAAC,aAAa,CAAC,eAAe,CAAC,KAAI,CAAC,MAAM,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;YAC5D,EAAE,CAAC,CAAC,KAAI,CAAC,WAAW,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC;gBAAC,MAAM,CAAC;YAEpD,IAAM,OAAO,GAAG,MAAM,EAAE,GAAG,wBAAwB,CAAC;YACpD,KAAI,CAAC,WAAW,CAAC,OAAO,EAAE,SAAS,CAAC,CAAC;YACrC,KAAI,CAAC,WAAW,CAAC,GAAG,EAAE,CAAC;YACvB,EAAE,CAAC,CAAC,QAAQ,CAAC;gBAAC,QAAQ,EAAE,CAAC;YACzB,KAAI,CAAC,MAAM,CAAC,EAAE,CAAC,QAAQ,EAAE;gBACrB,UAAU,EAAE,KAAI,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS;gBACtC,KAAK,EAAE,KAAI,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK;aAChC,CAAC,CAAC;QACP,CAAC,EACD,UAAC,KAAU;YACP,KAAI,CAAC,WAAW,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;YAC5B,KAAI,CAAC,aAAa,CAAC,eAAe,CAAC,KAAI,CAAC,MAAM,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;YAC3D,KAAI,CAAC,aAAa,CAAC,YAAY,CAC3B,KAAI,CAAC,MAAM,CAAC,IAAI,EAAE,KAAK,EAAE;gBACrB,UAAU,EAAE,OAAO;gBACnB,aAAa,EAAE,OAAO;gBACtB,iBAAiB,EAAE,OAAO;gBAC1B,gBAAgB,EAAE,UAAU;gBAC5B,YAAY,EAAE,WAAW;gBACzB,aAAa,EAAE,MAAM;gBACrB,IAAI,EAAE,MAAM;aACf,CACJ,CAAC;QACN,CAAC,CACJ,CAAC;IACN,CAAC;IAEL,yBAAC;AAAD,CApGA,AAoGC,CApGuC,uBAAU,GAoGjD;AApGY,gDAAkB;;;;ACA/B,CAAC;IAOG,IAAM,0BAA0B,GAAgC,EAE/D,CAAA;IAED;QAEI,sCACY,MAAiB,EACjB,aAA4C,EAC5C,OAA8B,EAC9B,yBAAiD;YAEzD,UAAU,CAAC;YALH,WAAM,GAAN,MAAM,CAAW;YACjB,kBAAa,GAAb,aAAa,CAA+B;YAC5C,YAAO,GAAP,OAAO,CAAuB;YAC9B,8BAAyB,GAAzB,yBAAyB,CAAwB;YAIzD,IAAI,CAAC,qBAAqB,GAAG,aAAa,CAAC,qBAAqB,CAAC;YACjE,yBAAyB,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;QAEhD,CAAC;QAEM,gDAAS,GAAhB;YACI,IAAI,CAAC,MAAM,CAAC,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC;YACpC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;YACjC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;QACxC,CAAC;QAED,sBAAW,gDAAM;iBAAjB;gBACI,MAAM,CAAC,IAAI,CAAC,yBAAyB,CAAC,MAAM,CAAC;YACjD,CAAC;;;WAAA;QAED,sBAAW,qDAAW;iBAAtB;gBACI,MAAM,CAAC,IAAI,CAAC,yBAAyB,CAAC,WAAW,CAAC;YACtD,CAAC;;;WAAA;QAED,sBAAW,yDAAe;iBAA1B;gBACI,MAAM,CAAC,IAAI,CAAC,yBAAyB,CAAC,eAAe,CAAC;YAC1D,CAAC;;;WAAA;QAED,sBAAW,oDAAU;iBAArB;gBACI,MAAM,CAAC,IAAI,CAAC,yBAAyB,CAAC,UAAU,CAAC;YACrD,CAAC;;;WAAA;QAEM,yDAAkB,GAAzB;YACI,IAAI,CAAC,MAAM,CAAC,kBAAkB,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC;QACtF,CAAC;QAEM,gDAAS,GAAhB;YACI,IAAI,CAAC,aAAa,CAAC,eAAe,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;YAC5D,IAAI,CAAC,aAAa,CAAC,iBAAiB,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;YAC7D,IAAI,CAAC,OAAO,CAAC,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,UAAU,CAAC;YACzD,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,UAAU,CAAC;QACjE,CAAC;QAEM,kDAAW,GAAlB,UAAmB,OAAe,EAAE,IAAY;YAC5C,IAAI,CAAC,yBAAyB,CAAC,WAAW,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;QAC9D,CAAC;QAEL,mCAAC;IAAD,CApDA,AAoDC,IAAA;IAED,IAAM,kBAAkB,GAAyB;QAC7C,QAAQ,EAAE,0BAA0B;QACpC,UAAU,EAAE,4BAA4B;QACxC,WAAW,EAAE,wCAAwC;KACxD,CAAA;IAED,OAAO,CAAC,MAAM,CAAC,uBAAuB,EAAE,CAAC,YAAY,EAAE,kBAAkB,CAAC,CAAC;SACtE,SAAS,CAAC,uBAAuB,EAAE,kBAAkB,CAAC,CAAC;AAChE,CAAC;;;;AC7ED,2DAA0D;AAE1D;IAGI,gCACI,cAAmB,EACnB,cAAgD,EAChD,UAAgC,EAChC,SAA8B,EAC9B,MAA2B,EAC3B,SAAmC,EACnC,YAAwC,EACxC,aAA4C,EAC5C,OAA8B,EACtB,YAA4C,EAC5C,YAAiB,EACjB,SAAc;QAEtB,UAAU,CAAC;QAJH,iBAAY,GAAZ,YAAY,CAAgC;QAC5C,iBAAY,GAAZ,YAAY,CAAK;QACjB,cAAS,GAAT,SAAS,CAAK;QAItB,IAAI,CAAC,KAAK,GAAG,IAAI,uCAAkB,CAAC,cAAc,EAAE,cAAc,EAAE,UAAU,EAAE,SAAS,EAAE,MAAM,EAC7F,SAAS,EAAE,YAAY,EAAE,aAAa,EAAE,OAAO,EAAE,YAAY,EAAE,YAAY,EAAE,SAAS,CAAC,CAAC;IAChG,CAAC;IAED,sBAAW,+CAAW;aAAtB;YACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC;QAClC,CAAC;;;OAAA;IAED,sBAAW,8CAAU;aAArB;YACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC;QACjC,CAAC;;;OAAA;IAED,sBAAW,mDAAe;aAA1B;YACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC;QACtC,CAAC;;;OAAA;IAED,sBAAW,0CAAM;aAAjB;YACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC;QAC7B,CAAC;;;OAAA;IAEM,0CAAS,GAAhB,UAAiB,MAAM;QACnB,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IAC5B,CAAC;IAEM,4CAAW,GAAlB,UAAmB,OAAO,EAAE,IAAI;QAC5B,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;IAC1C,CAAC;IAEM,wCAAO,GAAd,UAAe,QAAqB;QAChC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;IACjC,CAAC;IACL,6BAAC;AAAD,CAlDA,AAkDC,IAAA;AAlDY,wDAAsB;AAoDnC,OAAO,CAAC,MAAM,CAAC,wBAAwB,CAAC;KACnC,OAAO,CAAC,2BAA2B,EAAE,sBAAsB,CAAC,CAAC;;ACvDlE,8BAA8B,eAAuC;IAEjE,eAAe,CAAC,iBAAiB,CAAC,QAAQ,EAAE,gBAAgB,CAAC,CAAC;IAC9D,eAAe,CAAC,iBAAiB,CAAC,SAAS,EAAE,iBAAiB,CAAC,CAAC;IAChE,eAAe,CAAC,iBAAiB,CAAC,QAAQ,EAAE,gBAAgB,CAAC,CAAC;IAC9D,eAAe,CAAC,iBAAiB,CAAC,iBAAiB,EAAE,2BAA2B,CAAC,CAAC;IAClF,eAAe,CAAC,iBAAiB,CAAC,eAAe,EAAE,yBAAyB,CAAC,CAAC;IAC9E,eAAe,CAAC,kBAAkB,CAAC,gBAAgB,EAAE,mCAAmC,EACvF,EAAE,OAAO,EAAE,UAAU,EAAE,CAAC,CAAC;IAE1B,eAAe,CAAC,iBAAiB,CAAC,0BAA0B,EAAE,+BAA+B,CAAC,CAAC;IAC/F,eAAe,CAAC,iBAAiB,CAAC,aAAa,EAAE,+BAA+B,CAAC,CAAC;IAClF,eAAe,CAAC,iBAAiB,CAAC,gBAAgB,EAAE,iCAAiC,EACjF,EAAE,OAAO,EAAE,UAAU,EAAE,EACvB;QACI,GAAG,EAAE,EAAE,MAAM,EAAE,KAAK,EAAE,OAAO,EAAE,KAAK,EAAE;KACzC,CACJ,CAAC;IACF,eAAe,CAAC,iBAAiB,CAAC,gBAAgB,EAAE,yBAAyB,EAAE,EAAE,EAC7E;QACI,GAAG,EAAE,EAAE,MAAM,EAAE,KAAK,EAAE,OAAO,EAAE,KAAK,EAAE;KACzC,CACJ,CAAC;AACN,CAAC;AAED,OAAO;KACF,MAAM,CAAC,eAAe,CAAC;KACvB,MAAM,CAAC,oBAAoB,CAAC,CAAC;;AC3BlC,gCAAgC,eAAuC;IACnE,eAAe,CAAC,uBAAuB,CAAC,UAAU,EAAE,kBAAkB,CAAC,CAAC;IACxE,eAAe,CAAC,iBAAiB,CAAC,iBAAiB,EAAE,0BAA0B,CAAC,CAAC;IACjF,eAAe,CAAC,uBAAuB,CAAC,cAAc,EAAE,4BAA4B,CAAC,CAAC;AAC1F,CAAC;AAED,OAAO;KACF,MAAM,CAAC,eAAe,CAAC;KACvB,MAAM,CAAC,sBAAsB,CAAC,CAAC;;ACRpC,iCAAiC,eAAuC;IAEpE,eAAe,CAAC,uBAAuB,CAAC,UAAU,EAAE,gCAAgC,EAChF,EAAE,OAAO,EAAE,UAAU,EAAE,EACvB;QACI,MAAM,EAAE,EAAE,MAAM,EAAE,KAAK,EAAE;KAC5B,CACJ,CAAC;AACN,CAAC;AAED,OAAO;KACF,MAAM,CAAC,eAAe,CAAC;KACvB,MAAM,CAAC,uBAAuB,CAAC,CAAC;;;;A9CVrC,OAAO,CAAC,MAAM,CAAC,eAAe,EAAE,EAAE,CAAC,CAAC;AAEpC,4BAA0B;AAC1B,+BAA6B;AAC7B,8BAA4B;;;;A+CFf,QAAA,QAAQ,GAAG,UAAU,CAAC;AAEnC,CAAC;IACG;QAEI,4BACI,MAAiB,EACjB,UAAgC,EAChC,QAAuB,EACvB,cAAmC,EACnC,UAAwC;YAExC,UAAU,CAAC;YARR,mBAAc,GAAY,KAAK,CAAC;YAUnC,cAAc,CAAC,eAAe,EAAE,CAAC;YAIjC,UAAU,CAAC,gBAAQ,CAAC,GAAG,KAAK,CAAC;YAC7B,IAAI,CAAC,cAAc,GAAG,MAAM,CAAC,gBAAgB,CAAC,CAAC;QACnD,CAAC;QACL,yBAAC;IAAD,CAlBA,AAkBC,IAAA;IAED,IAAM,YAAY,GAAG,UAAC,cAAc,EAAE,oBAAoB;QAEtD,cAAc;aACT,KAAK,CAAC,QAAQ,EAAE;YACb,GAAG,EAAE,qDAAqD;YAC1D,IAAI,EAAE,KAAK;YACX,UAAU,EAAE,kBAAgB;YAC5B,YAAY,EAAE,OAAO;YACrB,WAAW,EAAE,oBAAoB;SACpC,CAAC,CAAA;QACN,oBAAoB,CAAC,WAAW,GAAG,QAAQ,CAAC;IAChD,CAAC,CAAA;IAED,OAAO,CAAC,MAAM,CAAC,iBAAiB,EAAE,CAAC,iBAAiB,EAAE,gBAAgB,CAAC,CAAC;SACnE,MAAM,CAAC,YAAY,CAAC,CAAA;AAE7B,CAAC;;;;ACpCD;IAEI,6BAA2B,SAA0C;QAA1C,cAAS,GAAT,SAAS,CAAiC;IAAG,CAAC;IAClE,kCAAI,GAAX,UAAY,MAAW,EAAE,eAA8B,EAAE,cAA6B;QAClF,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC;YACZ,WAAW,EAAE,MAAM,CAAC,KAAK;YACzB,WAAW,EAAE,0BAA0B;YACvC,UAAU,EAAE,sBAAsB;YAClC,MAAM,EAAE;gBACJ,MAAM,EAAE,MAAM;aACjB;YACD,mBAAmB,EAAE,KAAK;SAC7B,CAAC;aACD,IAAI,CAAC;YACF,EAAE,CAAC,CAAC,eAAe,CAAC,CAAC,CAAC;gBAClB,eAAe,EAAE,CAAC;YACtB,CAAC;QACL,CAAC,EAAE;YACC,EAAE,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC;gBACjB,cAAc,EAAE,CAAC;YACrB,CAAC;QACL,CAAC,CAAC,CAAC;IACX,CAAC;IACL,0BAAC;AAAD,CAvBA,AAuBC,IAAA;AAOD;IAII,gCACY,eAAe,EACf,wBAAwB,EACxB,QAAuB;QAE/B,UAAU,CAAC;QALf,iBAcC;QAbW,oBAAe,GAAf,eAAe,CAAA;QACf,6BAAwB,GAAxB,wBAAwB,CAAA;QACxB,aAAQ,GAAR,QAAQ,CAAe;QAK/B,IAAI,CAAC,mBAAmB,GAAG;YACvB,KAAI,CAAC,gBAAgB,EAAE,CAAC;QAC5B,CAAC,CAAA;QACD,IAAI,CAAC,4BAA4B,GAAG;YAChC,KAAI,CAAC,yBAAyB,EAAE,CAAC;QACrC,CAAC,CAAA;IACL,CAAC;IAEO,iDAAgB,GAAxB;QACI,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;IAClC,CAAC;IAEO,0DAAyB,GAAjC;QACI,IAAI,CAAC,wBAAwB,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;IAC3C,CAAC;IACL,6BAAC;AAAD,CA3BA,AA2BC,IAAA;AAED,CAAC;IAEG,OAAO,CAAC,MAAM,CAAC,uBAAuB,EAAE;QAChC,iBAAiB;QACjB,gBAAgB;QAChB,uBAAuB;QACvB,gCAAgC;KACnC,CAAC;SACD,OAAO,CAAC,iBAAiB,EAAE,mBAAmB,CAAC,CAAC;AAEzD,CAAC;;;;;;;;;;;;;;AC5ED,mDAAkD;AAGlD,6DAA4D;AAI5D;IAAiC,+BAAU;IACvC,qBACI,cAAmC,EACnC,cAAgD,EACxC,UAAgC,EAChC,SAA8B,EAC9B,MAA2B,EAC3B,SAAmC,EACnC,yBAA6D,EAC7D,YAAwC,EACxC,QAAuB,EACvB,aAA4C,EAC5C,aAAkC,EAClC,OAA8B;QAEtC,UAAU,CAAC;QAdf,YAgBI,kBAAM,cAAc,CAAC,SAGxB;QAhBW,gBAAU,GAAV,UAAU,CAAsB;QAChC,eAAS,GAAT,SAAS,CAAqB;QAC9B,YAAM,GAAN,MAAM,CAAqB;QAC3B,eAAS,GAAT,SAAS,CAA0B;QACnC,+BAAyB,GAAzB,yBAAyB,CAAoC;QAC7D,kBAAY,GAAZ,YAAY,CAA4B;QACxC,cAAQ,GAAR,QAAQ,CAAe;QACvB,mBAAa,GAAb,aAAa,CAA+B;QAC5C,mBAAa,GAAb,aAAa,CAAqB;QAClC,aAAO,GAAP,OAAO,CAAuB;QAMtC,KAAI,CAAC,WAAW,GAAG,cAAc,CAAC,MAAM,CAAC,cAAc,CAAC,CAAC;;IAC7D,CAAC;IAEM,0BAAI,GAAX,UAAY,MAAM;QACd,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;QACvB,IAAI,CAAC,oBAAoB,EAAE,CAAC;IAChC,CAAC;IAEO,0CAAoB,GAA5B;QACI,IAAI,CAAC,UAAU,CAAC,QAAQ,GAAG,IAAI,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,IAAI,IAAI,CAAC;QACzE,IAAI,CAAC,UAAU,CAAC,KAAK,GAAG,IAAI,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,IAAI,CAAC;QACnE,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,IAAI,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,IAAI,IAAI,CAAC;QACrE,IAAI,CAAC,UAAU,CAAC,cAAc,GAAG,IAAI,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,cAAc,CAAC,IAAI,IAAI,CAAC;QACrF,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,IAAI,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,IAAI,IAAI,CAAC;QACrE,IAAI,CAAC,UAAU,CAAC,IAAI,GAAG,IAAI,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC;QACjE,IAAI,CAAC,UAAU,CAAC,QAAQ,GAAG,IAAI,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,IAAI,IAAI,CAAC;IAC7E,CAAC;IAEO,oCAAc,GAAtB;QACI,IAAI,aAAa,GAAQ,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,eAAe,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,eAAe,CAAC,GAAG,IAAI,CAAC;QAC1G,EAAE,CAAC,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC;YACjB,MAAM,CAAC,IAAI,CAAC;QAChB,CAAC;QAED,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,yBAAyB,IAAI,CAAC,IAAI,CAAC,yBAAyB,CAAC,OAAO;YAC1E,CAAC,IAAI,CAAC,yBAAyB,CAAC,OAAO,CAAC,WAAW,IAAI,CAAC,IAAI,CAAC,yBAAyB,CAAC,OAAO,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC,CAAC;YAEpH,MAAM,CAAC,IAAI,CAAC;QAChB,CAAC;QAED,IAAI,OAAO,GAAW,aAAa,CAAC,WAAW,CAAC;QAChD,IAAI,OAAO,GAAW,aAAa,CAAC,cAAc,CAAC;QACnD,OAAO,GAAG,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;QAEhC,IAAI,SAAS,GAAG,IAAI,CAAC,yBAAyB,CAAC,OAAO,CAAC,WAAW,CAAC,MAAM,IAAI,IAAI,CAAC,yBAAyB,CAAC,OAAO,CAAC,WAAW,CAAC,MAAM,CAAC,SAAS,GAAG,IAAI,CAAC,yBAAyB,CAAC,OAAO,CAAC,WAAW,CAAC,MAAM,CAAC,SAAS,GAAG,IAAI,CAAC;QAC9N,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC;YAEb,MAAM,CAAC,IAAI,CAAC;QAChB,CAAC;QAED,EAAE,CAAC,CAAC,OAAO,IAAI,SAAS,CAAC,OAAO,CAAC,IAAI,OAAO,IAAI,SAAS,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;YACjE,MAAM,CAAC,IAAI,CAAC;QAChB,CAAC;QAED,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC;QACxB,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,GAAG,CAAC,MAAM,CAAC,sBAAsB,CAAC,CAAC;QAClD,MAAM,CAAC,KAAK,CAAC;IACjB,CAAC;IAEM,gCAAU,GAAjB,UAAkB,cAAmB,EAAE,gBAAqB;QACxD,EAAE,CAAC,CAAC,CAAC,cAAc,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC;YACvC,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,QAAQ,EAAE;gBACrB,UAAU,EAAE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS;gBACtC,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK;aAChC,CAAC,CAAC;YACH,MAAM,CAAC;QACX,CAAC;QACD,EAAE,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC;YACjB,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,cAAc,CAAC,CAAC;YAC/B,MAAM,CAAC;QACX,CAAC;QACD,EAAE,CAAC,CAAC,gBAAgB,CAAC,CAAC,CAAC;YACnB,gBAAgB,EAAE,CAAC;YACnB,MAAM,CAAC;QACX,CAAC;IACL,CAAC;IAEM,yCAAmB,GAA1B,UAA2B,yBAA8B;QAErD,EAAE,CAAC,CAAC,CAAC,yBAAyB,CAAC,CAAC,CAAC;YAC7B,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,kBAAkB,EAAE;gBAC/B,UAAU,EAAE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS;gBACtC,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK;aAChC,CAAC,CAAC;YACH,MAAM,CAAC;QACX,CAAC;QACD,EAAE,CAAC,CAAC,yBAAyB,CAAC,CAAC,CAAC;YAC5B,yBAAyB,EAAE,CAAC;YAC5B,MAAM,CAAC;QACX,CAAC;IACL,CAAC;IAEO,sCAAgB,GAAxB,UAAyB,IAAiB;QACtC,EAAE,CAAC,CAAC,IAAI,CAAC,cAAc,EAAE,CAAC,CAAC,CAAC;YACxB,IAAI,cAAc,GAAY,KAAK,CAAC;YAEpC,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,cAAc,IAAI,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC;gBACzE,IAAI,UAAU,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;gBACrD,IAAI,OAAO,GAAG,IAAI,IAAI,EAAE,CAAC;gBAEzB,cAAc,GAAG,UAAU,CAAC,OAAO,EAAE,GAAG,OAAO,CAAC,OAAO,EAAE,CAAC;YAC9D,CAAC;YACD,EAAE,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC;gBACjB,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,iBAAiB,EAAE;oBACpC,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK;oBAC7B,UAAU,EAAE,IAAI,CAAC,OAAO,CAAC,SAAS;iBAErC,CAAC,CAAC;YACP,CAAC;YAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC,CAAC;gBAC9C,EAAE,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC;oBACnC,EAAE,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,OAAO,IAAI,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,CAAC,CAAC;wBACpE,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,OAAO,EAAE,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAA;oBAC7F,CAAC;oBAAC,IAAI,CAAC,CAAC;wBACJ,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,EAAE,CAAC,CAAC;oBACzC,CAAC;gBACL,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACJ,EAAE,CAAC,CAAC,kBAAkB,CAAC,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,WAAW,CAAC,IAAI,SAAS,CAAC,CAAC,CAAC;wBACxE,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,kBAAkB,CAAC,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC,CAAC;oBACjF,CAAC;oBAAC,IAAI,CAAC,CAAC;wBACJ,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,EAAE,CAAC,CAAC;oBACzC,CAAC;gBACL,CAAC;YACL,CAAC;YAAC,IAAI,CAAC,CAAC;gBACJ,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,EAAE,CAAC,CAAC;YACzC,CAAC;YAED,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;QACtC,CAAC;IACL,CAAC;IAEO,4CAAsB,GAA9B,UAA+B,IAAiB;QAC5C,MAAM,CAAC,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,IAAI,CAAC,QAAQ;YAClC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,gBAAgB,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,gBAAgB,CAAC,IAAI,MAAM,CAAC;IAC/F,CAAC;IAEM,8BAAQ,GAAf,UAAgB,eAAwB;QAAxC,iBAqFC;QApFG,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;YAC5B,IAAI,CAAC,aAAa,CAAC,eAAe,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;YAC3D,MAAM,CAAC;QACX,CAAC;QAED,IAAI,aAAa,GAAW,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC;QAC/D,EAAE,CAAC,CAAC,CAAC,aAAa,CAAC;YAAC,MAAM,CAAC;QAE1B,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,GAAG,IAAI,CAAC;QAEpC,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,QAAQ,IAAI,CAAC,CAAC,eAAe,CAAC,CAAC,CAAC;YAChD,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;QACrC,CAAC;QAED,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC,CAAC;YAC9B,IAAI,CAAC,OAAO,CAAC,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC;QACxD,CAAC;QAED,IAAI,OAAO,GAAoB,IAAI,iCAAe,EAAE,CAAC;QACrD,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC;YACpB,YAAY,EAAE,SAAS;YACvB,SAAS,EAAE,SAAS;YACpB,YAAY,EAAE,SAAS;SAC1B,CAAC,CAAC;QAEH,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC;YACpC,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK;YAC7B,QAAQ,EAAE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ;SACtC,EACG,UAAC,IAAiB;YACd,KAAI,CAAC,aAAa,CAAC,eAAe,CAAC,KAAI,CAAC,MAAM,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;YAC5D,EAAE,CAAC,CAAC,KAAI,CAAC,WAAW,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC;gBAAC,MAAM,CAAC;YAEpD,KAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,IAAI,EAAE,KAAI,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YAC3D,EAAE,CAAC,CAAC,KAAI,CAAC,sBAAsB,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;gBACpC,KAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;gBAC5B,KAAI,CAAC,WAAW,CAAC,GAAG,EAAE,CAAC;YAC3B,CAAC;YAAC,IAAI,CAAC,CAAC;gBACJ,KAAI,CAAC,OAAO,CAAC,WAAW,CAAC,gBAAgB,CAAC,CAAC,GAAG,CAC1C;oBACI,OAAO,EAAE,IAAI,CAAC,IAAI,CAAC,EAAE;iBACxB,EACD,UAAC,OAAsB;oBACnB,EAAE,CAAC,CAAC,OAAO,IAAI,OAAO,CAAC,QAAQ,IAAI,OAAO,CAAC,KAAK,IAAI,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;wBAClE,KAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;oBAChC,CAAC;oBAAC,IAAI,CAAC,CAAC;wBACJ,KAAI,CAAC,YAAY,CAAC,EAAE,CAAC,cAAc,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE,SAAS,EAAE,KAAI,CAAC,OAAO,CAAC,SAAS,EAAE,CAAC,CAAC;oBAC9H,CAAC;oBACD,KAAI,CAAC,WAAW,CAAC,GAAG,EAAE,CAAC;gBAC3B,CAAC,EACD,UAAC,KAAU;oBACP,KAAI,CAAC,UAAU,CAAC,UAAU,CAAC,GAAG,KAAK,CAAC;oBACpC,KAAI,CAAC,aAAa,CAAC,eAAe,CAAC,KAAI,CAAC,MAAM,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;oBAC3D,KAAI,CAAC,aAAa,CAAC,YAAY,CAAC,KAAI,CAAC,MAAM,CAAC,IAAI,EAAE,KAAK,EAAE;wBACrD,aAAa,EAAE,OAAO;wBACtB,UAAU,EAAE,OAAO;wBACnB,iBAAiB,EAAE,OAAO;wBAC1B,gBAAgB,EAAE,UAAU;wBAC5B,gBAAgB,EAAE,MAAM;wBACxB,aAAa,EAAE,MAAM;wBACrB,IAAI,EAAE,MAAM;qBACf,CAAC,CAAC;oBACH,KAAI,CAAC,WAAW,CAAC,GAAG,CAAC;wBACjB,OAAO,EAAE,KAAK;qBACjB,CAAC,CAAC;gBACP,CAAC,CAAC,CAAC;YACX,CAAC;QAEL,CAAC,EACD,UAAC,KAAU;YACP,KAAI,CAAC,UAAU,CAAC,UAAU,CAAC,GAAG,KAAK,CAAC;YACpC,KAAI,CAAC,aAAa,CAAC,eAAe,CAAC,KAAI,CAAC,MAAM,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;YAC3D,KAAI,CAAC,aAAa,CAAC,YAAY,CAAC,KAAI,CAAC,MAAM,CAAC,IAAI,EAAE,KAAK,EAAE;gBACrD,aAAa,EAAE,OAAO;gBACtB,UAAU,EAAE,OAAO;gBACnB,iBAAiB,EAAE,OAAO;gBAC1B,gBAAgB,EAAE,UAAU;gBAC5B,aAAa,EAAE,MAAM;gBACrB,IAAI,EAAE,MAAM;aACf,CAAC,CAAC;YACH,KAAI,CAAC,WAAW,CAAC,GAAG,CAAC;gBACjB,OAAO,EAAE,KAAK;aACjB,CAAC,CAAC;QACP,CAAC,CAAC,CAAC;IACX,CAAC;IACL,kBAAC;AAAD,CAtOA,AAsOC,CAtOgC,uBAAU,GAsO1C;AAtOY,kCAAW;;;;ACQxB;IAOI,+BACY,MAAiB,EACjB,SAA8B,EAC9B,QAAQ,EACT,QAAmC,EAClC,kBAAmC,EACnC,OAA8B,EAC9B,aAA4C;QAEpD,UAAU,CAAC;QARH,WAAM,GAAN,MAAM,CAAW;QACjB,cAAS,GAAT,SAAS,CAAqB;QAC9B,aAAQ,GAAR,QAAQ,CAAA;QACT,aAAQ,GAAR,QAAQ,CAA2B;QAClC,uBAAkB,GAAlB,kBAAkB,CAAiB;QACnC,YAAO,GAAP,OAAO,CAAuB;QAC9B,kBAAa,GAAb,aAAa,CAA+B;QAIpD,kBAAkB,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;QACrC,IAAI,CAAC,qBAAqB,GAAG,aAAa,CAAC,qBAAqB,CAAC;IACrE,CAAC;IAEM,yCAAS,GAAhB;QAAA,iBAYC;QAXG,IAAI,CAAC,MAAM,CAAC,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC;QAEpC,IAAI,CAAC,QAAQ,CAAC;YACV,EAAE,CAAC,CAAC,KAAI,CAAC,SAAS,IAAI,KAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBACtC,IAAI,IAAI,GAAG,OAAO,CAAC,OAAO,CAAC,KAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,aAAa,CAAC,uCAAuC,CAAC,CAAC,CAAC;gBAErG,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;oBACd,IAAI,CAAC,MAAM,EAAE,CAAC,QAAQ,CAAC,oBAAoB,CAAC,CAAC;gBACjD,CAAC;YACL,CAAC;QACL,CAAC,EAAE,GAAG,CAAC,CAAC;IACZ,CAAC;IAED,sBAAW,yCAAM;aAAjB;YACI,MAAM,CAAC,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC;QAC1C,CAAC;;;OAAA;IAED,sBAAW,8CAAW;aAAtB;YACI,MAAM,CAAC,IAAI,CAAC,kBAAkB,CAAC,WAAW,CAAC;QAC/C,CAAC;;;OAAA;IAED,sBAAW,kDAAe;aAA1B;YACI,MAAM,CAAC,IAAI,CAAC,kBAAkB,CAAC,eAAe,CAAC;QACnD,CAAC;;;OAAA;IAED,sBAAW,6CAAU;aAArB;YACI,MAAM,CAAC,IAAI,CAAC,kBAAkB,CAAC,UAAU,CAAC;QAC9C,CAAC;;;OAAA;IAEM,0CAAU,GAAjB;QACI,IAAI,CAAC,kBAAkB,CAAC,UAAU,CAAC,IAAI,CAAC,cAAc,EAAE,IAAI,CAAC,gBAAgB,CAAC,CAAC;IACnF,CAAC;IAEM,wCAAQ,GAAf;QACI,IAAI,CAAC,kBAAkB,CAAC,QAAQ,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;IAC3D,CAAC;IAEM,mDAAmB,GAA1B;QACI,IAAI,CAAC,kBAAkB,CAAC,mBAAmB,CAAC,IAAI,CAAC,yBAAyB,CAAC,CAAC;IAChF,CAAC;IAEM,kDAAkB,GAAzB;QACI,IAAI,CAAC,MAAM,CAAC,kBAAkB,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC;IACtF,CAAC;IAEM,yCAAS,GAAhB;QACI,IAAI,CAAC,aAAa,CAAC,eAAe,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;QAC5D,IAAI,CAAC,aAAa,CAAC,iBAAiB,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;QAC7D,IAAI,CAAC,OAAO,CAAC,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,UAAU,CAAC;QACzD,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,UAAU,CAAC;IACjE,CAAC;IAEM,uCAAO,GAAd,UAAe,KAAK;QAChB,EAAE,CAAC,CAAC,KAAK,CAAC,OAAO,KAAK,EAAE,CAAC,CAAC,CAAC;YACvB,IAAI,CAAC,QAAQ,EAAE,CAAC;QACpB,CAAC;IACL,CAAC;IACL,4BAAC;AAAD,CAhFA,AAgFC,IAAA;AAWD,IAAM,cAAc,GAAoB;IACpC,cAAc,EAAE,oBAAoB;IACpC,gBAAgB,EAAE,sBAAsB;IACxC,yBAAyB,EAAE,+BAA+B;IAC1D,eAAe,EAAE,cAAc;CAClC,CAAC;AAGF;IAAA;IAQA,CAAC;IAAD,oBAAC;AAAD,CARA,AAQC,IAAA;AAED,CAAC;IAEG,IAAM,WAAW,GAAyB;QACtC,QAAQ,EAAE,cAAc;QACxB,WAAW,EAAE,yBAAyB;QACtC,UAAU,EAAE,qBAAqB;KACpC,CAAC;IAGF,OAAO,CAAC,MAAM,CAAC,gBAAgB,EAAE,CAAC,YAAY,EAAE,kBAAkB,CAAC,CAAC;SAC/D,SAAS,CAAC,gBAAgB,EAAE,WAAW,CAAC,CAAC;AAElD,CAAC;;;;ACxID,6CAA4C;AAI5C;IAGI,yBACI,cAAmC,EACnC,cAAgD,EAChD,UAAgC,EAChC,SAA8B,EAC9B,MAA2B,EAC3B,SAAmC,EACnC,yBAA6D,EAC7D,YAAwC,EACxC,QAAuB,EACvB,aAA4C,EAC5C,aAAkC,EAClC,OAA8B;QAE9B,IAAI,CAAC,KAAK,GAAG,IAAI,yBAAW,CACxB,cAAc,EACd,cAAc,EACd,UAAU,EACV,SAAS,EACT,MAAM,EACN,SAAS,EACT,yBAAyB,EACzB,YAAY,EACZ,QAAQ,EACR,aAAa,EACb,aAAa,EACb,OAAO,CACV,CAAC;IACN,CAAC;IAED,sBAAW,wCAAW;aAAtB;YACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC;QAClC,CAAC;;;OAAA;IAED,sBAAW,uCAAU;aAArB;YACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC;QACjC,CAAC;;;OAAA;IAED,sBAAW,4CAAe;aAA1B;YACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC;QACtC,CAAC;;;OAAA;IAED,sBAAW,mCAAM;aAAjB;YACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC;QAC7B,CAAC;;;OAAA;IAEM,mCAAS,GAAhB,UAAiB,MAAM;QACnB,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IAC5B,CAAC;IAEM,oCAAU,GAAjB,UAAkB,cAAmB,EAAE,gBAAqB;QACxD,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,cAAc,EAAE,gBAAgB,CAAC,CAAC;IAC5D,CAAC;IAEM,6CAAmB,GAA1B,UAA2B,yBAA8B;QACrD,IAAI,CAAC,KAAK,CAAC,mBAAmB,CAAC,yBAAyB,CAAC,CAAC;IAC9D,CAAC;IAEM,kCAAQ,GAAf,UAAgB,eAAwB;QACpC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,eAAe,CAAC,CAAC;IACzC,CAAC;IACL,sBAAC;AAAD,CAhEA,AAgEC,IAAA;AAhEY,0CAAe;AAkE5B,OAAO,CAAC,MAAM,CAAC,iBAAiB,CAAC;KAC5B,OAAO,CAAC,oBAAoB,EAAE,eAAe,CAAC,CAAC;;;;ACnEpD;IAEI,2BACI,YAAwC,EACxC,QAAuB;QAEvB,UAAU,CAAC;QAEZ,QAAQ,CAAC,OAAO,EAAE,CAAC;QAClB,YAAY,CAAC,gBAAgB,CAAC,EAAE,CAAC,CAAC;IACtC,CAAC;IACL,wBAAC;AAAD,CAXA,AAWC,IAAA;AAXY,8CAAiB;AAa9B,OAAO,CAAC,MAAM,CAAC,kBAAkB,EAAE,EAAE,CAAC,CAAC;;;;ACdvC,CAAC;IACG;QACI,4BACI,cAAmC,EACnC,QAAuB,EACvB,MAA2B,EAC3B,YAAwC;YAExC,UAAU,CAAC;YAEX,cAAc,CAAC,eAAe,EAAE,CAAC;YAEjC,EAAE,CAAC,CAAC,QAAQ,CAAC,eAAe,IAAI,QAAQ,CAAC,eAAe,CAAC,MAAM,KAAK,IAAI,CAAC,CAAC,CAAC;gBACvE,MAAM,CAAC,EAAE,CAAC,YAAY,CAAC,WAAW,EAAE,EAAE,EAAE,CAAC,CAAC;YAC9C,CAAC;QACL,CAAC;QACL,yBAAC;IAAD,CAfA,AAeC,IAAA;IAED,IAAM,YAAY,GAAG,UAAC,cAAc,EAAE,oBAAoB;QACtD,cAAc;aACT,KAAK,CAAC,QAAQ,EAAE;YACb,GAAG,EAAE,oDAAoD;YACzD,IAAI,EAAE,KAAK;YACX,UAAU,EAAE,kBAAgB;YAC5B,YAAY,EAAE,OAAO;YACrB,WAAW,EAAE,oBAAoB;SACpC,CAAC,CAAA;IACV,CAAC,CAAA;IAED,OAAO;SACF,MAAM,CAAC,iBAAiB,EAAE;QACvB,iBAAiB;QAEjB,gBAAgB;QAChB,kBAAkB;KACrB,CAAC;SACD,MAAM,CAAC,YAAY,CAAC,CAAA;AAC7B,CAAC;;;;AClCD;IAEI,6BAA2B,SAA0C;QAA1C,cAAS,GAAT,SAAS,CAAiC;IAAG,CAAC;IAClE,kCAAI,GAAX,UAAY,MAAW,EAAE,eAA8B,EAAE,cAA6B;QAClF,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC;YACZ,WAAW,EAAE,MAAM,CAAC,KAAK;YACzB,WAAW,EAAE,0BAA0B;YACvC,UAAU,EAAE,sBAAsB;YAClC,YAAY,EAAE,OAAO;YACrB,MAAM,EAAE;gBACJ,MAAM,EAAE,MAAM;aACjB;YACD,mBAAmB,EAAE,KAAK;SAC7B,CAAC;aACD,IAAI,CAAC;YACF,EAAE,CAAC,CAAC,eAAe,CAAC,CAAC,CAAC;gBAClB,eAAe,EAAE,CAAC;YACtB,CAAC;QACL,CAAC,EAAE;YACC,EAAE,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC;gBACjB,cAAc,EAAE,CAAC;YACrB,CAAC;QACL,CAAC,CAAC,CAAC;IACX,CAAC;IACL,0BAAC;AAAD,CAxBA,AAwBC,IAAA;AAOD;IAII,gCACY,eAAe,EACf,mBAAmB,EACnB,QAAuB;QAE/B,UAAU,CAAC;QALf,iBAcC;QAbW,oBAAe,GAAf,eAAe,CAAA;QACf,wBAAmB,GAAnB,mBAAmB,CAAA;QACnB,aAAQ,GAAR,QAAQ,CAAe;QAI/B,QAAQ,CAAC,OAAO,EAAE,CAAC;QACnB,IAAI,CAAC,mBAAmB,GAAG;YACvB,KAAI,CAAC,gBAAgB,EAAE,CAAC;QAC5B,CAAC,CAAA;QACD,IAAI,CAAC,uBAAuB,GAAG,UAAC,IAAI;YAChC,KAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,CAAC;QACpC,CAAC,CAAA;IACL,CAAC;IAEO,iDAAgB,GAAxB;QACI,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;IAClC,CAAC;IAEO,qDAAoB,GAA5B,UAA6B,IAAI;QAC7B,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC;YAC1B,MAAM,EAAE,IAAI;SACf,CAAC,CAAC;IACP,CAAC;IACL,6BAAC;AAAD,CA7BA,AA6BC,IAAA;AAED,CAAC;IAEG,OAAO,CAAC,MAAM,CAAC,uBAAuB,EAAE;QAChC,iBAAiB;QACjB,gBAAgB;QAChB,uBAAuB;QACvB,2BAA2B;KAC9B,CAAC;SACD,OAAO,CAAC,iBAAiB,EAAE,mBAAmB,CAAC,CAAA;AACxD,CAAC;;;;;;;;;;;;;;AC7ED,mDAAkD;AAQlD;IAAiC,+BAAU;IAIvC,qBACI,cAAmC,EACnC,cAAgD,EACxC,UAAgC,EAChC,SAA8B,EAC9B,MAA2B,EAC3B,SAAmC,EACnC,YAAwC,EACxC,aAA4C,EAC5C,OAA8B,EAC9B,QAAuB,EACvB,YAA+B,EAC/B,YAA4C;QAEpD,UAAU,CAAC;QAdf,YAgBI,kBAAM,cAAc,CAAC,SAExB;QAfW,gBAAU,GAAV,UAAU,CAAsB;QAChC,eAAS,GAAT,SAAS,CAAqB;QAC9B,YAAM,GAAN,MAAM,CAAqB;QAC3B,eAAS,GAAT,SAAS,CAA0B;QACnC,kBAAY,GAAZ,YAAY,CAA4B;QACxC,mBAAa,GAAb,aAAa,CAA+B;QAC5C,aAAO,GAAP,OAAO,CAAuB;QAC9B,cAAQ,GAAR,QAAQ,CAAe;QACvB,kBAAY,GAAZ,YAAY,CAAmB;QAC/B,kBAAY,GAAZ,YAAY,CAAgC;QAdhD,4BAAsB,GAAW,gBAAgB,CAAC;QAmBtD,KAAI,CAAC,WAAW,GAAG,cAAc,CAAC,MAAM,CAAC,cAAc,CAAC,CAAC;;IAC7D,CAAC;IAEM,0BAAI,GAAX,UAAY,MAAM;QACd,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;QACvB,IAAI,CAAC,oBAAoB,EAAE,CAAC;IAChC,CAAC;IAEO,0CAAoB,GAA5B;QACI,IAAI,CAAC,UAAU,CAAC,SAAS,GAAG,IAAI,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,IAAI,IAAI,CAAC;QAC3E,IAAI,CAAC,UAAU,CAAC,KAAK,GAAG,IAAI,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,IAAI,CAAC;QACnE,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,IAAI,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,IAAI,IAAI,CAAC;QACrE,IAAI,CAAC,UAAU,CAAC,eAAe,GAAG,IAAI,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC,IAAI,IAAI,CAAC;QACvF,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,IAAI,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,IAAI,IAAI,CAAC;QACrE,IAAI,CAAC,UAAU,CAAC,IAAI,GAAG,IAAI,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC;QACjE,IAAI,CAAC,UAAU,CAAC,QAAQ,GAAG,IAAI,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,IAAI,IAAI,CAAC;IAC7E,CAAC;IAEM,gCAAU,GAAjB,UAAkB,cAAmB,EAAE,gBAAqB;QACxD,EAAE,CAAC,CAAC,CAAC,cAAc,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC;YACvC,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,IAAI,CAAC,YAAY,CAAC,WAAW,EAAE,EAAE,EAAE,CAAC,CAAC;YACpD,MAAM,CAAC;QACX,CAAC;QACD,EAAE,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC;YACjB,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,cAAc,CAAC,CAAC;YAC/B,MAAM,CAAC;QACX,CAAC;QACD,EAAE,CAAC,CAAC,gBAAgB,CAAC,CAAC,CAAC;YACnB,gBAAgB,EAAE,CAAC;YACnB,MAAM,CAAC;QACX,CAAC;IACL,CAAC;IAEM,8BAAQ,GAAf,UAAgB,cAAmB;QAAnC,iBAoGC;QAnGG,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;YAC5B,IAAI,CAAC,aAAa,CAAC,eAAe,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;YAC3D,MAAM,CAAC;QACX,CAAC;QACD,IAAM,aAAa,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC;QAC3D,EAAE,CAAC,CAAC,CAAC,aAAa,CAAC;YAAC,MAAM,CAAC;QAE3B,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC,CAAC;YAC9B,IAAI,CAAC,OAAO,CAAC,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC;QACxD,CAAC;QAED,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC;YACpC,SAAS,EAAE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS;YACrC,IAAI,EAAE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI;YAC3B,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,eAAe,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK;YACpF,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK;YAC7B,QAAQ,EAAE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ;YACnC,QAAQ,EAAE,IAAI,CAAC,YAAY,CAAC,QAAQ,IAAI,IAAI;YAC5C,KAAK,EAAE,SAAS;YAChB,SAAS,EAAE,IAAI;SAClB,EACG,UAAC,IAAiB;YACd,KAAI,CAAC,aAAa,CAAC,eAAe,CAAC,KAAI,CAAC,MAAM,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;YAC5D,EAAE,CAAC,CAAC,KAAI,CAAC,WAAW,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC;gBAAC,MAAM,CAAC;YAEpD,KAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;YAChC,KAAI,CAAC,WAAW,CAAC,GAAG,EAAE,CAAC;YAMnB,KAAI,CAAC,YAAY,CAAC,eAAe,CAC7B,KAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,IAAI,CAAC,EAC7B,KAAI,CAAC,sBAAsB,EAC3B,KAAK,CAAC,CAAC;YAGf,EAAE,CAAC,CAAC,KAAI,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC,CAAC;gBAC3B,EAAE,CAAC,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC;oBAClB,KAAI,CAAC,YAAY,CAAC,EAAE,CAAC,aAAa,EAAE;wBAChC,QAAQ,EAAE,KAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,IAAI,CAAC;qBAC1C,CAAC,CAAC;gBACP,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACJ,cAAc,CAAC,IAAI,CAAC,CAAC;gBACzB,CAAC;YACL,CAAC;YAAC,IAAI,CAAC,CAAC;gBACJ,KAAI,CAAC,OAAO,CAAC,WAAW,CAAC,gBAAgB,CAAC,CAAC,GAAG,CAC1C;oBACI,OAAO,EAAE,IAAI,CAAC,IAAI,CAAC,EAAE;iBACxB,EACD,UAAC,OAAsB;oBACnB,EAAE,CAAC,CAAC,OAAO,IAAI,OAAO,CAAC,QAAQ,IAAI,OAAO,CAAC,KAAK,IAAI,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;wBAClE,KAAI,CAAC,YAAY,CAAC,cAAc,CAAC,EAAE,CAAC,CAAC;oBACzC,CAAC;oBAAC,IAAI,CAAC,CAAC;wBACJ,KAAI,CAAC,YAAY,CAAC,EAAE,CAAC,cAAc,EAAE;4BACjC,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE,SAAS,EAAE,KAAI,CAAC,OAAO,CAAC,SAAS;yBAClF,CAAC,CAAC;oBACP,CAAC;oBACD,KAAI,CAAC,WAAW,CAAC,GAAG,EAAE,CAAC;gBAC3B,CAAC,EACD,UAAC,KAAU;oBACP,KAAI,CAAC,aAAa,CAAC,eAAe,CAAC,KAAI,CAAC,MAAM,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;oBAC3D,KAAI,CAAC,aAAa,CAAC,YAAY,CAC3B,KAAI,CAAC,MAAM,CAAC,IAAI,EAAE,KAAK,EAAE;wBACrB,aAAa,EAAE,aAAa;wBAC5B,UAAU,EAAE,aAAa;wBACzB,eAAe,EAAE,aAAa;wBAC9B,gBAAgB,EAAE,UAAU;wBAC5B,UAAU,EAAE,WAAW;wBACvB,SAAS,EAAE,gBAAgB;wBAC3B,aAAa,EAAE,MAAM;wBACrB,IAAI,EAAE,MAAM;qBACf,CACJ,CAAC;oBACF,KAAI,CAAC,WAAW,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;gBAChC,CAAC,CAAC,CAAC;YAGX,CAAC;QACL,CAAC,EACD,UAAC,KAAU;YAEP,KAAI,CAAC,aAAa,CAAC,eAAe,CAAC,KAAI,CAAC,MAAM,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;YAC3D,KAAI,CAAC,aAAa,CAAC,YAAY,CAC3B,KAAI,CAAC,MAAM,CAAC,IAAI,EAAE,KAAK,EAAE;gBACrB,aAAa,EAAE,aAAa;gBAC5B,UAAU,EAAE,aAAa;gBACzB,eAAe,EAAE,aAAa;gBAC9B,gBAAgB,EAAE,UAAU;gBAC5B,UAAU,EAAE,WAAW;gBACvB,SAAS,EAAE,gBAAgB;gBAC3B,aAAa,EAAE,MAAM;gBACrB,IAAI,EAAE,MAAM;aACf,CACJ,CAAC;YACF,KAAI,CAAC,WAAW,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;QAChC,CAAC,CACJ,CAAC;IACN,CAAC;IAAA,CAAC;IACN,kBAAC;AAAD,CA3JA,AA2JC,CA3JgC,uBAAU,GA2J1C;AA3JY,kCAAW;;;;ACHxB,CAAC;IACG;QAQI,+BACY,MAAiB,EAClB,QAAmC,EACnC,aAA4C,EAC5C,YAA+B,EAC9B,OAA8B,EAC9B,kBAAmC;YAE3C,UAAU,CAAC;YAPH,WAAM,GAAN,MAAM,CAAW;YAClB,aAAQ,GAAR,QAAQ,CAA2B;YACnC,kBAAa,GAAb,aAAa,CAA+B;YAC5C,iBAAY,GAAZ,YAAY,CAAmB;YAC9B,YAAO,GAAP,OAAO,CAAuB;YAC9B,uBAAkB,GAAlB,kBAAkB,CAAiB;YATxC,YAAO,GAAY,KAAK,CAAC;YAa5B,IAAI,CAAC,kBAAkB,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YAC/C,IAAI,CAAC,qBAAqB,GAAG,aAAa,CAAC,qBAAqB,CAAC;QACrE,CAAC;QAEM,yCAAS,GAAhB;YACI,IAAI,CAAC,MAAM,CAAC,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC;QACxC,CAAC;QAED,sBAAW,yCAAM;iBAAjB;gBACI,MAAM,CAAC,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC;YAC1C,CAAC;;;WAAA;QAED,sBAAW,8CAAW;iBAAtB;gBACI,MAAM,CAAC,IAAI,CAAC,kBAAkB,CAAC,WAAW,CAAC;YAC/C,CAAC;;;WAAA;QAED,sBAAW,kDAAe;iBAA1B;gBACI,MAAM,CAAC,IAAI,CAAC,kBAAkB,CAAC,eAAe,CAAC;YACnD,CAAC;;;WAAA;QAED,sBAAW,6CAAU;iBAArB;gBACI,MAAM,CAAC,IAAI,CAAC,kBAAkB,CAAC,UAAU,CAAC;YAC9C,CAAC;;;WAAA;QAEM,0CAAU,GAAjB;YACI,IAAI,CAAC,kBAAkB,CAAC,UAAU,CAAC,IAAI,CAAC,cAAc,EAAE,IAAI,CAAC,gBAAgB,CAAC,CAAC;QACnF,CAAC;QAEM,wCAAQ,GAAf;YACI,IAAI,CAAC,kBAAkB,CAAC,QAAQ,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;QAC1D,CAAC;QAEM,uCAAO,GAAd,UAAe,KAAU;YACrB,EAAE,CAAC,CAAC,KAAK,CAAC,OAAO,KAAK,EAAE,CAAC,CAAC,CAAC;gBACvB,IAAI,CAAC,QAAQ,EAAE,CAAC;YACpB,CAAC;QACL,CAAC;QAEM,6CAAa,GAApB,UAAqB,KAAa;YAAlC,iBAwCC;YAvCG,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;gBAAC,MAAM,CAAA;YAAC,CAAC;YACvC,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC;gBAAC,MAAM,CAAC;YACzB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;YAElB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;YACpB,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,EACnD,UAAC,IAAI;gBACD,EAAE,CAAC,CAAC,KAAI,CAAC,MAAM,CAAC,IAAI,IAAI,KAAI,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;oBAC9C,KAAI,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,YAAY,CAAC,aAAa,EAAE,IAAI,CAAC,CAAC;gBAC9D,CAAC;gBACD,KAAI,CAAC,OAAO,GAAG,KAAK,CAAC;YACzB,CAAC,EACD,UAAC,GAAG;gBACA,EAAE,CAAC,CAAC,GAAG,IAAI,GAAG,CAAC,MAAM,IAAI,GAAG,IAAI,GAAG,CAAC,IAAI,IAAI,GAAG,CAAC,IAAI,CAAC,IAAI,IAAI,oBAAoB,CAAC,CAAC,CAAC;oBAChF,EAAE,CAAC,CAAC,KAAI,CAAC,MAAM,CAAC,IAAI,IAAI,KAAI,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;wBAC9C,KAAI,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,YAAY,CAAC,aAAa,EAAE,KAAK,CAAC,CAAC;oBAC/D,CAAC;gBACL,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACJ,IAAI,IAAI,GAAW,GAAG,CAAC,IAAI,IAAI,CAAC,GAAG,CAAC,IAAI,IAAI,EAAE,CAAC,CAAC,IAAI,IAAI,IAAI,CAAC;oBAC7D,EAAE,CAAC,CAAC,CAAC,IAAI,IAAI,GAAG,CAAC,MAAM,CAAC;wBAAC,IAAI,GAAG,GAAG,CAAC,MAAM,CAAC;oBAE3C,EAAE,CAAC,CAAC,IAAI,IAAI,IAAI,CAAC,CAAC,CAAC;wBACf,KAAI,CAAC,KAAK,GAAG,QAAQ,GAAG,IAAI,CAAC;oBAGjC,CAAC;oBAAC,IAAI,CAAC,CAAC;wBAEJ,EAAE,CAAC,CAAC,GAAG,CAAC,IAAI,IAAI,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;4BAC/B,KAAI,CAAC,KAAK,GAAG,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC;wBAClC,CAAC;wBAAC,IAAI,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;4BACrB,KAAI,CAAC,KAAK,GAAG,GAAG,CAAC,OAAO,CAAC;wBAC7B,CAAC;wBAAC,IAAI,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC;4BAClB,KAAI,CAAC,KAAK,GAAG,GAAG,CAAC,IAAI,CAAC;wBAC1B,CAAC;wBAAC,IAAI;4BAAC,KAAI,CAAC,KAAK,GAAG,GAAG,CAAC;oBAC5B,CAAC;gBACL,CAAC;gBAED,KAAI,CAAC,OAAO,GAAG,KAAK,CAAC;YACzB,CAAC,CAAC,CAAC;QACX,CAAC;QAEM,kDAAkB,GAAzB;YACI,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;YAClB,IAAI,CAAC,MAAM,CAAC,kBAAkB,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC;QACtF,CAAC;QAEM,yCAAS,GAAhB;YACI,IAAI,CAAC,aAAa,CAAC,eAAe,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;YAC5D,IAAI,CAAC,aAAa,CAAC,iBAAiB,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;YAC7D,IAAI,CAAC,OAAO,CAAC,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,UAAU,CAAC;YACzD,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,UAAU,CAAC;QACjE,CAAC;QACM,uCAAO,GAAd,UAAe,KAAU;YACrB,MAAM,CAAC,KAAK,CAAC,QAAQ,IAAI,KAAK,CAAC,KAAK,IAAI,KAAK,CAAC,WAAW,IAAI,KAAK,CAAC,iBAAiB,IAAI,KAAK,CAAC,cAAc,CAAA;QAChH,CAAC;QACL,4BAAC;IAAD,CAhHA,AAgHC,IAAA;IAUD,IAAM,mBAAmB,GAAyB;QAC9C,cAAc,EAAE,gBAAgB;QAChC,cAAc,EAAE,oBAAoB;QACpC,gBAAgB,EAAE,sBAAsB;KAC3C,CAAA;IAED;QAAA;QAMA,CAAC;QAAD,iCAAC;IAAD,CANA,AAMC,IAAA;IAED,IAAM,WAAW,GAAyB;QACtC,QAAQ,EAAE,mBAAmB;QAC7B,UAAU,EAAE,qBAAqB;QACjC,WAAW,EAAE,yBAAyB;KACzC,CAAA;IAED,OAAO,CAAC,MAAM,CAAC,gBAAgB,EAAE,CAAC,YAAY,EAAE,kBAAkB,CAAC,CAAC;SAC/D,SAAS,CAAC,gBAAgB,EAAE,WAAW,CAAC,CAAC;AAClD,CAAC;;;;ACtJD,6CAA4C;AAK5C;IAGI,yBACI,cAAmC,EACnC,cAAgD,EAChD,UAAgC,EAChC,SAA8B,EAC9B,MAA2B,EAC3B,SAAmC,EACnC,YAAwC,EACxC,aAA4C,EAC5C,OAA8B,EAC9B,QAAuB,EACvB,YAA+B,EAC/B,YAA4C;QAE5C,UAAU,CAAC;QAEX,IAAI,CAAC,KAAK,GAAG,IAAI,yBAAW,CAAC,cAAc,EAAE,cAAc,EAAE,UAAU,EAAE,SAAS,EAAE,MAAM,EAAE,SAAS,EACjG,YAAY,EAAE,aAAa,EAAE,OAAO,EAAE,QAAQ,EAAE,YAAY,EAAE,YAAY,CAAC,CAAC;IACpF,CAAC;IAED,sBAAW,wCAAW;aAAtB;YACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC;QAClC,CAAC;;;OAAA;IAED,sBAAW,uCAAU;aAArB;YACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC;QACjC,CAAC;;;OAAA;IAED,sBAAW,4CAAe;aAA1B;YACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC;QACtC,CAAC;;;OAAA;IAED,sBAAW,mCAAM;aAAjB;YACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC;QAC7B,CAAC;;;OAAA;IAEM,mCAAS,GAAhB,UAAiB,MAAM;QACnB,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IAC5B,CAAC;IAEM,oCAAU,GAAjB,UAAkB,cAAmB,EAAE,gBAAqB;QACxD,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,cAAc,EAAE,gBAAgB,CAAC,CAAC;IAC5D,CAAC;IAEM,kCAAQ,GAAf,UAAgB,cAAmB;QAC/B,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,cAAc,CAAC,CAAC;IACxC,CAAC;IACL,sBAAC;AAAD,CAlDA,AAkDC,IAAA;AAlDY,0CAAe;AAoD5B,OAAO,CAAC,MAAM,CAAC,iBAAiB,CAAC;KAC5B,OAAO,CAAC,oBAAoB,EAAE,eAAe,CAAC,CAAC;;;;ACtDpD;IAUI,+BACY,MAAiB,EACjB,OAA0B,EAC1B,aAA4C,EAC5C,uBAA6C,EAC7C,WAA0C,EAC1C,QAA4B;QAEpC,UAAU,CAAC;QARf,iBA8BC;QA7BW,WAAM,GAAN,MAAM,CAAW;QACjB,YAAO,GAAP,OAAO,CAAmB;QAC1B,kBAAa,GAAb,aAAa,CAA+B;QAC5C,4BAAuB,GAAvB,uBAAuB,CAAsB;QAC7C,gBAAW,GAAX,WAAW,CAA+B;QAC1C,aAAQ,GAAR,QAAQ,CAAoB;QAIpC,uBAAuB,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAC/C,IAAI,CAAC,qBAAqB,GAAG,aAAa,CAAC,qBAAqB,CAAC;QAGjE,QAAQ,CAAC;YACL,KAAI,CAAC,MAAM,CAAC,IAAI,GAAG,KAAI,CAAC,MAAM,CAAC,IAAI,CAAC;YACpC,EAAE,CAAC,CAAC,KAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,IAAI,KAAI,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;gBAClD,KAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC;gBACjC,KAAI,CAAC,uBAAuB,CAAC,QAAQ,CACjC,UAAC,IAAS;oBACN,KAAI,CAAC,uBAAuB,CAAC,UAAU,EAAE,CAAC;gBAC9C,CAAC,EACD,UAAC,KAAU;oBACP,KAAI,CAAC,oBAAoB,GAAG,KAAK,CAAC;gBACtC,CAAC,CACJ,CAAC;YACN,CAAC;YAAC,IAAI,CAAC,CAAC;gBACJ,KAAI,CAAC,oBAAoB,GAAG,KAAK,CAAC;YACtC,CAAC;QACL,CAAC,EAAE,CAAC,CAAC,CAAA;IACT,CAAC;IAEM,sCAAM,GAAb;QAEI,IAAI,CAAC,uBAAuB,CAAC,QAAQ,EAAE,CAAC;IAC5C,CAAC;IAED,sBAAW,yCAAM;aAAjB;YACI,MAAM,CAAC,IAAI,CAAC,uBAAuB,CAAC,MAAM,CAAC;QAC/C,CAAC;;;OAAA;IAED,sBAAW,8CAAW;aAAtB;YACI,MAAM,CAAC,IAAI,CAAC,uBAAuB,CAAC,WAAW,CAAC;QACpD,CAAC;;;OAAA;IAEM,wCAAQ,GAAf;QACI,IAAI,CAAC,uBAAuB,CAAC,QAAQ,EAAE,CAAC;IAC5C,CAAC;IAEM,yCAAS,GAAhB;QACI,IAAI,CAAC,uBAAuB,CAAC,SAAS,EAAE,CAAC;IAC7C,CAAC;IACL,4BAAC;AAAD,CA9DA,AA8DC,IAAA;AA9DY,sDAAqB;AAgElC;IACI,sCACI,MAAiB,EACT,uBAA6C;QAA7C,4BAAuB,GAAvB,uBAAuB,CAAsB;QAErD,uBAAuB,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;IAC9C,CAAC;IAEM,iDAAU,GAAjB;QACI,IAAI,CAAC,uBAAuB,CAAC,UAAU,EAAE,CAAC;IAC9C,CAAC;IACL,mCAAC;AAAD,CAXA,AAWC,IAAA;AAXY,oEAA4B;AAazC,OAAO,CAAC,MAAM,CAAC,sBAAsB,EAAE,EAAE,CAAC,CAAC;;;;;;;;;;;;;;ACjF3C,mDAAkD;AAKlD;IAAsC,oCAAU;IAG5C,0BACI,cAAmC,EACnC,cAAgD,EACxC,UAAgC,EAChC,SAA8B,EAC9B,MAA2B,EAC3B,SAAmC,EACnC,YAAwC,EACxC,aAA4C,EAC5C,OAA8B,EAC9B,YAA+B,EAC/B,WAA0C,EAC1C,QAAuB;QAE/B,UAAU,CAAC;QAdf,YAgBI,kBAAM,cAAc,CAAC,SAExB;QAfW,gBAAU,GAAV,UAAU,CAAsB;QAChC,eAAS,GAAT,SAAS,CAAqB;QAC9B,YAAM,GAAN,MAAM,CAAqB;QAC3B,eAAS,GAAT,SAAS,CAA0B;QACnC,kBAAY,GAAZ,YAAY,CAA4B;QACxC,mBAAa,GAAb,aAAa,CAA+B;QAC5C,aAAO,GAAP,OAAO,CAAuB;QAC9B,kBAAY,GAAZ,YAAY,CAAmB;QAC/B,iBAAW,GAAX,WAAW,CAA+B;QAC1C,cAAQ,GAAR,QAAQ,CAAe;QAd3B,4BAAsB,GAAW,gBAAgB,CAAC;QAmBtD,KAAI,CAAC,WAAW,GAAG,cAAc,CAAC,MAAM,CAAC,oBAAoB,CAAC,CAAC;;IACnE,CAAC;IAEM,+BAAI,GAAX,UAAY,MAAM;QACd,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;QACvB,IAAI,CAAC,oBAAoB,EAAE,CAAC;QAC5B,IAAI,CAAC,cAAc,CAAC,eAAe,EAAE,CAAC;IAC1C,CAAC;IAEO,+CAAoB,GAA5B;QACI,IAAI,CAAC,UAAU,CAAC,QAAQ,GAAG,IAAI,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,IAAI,IAAI,CAAC;QACzE,IAAI,CAAC,UAAU,CAAC,KAAK,GAAG,IAAI,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,IAAI,CAAC;QACnE,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,IAAI,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,IAAI,IAAI,CAAC;QACrE,IAAI,CAAC,UAAU,CAAC,cAAc,GAAG,IAAI,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,cAAc,CAAC,IAAI,IAAI,CAAC;QACrF,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,IAAI,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,IAAI,IAAI,CAAC;QACrE,IAAI,CAAC,UAAU,CAAC,IAAI,GAAG,IAAI,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC;QACjE,IAAI,CAAC,UAAU,CAAC,QAAQ,GAAG,IAAI,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,IAAI,IAAI,CAAC;IAC7E,CAAC;IAEM,mCAAQ,GAAf,UAAgB,eAAqC,EAAE,aAAoC;QAA3F,iBA6DC;QA5DG,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;YAC5B,IAAI,CAAC,aAAa,CAAC,eAAe,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;YAC3D,MAAM,CAAC;QACX,CAAC;QAED,IAAI,aAAa,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC;QACzD,EAAE,CAAC,CAAC,CAAC,aAAa,CAAC;YAAC,MAAM,CAAC;QAE3B,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC,CAAC;YAC9B,IAAI,CAAC,OAAO,CAAC,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC;QACxD,CAAC;QAED,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC;YAC1B,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK;YAC7B,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK;YACvD,IAAI,EAAE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI;SAC9B,EACG,UAAC,IAAI;YACD,KAAI,CAAC,aAAa,CAAC,eAAe,CAAC,KAAI,CAAC,MAAM,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;YAC5D,EAAE,CAAC,CAAC,KAAI,CAAC,WAAW,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC;gBAAC,MAAM,CAAC;YAEpD,IAAI,MAAM,GAAG,KAAI,CAAC,YAAY,CAAC,SAAS,EAAE,CAAC;YAC3C,EAAE,CAAC,CAAC,eAAe,CAAC;gBAAC,eAAe,CAAC,IAAI,CAAC,CAAC;YAE3C,KAAI,CAAC,WAAW,CAAC,GAAG,EAAE,CAAC;YACvB,KAAI,CAAC,YAAY,CAAC,eAAe,CAC7B,MAAM,EACN,KAAI,CAAC,sBAAsB,EAC3B,IAAI,EACJ,UAAC,IAAI;gBACD,IAAI,QAAQ,GAAQ,KAAI,CAAC,WAAW,CAAC,QAAQ,CAAC;gBAC9C,EAAE,CAAC,CAAC,QAAQ,IAAI,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC;oBAC5B,EAAE,CAAC,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC;wBAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;oBAEzD,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAI,CAAC,sBAAsB,CAAC,GAAG,MAAM,CAAC;oBAC7D,KAAI,CAAC,WAAW,CAAC,QAAQ,GAAG,QAAQ,CAAC;gBACzC,CAAC;gBACD,KAAI,CAAC,UAAU,EAAE,CAAC;YACtB,CAAC,EACL,UAAC,KAAU;gBACP,KAAI,CAAC,WAAW,CAAC,GAAG,CAAC,KAAK,CAAC,CAAA;YAC/B,CAAC,CAAC,CAAC;QAEP,CAAC,EACD,UAAC,KAAK;YACF,KAAI,CAAC,WAAW,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;YAC5B,KAAI,CAAC,aAAa,CAAC,eAAe,CAAC,KAAI,CAAC,MAAM,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;YAC3D,KAAI,CAAC,aAAa,CAAC,YAAY,CAC3B,KAAI,CAAC,MAAM,CAAC,IAAI,EAAE,KAAK,EAAE;gBACrB,mBAAmB,EAAE,OAAO;gBAC5B,gBAAgB,EAAE,OAAO;gBACzB,UAAU,EAAE,OAAO;gBACnB,cAAc,EAAE,MAAM;gBACtB,aAAa,EAAE,MAAM;gBACrB,IAAI,EAAE,MAAM;aACf,CACJ,CAAC;YACF,EAAE,CAAC,CAAC,aAAa,CAAC;gBAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC5C,CAAC,CACJ,CAAC;IACN,CAAC;IAEM,oCAAS,GAAhB;QAAA,iBAqBC;QApBG,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;YAE1B,MAAM,CAAC;QACX,CAAC;QAED,IAAM,GAAG,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC;QACjD,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC;YAAC,MAAM,CAAC;QAEjB,IAAI,CAAC,YAAY,CAAC,wBAAwB,CAAC;YACvC,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK;SAChC,EACG,UAAC,IAAI;YACD,EAAE,CAAC,CAAC,KAAI,CAAC,WAAW,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;gBAAC,MAAM,CAAC;YAC1C,KAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAA;YAC5B,KAAI,CAAC,WAAW,CAAC,GAAG,EAAE,CAAC;QAC3B,CAAC,EACD,UAAC,KAAK;YACF,KAAI,CAAC,WAAW,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;QAChC,CAAC,CACJ,CAAC;IACN,CAAC;IAEM,qCAAU,GAAjB;QACI,EAAE,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC,CAAC;YACvC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC;QAC7D,CAAC;QAAC,IAAI,CAAC,CAAC;YACJ,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,MAAM,CAAC,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,GAAG,EAAE,CAAC,CAAC;QAC9F,CAAC;IACL,CAAC;IAEM,mCAAQ,GAAf;QACI,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC;QACxB,IAAI,CAAC,YAAY,CAAC,gBAAgB,CAAC,EAAE,CAAC,CAAC;IAC3C,CAAC;IACL,uBAAC;AAAD,CAzIA,AAyIC,CAzIqC,uBAAU,GAyI/C;AAzIY,4CAAgB;;;;ACL7B,uDAAsD;AAItD;IAGI,8BACI,cAAmB,EACnB,cAAgD,EAChD,UAAgC,EAChC,SAA8B,EAC9B,MAA2B,EAC3B,SAAmC,EACnC,YAAwC,EACxC,aAA4C,EAC5C,OAA8B,EAC9B,YAA+B,EAC/B,WAA0C,EAC1C,QAAuB;QAEvB,UAAU,CAAC;QAEX,IAAI,CAAC,KAAK,GAAG,IAAI,mCAAgB,CAAC,cAAc,EAAE,cAAc,EAAE,UAAU,EAAE,SAAS,EAAE,MAAM,EAC3F,SAAS,EAAE,YAAY,EAAE,aAAa,EAAE,OAAO,EAAE,YAAY,EAAE,WAAW,EAAE,QAAQ,CAAC,CAAC;IAC9F,CAAC;IAED,sBAAW,6CAAW;aAAtB;YACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC;QAClC,CAAC;;;OAAA;IAED,sBAAW,4CAAU;aAArB;YACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC;QACjC,CAAC;;;OAAA;IAED,sBAAW,iDAAe;aAA1B;YACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC;QACtC,CAAC;;;OAAA;IAED,sBAAW,wCAAM;aAAjB;YACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC;QAC7B,CAAC;;;OAAA;IAEM,wCAAS,GAAhB,UAAiB,MAAM;QACnB,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IAC5B,CAAC;IAEM,uCAAQ,GAAf,UAAgB,eAAqC,EAAE,aAAoC;QACvF,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,eAAe,EAAE,aAAa,CAAC,CAAC;IACxD,CAAC;IAEM,wCAAS,GAAhB;QACI,IAAI,CAAC,KAAK,CAAC,SAAS,EAAE,CAAC;IAC3B,CAAC;IAEM,yCAAU,GAAjB;QACI,IAAI,CAAC,KAAK,CAAC,UAAU,EAAE,CAAC;IAC5B,CAAC;IAEM,uCAAQ,GAAf;QACI,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAC;IAC1B,CAAC;IACL,2BAAC;AAAD,CA1DA,AA0DC,IAAA;AA1DY,oDAAoB;AA4DjC,OAAO,CAAC,MAAM,CAAC,sBAAsB,CAAC;KACjC,OAAO,CAAC,yBAAyB,EAAE,oBAAoB,CAAC,CAAC;;ACjE9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;A3EtRA;;;A4ESA;IAAA;IAGA,CAAC;IAAD,kBAAC;AAAD,CAHA,AAGC,IAAA;AAHY,kCAAW;;;;ACDxB,CAAC;IACG,IAAM,GAAG,GAAG,UACR,UAAgC,EAAE,QAAuB,EAAE,MAA2B;QAEtF,UAAU,CAAC,GAAG,CAAC,mBAAmB,EAC9B,UAAC,KAAK,EAAE,OAAO,EAA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B,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YACxC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;QACzC,CAAC;QAEM,4BAAI,GAAX;YACI,UAAU,CAAC;YAEX,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC;gBACtB,IAAI,CAAC,QAAQ,GAAG,IAAI,cAAY,CAAC,IAAI,CAAC,mBAAmB,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;YAElF,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC;QACzB,CAAC;QACL,oBAAC;IAAD,CAxBA,AAwBC,IAAA;IAED,OAAO,CAAC,MAAM,CAAC,UAAU,EAAE,EAAE,CAAC;SACzB,GAAG,CAAC,GAAG,CAAC;SACR,QAAQ,CAAC,UAAU,EAAE,aAAa,CAAC,CAAC;AAC7C,CAAC;;;;;;;AjE5GD,OAAO,CAAC,MAAM,CAAC,UAAU,EAAE,EAAE,CAAC,CAAC;AAE/B,0BAAwB;AAExB,qCAAgC;;;;;;;AZNhC;;A8EAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACjvCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACxLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AC3EA,mDAAkD;AAOlD,IAAM,kBAAkB,GAAG,UAAC,oBAAqD;IAC7E,oBAAoB,CAAC,YAAY,CAAC,IAAI,EAAE;QACpC,MAAM,EAAE,iBAAiB;QACzB,UAAU,EAAE,cAAc;QAC1B,QAAQ,EAAE,YAAY;QACtB,eAAe,EAAE,mBAAmB;KACvC,CAAC,CAA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CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACjvCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACxLA;AACA;AACA;AACA;AACA;AACA;AACA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BAAgB;IAChB,mBAAmB;IACnB,mBAAmB;IACnB,iBAAiB;IACjB,qBAAqB;CACxB,CAAC,CAAC;AAIP,2DAAsD;AACtD,4BAAuB;;AgHpBvB,iCAAiC,eAAuC;IACpE,eAAe,CAAC,uBAAuB,CAAC,WAAW,EAAE,6BAA6B,EAC9E,EAAE,OAAO,EAAE,cAAc,EAAE,EAC3B;QACI,IAAI,EAAE,EAAE,MAAM,EAAE,KAAK,EAAE,OAAO,EAAE,KAAK,EAAE;QACvC,MAAM,EAAE,EAAE,MAAM,EAAE,KAAK,EAAE;KAC5B,CAAC,CAAC;IACP,eAAe,CAAC,gBAAgB,CAAC,cAAc,EAAE,kCAAkC,CAAC,CAAC;AACzF,CAAC;AAED,OAAO;KACF,MAAM,CAAC,mBAAmB,CAAC;KAC3B,MAAM,CAAC,uBAAuB,CAAC,CAAC;;ACbrC,6BAA6B,eAAuC;IAChE,eAAe,CAAC,uBAAuB,CAAC,OAAO,EAAE,yBAAyB,CAAC,CAAC;AAChF,CAAC;AAOD,OAAO;KACF,MAAM,CAAC,mBAAmB,CAAC;KAC3B,MAAM,CAAC,mBAAmB,CAAC,CAAC;;;;A/GTjC,OAAO;KACF,MAAM,CAAC,mBAAmB,EAAE,EAAE,CAAC,CAAC;AAErC,+BAA6B;AAC7B,2BAAyB;;AgHNzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;A9H7DA;;A8EAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACjvCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACxLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAC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SACzC,CAAA;IACL,CAAC,CAAA;IAED,OAAO,CAAC,MAAM,CAAC,qBAAqB,EAAE,EAAE,CAAC;SACpC,SAAS,CAAC,qBAAqB,EAAE,gBAAgB,CAAC,CAAC;AAE5D,CAAC;;ACzBD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;AhJ/GA;;;A0FAA;IAAA;IAIA,CAAC;IAAD,iBAAC;AAAD,CAJA,AAIC,IAAA;AAJY,gCAAU;;;;AuDGvB;IAAA;IA0BA,CAAC;IAAD,YAAC;AAAD,CA1BA,AA0BC,IAAA;AA1BY,sBAAK;;;;ACDlB,yCAAwC;AACxC,6CAA4C;AAG5C;IAQI,mBACY,OAA8B,EAC9B,SAA+B;QAEvC,UAAU,CAAC;QAHH,YAAO,GAAP,OAAO,CAAuB;QAC9B,cAAS,GAAT,SAAS,CAAsB;QATnC,aAAQ,GAAW,QAAQ,CAAC;QAC5B,oBAAe,GAAW,cAAc,CAAC;QAEzC,cAAS,GAAW,GAAG,CAAC;QACxB,eAAU,GAAW,CAAC,CAAC;QACvB,eAAU,GAAY,IAAI,CAAC;IAQnC,CAAC;IAEM,8BAAU,GAAjB,UAAkB,MAAW,EAAE,eAA0C,EAAE,aAAoC;QAC3G,MAAM,GAAG,MAAM,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QAC7B,CAAC,CAAC;QAGF,MAAM,CAAC;YAUH,MAAM,EAAE;gBACJ,MAAM,CAAC,IAAI,WAAW,EAAE,CAAC;YAC7B,CAAC;SACJ,CAAC;IACN,CAAC;IAED,OAAO,CAAC,MAAM,CAAC,cAAc,CAAC;SACzB,OAAO,CAAC,aAAa,EAAE,WAAW,CAAC,CAAC;AAC7C,CAAC,CAAC,EAAE,CAAC;;;;AC/ML,CAAC;IACG,OAAO,CAAC,MAAM,CAAC,cAAc,EAAE,EAAE,CAAC,CAAC;AACvC,CAAC;AAED,oCAAkC;AAClC,sBAAoB;AACpB,6BAA2B;AAC3B,6BAA2B;;ACP3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AxMjJA;;;;;;AyMIA;IAGI,iBACY,OAA8B,EAC9B,UAAwC;QAEhD,UAAU,CAAC;QAHH,YAAO,GAAP,OAAO,CAAuB;QAC9B,eAAU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","file":"pip-suite.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","import { IAuthState } from './IAuthStateService';\nexport const UnauthorizedRedirect: string = 'pipUnauthorizedRedirect';\nexport const AccessDenyRedirect: string = 'pipAccessDenyRedirect';\n\nclass AuthHttpResponseInterceptor implements ng.IHttpInterceptor {\n    constructor(\n        private $q: ng.IQService, \n        private $rootScope: ng.IRootScopeService,\n        private $location: ng.ILocationService,\n        private $log: ng.ILogService\n    ) {\n        \"ngInject\";\n    }\n\n    public responseError = (rejection: any): ng.IPromise<any> => {\n        let toState: IAuthState = this.$rootScope[pip.services.StateVar] && this.$rootScope[pip.services.StateVar].name ? this.$rootScope[pip.services.StateVar].name : null;\n        let toParams: any = this.$rootScope[pip.services.StateVar] && this.$rootScope[pip.services.StateVar].params ? this.$rootScope[pip.services.StateVar].params : null;\n        // When server sends Non-authenticated response\n        switch (rejection.status) {\n            case 401:\n            case 440:\n                this.$log.error(\"Response Error 401\", rejection);\n                // Redirect to unauthorized state\n                this.$rootScope.$emit(UnauthorizedRedirect, { // todo var event end event params\n                    redirect_to: toState && toParams && toParams.redirect_to ? '' : this.$location.url(),\n                    toState: toState,\n                    toParams: toParams\n                });\n\n                break;\n            case 403:\n                this.$log.error(\"Response Error 403\", rejection);\n                // Redirect to unauthorized state\n                this.$rootScope.$emit(AccessDenyRedirect);\n\n                break;                \n            default:\n                this.$log.error(\"errors_unknown\", rejection);\n                break;\n        }\n\n        return this.$q.reject(rejection);\n    }\n}\n\nfunction configureAuthState($httpProvider: ng.IHttpProvider) {\n    $httpProvider.interceptors.push('pipAuthHttpResponseInterceptor');\n}\n\nangular\n    .module('pipAuthState')\n    .config(configureAuthState)\n    .service('pipAuthHttpResponseInterceptor', AuthHttpResponseInterceptor);\n\n\n\n","import { AuthStateConfig } from './IAuthStateService';\n\n// Decorator function to add redirect method to pipAuthState service\nfunction decorateStatesAuthStateService($delegate, $timeout) {\n    \"ngInject\";\n\n    $delegate.config = new AuthStateConfig();\n    $delegate.signinState = signinState;\n    $delegate.signoutState = signoutState;\n    $delegate.authorizedState = authorizedState;\n    $delegate.unauthorizedState = unauthorizedState;\n\n    $delegate.goToSignin = goToSignin;\n    $delegate.goToSignout = goToSignout;\n    $delegate.goToAuthorized = goToAuthorized;\n    $delegate.goToUnauthorized = goToUnauthorized;\n\n    return $delegate;\n    ////////////////////////////////\n\n    function signinState(value?: string): string {\n        if (value) {\n            this._config.signinState = value;\n        } return this._config.signinState;\n    }\n    function signoutState(value?: string): string {\n        if (value) {\n            this._config.signoutState = value;\n        } return this._config.signoutState;\n    }\n    function authorizedState(value?: string): string {\n        if (value) {\n            this._config.authorizedState = value;\n        } return this._config.authorizedState;\n    }\n    function unauthorizedState(value?: string): string {\n        if (value) {\n            this._config.unauthorizedState = value;\n        } return this._config.unauthorizedState;\n    }\n\n    function setSigninParams(params: any): any {\n        if (!params) return params;\n\n        if (!params.toParams) return params;\n\n        params.server_url = params.toParams.server_url ? params.toParams.server_url : null;\n        params.email = params.toParams.email ? params.toParams.email : null;\n        params.language = params.toParams.language ? params.toParams.language : 'en';\n\n        return params;\n    }\n\n    function goToSignin(params: any): void {\n        if (this._config.signinState == null) {\n            throw new Error('Signin state was not defined');\n        }\n\n        params = setSigninParams(params);\n        this.go(this._config.signinState, params);\n    }\n    function goToSignout(params: any): void {\n        if (this._config.signoutState == null) {\n            throw new Error('Signout state was not defined');\n        }\n\n        this.go(this._config.signoutState, params);\n    }\n    function goToAuthorized(params: any): void {\n        if (this._config.authorizedState == null) {\n            throw new Error('Authorized state was not defined');\n        }\n\n        this.go(this._config.authorizedState, params);\n    }\n    function goToUnauthorized(params: any): void {\n        if (this._config.unauthorizedState == null) {\n            throw new Error('Signin state was not defined');\n        }\n\n        this.go(this._config.unauthorizedState, params);\n    }\n}\n\n// Config function to decorate pipAuthState service\nfunction addStatesAuthtateDecorator($provide) {\n    \"ngInject\";\n\n    $provide.decorator('pipAuthState', decorateStatesAuthStateService);\n}\n\nangular\n    .module('pipAuthState')\n    .config(addStatesAuthtateDecorator);\n\n","import { IAuthStateService, IAuthState } from './IAuthStateService';\n\nfunction initAuthState(\n    $log: ng.ILogService,\n    $rootScope: ng.IRootScopeService,\n    $state: ng.ui.IStateService,\n    pipSession: pip.services.ISessionService,\n    pipAuthState: IAuthStateService\n\n) {\n\n    // Intercept routes\n    $rootScope.$on('$stateChangeStart', stateChangeStart);\n    // Process unauthorized access error\n    $rootScope.$on('pipUnauthorizedRedirect', unauthorizedRedirect);\n    // Process after state changed\n    $rootScope.$on('$stateChangeSuccess', stateChange);\n\n    function stateChange(event: ng.IAngularEvent, toState: angular.ui.IState,\n        toParams: any, fromState: angular.ui.IState, fromParams: any): void {\n        // Unset routing variable to disable page transition\n        $rootScope[pip.services.RoutingVar] = false;\n    }\n\n    function stateChangeStart(event: ng.IAngularEvent, toState: IAuthState, toParams: any,\n        fromState: IAuthState, fromParams: any): void {\n\n        // Implement redirect mechanism\n        if (pipAuthState.redirect && pipAuthState.redirect(event, toState, toParams, $rootScope)) {\n            return;\n        }\n\n        // If user is not authorized then switch to signin\n        if ((toState.auth || toState.auth === undefined) && !pipSession.isOpened()) {\n            event.preventDefault();\n\n            let redirectTo: string = pipAuthState.href(toState.name, toParams);\n\n            // Remove hashtag\n            if (redirectTo.length > 0 && redirectTo[0] == '#') {\n                redirectTo = redirectTo.substring(1);\n            }\n\n        //    <IAuthStateService>\n           pipAuthState.goToSignin({ redirect_to: redirectTo, toState: toState, toParams: toParams });\n\n            return;\n        }\n\n        // Move user to authorized page\n        if (toState.name == pipAuthState.unauthorizedState() && pipSession.isOpened()) {\n            event.preventDefault();\n            pipAuthState.goToAuthorized({});\n\n            return;\n        }\n    }\n\n    function unauthorizedRedirect(event: ng.IAngularEvent, params: any): void {\n        // pipAuthState.goToSignin(params);\n        pipAuthState.goToSignout(params);\n    }\n\n}\n\nfunction configureAuthState(pipTranslateProvider: pip.services.ITranslateProvider) {\n    // Switch to HTML5 routing mode\n    pipTranslateProvider.translations('en', {\n        'ERROR_SWITCHING': 'Error while switching route. Try again.'\n    });\n\n    pipTranslateProvider.translations('ru', {\n        'ERROR_SWITCHING': 'Ошибка при переходе. Попробуйте ещё раз.'\n    });\n}\n\nangular\n    .module('pipAuthState')\n    .config(configureAuthState)\n    .run(initAuthState);\n\n","import { IAuthStateService, IAuthStateProvider, AuthStateConfig, IAuthState } from './IAuthStateService';\n\nclass AuthStateProvider implements IAuthStateProvider {\n    private _service: IAuthStateService;\n    private _config: AuthStateConfig;\n    private _redirectedStates: any = {};\n\n    public state: Function;\n\n    constructor(\n        private $stateProvider: ng.ui.IStateProvider\n    ) {\n        \"ngInject\";\n\n        this._config = new AuthStateConfig();\n\n\n        this.state = (stateName: string, stateConfig: IAuthState) => {\n            if (stateName == null) {\n                throw new Error('stateName cannot be null');\n            }\n            if (stateConfig == null) {\n                throw new Error('stateConfig cannot be null');\n            }\n\n            // add resolver\n            if (stateConfig && (stateConfig.auth || stateConfig.authenticate)) {\n                stateConfig.resolve = stateConfig.resolve || {};\n            }\n\n            this.$stateProvider.state(stateName, stateConfig);\n\n            return this;\n        }\n    }\n\n    public redirect(fromState: string, toState: string) {\n        this._redirectedStates[fromState] = toState;\n    }\n\n    public get signinState(): string {\n        return this._config.signinState;\n    }\n\n    public set signinState(value: string) {\n        this._config.signinState = value || null;\n    }\n\n    public get signoutState(): string {\n        return this._config.signoutState;\n    }\n\n    public set signoutState(value: string) {\n        this._config.signoutState = value || null;\n    }\n    public get authorizedState(): string {\n        return this._config.authorizedState;\n    }\n\n    public set authorizedState(value: string) {\n        this._config.authorizedState = value || '/';\n    }\n    public get unauthorizedState(): string {\n        return this._config.unauthorizedState;\n    }\n\n    public set unauthorizedState(value: string) {\n        this._config.unauthorizedState = value || '/';\n    }\n\n    public $get($state: ng.ui.IStateService, $timeout: ng.ITimeoutService) {\n        \"ngInject\";\n\n        if (this._service == null) {\n            $state['_config'] = this._config;\n            $state['_redirectedStates'] = this._redirectedStates;\n            $state['redirect'] = redirect;\n        }\n\n        this._service = <IAuthStateService>$state;\n\n        return this._service;\n\n        function redirect(event, state, params) {\n            let toState = this._redirectedStates[state.name];\n            if (_.isFunction(toState)) {\n                toState = toState(state.name, params);\n\n                if (_.isNull(toState))\n                    throw new Error('Redirected toState cannot be null');\n            }\n            if (!!toState) {\n                $timeout(() => {\n                    event.preventDefault();\n                    this.transitionTo(toState, params, { location: 'replace' });\n                });\n\n                return true;\n            }\n\n            return false;\n        }\n    }\n}\n\nangular\n    .module('pipAuthState')\n    .provider('pipAuthState', AuthStateProvider);","export interface IAuthState extends angular.ui.IState {\n    auth?: boolean;\n    authenticate?: any;\n}\n\nexport class AuthStateConfig {\n    signinState: string = null;\n    signoutState: string = null;\n    authorizedState: string = '/';\n    unauthorizedState: string = '/';\n}\n\nexport interface IAuthStateService extends ng.ui.IStateService  {\n    signinState(value?: string): string;\n    signoutState(value?: string): string;\n    authorizedState(value?: string): string;\n    unauthorizedState(value?: string): string;\n\n    redirect(event: ng.IAngularEvent, toState: IAuthState, toParams: any, $rootScope: ng.IRootScopeService): any;\n    state(stateName: string, stateConfig: IAuthState): any;\n\n    goToSignin(params: any): void;\n    goToSignout(params: any): void;\n    goToAuthorized(params: any): void;\n    goToUnauthorized(params: any): void;\n}\n\nexport interface IAuthStateProvider extends ng.IServiceProvider {\n    redirect(fromState: string, toState: string);\n    signinState: string;\n    signoutState: string;\n    authorizedState: string;\n    unauthorizedState: string;\n}\n\n","angular\n    .module('pipAuthState', [\n        'ngResource',\n        'pipServices', \n        'LocalStorageModule'\n    ]);\n\n\nimport './AuthHttpResponseInterceptor';\nimport './AuthStateDecorator';\nimport './AuthStateInit';\nimport './IAuthStateService';\nimport './AuthStateService';\n\n\n\nexport * from './AuthHttpResponseInterceptor'\nexport * from './IAuthStateService'\n","import { CacheParams, IDataCacheService, IDataCacheProvider } from './IDataCacheService';\nimport { IDataModelService } from '../data/IDataModelService';\n\nclass DataCache implements IDataCacheService {\n    private CACHE_TIMEOUT = 10 * 60000; // 10 mins or make it configurable\n    private _cache: any;\n    private _timeout: number;\n\n    public constructor(\n        private $q: ng.IQService, \n        private pipDataModel: IDataModelService\n    ) {\n        \"ngInject\";\n\n        this._cache = {};\n    }\n\n    // Converts a string value into a numeric hash code\n    private hash(data: CacheParams): number {\n        let filteredData: CacheParams = <CacheParams>{};\n\n        // Filter only the generic parameters that can be relevant to the query\n        if (data != null) {\n            // filteredData.item = data.item;\n            // filteredData.id = data.id;\n            filteredData.filter = data.filter;\n            filteredData.search = data.search;\n            filteredData.start = data.start;\n            filteredData.take = data.take;\n            filteredData.skip = data.skip;\n            // filteredData.status = data.status;\n        }\n\n        let serializedFilter = angular.toJson(filteredData);\n\n        if (serializedFilter == null || serializedFilter.length === 0)\n            return 0;\n\n        let h: number = 0;\n        for (let i = 0, len = serializedFilter.length; i < len; i++) {\n            let chr = serializedFilter.charCodeAt(i);\n            h = ((h << 5) - h) + chr;\n            h |= 0; // Convert to 32bit integer\n        }\n\n        return h;\n    }\n\n    // Generates parameterized key\n    private generateKey(resource: string, params?: CacheParams): string {\n        let h: number = this.hash(params);\n        return resource + (h != 0 ? '_' + h : '');\n    };\n\n    // Clear the cache, globally or selectively\n    public clear(resource?: string): void {\n        if (resource == null) {\n            this._cache = {};\n        } else {\n            for (let key in this._cache) {\n                if (key == resource || key.startsWith(resource + '_')) {\n                    delete this._cache[key];\n                }\n            }\n        }\n    }\n\n    // Try to retrieve collection from the cache\n    public retrieve(resource: string, params?: CacheParams): any {\n        if (resource == null) throw new Error('Resource cannot be null');\n        if (resource == '') throw new Error('Resource cannot be empty');\n\n        let key: string = this.generateKey(resource, params);\n        let holder: any = this._cache[key];\n        if (holder == null) return null;\n\n        // If expired then cleanup and return null\n        if (holder.expire && _.now() - holder.expire > this.CACHE_TIMEOUT) {\n            delete this._cache[key];\n            return null;\n        }\n\n        return holder.data;\n    }\n\n    // Store collection into the cache\n    public store(resource: string, data: any, params?: CacheParams): void {\n        if (resource == null) throw new Error('Resource cannot be null');\n        if (resource == '') throw new Error('Resource cannot be empty');\n\n        this._cache[this.generateKey(resource, params)] = {\n            expire: _.now(),\n            data: data\n        };\n    }\n\n    // Store collection into the cache without expiration\n    public storePermanently(resource: string, data: any, params?: CacheParams): void {\n        if (resource == null) throw new Error('Resource cannot be null');\n        if (resource == '') throw new Error('Resource cannot be empty');\n\n        this._cache[this.generateKey(resource, params)] = {\n            expire: null,\n            data: data\n        };\n    }\n\n    // Remove collection from the cache\n    public remove(resource: string, params?: CacheParams): void {\n        if (resource == null) throw new Error('Resource cannot be null');\n        if (resource == '') throw new Error('Resource cannot be empty');\n\n        delete this._cache[this.generateKey(resource, params)];\n    };\n\n    public updateOne(resource: string, item: any, params?: CacheParams): void {\n        if (resource == null) throw new Error('Resource cannot be null');\n        if (item == null) return;\n\n        let data: any = this.retrieve(resource, params);\n\n        if (data != null) {\n            let isAdded = false;\n            let size = data.length;\n            for (let i = 0; i < size; i++) {\n                if (data[i].id == item.id) {\n                    data[i] = item;\n                    isAdded = true;\n\n                    return;\n                }\n            }\n            if (!isAdded) data.push(item);\n            this.store(resource, data, params);\n        }\n    }\n\n    // Tries to retrieve collection from the cache, otherwise load it from server\n    public retrieveOrLoad(params: CacheParams, successCallback?: (data: any) => void, errorCallback?: (err: any) => void): any {\n        if (params == null) throw new Error('params cannot be null');\n\n        let resource: string = params.resource; //(params.cache || params.resource);\n\n        // Retrieve data from cache\n        let filter: Function = params.filter;\n        let force: boolean = !!params.force;\n        let result: any = !force ? this.retrieve(resource, params) : null;\n        let deferred: any = this.$q.defer();\n        let method: string;\n        if (!!params.paging) {\n            method = 'page';\n        } else {\n            method = params.singleResult ? 'readOne' : 'read';\n        }\n        // Return result if it exists\n        if (result) {\n            if (filter) {\n                if (result.data) {\n                    result.data = filter(result.data);\n                } else {\n                    result = filter(result);\n                }\n            }\n            if (_.isFunction(successCallback)) { successCallback(result); }\n            deferred.resolve(result);\n\n            return deferred.promise;\n        }\n\n        this.pipDataModel[method](\n            params,\n            (data: any) => {\n                // Store data in cache and return\n                params.updatedItem ?\n                    this.updateOne(resource, data, params) :\n                    this.store(resource, data, params);\n                if (filter) data = filter(data);\n                deferred.resolve(data);\n\n                if (_.isFunction(successCallback)) { successCallback(data); }\n            },\n            (err: any) => {\n                // Return error\n                deferred.reject(err);\n                if (_.isFunction(errorCallback)) errorCallback(err);\n            }\n        );\n\n        // Return deferred object\n        return deferred.promise;\n    }\n\n    public removeOne(resource: string, item: any): void {\n        if (resource == null) throw new Error('Resource cannot be null');\n        if (item == null) return;\n\n        for (let key in this._cache) {\n            if (key == resource || key.startsWith(resource + '_')) {\n                let data: any = this._cache[key].data;\n                if (angular.isArray(data)) {\n                    for (let i = 0; i < data.length; i++) {\n                        if (data[i].id == item.id) {\n                            data.splice(i, 1);\n                            i--;\n                        }\n                    }\n                }\n            }\n        }\n    }\n\n    // OBSOLETE - WILL BE REMOVED ONCE CODE IS REFACTORED\n    public decorateAddCallback(resource: string, params?: CacheParams, successCallback?: (data: any) => void): Function {\n        return (item: any) => {\n            if (!params || !params.notClearedCache) { this.clear(resource); }\n            if (_.isFunction(successCallback)) { successCallback(item); }\n        };\n    }\n\n    public decorateRemoveCallback(resource: string, params?: CacheParams, successCallback?: (data: any) => void): Function {\n        return (item: any) => {\n            this.removeOne(resource, params);\n            if (_.isFunction(successCallback)) { successCallback(item); }\n        };\n    }\n\n    public decorateUpdateCallback(resource: string, params?: CacheParams, successCallback?: (data: any) => void): Function {\n        return (item: any) => {\n            for (var key in this._cache) {\n                if (key == resource || key.startsWith(resource + '_')) {\n                    let data: any = this._cache[key].data;\n                    if (angular.isArray(data)) {\n                        for (var i = 0; i < data.length; i++) {\n                            if (data[i].id == item.id) {\n                                data[i] = item;\n                            }\n                        }\n                    }\n                }\n            }\n\n            if (_.isFunction(successCallback)) { successCallback(item); }\n        };\n    }\n\n    public setTimeout(newTimeout: number): number {\n        if (newTimeout) {\n            this.CACHE_TIMEOUT = newTimeout;\n        }\n        return this.CACHE_TIMEOUT;\n    }\n \n}\n\nclass DataCacheProvider implements IDataCacheProvider {\n    private _service: DataCache;\n\n    constructor() {\n    }\n\n    public $get($q: ng.IQService, pipDataModel: IDataModelService) {\n        \"ngInject\";\n\n        if (this._service == null) {\n            this._service = new DataCache($q, pipDataModel);\n        }\n        return this._service;\n    }\n}\n\nangular\n    .module('pipDataCache', [])\n    .provider('pipDataCache', DataCacheProvider);\n\n\n","export class CacheParams {\n    force?: boolean;\n    resource?: string;\n    // cache?: string; cache || resource\n    filter?: Function;\n    singleResult?: boolean;\n    // party_id: string;\n    // item?: any;\n    // id?: string;\n    search?: string;\n    start?: any;\n    take?: number;\n    skip?: number;\n    // status?: string;\n    notClearedCache?: boolean;\n    paging?: boolean;\n    updatedItem?: any;\n}\n\nexport interface IDataCacheService {\n    setTimeout(newTimeout: number): number;\n\n    store(resource: string, data: any, params?: CacheParams): void;\n    storePermanently(resource: string, data: any, params?: CacheParams): void;\n    retrieve(resource: string, params?: CacheParams): any;\n    retrieveOrLoad(params: CacheParams, successCallback?: (data: any) => void, errorCallback?: (err: any) => void): any;\n    updateOne(resource: string, item: any, params?: CacheParams): void;\n    remove(resource: string, params?: CacheParams): void;\n    removeOne(resource: string, item: any): void;\n    clear(resource?: string): void;\n\n    decorateAddCallback(resource: string, params?: CacheParams, successCallback?: (data: any) => void): Function;\n    decorateUpdateCallback(resource: string, params?: CacheParams, successCallback?: (data: any) => void): Function;\n    decorateRemoveCallback(resource: string, params?: CacheParams, successCallback?: (data: any) => void): Function;\n}\n\nexport interface IDataCacheProvider extends ng.IServiceProvider {}","angular\n    .module('pipDataCache', ['pipDataModel']);\n\nimport './DataCacheService';\nimport './IDataCacheService';\n\nexport * from './IDataCacheService';","import { IDataModelService, IDataModelProvider } from './IDataModelService';\nimport { IRestService } from '../rest/IRestService'\n\ndeclare var async: any;\n\n// Todo: Shall it be just an abstract class?\n// Todo: Use generics to make it type-safe\nclass DataModel implements IDataModelService {\n    public save;\n    public remove;\n    public query;\n    public get;\n    public readPage;\n    public queryPage;\n\n    constructor(\n        private $stateParams: angular.ui.IStateParamsService,\n        private pipRest: IRestService\n    ) {\n        \"ngInject\";\n        \n        this.save = this.update;\n        this.remove = this.delete;\n        this.query = this.read;\n        this.get = this.readOne;\n        this.readPage = this.page;\n        this.queryPage = this.page;\n    }\n\n    // Execute request to REST API\n    public execute(params: any, successCallback?: (result: any) => void,\n        errorCallback?: (error: any) => void): ng.IPromise<{}> {\n\n        let t = params.transaction, tid;\n\n        if (t && !params.skipTransactionBegin) {\n            tid = params.transactionId = t.begin(\n                params.transactionOperation || 'PROCESSING'\n            );\n            if (!tid) return;\n        }\n\n        // return this.pipRest.resources[params.resource]()[params.operation](\n        return this.pipRest.getResource(params.resource)[params.operation](\n            params.item,\n            (result: any) => {\n                if (t && tid && t.aborted(tid)) return;\n                if (t && !params.skipTransactionEnd) t.end();\n                if (successCallback) successCallback(result);\n            },\n            (error: any) => {\n                if (t) t.end(error);\n                if (errorCallback) errorCallback(error);\n            }\n        );\n    }\n\n    // Create an object and add it to object collection\n    public create(params: any, successCallback?: (result: any) => void,\n        errorCallback?: (error: any) => void): ng.IPromise<{}> {\n\n        params.transactionOperation = params.transactionOperation || 'SAVING';\n        params.operation = params.operation || 'save';\n\n        return this.execute(\n            params,\n            (result: any) => {\n                if (params.itemCollection)\n                    params.itemCollection.push(result);\n\n                if (successCallback) successCallback(result);\n            },\n            (error: any) => {\n                if (errorCallback) errorCallback(error);\n            }\n        );\n    }\n\n    // Update an object and replace it in object collection\n    public update(params: any, successCallback?: (result: any) => void,\n        errorCallback?: (error: any) => void): ng.IPromise<{}> {\n\n        params.transactionOperation = params.transactionOperation || 'SAVING';\n        params.operation = params.operation || 'update';\n\n        return this.execute(\n            params,\n            (result: any) => {\n                if (params.itemCollection)\n                    var index = _.findIndex(params.itemCollection, function (item: any) {\n                        return item.id == result.id;\n                    });\n                if (index > -1) {\n                    params.itemCollection[index] = result;\n                }\n\n                if (successCallback) successCallback(result);\n            },\n            (error: any) => {\n                if (errorCallback) errorCallback(error);\n            }\n        );\n    }\n\n    // Update an object and remove it from object collection\n    public delete(params: any, successCallback?: (result: any) => void,\n        errorCallback?: (error: any) => void): ng.IPromise<{}> {\n\n        params.transactionOperation = params.transactionOperation || 'SAVING';\n        params.operation = params.operation || 'remove';\n\n        return this.execute(\n            params,\n            (result: any) => {\n                if (params.itemCollection)\n                    _.remove(params.itemCollection, { id: result.id || (params.object || {}).id || (params.item || {}).id });\n\n                if (successCallback) successCallback(result);\n            },\n            (error: any) => {\n                if (errorCallback) errorCallback(error);\n            }\n        );\n    }\n\n    // Read a collection of objects\n    public read(params: any, successCallback?: (result: any) => void,\n        errorCallback?: (error: any) => void): ng.IPromise<{}> {\n\n        params.transactionOperation = params.transactionOperation || 'READING';\n        params.operation = params.operation || 'query';\n\n        return this.execute(\n            params,\n            (result: any) => {\n                if (successCallback) successCallback(result);\n            },\n            (error: any) => {\n                if (errorCallback) errorCallback(error);\n            }\n        );\n    }\n\n    // Read a single object and add it into collection\n    public readOne(params: any, successCallback?: (result: any) => void,\n        errorCallback?: (error: any) => void): ng.IPromise<{}> {\n\n        params.transactionOperation = params.transactionOperation || 'READING';\n        params.operation = params.operation || 'page';\n\n        return this.execute(\n            params,\n            (result: any) => {\n                if (params.itemCollection && result) {\n                    var index = _.findIndex(params.itemCollection, { id: result.id });\n                    if (index >= 0) params.itemCollection[index] = result;\n                    else params.itemCollection.push(result);\n                }\n\n                if (successCallback) successCallback(result);\n            },\n            (error: any) => {\n                if (errorCallback) errorCallback(error);\n            }\n        );\n    }\n\n    // Read a page and add results into object collection\n    public page(params: any, successCallback?: (result: any) => void,\n        errorCallback?: (error: any) => void): ng.IPromise<{}> {\n\n        params.transactionOperation = params.transactionOperation || 'READING';\n        params.operation = params.operation || 'page';\n\n        return this.execute(\n            params,\n            (result: any) => {\n                if (params.itemCollection && result.data) {\n                    for (var i = 0; i < result.data.length; i++)\n                        params.itemCollection.push(result.data[i]);\n                }\n\n                if (successCallback) successCallback(result);\n            },\n            (error: any) => {\n                if (errorCallback) errorCallback(error);\n            }\n        );\n    }\n\n    // Save picture and document files\n    public uploadFiles(params: any, successCallback?: () => void,\n        errorCallback?: (error: any) => void): ng.IPromise<{}> {\n\n        var t = params.transaction, tid;\n\n        // Start transaction if necessary\n        if (t && !params.skipTransactionBegin) {\n            tid = params.transactionId = t.begin(\n                params.transactionOperation || 'SAVING'\n            );\n            if (!tid) return;\n        }\n\n        var uploadFiles = [{\n            pictures: params.pictures,\n            documents: params.documents\n        }];\n\n        // from content\n        if (params.item && params.item.content) {\n            var saveResult = true;\n            async.eachSeries(_.union(params.item.content, uploadFiles),\n                (obj, callback) => {\n                    // не выбран - пропускаем этот item  || нет этого события action\n                    if (!obj.pictures && !obj.documents) {\n                        callback();\n                    } else {\n                        if (obj.pictures) {\n                            // Save pictures first\n                            obj.pictures.save(\n                                () => {\n                                    if (t && tid && t.aborted(tid)) {\n                                        saveResult = false;\n                                        callback('aborted');\n                                    }\n                                    // Save documents second\n                                    if (obj.documents) {\n                                        obj.documents.save(\n                                            () => {\n                                                if (t && tid && t.aborted(tid)) {\n                                                    saveResult = false;\n                                                    callback('aborted');\n                                                }\n                                                callback();\n                                            },\n                                            (error: any) => {\n                                                saveResult = false;\n                                                callback(error);\n                                            }\n                                        );\n                                    } else {\n                                        callback();\n                                    }\n                                },\n                                (error: any) => {\n                                    saveResult = false;\n                                    callback(error);\n                                }\n                            );\n                        } else {\n                            if (obj.documents) {\n                                // Save documents first\n                                obj.documents.save(\n                                    () => {\n                                        if (t && tid && t.aborted(tid)) {\n                                            saveResult = false;\n                                            callback('aborted');\n                                        }\n                                        callback();\n                                    },\n                                    (error: any) => {\n                                        saveResult = false;\n                                        callback(error);\n                                    }\n                                );\n                            }\n                        }\n                    }\n                },\n                (error: any) => {\n                    if (!error && saveResult) {\n                        // удаляем ненужные объекты перед сохранением\n                        // вызываем колбек\n                        if (t && !params.skipTransactionEnd) t.end();\n                        _.each(params.item.content, function (item) {\n                            delete item.pictures;\n                            delete item.documents;\n                        });\n                        if (successCallback) successCallback();\n                    } else {\n                        // вызываем ошибочный колбек\n                        if (t) t.end(error);\n                        if (errorCallback) {\n                            errorCallback(error);\n                        }\n                    }\n                }\n            );\n        } else {\n            if (params.pictures) {\n                // Save pictures first\n                params.pictures.save(\n                    () => {\n                        if (t && tid && t.aborted(tid)) return;\n\n                        // Save documents second\n                        if (params.documents) {\n                            params.documents.save(\n                                () => {\n                                    if (t && tid && t.aborted(tid)) return;\n                                    // Do everything else\n                                    if (t && !params.skipTransactionEnd) t.end();\n                                    if (successCallback) successCallback();\n                                },\n                                (error: any) => {\n                                    if (t) t.end(error);\n                                    if (errorCallback) errorCallback(error);\n                                }\n                            );\n                        } else {\n                            // Do everything else\n                            if (t && !params.skipTransactionEnd) t.end();\n                            if (successCallback) successCallback();\n                        }\n                    },\n                    (error: any) => {\n                        if (t) t.end(error);\n                        if (errorCallback) errorCallback(error);\n                    }\n                );\n            } else if (params.documents) {\n                // Save documents first\n                params.documents.save(\n                    () => {\n                        if (t && tid && t.aborted(tid)) return;\n                        // Do everything else\n                        if (t && !params.skipTransactionEnd) t.end();\n                        if (successCallback) successCallback();\n                    },\n                    (error: any) => {\n                        if (t) t.end(error);\n                        if (errorCallback) errorCallback(error);\n                    }\n                );\n            } else {\n                // Do everything else\n                if (t && !params.skipTransactionEnd) t.end();\n                if (successCallback) successCallback();\n            }\n        }\n    }\n\n    // Abort transaction with file upload\n    public abortFilesUpload(params) {\n        if (params.pictures)\n            params.pictures.abort();\n        if (params.documents)\n            params.documents.abort();\n        if (params.transaction)\n            params.transaction.abort();\n    }\n}\n\nclass DataModelProvider implements IDataModelProvider {\n    private _service: IDataModelService;\n\n    constructor(\n    ) {\n        \"ngInject\";\n\n    }\n\n    public $get(\n        $stateParams: angular.ui.IStateParamsService,\n        pipRest: IRestService\n    ) {\n        \"ngInject\";\n        \n        if (this._service == null) {\n            this._service = new DataModel($stateParams, pipRest);\n        }\n\n        return this._service;\n    }\n}\n\nangular\n    .module('pipDataModel')\n    .provider('pipDataModel', DataModelProvider);","import './TagDataService';\nimport './ITagDataService';\n\n\nexport * from './ITagDataService';\n\n","import './tag_list/TagList'\nimport './rest/TagResources';\nimport './data';\n\n\nangular.module('pipTags', [\n        'pipTag.Rest',\n        'pipTagData',\n        'pipTagList'\n]);\n\n\nexport * from './data';\n\n\n","\nimport {\n    IRestProvider,\n    IRestService,\n} from './IRestService';\n\nclass RestResourceConfig {\n    operation: string;\n    name: string;\n    path: string;\n    defaultParams: any;\n    actions: any\n};\n\nclass RestService implements IRestService {\n    private _resources: any = {};\n    private _serverUrl: string;\n    private _lockServerUrl: boolean;\n\n    constructor(\n        private $resource: ng.resource.IResourceService,\n        private $http: ng.IHttpService,\n        private $stateParams: ng.ui.IStateParamsService,\n        serverUrl: string,\n        lockServerUrl: boolean,\n        private resourceConfigs: RestResourceConfig[]\n    ) {\n        \"ngInject\";\n\n        this._serverUrl = serverUrl;\n        this._lockServerUrl = lockServerUrl;\n        this.initResources(resourceConfigs);\n    }\n\n    private reInitResource() {\n        this._resources = {};\n        this.initResources(this.resourceConfigs);        \n    }\n\n    private initResources(resourceConfigs: RestResourceConfig[]): void {\n        _.each(resourceConfigs, (resourceConfig) => {\n            let resource: any;\n            switch (resourceConfig.operation) {\n                case 'createResource':\n                    resource = this.createResource(this._serverUrl, resourceConfig.path, resourceConfig.defaultParams, resourceConfig.actions);\n                    break;\n                case 'createOperation':\n                    resource = this.createOperation(this._serverUrl, resourceConfig.path);\n                    break;\n                case 'createCollection':\n                    resource = this.createCollection(this._serverUrl, resourceConfig.path, resourceConfig.defaultParams);\n                    break;\n                case 'createPagedCollection':\n                    resource = this.createPagedCollection(this._serverUrl, resourceConfig.path, resourceConfig.defaultParams);\n\n                    break;\n                case 'createPartyCollection':\n                    resource = this.createPartyCollection(this._serverUrl, resourceConfig.path, resourceConfig.defaultParams);\n                    break;\n            }\n\n            if (resource) {\n                this._resources[resourceConfig.name] = resource;\n            }\n        });\n    }\n\n    private createResource(url: string, path: string, defaultParams?: any, actions?: any) {\n        url = url || this._serverUrl;\n        return this.$resource(this._serverUrl + path, defaultParams, actions);\n    }\n\n    private createOperation(url: string, path: string) {\n        url = url || this._serverUrl;\n        return this.$resource(\n            url + path,\n            {},\n            {\n                call: { method: 'POST' }\n            }\n        );\n    }\n\n    private createCollection(url: string, path: string, defaultParams?: any) {\n        url = url || this._serverUrl;\n        return this.$resource(url + path,\n            defaultParams || { id: '@id' },\n            {\n                update: { method: 'PUT' }\n            }\n        );\n    }\n\n    private createPagedCollection(url: string, path: string, defaultParams?: any) {\n        url = url || this._serverUrl;\n        return this.$resource(url + path,\n            defaultParams || { id: '@id' },\n            {\n                page: { method: 'GET', isArray: false },\n                update: { method: 'PUT' }\n            }\n        );\n    }\n\n    private createPartyCollection(url: string, path: string, paramDefaults?: any) {\n        return this.createPagedCollection(url, path, paramDefaults ||\n            {\n                id: '@id',\n                party_id: '@party_id'\n            }\n        );\n    }\n\n    public get serverUrl(): string {\n        return this._serverUrl;\n    }\n\n    public set serverUrl(value: string) {\n        this._serverUrl = value;\n        this.reInitResource();\n    }\n\n    public get lockServerUrl(): boolean {\n        return this._lockServerUrl;\n    }\n\n    public set lockServerUrl(value: boolean) {\n        this._lockServerUrl = value;\n    }\n\n    public setHeaders(headers: any) {\n        for (let header in headers) {\n            if (headers.hasOwnProperty(header) && !_.isObject(headers[header])) {\n                this.$http.defaults.headers.common[header] = headers[header];\n            }\n        }\n    }\n\n    public getResource(name: string): any {\n        let resource = this._resources[name];\n        if (!resource)\n            throw new Error('Resource not found');\n\n        return resource;\n    }\n\n}\n\nclass RestProvider implements IRestProvider {\n    private _service: IRestService;\n\n    private _http: ng.IHttpProvider;\n    private _serverUrl: string;\n    private _lockServerUrl: boolean;\n    private _resourceConfigs: RestResourceConfig[] = [];\n\n    constructor($httpProvider: ng.IHttpProvider) {\n        this._http = $httpProvider;\n    }\n\n    public get serverUrl(): string {\n        return this._serverUrl;\n    }\n\n    public set serverUrl(value: string) {\n        this._serverUrl = value;\n    }\n\n    public get lockServerUrl(): boolean {\n        return this._lockServerUrl;\n    }\n\n    public set lockServerUrl(value: boolean) {\n        this._lockServerUrl = value;\n    }\n\n    public setHeaders(headers: any) {\n        for (let header in headers) {\n            if (headers.hasOwnProperty(header))\n                this._http.defaults.headers.common[header] = headers[header];\n        }\n    }\n\n    public registerResource(name: string, path: string, defaultParams?: any, actions?: any): void {\n        this._resourceConfigs.push({\n            operation: 'createResource',\n            name: name,\n            path: path,\n            defaultParams: defaultParams || null,\n            actions: actions || null\n        });\n    }\n    public registerOperation(name: string, path: string, defaultParams?: any, actions?: any): void {\n        this._resourceConfigs.push({\n            operation: 'createOperation',\n            name: name,\n            path: path,\n            defaultParams: defaultParams || null,\n            actions: actions || null\n        });\n    }\n\n    public registerCollection(name: string, path: string, defaultParams?: any, actions?: any): void {\n        this._resourceConfigs.push({\n            operation: 'createCollection',\n            name: name,\n            path: path,\n            defaultParams: defaultParams || null,\n            actions: actions || null\n        });\n    }\n\n    public registerPagedCollection(name: string, path: string, defaultParams?: any, actions?: any): void {\n        this._resourceConfigs.push({\n            operation: 'createPagedCollection',\n            name: name,\n            path: path,\n            defaultParams: defaultParams || null,\n            actions: actions || null\n        });\n    }\n\n    public registerPartyCollection(name: string, path: string, defaultParams?: any, actions?: any): void {\n        this._resourceConfigs.push({\n            operation: 'createPartyCollection',\n            name: name,\n            path: path,\n            defaultParams: defaultParams || null,\n            actions: actions || null\n        });\n    }\n\n    public $get(\n        $resource: ng.resource.IResourceService,\n        $http: ng.IHttpService,\n        $stateParams: angular.ui.IStateParamsService\n    ) {\n        \"ngInject\";\n\n        if (this._service == null)\n            this._service = new RestService($resource, $http, $stateParams, this._serverUrl, this._lockServerUrl, this._resourceConfigs);\n\n        return this._service;\n    }\n}\n\nangular\n    .module('pipRest')\n    .provider('pipRest', RestProvider);\n\n\n","angular\n    .module('pipFeedback.Rest', []);\n\nimport './FeedbackResources';","import { IEntryCommonService } from \"../common/IEntryCommonService\";\nimport { ChangePasswordViewModel } from './ChangePasswordViewModel';\nimport { IEntryService } from \"../common/EntryService\";\n\nexport class ChangePasswordController {\n\n    constructor(\n        $state: ng.ui.IStateService,\n        private pipChangePasswordViewModel: ChangePasswordViewModel,\n        pipEntryCommon: IEntryCommonService,\n        pipEntry: IEntryService,\n        pipAuthState: pip.rest.IAuthStateService,\n        pipSession: pip.services.ISessionService,\n        private $window: ng.IWindowService\n    ) {\n        \"ngInject\";\n\n        pipEntryCommon.configureAppBar();\n\n        if (pipEntry.passwordExpire === false || !pipSession.isOpened()) {\n            $state.go(pipAuthState.signinState(), {});\n        }\n    }\n\n    public goBack() {\n        this.$window.history.back();\n    }\n\n    public get config(): any {\n        return this.pipChangePasswordViewModel.config;\n    }\n\n    public onChange() {\n        this.pipChangePasswordViewModel.onChange();\n    }\n}\n\n{\n    angular.module('pipEntry.ChangePassword', ['pipEntry.Common', 'pipChangePasswordPanel']);\n\n}","import { ChangePasswordViewModel } from './ChangePasswordViewModel';\n\nexport interface IChangePasswordDialogService {\n    show(params: any, successCallback?: () => void, cancelCallback?: () => void): void;\n}\n\n{\n    class ChangePasswordDialogService implements IChangePasswordDialogService {\n        public constructor(private $mdDialog: angular.material.IDialogService) { };\n        public show(params: any, successCallback?: () => void, cancelCallback?: () => void) {\n            this.$mdDialog.show({\n                targetEvent: params.event,\n                templateUrl: 'change_password/ChangePasswordDialog.html',\n                controller: ChangePasswordDialogController,\n                controllerAs: '$ctrl',\n                locals: {\n                    params: params\n                },\n                clickOutsideToClose: false\n            })\n                .then(() => {\n                    if (successCallback) {\n                        successCallback();\n                    }\n                }, () => {\n                    if (cancelCallback) {\n                        cancelCallback();\n                    }\n                });\n        }\n    }\n\n    class ChangePasswordDialogController {\n        public goBack: any;\n\n        constructor(\n            $mdDialog: angular.material.IDialogService,\n            private pipChangePasswordViewModel: ChangePasswordViewModel\n        ) {\n            \"ngInject\";\n\n            this.goBack = $mdDialog.cancel;\n        }\n\n        public get config(): any {\n            return this.pipChangePasswordViewModel.config;\n        }\n\n        public onChange() {\n            this.pipChangePasswordViewModel.onChange(() => {\n                this.goBack();\n            });\n        }\n\n    }\n\n    angular.module('pipEntry.ChangePasswordDialog', ['pipEntry.Common', \"pipChangePasswordPanel\"])\n        .service('pipChangePasswordDialog', ChangePasswordDialogService);\n\n}","import { EntryModel } from '../common/EntryModel';\nimport { IEntryCommonService } from \"../common/IEntryCommonService\";\nimport { IEntryDataService } from '../data/IEntryDataService';\nimport { IEntryService } from \"../common/EntryService\";\n\nexport class ChangePasswordModel extends EntryModel {\n    constructor(\n        pipEntryCommon: IEntryCommonService,\n        pipTransaction: pip.services.ITransactionService,\n        private $rootScope: ng.IRootScopeService,\n        private $location: ng.ILocationService,\n        private $state: ng.ui.IStateService,\n        private $injector: ng.auto.IInjectorService,\n        private pipAuthState: pip.rest.IAuthStateService,\n        private pipFormErrors: pip.errors.IFormErrorsService,\n        private pipRest: pip.rest.IRestService,\n        private pipTranslate: pip.services.ITranslateService,\n        private pipEntryData: IEntryDataService,\n        private pipEntry: IEntryService,\n        private pipToasts: pip.controls.IToastService\n    ) {\n        \"ngInject\";\n\n        super(pipEntryCommon);\n        this.transaction = pipTransaction.create('entry.change_password');\n\n    }\n\n    public init($scope): void {\n        this.initModel($scope);\n        this.setElementVisability();\n    }\n\n    private setElementVisability(): void {\n        this.hideObject.subTitle = new Boolean(this.hideObject.subTitle) == true;\n        this.hideObject.title = new Boolean(this.hideObject.title) == true;\n        this.hideObject.server = new Boolean(this.hideObject.server) == true;\n        this.hideObject.hint = new Boolean(this.hideObject.hint) == true;\n        this.hideObject.progress = new Boolean(this.hideObject.progress) == true;\n    }\n\n    public onShowToast(message: string, type: string): void {\n        if (!message) return;\n        message = this.pipTranslate.translate(message);\n        type = type || 'message';\n\n        if (type == 'message') {\n            this.pipToasts.showMessage(message, null, null, null);\n            return;\n        }\n        if (type == 'error') {\n            this.pipToasts.showError(message, null, null, null, null);\n            return;\n        }\n    }\n\n    public onChange(callback?: () => void): void {\n        if (this.config.form.$invalid) {\n            this.pipFormErrors.resetFormErrors(this.config.form, true);\n\n            return;\n        }\n\n        const transactionId = this.transaction.begin('PROCESSING');\n        if (!transactionId) return;\n        if (!this.pipRest.lockServerUrl) {\n            this.pipRest.serverUrl = this.config.data.serverUrl;\n        }\n\n        this.pipEntryData.expireChangePassword({\n            login: this.config.data.login,\n            old_password: this.config.data.password,\n            new_password: this.config.data.passwordNew,\n            user_id: this.pipEntryData.getUserId()\n        },\n            (data: any) => {\n                this.pipFormErrors.resetFormErrors(this.config.form, false);\n                if (this.transaction.aborted(transactionId)) return;\n\n                const message = String() + 'CHANGE_PWD_SUCCESS_TEXT';\n                this.onShowToast(message, 'message');\n                this.transaction.end();\n                if (callback) callback();\n                this.pipEntry.signout(\n                    () => {\n                        this.$state.go('signin', {\n                            server_url: this.config.data.serverUrl,\n                            login: this.config.data.login\n                        });\n                    }\n                );\n\n            },\n            (error: any) => {\n                this.transaction.end(error);\n                this.pipFormErrors.resetFormErrors(this.config.form, true);\n                this.pipFormErrors.setFormError(\n                    this.config.form, error, {\n                        'NO_LOGIN': 'login', // Missing account login\n                        'WRONG_LOGIN': 'login', // Account  was not found\n                        'LOGIN_NOT_FOUND': 'login', // Account  was not found\n                        'WRONG_PASSWORD': 'password', // Invalid password\n                        'act_execute': 'form', // Unknown error\n                        'UNKNOWN': 'form',\n                        '-1': 'form' // server not response\n                    }\n                );\n            }\n        );\n    }\n\n}","import { EntryPageConfig } from '../common/EntryPageConfig';\nimport { IEntryCommonService } from \"../common/IEntryCommonService\";\nimport { ChangePasswordViewModel } from './ChangePasswordViewModel';\n\n{\n    interface IChangePasswordPanelBindings {\n        [key: string]: any;\n\n\n    }\n\n    const ChangePasswordPanelBindings: IChangePasswordPanelBindings = {\n\n    }\n\n    class ChangePasswordPanelController {\n        public touchedErrorsWithHint: Function;\n        constructor(\n            private $scope: ng.IScope,\n            private pipFormErrors: pip.errors.IFormErrorsService,\n            private pipRest: pip.rest.IRestService,\n            private pipChangePasswordViewModel: ChangePasswordViewModel\n        ) {\n            \"ngInject\";\n\n            this.touchedErrorsWithHint = pipFormErrors.touchedErrorsWithHint;\n            pipChangePasswordViewModel.initModel($scope);\n\n\n        }\n\n        public $postLink(): void {\n            this.config.form = this.$scope.form;\n            this.config.data.password = null;\n            this.config.data.passwordNew = null;\n        }\n\n        public get config(): any {\n            return this.pipChangePasswordViewModel.config;\n        }\n\n        public get transaction(): any {\n            return this.pipChangePasswordViewModel.transaction;\n        }\n\n        public get showServerError(): any {\n            return this.pipChangePasswordViewModel.showServerError;\n        }\n\n        public get hideObject(): any {\n            return this.pipChangePasswordViewModel.hideObject;\n        }\n\n        public onShowToast(message: string, type: string): void {\n            this.pipChangePasswordViewModel.onShowToast(message, type);\n        }\n        \n        public onServerUrlChanged() {\n            this.config.onServerUrlChanged(this.config.form, this.config.selected.searchURLs);\n        }\n    \n        public onChanged() {\n            this.pipFormErrors.resetFormErrors(this.config.form, false);\n            this.pipFormErrors.resetFieldsErrors(this.config.form, null);\n            this.pipRest.serverUrl = this.config.selected.searchURLs;\n            this.config.data.serverUrl = this.config.selected.searchURLs;\n        }\n\n        public onChangePassword() {\n            this.pipFormErrors.resetFieldsErrors(this.config.form, 'passwordNew');\n        }\n        \n        public onChangePasswordNew() {\n            this.pipFormErrors.resetFieldsErrors(this.config.form, 'password');\n            this.pipFormErrors.resetFieldsErrors(this.config.form, 'passwordConfirm');\n        }\n        \n        public onChangePasswordConfirm() {\n            this.pipFormErrors.resetFieldsErrors(this.config.form, 'passwordNew');\n        }\n    }\n\n    const ChangePasswordPanel: ng.IComponentOptions = {\n        bindings: ChangePasswordPanelBindings,\n        controller: ChangePasswordPanelController,\n        templateUrl: 'change_password/ChangePasswordPanel.html'\n    }\n\n    angular.module(\"pipChangePasswordPanel\", ['pipFocused', 'pipEntry.Strings'])\n        .component('pipChangePasswordPanel', ChangePasswordPanel);\n}","import { ChangePasswordModel } from './ChangePasswordModel';\nimport { IEntryService } from \"../common/EntryService\";\n\nexport class ChangePasswordViewModel {\n    public model: ChangePasswordModel;\n\n    constructor(\n        pipEntryCommon: any,\n        pipTransaction: pip.services.ITransactionService,\n        $rootScope: ng.IRootScopeService,\n        $location: ng.ILocationService,\n        $state: ng.ui.IStateService,\n        $injector: ng.auto.IInjectorService,\n        pipAuthState: pip.rest.IAuthStateService,\n        pipFormErrors: pip.errors.IFormErrorsService,\n        pipRest: pip.rest.IRestService,\n        pipEntry: IEntryService,\n        private pipTranslate: pip.services.ITranslateService,\n        private pipEntryData: any,\n        private pipToasts: any\n    ) {\n        \"ngInject\";\n\n        this.model = new ChangePasswordModel(pipEntryCommon, pipTransaction, $rootScope, $location, $state,\n            $injector, pipAuthState, pipFormErrors, pipRest, pipTranslate, pipEntryData, pipEntry, pipToasts);\n    }\n\n    public get transaction(): pip.services.Transaction {\n        return this.model.transaction;\n    }\n\n    public get hideObject(): any {\n        return this.model.hideObject;\n    }\n\n    public get showServerError(): any {\n        return this.model.showServerError;\n    }\n\n    public get config(): any {\n        return this.model.config;\n    }\n\n    public initModel($scope) {\n        this.model.init($scope);\n    }\n\n    public onShowToast(message, type) {\n        this.model.onShowToast(message, type);\n    }\n\n    public onChange(callback?: () => void) {\n        this.model.onChange(callback);\n    }\n}\n\nangular.module('pipEntry.ChangePassword')\n    .service('pipChangePasswordViewModel', ChangePasswordViewModel);","/// <reference path=\"../../typings/tsd.d.ts\" />\nimport { IEntryDataService } from '../data/IEntryDataService';\n\n{\n    class LinkEmailUnique {\n        private oldEmail: string;\n\n        constructor(\n            $scope: ng.IScope,\n            $element: ng.IRootElementService,\n            $attrs: ng.IAttributes,\n            ngModel: any,\n            $http: ng.IHttpService,\n            pipEntryData: IEntryDataService\n        ) {\n            \"ngInject\";\n            \n            this.oldEmail = $attrs['pipEmailUnique'];\n\n            $scope.$watch($attrs['ngModel'], _.throttle((newValue) => {\n                const oldHint = ngModel.$validators.emailUnique;\n                if (!newValue || newValue.length == 0 || this.oldEmail == newValue) {\n                    ngModel.$setValidity('emailUnique', oldHint);\n                    return;\n                }\n                \n                if (!newValue) ngModel.$setValidity('emailUnique', true);\n\n                pipEntryData.signupValidate(newValue,\n                    (data) => {\n                        ngModel.$setValidity('emailUnique', true);\n                    },\n                    (err) => {\n                        ngModel.$setValidity('emailUnique', false);\n                    });\n            }, 500));\n        }\n    }\n\n    angular.module('pipEmailUnique', ['ngResource', 'pipEntryData'])\n        .directive('pipEmailUnique',\n            (\n                $http: ng.IHttpService,\n                pipEntryData: any\n            ) => {\n                return {\n                    restrict: 'A',\n                    require: 'ngModel',\n                    link: function (\n                        $scope: ng.IScope,\n                        $element: ng.IRootElementService,\n                        $attrs: ng.IAttributes,\n                        ngModel: any\n                    ) {\n                        new LinkEmailUnique($scope, $element, $attrs, ngModel, $http, pipEntryData);\n                    }\n                };\n            }\n        );\n}","import { IEntryService } from \"./EntryService\";\nimport { IEntryCommonService } from \"./IEntryCommonService\";\nimport { EntryPageConfig, IPastSessions, AuthSessionData } from './EntryPageConfig';\n\nclass EntryCommonService implements IEntryCommonService {\n    private _config: EntryPageConfig = new EntryPageConfig();\n\n    constructor(\n        private $rootScope: ng.IRootScopeService,\n        private $state: ng.ui.IState,\n        private pipAppBar: pip.nav.IAppBarService,\n        private pipNavService: pip.nav.INavService,\n        private pipRest: pip.rest.IRestService,\n        private pipEntry: IEntryService,\n        private pipFormErrors: pip.errors.IFormErrorsService,\n        private pipIdentity: pip.services.IIdentityService,\n        private pipTranslate: pip.services.ITranslateService,\n        private localStorageService: any\n    ) {\n        \"ngInject\";\n\n    }\n\n    private getLastUsedLogin(serverUrl: string): string {\n        let servers: IPastSessions = <IPastSessions>this.localStorageService.get('servers');\n        if (servers && servers[serverUrl]) {\n            return servers[serverUrl].login;\n        }\n\n        return undefined;\n    }\n\n    private getPastSessions(): IPastSessions {\n        let servers: IPastSessions = this.localStorageService.get('servers') || <IPastSessions>{};\n\n        return servers;\n    }\n\n    private getUsedServerUrls(): string[] {\n        let servers: IPastSessions = this.localStorageService.get('servers') || <IPastSessions>{};\n        let serverUrls: string[] = [];\n        let serverUrl: string;\n\n        for (var prop in servers) {\n            if (servers.hasOwnProperty(prop)) {\n                serverUrl = servers[prop].serverUrl;\n                if (serverUrl) {\n                    serverUrls.push(serverUrl);\n                }\n            }\n        }\n\n        return serverUrls;\n    }\n\n    public configureAppBar(): void {\n        this.pipNavService.sidenav.hide();\n        this.pipNavService.actions.hide();\n        this.pipNavService.appbar.part('menu', false);\n        if (this.pipEntry.showLanguage) {\n            this.pipNavService.appbar.part('actions', 'language');\n        }\n        if (this.pipEntry.appbarTitle) {\n            this.pipNavService.appbar.part('title', 'breadcrumb');\n        } else {\n            this.pipNavService.appbar.part('title', false);\n        }\n        this.pipNavService.breadcrumb.text = this.pipEntry.appbarTitle;\n        this.pipNavService.appbar.addShadow();\n        this.pipNavService.icon.hide();\n        this.pipNavService.search.close();\n        this.pipAppBar.part('icon', this.pipEntry.showIcon);\n        if (this.pipEntry.showIcon) {\n            this.pipNavService.icon.showIcon(this.pipEntry.appbarIcon);\n        }\n\n    };\n\n    public initScope($scope): EntryPageConfig {\n        this._config.appbarTitle = this.pipEntry.appbarTitle;\n        this._config.showIcon = this.pipEntry.showIcon;\n        this._config.showLanguage = this.pipEntry.showLanguage;\n        this._config.adminOnly = this.pipEntry.adminOnly;\n        this._config.fixedServerUrl = this.pipEntry.fixedServerUrl;\n        this._config.enableAvatar = this.pipEntry.enableAvatar;\n        this._config.useEmailAsLogin = this.pipEntry.useEmailAsLogin;\n        this._config.entryHideObject = this.pipEntry.entryHideObject;\n\n        let language: string = this.$state.params.language;\n        if (language) this.pipTranslate.use(language);\n\n        let email: string = null;\n        if (this._config.useEmailAsLogin) {\n            email = this.$state.params.email ? decodeURIComponent(this.$state.params.email) : this.$state.params.login ? decodeURIComponent(this.$state.params.login) : null;\n        } else {\n            email = this.$state.params.email ? decodeURIComponent(this.$state.params.email) : null;\n        }\n  \n        let login: string = null;\n        login = (this.$state.params.login) ? decodeURIComponent(this.$state.params.login) : null;\n\n        if (this.$state['current'].auth) {\n            if (this.pipIdentity.identity && this.pipIdentity.identity.user) {\n                email = this.pipIdentity.identity.user.email || this.pipIdentity.identity.user.login;\n                login = this.pipIdentity.identity.user.login;\n            }\n        }\n\n        this._config.data = {\n            serverUrl: this.$state.params.server_url ? decodeURIComponent(this.$state.params.server_url) : this.pipRest.serverUrl,\n            login: login,\n            email: email,\n            password: '',\n            remember: false,\n            adminOnly: this._config.adminOnly,\n            name: (this.$state.name != 'signup' && this.$state.params.name) ? this.$state.params.name : null,\n            code: this.$state.params.code || null,\n            resetCode: this.$state.params.reset_code || null\n        };\n        if (this._config.data.email && !this._config.data.login) {\n            this._config.data.login = this._config.data.email;\n        }\n        if (!this._config.data.serverUrl) {\n            throw new Error('Server url can not be empty!');\n        }\n\n        this._config.showServerUrl = false;\n        this._config.fixedServerUrl = false;\n        this._config.data.serverUrl = this._config.data.serverUrl || this.pipRest.serverUrl;\n\n        // Fixed server url shall disable changing URL by the user\n        if (this.pipEntry.fixedServerUrl) {\n            this._config.data.serverUrl = this.pipRest.serverUrl;\n            this._config.fixedServerUrl = true;\n        }\n\n        if (this.$state.name != 'signup') {\n            this._config.data.login = this._config.data.login || this.getLastUsedLogin(this._config.data.serverUrl);\n        }\n        this._config.serverUrls = this.getUsedServerUrls();\n        this._config.servers = this.getPastSessions();\n\n        this._config.selected = {};\n        this._config.selected.searchURLs = this._config.data.serverUrl;\n\n        // Set login from history\n        if (!this.$state['current'].auth) {\n            if (this._config.data.serverUrl && !this._config.data.login && this.$state.name != 'signup') {\n                let server: any = this._config.servers[this._config.data.serverUrl];\n                this._config.data.login = (server || {}).login;\n            }\n        }\n\n        this._config.filterItem = (item) => { return this.filterItem(item) };\n        this._config.getMatches = (query) => { return this.getMatches(query) };\n        this._config.onServerUrlChanged = (form?: any, url?: string) => { this.onServerUrlChanged(form, url) };\n        this._config.isEmpty = _.isEmpty;\n\n        return _.cloneDeep(this._config);\n    }\n\n    private filterItem(item): any {\n        let result = (this._config.selected.searchURLs && item\n            && item.toLowerCase().indexOf(this._config.selected.searchURLs.toLowerCase()) >= 0);\n        return result;\n    }\n\n    private getMatches(query: string): any {\n        if (!query)\n            return this._config.showServerUrl;\n\n        this._config.data.serverUrl = query;\n        this._config.selected.searchURLs = query;\n        return _.filter(this._config.serverUrls, this._config.filterItem);\n    }\n\n    private onServerUrlChanged(form?: any, url?: string) {\n        form = form ? form : this._config.form;\n        url = url ? url : this._config.selected.searchURLs;\n\n        if (!url) return;\n        let server = this._config.servers[url];\n\n        if (server && this.$state.name != 'signup') {\n            this._config.data.login = server.login;\n            this.pipRest.serverUrl = url;\n            this._config.data.serverUrl = url;\n        }\n\n        if (form) {\n            this.pipFormErrors.resetFormErrors(form, false);\n            this.pipFormErrors.resetFieldsErrors(form, null);\n        }\n    }\n}\n\nangular.module('pipEntry.CommonService', [])\n    .service('pipEntryCommon', EntryCommonService);\n","export class EntryHideObject {\n    public remember?: boolean = false;\n    public title?: boolean;\n    public server?: boolean;\n    public forgotPassword?: boolean;\n    public signup?: boolean;\n    public hint?: boolean;\n    public progress?: boolean;\n    public subTitle?: boolean;\n    public successTitle?: boolean;\n    public subTitle1?: boolean;\n    public subTitle2?: boolean;\n    public agreement?: boolean;\n    public passwordConfirm?: boolean;\n    public signin?: boolean;\n    public resetSubTitle?: boolean;\n    public changePwdTitle?: boolean;\n    public changePwdSubTitle?: boolean;\n}","import { IEntryService } from \"../common/EntryService\";\nimport { AuthSessionData } from '../common/EntryPageConfig';\n\nfunction initEntry(pipEntry: IEntryService, $rootScope: ng.IRootScopeService, pipSession: pip.services.ISessionService,\n    pipDataCache: pip.rest.IDataCacheService, pipTimer: pip.services.ITimerService): void {\n\n    // Reload session to avoid signin\n    $rootScope.$on(pip.services.SessionOpenedEvent, (event: ng.IAngularEvent, data: AuthSessionData) => {\n        pipDataCache.clear();\n        pipTimer.start();\n    });\n\n    $rootScope.$on(pip.services.SessionClosedEvent, (event: ng.IAngularEvent, data: AuthSessionData) => {\n        pipDataCache.clear();\n    });\n\n    // Reload session to avoid signin\n    // todo may be start optionaly\n    pipEntry.reopenSession();\n}\n\nangular.module('pipEntry.Service')\n    .run(initEntry);","import { EntryPageConfig } from './EntryPageConfig';\nimport { IEntryCommonService } from \"./IEntryCommonService\";\nimport { EntryHideObject } from './EntryHideObject';\n\nexport class EntryModel {\n    public config: EntryPageConfig;\n    public hideObject: EntryHideObject;\n    public showServerError: boolean = true;\n    public transaction: pip.services.Transaction;\n\n    constructor(\n        public pipEntryCommon: IEntryCommonService,\n    ) { \n        \"ngInject\";\n        \n    }\n\n    protected initModel($scope) {\n        this.config = this.pipEntryCommon.initScope($scope);\n        this.config.form = this.config.form || $scope.form;\n        this.hideObject = this.config.entryHideObject; \n    }\n}","import { EntryConfig } from './EntryService';\n\nexport class EntryPageConfig extends EntryConfig {\n    data: EntryDataConfig;\n    showServerUrl: boolean = false;\n    serverUrls: string[];\n    servers: IPastSessions;\n    selected: any;\n    filterItem: Function;\n    getMatches: Function;\n    onServerUrlChanged: Function;\n    isEmpty: Function;\n    form: any;\n}\n\nexport class EntryDataConfig {\n    login: string;\n    serverUrl: string;\n    email: string;\n    password: string;\n    passwordNew?: string;\n    remember: boolean;\n    adminOnly: boolean;\n    name: string;\n    code: string;\n    resetCode: string;\n}\n\n// export angular events\n// export const AuthSessionOpenedEvent = 'pipSessionOpened';\n// export const AuthSessionClosedEvent = 'pipSessionClosed';\n// export const AutoPullChangesEvent = 'pipAutoPullChanges';\n\nexport class SigninParams {\n    public email?: string;\n    public login: string;\n    public serverUrl: string;\n    public password?: string;\n    public remember?: boolean;\n    public adminOnly?: boolean;\n}\n\nexport class SignupParams {\n    public login: string;\n    public email?: string;\n    public name?: string;\n    public serverUrl: string;\n    public password?: string;\n    public remember?: boolean;\n    public adminOnly?: boolean;\n    public language?: string;\n    public theme?: string; \n    public time_zone?: string;\n}\n\nexport class AuthSessionData {\n    serverUrl: string = undefined;\n    sessionId: string = undefined;\n    userId: string = undefined;\n}\n\n\nexport class PastSession { \n    public login: string;\n    public serverUrl: string;\n}\n\n\nexport interface IPastSessions {\n    [key: string]: PastSession\n}\n","import { IPastSessions, AuthSessionData } from './EntryPageConfig';\nimport { SessionData } from '../data/SessionData';\nimport { EmailSettings } from '../data/EmailSettings';\nimport { EntryHideObject } from './EntryHideObject';\n\nexport interface IEntryService {\n    appbarTitle: string;\n    appbarIcon: string;\n    showIcon: boolean;\n    showLanguage: boolean;\n    adminOnly: boolean;\n    fixedServerUrl: boolean;\n    enableAvatar: boolean;\n    useEmailAsLogin: boolean;\n    isPostSignup: boolean;\n    passwordExpire: boolean;\n    entryHideObject: EntryHideObject;\n\n    openSession(data: SessionData, remember?: boolean): void;\n    getUserId(data: SessionData): string;\n    // restoreSession(callback: Function): void;\n    reopenSession(): void;\n    closeSession(): void;\n    signout(successCallback?: () => void): void\n}\n\nexport interface IEntryProvider {\n    appbarTitle: string;\n    appbarIcon: string;\n    showIcon: boolean;\n    showLanguage: boolean;\n    adminOnly: boolean;\n    fixedServerUrl: boolean;\n    enableAvatar: boolean;\n    useEmailAsLogin: boolean;\n    isPostSignup: boolean;\n    passwordExpire: boolean;\n    entryHideObject: EntryHideObject;\n}\n\nexport class EntryConfig {\n    public appbarTitle: string;\n    public appbarIcon: string;\n    public showIcon: boolean;\n    public showLanguage: boolean;\n    public adminOnly: boolean;\n    public fixedServerUrl: boolean;\n    public enableAvatar: boolean;\n    public useEmailAsLogin: boolean;\n    public isPostSignup: boolean;\n    public entryHideObject: EntryHideObject;\n    // control expare password by change_pwd_time field\n    public passwordExpire: boolean;\n}\n\nclass EntryService implements IEntryService {\n    private sessionState: string;\n\n    constructor(\n        private config: EntryConfig,\n        private pipRest: pip.rest.IRestService,\n        private localStorageService: any,\n\t\tprivate $cookies: any,\n        private $cookieStore: any,\n        private pipSession: pip.services.ISessionService,\n        private pipIdentity: pip.services.IIdentityService,\n        private pipTimer: pip.services.ITimerService,\n        private pipTranslate: pip.services.ITranslateService,\n        private pipTheme: pip.themes.IThemeService,\n        private $timeout: ng.ITimeoutService,\n        private pipAuthState: pip.rest.IAuthStateService\n    ) {\n        \"ngInject\";\n\n        this.pipSession.addOpenListener((callback: Function) => {\n            this.restoreSession(callback);\n        });\n\n    }\n\n    private restore(data: AuthSessionData): AuthSessionData {\n        let result: AuthSessionData = new AuthSessionData();\n        for (let property in data) {\n            if (data.hasOwnProperty(property)) {\n                if (!_.isObject(data[property])) {\n                    result[property] = /* this.$cookieStore.get(property) */ this.$cookies.get(property) || this.localStorageService.get(property);\n                } else {\n                    result[property] = data[property];\n                }\n            }\n        }\n\n        return result;\n    }\n\n    private storeToLocal(data: any): void {\n        for (let property in data) {\n            if (data.hasOwnProperty(property) && !_.isObject(data[property])) {\n                this.localStorageService.set(property, data[property]);\n            }\n        }\n    }\n\n    private removeLocal(data: any): void {\n        for (let property in data) {\n            if (data.hasOwnProperty(property) && !_.isObject(data[property])) {\n                this.localStorageService.remove(property);\n            }\n        }\n    }\n\n    private storeToCookie(data: any): void {\n        for (let property in data) {\n            if (data.hasOwnProperty(property) && !_.isObject(data[property])) {\n                // this.$cookieStore.put(property, data[property]);\n\t\t\t\tthis.$cookies.put(property, data[property], {path: '/'});\n            }\n        }\n    }\n\n    private removeCookie(data: any): void {\n        for (let property in data) {\n            if (data.hasOwnProperty(property) && !_.isObject(data[property])) {\n                // this.$cookieStore.remove(property);\n\t\t\t\tthis.$cookies.remove(property);\n            }\n        }\n    }\n\n    private storeKnownServer(value: string): void {\n        if (!value) return;\n        \n        // this.$cookieStore.put(value, value);\n\t\tthis.$cookies.put(value, value, {path: '/'});\n        this.localStorageService.set(value, value);\n    }\n\n    public get appbarIcon(): string {\n        return this.config.appbarIcon;\n    }\n\n    public get appbarTitle(): string {\n        return this.config.appbarTitle;\n    }\n\n    public get showIcon(): boolean {\n        return this.config.showIcon;\n    }\n\n    public get showLanguage(): boolean {\n        return this.config.showLanguage;\n    }\n\n    public get adminOnly(): boolean {\n        return this.config.adminOnly;\n    }\n\n    public get fixedServerUrl(): boolean {\n        return this.config.fixedServerUrl;\n    }\n\n    public get passwordExpire(): boolean {\n        return this.config.passwordExpire;\n    }\n\n    public get entryHideObject(): EntryHideObject {\n        return this.config.entryHideObject;\n    }\n\n    public get enableAvatar(): boolean {\n        return this.config.enableAvatar;\n    }\n\n    public get useEmailAsLogin(): boolean {\n        return this.config.useEmailAsLogin;\n    }\n\n    public get isPostSignup(): boolean {\n        return this.config.isPostSignup;\n    }\n\n    public openSession(data: SessionData, remember?: boolean): void {\n        let session: AuthSessionData = new AuthSessionData();\n        session.sessionId = data ? data.id : null;\n        session.userId = this.getUserId(data);\n        session.serverUrl = this.pipRest.serverUrl;\n\n        if (!session.sessionId) {\n            throw new Error('Error: session Id not found');\n        }\n\n        if (!session.userId) {\n            throw new Error('Error: user Id not found');\n        }\n\n        this.sessionState = 'open';\n\n        // Set default headers for subsequent HTTP requests\n        this.pipRest.setHeaders({\n            'x-session-id': session.sessionId\n        });\n\n        // Save ids into local storage\n        if (remember) {\n            let servers: IPastSessions = this.localStorageService.get('servers') || <IPastSessions>{};\n            servers[session.serverUrl] = {\n                serverUrl: session.serverUrl,\n                login: data.user.login\n            };\n            this.localStorageService.set('servers', servers);\n            this.storeToLocal(session);\n        }\n\n        this.storeKnownServer(session.serverUrl)\n\n        // Remove from cookie store\n        this.storeToCookie(session);\n        // Send broadcast\n \n        this.pipIdentity.identity = data;\n        this.pipSession.open(session);\n        this.pipTranslate.use(data.user.language);\n\n        if (data.user.theme && data.user.theme != this.pipTheme.theme) {\n            this.pipTheme.use(data.user.theme);\n        }\n    }\n\n    public getUserId(data: SessionData): string {\n        if (!data) {\n            return null;\n        }\n        let id: string;\n        id = data.user_id ? data.user_id : data.user ? data.user.id : null;\n\n        return id;\n    }\n\n    private checkEmailVerification(data: SessionData): boolean {\n        return (data.user && data.user.settings &&\n            data.user.settings['verified_email'] && data.user.settings['verified_email'] == \"true\");\n    }\n\n    private restoreSessionComplete(data: SessionData, callback: Function): void {\n        if (angular.isFunction(callback)) {\n            callback()\n        }\n        this.pipIdentity.identity = data;\n        this.pipTranslate.use(data.user.language);        \n    }\n\n    private restoreSession(callback: Function): void {\n        if (this.sessionState === 'open') {\n            if (angular.isFunction(callback)) {\n                callback()\n            }\n\n            return;\n        }\n\n        let session: AuthSessionData = new AuthSessionData();\n        session = this.restore(session);\n\n        if (!session || !session.sessionId) {\n            this.signout(() => {\n                this.pipAuthState.goToUnauthorized({});\n            });\n\n            return;\n        }\n\n        this.pipRest.getResource('restoreSessions').call(\n            {\n                session_id: session.sessionId\n            },\n            (data: SessionData) => {\n                if (!data || !data.id) {\n                    this.signout(() => {\n                        this.pipAuthState.goToUnauthorized({});\n                    });\n\n                    return;\n                }\n\n                session.userId = this.getUserId(data);\n                session.serverUrl = this.pipRest.serverUrl;\n                //  cookie store\n                this.storeToCookie(session);\n\n                if (this.checkEmailVerification(data)) {\n                    this.restoreSessionComplete(data, callback);\n                } else {\n                    this.pipRest.getResource('email_settings').get(\n                        {\n                            user_id: data.user.id\n                        },\n                        (setting: EmailSettings) => {\n                            if (setting && setting.verified && setting.email == data.user.login) {\n                                this.restoreSessionComplete(data, callback);\n                            } else {\n                                this.restoreSessionComplete(data, () => {\n                                    if (callback) callback();\n                                    this.pipAuthState.go('verify_email', { email: data.user.login || data.user['email'], serverUrl: this.pipRest.serverUrl });\n                                });\n                            }\n                        }, \n                        (error: any) => {\n\n                        });\n                }\n            },\n            (error: any) => {\n                if (angular.isFunction(callback)) {\n                    callback(error);\n                }\n\n                this.signout(() => {\n                    this.pipAuthState.goToUnauthorized({});\n                });\n            });\n    }\n\n    public reopenSession(): void {\n        let session: AuthSessionData = new AuthSessionData();\n        session = this.restore(session);\n\n        if (!session || !session.sessionId) {\n            this.signout(() => {\n                this.pipAuthState.goToUnauthorized({});\n            });\n\n            return;\n        }\n\n        this.sessionState = 'reopen';\n        // Set default headers for subsequent HTTP requests\n        this.pipRest.setHeaders({\n            'x-session-id': session.sessionId\n        });\n\n        if ((!this.pipRest.lockServerUrl || !this.pipRest.serverUrl) && session.serverUrl) {\n            this.pipRest.serverUrl = session.serverUrl;\n        }\n\n        this.pipSession.open(session);\n    }\n\n    public closeSession(): void {\n        let session: AuthSessionData = new AuthSessionData();\n        session.sessionId = null;\n        session.userId = null;\n        session.serverUrl = null;\n\n        this.pipRest.setHeaders({\n            'x-session-id': undefined\n        });\n        this.pipIdentity.identity = null;\n        // Remove ids into local storage\n        this.removeLocal(session);\n        // Remove from cookie store\n        this.removeCookie(session);\n        // Stop timer\n        this.pipTimer.stop();\n        // Send broadcast\n        this.pipSession.close();\n    }\n\n    public signout(successCallback?: () => void): void {\n        if (this.pipSession.isOpened()) {\n            this.pipRest.getResource('signout').call({}, successCallback, successCallback);\n        }\n\n        this.closeSession();\n    }\n}\n\n\nclass EntryProvider implements IEntryProvider {\n    private _service: IEntryService;\n    private config: EntryConfig;\n\n    constructor() {\n        this.config = new EntryConfig();\n        this.config.appbarTitle = '';\n        this.config.appbarIcon = '';\n        this.config.adminOnly = false;\n        this.config.showIcon = false;\n        this.config.showLanguage = true;\n        this.config.adminOnly = false;\n        this.config.fixedServerUrl = null;\n        this.config.passwordExpire = false;\n        this.config.enableAvatar = false;\n        this.config.useEmailAsLogin = false;\n        this.config.isPostSignup = true;\n        this.config.entryHideObject = new EntryHideObject();\n    }\n\n    public set appbarIcon(newAppbarIcon: string) {\n        this.config.appbarIcon = newAppbarIcon;\n    }\n\n    public set appbarTitle(newAppbarTitle: string) {\n        this.config.appbarTitle = newAppbarTitle;\n    }\n\n    public set showIcon(newShowIcon: boolean) {\n        this.config.showIcon = newShowIcon;\n    }\n\n    public set showLanguage(newShowLanguage: boolean) {\n        this.config.showLanguage = newShowLanguage;\n    }\n\n    public set adminOnly(newAdminOnly: boolean) {\n        this.config.adminOnly = newAdminOnly;\n    }\n\n    public set fixedServerUrl(newFixedServerUrl: boolean) {\n        this.config.fixedServerUrl = newFixedServerUrl;\n    }\n\n    public set passwordExpire(value: boolean) {\n        this.config.passwordExpire = value;\n    }\n\n    public set entryHideObject(entryHideObject: EntryHideObject) {\n        this.config.entryHideObject = entryHideObject;\n    }\n\n    public set enableAvatar(value: boolean) {\n        this.config.enableAvatar = value;\n    }\n\n    public set useEmailAsLogin(value: boolean) {\n        this.config.useEmailAsLogin = value;\n    }\n\n    public set isPostSignup(value: boolean) {\n        this.config.isPostSignup = value;\n    }\n\n    public $get(\n        pipRest: pip.rest.IRestService,\n        localStorageService: any,\n\t\t$cookies: any,\n        $cookieStore: any,\n        pipSession: pip.services.ISessionService,\n        pipIdentity: pip.services.IIdentityService,\n        pipTimer: pip.services.ITimerService,\n        pipTranslate: pip.services.ITranslateService,\n        pipTheme: pip.themes.IThemeService,\n        $timeout: ng.ITimeoutService,\n        pipAuthState: pip.rest.IAuthStateService\n    ) {\n        \"ngInject\";\n        if (_.isNull(this._service) || _.isUndefined(this._service)) {\n            this._service = new EntryService(this.config, pipRest, localStorageService, $cookies, $cookieStore,\n                pipSession, pipIdentity, pipTimer, pipTranslate, pipTheme, $timeout, pipAuthState);\n        }\n\n        return this._service;\n    }\n}\n\nangular.module('pipEntry.Service', [])\n    .provider('pipEntry', EntryProvider);","/// <reference path=\"../../typings/tsd.d.ts\" />\n\n(() => {\n    'use strict';\n\n    angular.module('pipEntry.Strings', [])\n        .config(function (pipTranslateProvider) {\n\n            // Set translation strings for the module\n            pipTranslateProvider.translations('en', {\n                // Common labels\n                'FULLNAME': 'First and last name',\n                'EMAIL': 'Email',\n                'LOGIN': 'Login',\n                'PASSWORD': 'Password',\n                'LANGUAGE': 'Language',\n                'GENDER': 'Gender',\n                'BIRTHDAY': 'Birthday',\n                'LOCATION': 'Location',\n                'VERIFY': 'Verify',\n                'CONTINUE': 'Continue',\n\n\n                // Common hints\n                'HINT_FULLNAME': \"Use your real name, so others know who you are\",\n                'HINT_PASSWORD': 'Minimum 6 characters',\n                'SIGNIN_HINT_PASSWORD': 'Please, type password',\n                'HINT_ABOUT': 'Few words about yourself',\n                'VERIFY_EMAIL': 'Please, verify your email address. ',\n                'HINT_EMAIL': 'Enter your email address, please',\n                'VERIFY_LOGIN': 'Please, verify your login address. ',\n                'HINT_LOGIN': 'Enter your login, please',\n\n                // Sign In page\n                'SIGNIN_TITLE': 'Sign in',\n                'SIGNIN_NOT_MEMBER': 'Not a member?',\n                'SIGNIN_REMEMBER': 'Remember',\n                'SIGNIN_FORGOT_PASSWORD': 'Forgot password?',\n                'SIGNIN_SIGNUP_HERE': ' Sign up here',\n\n                // Sign Up page\n                'SIGNUP_TITLE': 'Sign up',\n                'SIGNUP_NOT_MEMBER': 'Not a member? Sign up now',\n                'SIGNUP_TEXT_11': 'By clicking Sign up, you agree to the',\n                'SIGNUP_PRIVACY': 'privacy statement',\n                'SIGNUP_TEXT_12': 'and',\n                'SIGNUP_SERVICES': 'services agreement',\n                'SIGNUP_TEXT_2': 'Do you have an account?',\n                'SIGNUP_SIGNIN_HERE': ' Sign in here',\n                'SIGNUP_EMAIL_REGISTERED': 'This email is already registered',\n                'SIGNUP_LOGIN_REGISTERED': 'This login is already registered',\n                'SIGNUP_FULLNAME_WRONG': 'xxxx',\n                'SIGNUP_EMAIL_WRONG': 'xxxx',\n                'SIGNUP_LOGIN_WRONG': 'xxxx',\n\n                // Sign Up Details page\n                'POST_SIGNUP_TITLE': 'Welcome to Pip.Life',\n                'POST_SIGNUP_TEXT_1': 'Your account was successfully created.',\n                'POST_SIGNUP_TEXT_2': 'Tell us some more about yourself.',\n\n                // Recover Password page\n                'RECOVER_PWD_TITLE': 'Forgot password?',\n                'RECOVER_PWD_TEXT_1_LOGIN': \"Enter the login you used when you joined and we'll send you instructions to reset your password.\",\n                'RECOVER_PWD_TEXT_1_EMAIL': \"Enter the e-mail you used when you joined and we'll send you instructions to reset your password.\",\n                'RECOVER_PWD_TEXT_2': 'For security reasons, we do NOT store your password. So rest assured that we will never send your password via email.',\n                'RECOVER_PWD_RECOVER': 'Recover password',\n\n                // Reset Password page\n                'RESET_PWD_PASSWORD': 'Reset password',\n                'RESET_PWD_TEXT_LOGIN': 'Enter the login together with the reset code you received in email from. Remember the code is only active for 24 hours.',\n                'RESET_PWD_TEXT_EMAIL': 'Enter the e-mail together with the reset code you received in email from. Remember the code is only active for 24 hours.',\n                'RESET_PWD_SUCCESS_TEXT': 'Your password was successfully changed',\n\n                // Verify Email page\n                'VERIFY_EMAIL_WAIT': 'Email verification. Please, wait.',\n                'VERIFY_EMAIL_TITLE': 'Email verification',\n                'VERIFY_EMAIL_TEXT_1': 'Confirm your email address using verification code',\n                'VERIFY_EMAIL_TEXT_21': \"If you haven't received the code, press \",\n                'VERIFY_EMAIL_RESEND': 'resend',\n                'VERIFY_EMAIL_TEXT_22': 'to send it again.',\n                'VERIFY_EMAIL_SUCCESS_TEXT': 'Your email address was successfully verified. Thank you!',\n\n                'PASSWORD_MATCH': 'Passwords don\\'t match',\n                'PASSWORD_CONFIRM': 'Confirm the password',\n                'PASSWORD_SET': 'Set a password',\n\n                // Common entry resources\n                'ENTRY_CHANGE_SERVER': 'Change server',\n                'ENTRY_SERVER_URL': 'Server URL',\n                'ENTRY_RESET_CODE': 'Reset code',\n                'ENTRY_VERIFICATION_CODE': 'Verification code',\n                'ENTRY_NEW_PASSWORD': 'New password',\n                'ENTRY_SET_PASSWORD': 'Set Password',\n                'ENTRY_RESET_PASSWORD': 'Set',\n                'ENTRY_FREE': 'Free',\n                'ENTRY_REPEAT': 'Repeat',\n\n                // password changed resource\n                'CHANGE_PWD_PASSWORD': 'Change password',\n                'EXPIRE_CHANGE_PWD_PASSWORD': 'Change expire password',\n                'CHANGE_PWD_TEXT': 'Enter a new password to login.',\n                'EXPIRE_CHANGE_PWD_TEXT': 'Your password has expired. Enter a new password to login.',\n                'ENTRY_CHANGE_PASSWORD': 'Change',\n                'ENTRY_EXPIRE_CHANGE_PASSWORD': 'Change',\n                'OLD_PASSWORD': 'Current password',\n                'NEW_PASSWORD_SET': 'New password',\n                'NEW_PASSWORD_CONFIRM': 'Repeat password',\n                'CHANGE_PWD_SUCCESS_TEXT': 'Password changed successfuly',\n                'EXPIRE_CHANGE_PWD_SUCCESS_TEXT': 'Password changed successfuly',\n\n\n                // Validation errors\n                'ERROR_EMAIL_INVALID': 'Enter a valid email',\n                'ERROR_LOGIN_INVALID': 'Enter a valid login',\n                'ERROR_PASSWORD_INVALID': 'Enter a valid password',\n                'MINLENGTH_PASSWORD': 'Minimum password length 6 characters',\n                'ERROR_FULLNAME_INVALID': 'Enter full name',\n                'ERROR_CODE_INVALID': 'Enter a code from mail',\n                'ERROR_CODE_WRONG': 'Wrong recovery code',\n                'ERROR_SERVER_INVALID': 'Enter server URL',\n\n                //Languages\n                'LANGUAGE_RUSSIAN': 'Russian',\n                'LANGUAGE_ENGLISH': 'English',\n\n                // errors handling strings\n\n                'ERROR_ACT_EXECUTE': 'Bad Request. User was not found.',\n                'ERROR_WRONG_LOGIN': 'Account was not found',\n                'ERROR_LOGIN_NOT_FOUND': 'Account was not found',\n                'ERROR_NO_LOGIN': 'Missing account login',\n                'ERROR_WRONG_PASSWORD': 'Invalid password',\n                'ERROR_WRONG_CODE': 'Invalid password recovery code',\n                'ERROR_INVALID_CODE': 'Invalid email verification code',\n                'ERROR_NO_EMAIL': 'Missing email',\n                'ERROR_NO_NAME': 'Missing account name',\n                'ERROR_ALREADY_EXIST': 'User account already exist',\n                'ERROR_LOGIN_ALREADY_USED': 'User account already exist',\n                'ERROR_ALREADY_EXIST_EMAIL': 'User account already exist',\n                'ERROR_WRONG_LOGIN_EMAIL': 'Account was not found',\n                'ERROR_NO_LOGIN_EMAIL': 'Missing account login',\n                'ERROR_SERVER': 'Server is not responding',\n                'ERROR_ACCOUNT_LOCKED': 'Number of attempts exceeded. You account was locked.',\n                'ERROR_UNKNOWN': 'Unknown error',\n                'PASSWORD_IDENTICAL': 'Old and new passwords are identical'\n            });\n\n            pipTranslateProvider.translations('ru', {\n                // Common labels\n                'FULLNAME': 'Имя и фамилия',\n                'EMAIL': 'Адрес эл.почты',\n                'LOGIN': 'Логин',\n                'PASSWORD': 'Пароль',\n                'LANGUAGE': 'Язык',\n                'GENDER': 'Пол',\n                'BIRTHDAY': 'Дата рождения',\n                'LOCATION': 'Местонахождение',\n                'VERIFY': 'Подтвердить',\n                'CONTINUE': 'Продолжить',\n\n                // Common hints\n                'HINT_FULLNAME': \"Пожалуйста, введите свое полное имя - так, как вы хотите чтобы вас видели другие пользователи.\",\n                'HINT_PASSWORD': 'Минимум 6 символов',\n                'SIGNIN_HINT_PASSWORD': 'Введите пароль',\n                'HINT_ABOUT': 'Несколько слов о себе',\n                'VERIFY_EMAIL': 'Подтвердите адрес своей эл.почты',\n                'HINT_EMAIL': 'Введите адрес своей эл.почты',\n                'VERIFY_LOGIN': 'Подтвердите свой логин',\n                'HINT_LOGIN': 'Введите свой логин',\n                // Sign In page\n                'SIGNIN_TITLE': 'Вход в систему',\n                'SIGNIN_NOT_MEMBER': 'Еще не зарегистрировались?',\n                'SIGNIN_REMEMBER': 'Запомнить',\n                'SIGNIN_FORGOT_PASSWORD': 'Забыли пароль?',\n                'SIGNIN_SIGNUP_HERE': ' Зарегистрироваться здесь',\n\n                // Sign Up page\n                'SIGNUP_TITLE': 'Регистрация',\n                'SIGNUP_NOT_MEMBER': 'Новенький? Зарегистрируйтесь сейчас',\n                'SIGNUP_TEXT_11': 'Нажимая кнопку регистрация, я соглашаюсь с',\n                'SIGNUP_SERVICES': 'договором об услугах',\n                'SIGNUP_TEXT_12': 'и',\n                'SIGNUP_PRIVACY': 'соглашением о личных данных',\n                'SIGNUP_TEXT_2': 'Уже зарегистрировались?',\n                'SIGNUP_SIGNIN_HERE': ' Вход здесь',\n                'SIGNUP_EMAIL_REGISTERED': 'Введенный адрес эл.почты уже занят',\n                'SIGNUP_LOGIN_REGISTERED': 'Введенный логин уже занят',\n\n                // Sign Up Details page\n                'POST_SIGNUP_TITLE': 'Добро пожаловать в Pip.Life',\n                'POST_SIGNUP_TEXT_1': 'Ваша учетная запись создана.',\n                'POST_SIGNUP_TEXT_2': 'Несклько слов о о себе',\n\n                // Recover Password page\n                'RECOVER_PWD_TITLE': 'Забыли пароль?',\n                'RECOVER_PWD_TEXT_1_LOGIN': 'Введите логин, который вы использовали при регистрации и мы вышлем вам инструкции как изменить пароль.',\n                'RECOVER_PWD_TEXT_1_EMAIL': 'Введите эл. почту, которую вы использовали при регистрации и мы вышлем вам инструкции как изменить пароль.',\n                'RECOVER_PWD_TEXT_2': 'По соображениям безопасности мы НЕ храним пароли. Таким образом, мы никогда не пошлем ваш пароль по электронной почте.',\n                'RECOVER_PWD_RECOVER': 'Восстановить пароль',\n\n                // Reset Password page\n                'RESET_PWD_PASSWORD': 'Изменить пароль',\n                'RESET_PWD_TEXT_LOGIN': 'Введите логин вместе с кодом, который вы получили в почтовом сообщении. Помните, что код действителен только 24 часа.',\n                'RESET_PWD_TEXT_EMAIL': 'Введите эл. почту вместе с кодом, который вы получили в почтовом сообщении. Помните, что код действителен только 24 часа.',\n                'RESET_PWD_SUCCESS_TEXT': 'Ваш пароль успешно изменён',\n\n                // Verify Email page\n                'VERIFY_EMAIL_WAIT': 'Верификация эл. почты. Подождите немного.',\n                'VERIFY_EMAIL_TITLE': 'Подтверждение адреса эл.почты',\n                'VERIFY_EMAIL_TEXT_1': 'Введите код, который вы получили по эл.почте',\n                'VERIFY_EMAIL_TEXT_21': \"Если вы не получили почтовое сообщение с кодом, нажмите \",\n                'VERIFY_EMAIL_RESEND': 'отправить снова',\n                'VERIFY_EMAIL_TEXT_22': '.',\n                'VERIFY_EMAIL_SUCCESS_TEXT': 'Адрес вашей электронной почты успешно подтвержден. Спасибо!',\n\n                'PASSWORD_MATCH': 'Пароли не совпадают',\n                'PASSWORD_CONFIRM': 'Подтвердите пароль',\n                'PASSWORD_SET': 'Задайте пароль',\n\n                // Common entry resources\n                'ENTRY_CHANGE_SERVER': 'Изменить сервер',\n                'ENTRY_SERVER_URL': 'URL сервера',\n                'ENTRY_RESET_CODE': 'Код сброса пароля',\n                'ENTRY_VERIFICATION_CODE': 'Код проверки электронной почты',\n                'ENTRY_NEW_PASSWORD': 'Новый пароль',\n                'ENTRY_SET_PASSWORD': 'Изменить пароль',\n                'ENTRY_RESET_PASSWORD': 'Изменить',\n                'ENTRY_FREE': 'бесплатно',\n                'ENTRY_REPEAT': 'Повторить',\n\n                // password changed resource\n                'CHANGE_PWD_PASSWORD': 'Изменение пароля',\n                'EXPIRE_CHANGE_PWD_PASSWORD': 'Изменение пароля',\n                'CHANGE_PWD_TEXT': 'Для входа введите новый пароль.',\n                'EXPIRE_CHANGE_PWD_TEXT': 'Время действия Вашего пароля истекло. Для входа введите новый пароль.',\n                'ENTRY_CHANGE_PASSWORD': 'Изменить',\n                'ENTRY_EXPIRE_CHANGE_PASSWORD': 'Изменить',\n                'OLD_PASSWORD': 'Текущий пароль',\n                'NEW_PASSWORD_SET': 'Новый пароль',\n                'NEW_PASSWORD_CONFIRM': 'Повторите пароль',\n                'CHANGE_PWD_SUCCESS_TEXT': 'Пароль был успешно изменен',\n                'EXPIRE_CHANGE_PWD_SUCCESS_TEXT': 'Пароль был успешно изменен',\n\n                // Validation errors\n                'ERROR_EMAIL_INVALID': 'Введите адрес электронной почты',\n                'ERROR_LOGIN_INVALID': 'Введите логин',\n                'ERROR_PASSWORD_INVALID': 'Введите пароль',\n                'MINLENGTH_PASSWORD': 'Минимальная длинна пароля 6 символов',\n                'ERROR_FULLNAME_INVALID': 'Введите полное имя',\n                'ERROR_CODE_INVALID': 'Введите код',\n                'ERROR_CODE_WRONG': 'Неправильный код',\n                'ERROR_SERVER_INVALID': 'Введите URL сервера',\n\n                //Languages\n                'LANGUAGE_RUSSIAN': 'Русский',\n                'LANGUAGE_ENGLISH': 'Английский',\n\n                // errors handling strings\n\n                'ERROR_ACT_EXECUTE': 'Неверный запрос. Пользователь не найден.',\n                'ERROR_WRONG_LOGIN': 'Учетная запись пользователя не существует',\n                'ERROR_LOGIN_NOT_FOUND': 'Учетная запись пользователя не существует',\n                'ERROR_NO_LOGIN': 'Не задан логин',\n                'ERROR_WRONG_PASSWORD': 'Не верный пароль',\n                'ERROR_WRONG_CODE': 'Не верный код восстановления пароля',\n                'ERROR_INVALID_CODE': 'Не верный код верификации электронной почты',\n                'ERROR_NO_EMAIL': 'Не задан адресс электронной почты',\n                'ERROR_NO_NAME': 'Не задано имя пользователя',\n                'ERROR_ALREADY_EXIST': 'Логин уже зарегистрирован',\n                'ERROR_LOGIN_ALREADY_USED': 'Логин уже зарегистрирован',\n                'ERROR_ALREADY_EXIST_EMAIL': 'Логин уже зарегистрирован',\n                'ERROR_WRONG_LOGIN_EMAIL': 'Учетная запись пользователя не существует',\n                'ERROR_NO_LOGIN_EMAIL': 'Не задан логин',\n                'ERROR_SERVER': 'Сервер не отвечает. Проверьте URL сервера.',\n                'ERROR_ACCOUNT_LOCKED': 'Количесво попыток превышено. Ваша учетная запись заблокирована.',\n                'ERROR_UNKNOWN': 'Неизвестная ошибка',\n                'PASSWORD_IDENTICAL': 'Старый и новый пароль совпадают'\n            });\n\n        });\n\n})();","/// <reference path=\"../../typings/tsd.d.ts\" />\n\nfunction compareOldPassword($parse: ng.IParseService): ng.IDirective {\n    return {\n        require: 'ngModel',\n        link: function (scope, elm, attrs, ngModelCtrl) {\n            ngModelCtrl['$validators'].ERROR_compareTo = function (modelValue, viewValue) {\n                if (ngModelCtrl['$isEmpty'](modelValue)) {\n                    return true;\n                }\n\n                let otherModelValue;\n                let otherModelValueGetter = $parse(attrs.compareTo);\n\n                if (!modelValue || !!otherModelValue) return true;\n\n                if (otherModelValueGetter) {\n                    otherModelValue = otherModelValueGetter(scope);\n\n                    return modelValue != otherModelValue;\n                } else {\n                    return true;\n                }\n            }\n        }\n    };\n}\nfunction compareNewPassword($parse: ng.IParseService): ng.IDirective {\n    return {\n        require: 'ngModel',\n        link: function (scope, elm, attrs, ngModelCtrl) {\n            ngModelCtrl['$validators'].ERROR_compareTo = function (modelValue, viewValue) {\n                if (ngModelCtrl['$isEmpty'](modelValue)) {\n                    return true;\n                }\n                let otherModelValue;\n                let otherModelValueGetter = $parse(attrs.compareTo1);\n\n                if (!modelValue || !!otherModelValue) return true;\n\n                if (otherModelValueGetter) {\n                    otherModelValue = otherModelValueGetter(scope);\n\n                    return modelValue != otherModelValue;\n                } else {\n                    return true;\n                }\n            }\n        }\n    };\n}\nfunction comparePasswordMatch($parse: ng.IParseService): ng.IDirective {\n    return {\n        require: 'ngModel',\n        link: function (scope, elm, attrs, ngModelCtrl) {\n            ngModelCtrl['$validators'].ERROR_compareTo = function (modelValue, viewValue) {\n                if (ngModelCtrl['$isEmpty'](modelValue)) {\n                    return true;\n                }\n                let otherModelValue;\n                let otherModelValueGetter = $parse(attrs.compareTo2);\n\n                if (!modelValue || !!otherModelValue) return true;\n\n                if (otherModelValueGetter) {\n                    otherModelValue = otherModelValueGetter(scope);\n\n                    return modelValue == otherModelValue;\n                } else {\n                    return true;\n                }\n            }\n        }\n    };\n}\nangular.module('pipPasswordMatch', [])\n    .directive('pipCompareOldPassword', compareOldPassword)\n    .directive('pipCompareNewPassword', compareNewPassword)\n    .directive('pipComparePasswordMatch', comparePasswordMatch);","/// <reference path=\"../../typings/tsd.d.ts\" />\n\n(() => {\n    'use strict';\n\n    angular.module('pipEntry.Common', ['pipEntry.CommonService', 'pipEntry.Service'])\n   \n})();","import { Role } from './Role';\n\nexport class Account {\n    public roles: string[];\n    public theme: string;\n    public language: string;\n    public time_zone: string;\n    public create_time: string; // JSON date\n    public change_pwd_time: string; // JSON date\n    public login: string;\n    public name: string;\n    public id: string;\n    public custom_hdr?: any;\n    public custom_dat?: any;\n    public settings?: any;\n}","export class EmailSettings {\n    public name?: string;\n    public email?: string;\n    public language?: string;\n    public verified?: boolean;\n    public id?: string;\n}","import { SessionData } from './SessionData';\nimport { IEntryDataService } from './IEntryDataService';\nimport { IEntryService } from \"../common/EntryService\";\n\nclass EntryData implements IEntryDataService {\n    constructor(\n        private $stateParams: angular.ui.IStateParamsService,\n        private pipRest: pip.rest.IRestService,\n        private pipEntry: IEntryService,\n        private pipSession: pip.services.ISessionService\n    ) {\n        \"ngInject\";\n    }\n\n    public getUserId(): string {\n        let userId: string;\n        userId = this.pipSession.session ? this.pipSession.session.userId : null;\n\n        return userId;\n    }\n\n    public signup(params: any, successCallback?: (user: SessionData) => void, errorCallback?: (error: any) => void): angular.IPromise<any> {\n        return this.pipRest.getResource('signup').call(params, successCallback, errorCallback);\n    }\n\n    public recoverPassword(params: any, successCallback?: (data: any) => void, errorCallback?: (error: any) => void): angular.IPromise<any> {\n        return this.pipRest.getResource('recoverPassword').call(\n            {\n                login: params.login\n            }, successCallback, errorCallback);\n    }\n\n    public resetPassword(params: any, successCallback?: (data: any) => void, errorCallback?: (error: any) => void): angular.IPromise<any> {\n        return this.pipRest.getResource('resetPassword').call(\n            {\n                login: params.login,\n                code: params.code,\n                password: params.password\n            }, successCallback, errorCallback);\n    }\n\n    public expireChangePassword(params: any, successCallback?: (data: any) => void, errorCallback?: (error: any) => void): angular.IPromise<any> {\n        let param = params || {};\n        param.user_id = this.getUserId();\n\n        return this.pipRest.getResource('changePassword').save(param, successCallback, errorCallback);\n    }\n\n    public requestEmailVerification(params: any, successCallback?: (data: any) => void, errorCallback?: (error: any) => void): angular.IPromise<any> {\n        return this.pipRest.getResource('requestEmailVerification').call(\n            {\n     //           user_id: this.getUserId(),\n                login: params.login\n            }, successCallback, errorCallback);\n    }\n\n    public verifyEmail(params: any, successCallback?: (data: any) => void, errorCallback?: (error: any) => void): angular.IPromise<any> {\n        return this.pipRest.getResource('verifyEmail').call(params, successCallback, errorCallback);\n    }\n\n    public readEmailSettings(params: any, successCallback?: (data: any) => void, errorCallback?: (error: any) => void): angular.IPromise<any> {\n        let param = params || {};\n        param.user_id = param.user_id ? param.user_id : this.getUserId();  \n\n        return this.pipRest.getResource('email_settings').get(params, successCallback, errorCallback);\n    }\n\n    public signupValidate(login: string, successCallback?: (data: any) => void, errorCallback?: (error: any) => void): angular.IPromise<any> {\n        return this.pipRest.getResource('signupValidate').get(\n            {\n                login: login\n            }, successCallback, errorCallback);\n    }\n\n    public saveSettingsKey(section: string, key: string, value: any, successCallback?: (data: any) => void, errorCallback?: (error: any) => void): angular.IPromise<any> {\n        return this.pipRest.getResource('settings').save(\n            {\n                section: section,\n                key: key\n            },\n            { value: value },\n            (data: any) => {\n                if (successCallback) {\n                    successCallback(data);\n                }\n            },\n            (error: any) => {\n                if (errorCallback) {\n                    errorCallback(error);\n                }\n            });\n    }\n\n}\n\n\nangular\n    .module('pipEntryData', ['pipRest'])\n    .service('pipEntryData', EntryData);\n\n\n","export class GENDER {\n    static MALE: 'male';\n    static FEMALE: 'female';\n    static NOT_SPECIFIED: 'n/s'\n}\n","export class Role {\n\n}\n\n","export class Session {\n    public user_id: string;\n    public user_name: string;\n    public address: string;\n    public client: string;\n    public request_time: string; // JSON date\n    public open_time: string; // JSON date\n    public active: boolean;\n    public id: string;\n}","import { Session } from './Session';\nimport { Account } from './Account';\n\nexport class SessionData extends Session {\n    public user: Account;\n    public data: any; // todo\n    public change_pwd_time?: string; // JSON date\n}\n\n","import { ISessionDataService } from './ISessionDataService';\nimport { IEntryService } from \"../common/EntryService\";\n\nclass SessionData implements ISessionDataService {\n    private RESOURCE: string = 'sessions';\n    private RESOURCE_USER: string = 'userSessions';\n    private RESOURCE_RESTORE: string = 'restoreSessions';\n\n    constructor(\n        private $stateParams: angular.ui.IStateParamsService,\n        private pipRest: pip.rest.IRestService,\n        private pipSession: pip.services.ISessionService\n    ) {\n        \"ngInject\";\n    }\n\n    public getSessionId(): string {\n        let sessionId: string;\n        sessionId = this.pipSession.session ? this.pipSession.session.sessionId : null;\n\n        return sessionId;\n    }\n\n    public getUserId(): string {\n        let userId: string;\n        userId = this.pipSession.session ? this.pipSession.session.userId : null;\n\n        return userId;\n    }\n\n    public getSessions(params: any, successCallback?: (data: any) => void, errorCallback?: (error: any) => void): angular.IPromise<any> {\n        params = params || {};\n        return this.pipRest.getResource(this.RESOURCE).call(params, successCallback, errorCallback);\n    }\n\n    public restoreSession(params: any, successCallback?: (data: any) => void, errorCallback?: (error: any) => void): angular.IPromise<any> {\n        params = params || {};\n        params.session_id = this.getSessionId();\n\n        return this.pipRest.getResource(this.RESOURCE_RESTORE).call(params, successCallback, errorCallback);\n    }\n\n    public getUserSessions(params: any, successCallback?: (data: any) => void, errorCallback?: (error: any) => void): angular.IPromise<any> {\n        params = params || {};\n        params.user_id = this.getUserId();\n\n        return this.pipRest.getResource(this.RESOURCE_USER).get(params, successCallback, errorCallback);\n    }\n\n}\n\n\nangular\n    .module('pipSessionData', ['pipRest'])\n    .service('pipSessionData', SessionData);","import { IEntryCommonService } from \"../common/IEntryCommonService\";\nimport { ExpireChangePasswordViewModel } from './ExpireChangePasswordViewModel';\nimport { IEntryService } from \"../common/EntryService\";\n\nexport class ExpireChangePasswordController {\n\n    constructor(\n        $state: ng.ui.IStateService,\n        private pipExpireChangePasswordViewModel: ExpireChangePasswordViewModel,\n        pipEntryCommon: IEntryCommonService,\n        pipEntry: IEntryService,\n        pipAuthState: pip.rest.IAuthStateService,\n        pipSession: pip.services.ISessionService,\n        private $window: ng.IWindowService\n    ) {\n        \"ngInject\";\n\n        pipEntryCommon.configureAppBar();\n\n        if (pipEntry.passwordExpire === false || !pipSession.isOpened()) {\n            $state.go(pipAuthState.signinState(), {});\n        }\n    }\n\n    public goBack() {\n        this.$window.history.back();\n    }\n\n    public get config(): any {\n        return this.pipExpireChangePasswordViewModel.config;\n    }\n\n    public onChange() {\n        this.pipExpireChangePasswordViewModel.onChange();\n    }\n}\n\n{\n    angular.module('pipEntry.ExpireChangePassword', ['pipEntry.Common', 'pipExpireChangePasswordPanel']);\n\n}","import { ExpireChangePasswordViewModel } from './ExpireChangePasswordViewModel';\n\nexport interface IExpireChangePasswordDialogService {\n    show(params: any, successCallback?: () => void, cancelCallback?: () => void): void;\n}\n\n{\n    class ExpireChangePasswordDialogService implements IExpireChangePasswordDialogService {\n        public constructor(private $mdDialog: angular.material.IDialogService) { };\n        public show(params: any, successCallback?: () => void, cancelCallback?: () => void) {\n            this.$mdDialog.show({\n                targetEvent: params.event,\n                templateUrl: 'expire_change_password/ExpireChangePasswordDialog.html',\n                controller: ExpireChangePasswordDialogController,\n                controllerAs: '$ctrl',\n                locals: {\n                    params: params\n                },\n                clickOutsideToClose: false\n            })\n                .then(() => {\n                    if (successCallback) {\n                        successCallback();\n                    }\n                }, () => {\n                    if (cancelCallback) {\n                        cancelCallback();\n                    }\n                });\n        }\n    }\n\n    class ExpireChangePasswordDialogController {\n        public goBack: any;\n\n        constructor(\n            $mdDialog: angular.material.IDialogService,\n            private pipExpireChangePasswordViewModel: ExpireChangePasswordViewModel\n        ) {\n            \"ngInject\";\n\n            this.goBack = $mdDialog.cancel;\n        }\n\n        public get config(): any {\n            return this.pipExpireChangePasswordViewModel.config;\n        }\n\n        public onChange() {\n            this.pipExpireChangePasswordViewModel.onChange(() => {\n                this.goBack();\n            });\n        }\n\n    }\n\n    angular.module('pipEntry.ExpireChangePasswordDialog', ['pipEntry.Common', \"pipExpireChangePasswordPanel\"])\n        .service('pipExpireChangePasswordDialog', ExpireChangePasswordDialogService);\n\n}","import { EntryModel } from '../common/EntryModel';\nimport { IEntryCommonService } from \"../common/IEntryCommonService\";\nimport { IEntryDataService } from '../data/IEntryDataService';\nimport { IEntryService } from \"../common/EntryService\";\n\nexport class ExpireChangePasswordModel extends EntryModel {\n    constructor(\n        pipEntryCommon: IEntryCommonService,\n        pipTransaction: pip.services.ITransactionService,\n        private $rootScope: ng.IRootScopeService,\n        private $location: ng.ILocationService,\n        private $state: ng.ui.IStateService,\n        private $injector: ng.auto.IInjectorService,\n        private pipAuthState: pip.rest.IAuthStateService,\n        private pipFormErrors: pip.errors.IFormErrorsService,\n        private pipRest: pip.rest.IRestService,\n        private pipTranslate: pip.services.ITranslateService,\n        private pipEntryData: IEntryDataService,\n        private pipEntry: IEntryService,\n        private pipToasts: pip.controls.IToastService\n    ) {\n        \"ngInject\";\n\n        super(pipEntryCommon);\n        this.transaction = pipTransaction.create('entry.expire_change_password');\n\n    }\n\n    public init($scope): void {\n        this.initModel($scope);\n        this.setElementVisability();\n    }\n\n    private setElementVisability(): void {\n        this.hideObject.subTitle = new Boolean(this.hideObject.subTitle) == true;\n        this.hideObject.title = new Boolean(this.hideObject.title) == true;\n        this.hideObject.server = new Boolean(this.hideObject.server) == true;\n        this.hideObject.hint = new Boolean(this.hideObject.hint) == true;\n        this.hideObject.progress = new Boolean(this.hideObject.progress) == true;\n    }\n\n    public onShowToast(message: string, type: string): void {\n        if (!message) return;\n        message = this.pipTranslate.translate(message);\n        type = type || 'message';\n\n        if (type == 'message') {\n            this.pipToasts.showMessage(message, null, null, null);\n            return;\n        }\n        if (type == 'error') {\n            this.pipToasts.showError(message, null, null, null, null);\n            return;\n        }\n    }\n\n    public onChange(callback?: () => void): void {\n        if (this.config.form.$invalid) {\n            this.pipFormErrors.resetFormErrors(this.config.form, true);\n\n            return;\n        }\n\n        const transactionId = this.transaction.begin('PROCESSING');\n        if (!transactionId) return;\n        if (!this.pipRest.lockServerUrl) {\n            this.pipRest.serverUrl = this.config.data.serverUrl;\n        }\n\n        this.pipEntryData.expireChangePassword({\n            login: this.config.data.login,\n            old_password: this.config.data.password,\n            new_password: this.config.data.passwordNew,\n            user_id: this.pipEntryData.getUserId()\n        },\n            (data: any) => {\n                this.pipFormErrors.resetFormErrors(this.config.form, false);\n                if (this.transaction.aborted(transactionId)) return;\n\n                const message = String() + 'EXPIRE_CHANGE_PWD_SUCCESS_TEXT';\n                this.onShowToast(message, 'message');\n                this.transaction.end();\n                if (callback) callback();\n                this.pipEntry.signout(\n                    () => {\n                        this.$state.go('signin', {\n                            server_url: this.config.data.serverUrl,\n                            login: this.config.data.login\n                        });\n                    }\n                );\n\n            },\n            (error: any) => {\n                this.transaction.end(error);\n                this.pipFormErrors.resetFormErrors(this.config.form, true);\n                this.pipFormErrors.setFormError(\n                    this.config.form, error, {\n                        'NO_LOGIN': 'login', // Missing account login\n                        'WRONG_LOGIN': 'login', // Account  was not found\n                        'LOGIN_NOT_FOUND': 'login', // Account  was not found\n                        'WRONG_PASSWORD': 'password', // Invalid password\n                        'act_execute': 'form', // Unknown error\n                        '-1': 'form' // server not response\n                    }\n                );\n            }\n        );\n    }\n\n}","import { EntryPageConfig } from '../common/EntryPageConfig';\nimport { IEntryCommonService } from \"../common/IEntryCommonService\";\nimport { ExpireChangePasswordViewModel } from './ExpireChangePasswordViewModel';\n\n{\n    interface IExpireChangePasswordPanelBindings {\n        [key: string]: any;\n\n\n    }\n\n    const ExpireChangePasswordPanelBindings: IExpireChangePasswordPanelBindings = {\n\n    }\n\n    class ExpireChangePasswordPanelController {\n        public touchedErrorsWithHint: Function;\n        constructor(\n            private $scope: ng.IScope,\n            private pipFormErrors: pip.errors.IFormErrorsService,\n            private pipRest: pip.rest.IRestService,\n            private pipExpireChangePasswordViewModel: ExpireChangePasswordViewModel\n        ) {\n            \"ngInject\";\n\n            this.touchedErrorsWithHint = pipFormErrors.touchedErrorsWithHint;\n            pipExpireChangePasswordViewModel.initModel($scope);\n   \n\n        }\n\n        public $postLink(): void {\n            this.config.form = this.$scope.form;\n            this.config.data.password = null;\n            this.config.data.passwordNew = null;\n        }\n\n        public get config(): any {\n            return this.pipExpireChangePasswordViewModel.config;\n        }\n\n        public get transaction(): any {\n            return this.pipExpireChangePasswordViewModel.transaction;\n        }\n\n        public get showServerError(): any {\n            return this.pipExpireChangePasswordViewModel.showServerError;\n        }\n\n        public get hideObject(): any {\n            return this.pipExpireChangePasswordViewModel.hideObject;\n        }\n\n        public onServerUrlChanged() {\n            this.config.onServerUrlChanged(this.config.form, this.config.selected.searchURLs);\n        }\n    \n        public onChanged() {\n            this.pipFormErrors.resetFormErrors(this.config.form, false);\n            this.pipFormErrors.resetFieldsErrors(this.config.form, null);\n            this.pipRest.serverUrl = this.config.selected.searchURLs;\n            this.config.data.serverUrl = this.config.selected.searchURLs;\n        }\n\n        public onShowToast(message: string, type: string): void {\n            this.pipExpireChangePasswordViewModel.onShowToast(message, type);\n        }\n\n    }\n\n    const ExpireChangePasswordPanel: ng.IComponentOptions = {\n        bindings: ExpireChangePasswordPanelBindings,\n        controller: ExpireChangePasswordPanelController,\n        templateUrl: 'expire_change_password/ExpireChangePasswordPanel.html'\n    }\n\n    angular.module(\"pipExpireChangePasswordPanel\", ['pipFocused', 'pipEntry.Strings'])\n        .component('pipExpireChangePasswordPanel', ExpireChangePasswordPanel);\n}","import { ExpireChangePasswordModel } from './ExpireChangePasswordModel';\nimport { IEntryService } from \"../common/EntryService\";\n\nexport class ExpireChangePasswordViewModel {\n    public model: ExpireChangePasswordModel;\n\n    constructor(\n        pipEntryCommon: any,\n        pipTransaction: pip.services.ITransactionService,\n        $rootScope: ng.IRootScopeService,\n        $location: ng.ILocationService,\n        $state: ng.ui.IStateService,\n        $injector: ng.auto.IInjectorService,\n        pipAuthState: pip.rest.IAuthStateService,\n        pipFormErrors: pip.errors.IFormErrorsService,\n        pipRest: pip.rest.IRestService,\n        pipEntry: IEntryService,\n        private pipTranslate: pip.services.ITranslateService,\n        private pipEntryData: any,\n        private pipToasts: any\n    ) {\n        \"ngInject\";\n\n        this.model = new ExpireChangePasswordModel(pipEntryCommon, pipTransaction, $rootScope, $location, $state,\n            $injector, pipAuthState, pipFormErrors, pipRest, pipTranslate, pipEntryData, pipEntry, pipToasts);\n    }\n\n    public get transaction(): pip.services.Transaction {\n        return this.model.transaction;\n    }\n\n    public get hideObject(): any {\n        return this.model.hideObject;\n    }\n\n    public get showServerError(): any {\n        return this.model.showServerError;\n    }\n\n    public get config(): any {\n        return this.model.config;\n    }\n\n    public initModel($scope) {\n        this.model.init($scope);\n    }\n\n    public onShowToast(message, type) {\n        this.model.onShowToast(message, type);\n    }\n\n    public onChange(callback?: () => void) {\n        this.model.onChange(callback);\n    }\n}\n\nangular.module('pipEntry.ExpireChangePassword')\n    .service('pipExpireChangePasswordViewModel', ExpireChangePasswordViewModel);","import { PostSignupViewModel } from './PostSignupViewModel';\n\nexport class PostSignupController implements ng.IController {\n\tpublic $onInit() {}\n\t\n    constructor(\n        private $window: ng.IWindowService,\n        public $party: any,\n        private pipPostSignupViewModel: PostSignupViewModel\n    ) {\n        \"ngInject\";\n\n    }\n\n    public onPostSignupSubmit() {\n        this.pipPostSignupViewModel.onPostSignupSubmit();\n    }\n\n    public get transaction(): any {\n        return this.pipPostSignupViewModel.transaction;\n    }\n}\n\n{\n    angular.module('pipEntry.PostSignup', ['pipEntry.Common', \"pipPostSignupPanel\"])\n        .controller('pipPostSignupController', PostSignupController);\n}","import { PostSignupViewModel } from './PostSignupViewModel';\n\nexport interface IPostSignupDialogService {\n    show(params: any, successCallback?: () => void, cancelCallback?: () => void): void;\n}\n\n{\n    class PostSignupDialogService implements IPostSignupDialogService {\n        public constructor(private $mdDialog: angular.material.IDialogService) { };\n        public show(params: any, successCallback?: () => void, cancelCallback?: () => void) {\n            this.$mdDialog.show({\n                targetEvent: params.event,\n                templateUrl: 'post_signup/PostSignupDialog.html',\n                controller: PostSignupDialogController,\n                controllerAs: '$ctrl',\n                locals: {\n                    params: params\n                },\n                clickOutsideToClose: false\n            })\n                .then(() => {\n                    if (successCallback) {\n                        successCallback();\n                    }\n                }, () => {\n                    if (cancelCallback) {\n                        cancelCallback();\n                    }\n                });\n        }\n    }\n\n    class PostSignupDialogController {\n        public $party: any;\n        public goBack: any;\n\n        constructor(\n            $mdDialog: angular.material.IDialogService,\n            params: any,\n            private pipPostSignupViewModel: PostSignupViewModel\n        ) {\n            \"ngInject\";\n\n            this.goBack = $mdDialog.cancel;\n            this.$party = params.$party;\n        }\n\n        public onPostSignupSubmit() {\n            this.pipPostSignupViewModel.onPostSignupSubmit(() => {\n                this.goBack();\n            });\n        }\n\n        public get transaction() {\n            return this.pipPostSignupViewModel.transaction;\n        }\n    }\n\n    angular.module('pipEntry.PostSignupDialog', ['pipEntry.Common', \"pipPostSignupPanel\"])\n        .service('pipPostSignupDialog', PostSignupDialogService);\n\n}","import { EntryModel } from '../common/EntryModel';\nimport { IEntryCommonService } from \"../common/IEntryCommonService\";\nimport { IEntryDataService } from '../data/IEntryDataService';\nimport { IEntryService } from \"../common/EntryService\";\n\nexport class PostSignupModel extends EntryModel {\n    constructor(\n        pipEntryCommon: IEntryCommonService,\n        pipTransaction: pip.services.ITransactionService,\n        private $rootScope: ng.IRootScopeService,\n        private $location: ng.ILocationService,\n        private $state: ng.ui.IStateService,\n        private $injector: ng.auto.IInjectorService,\n        private pipErrorPageConfigService: pip.errors.IErrorPageConfigService,\n        private pipAuthState: pip.rest.IAuthStateService,\n        private pipFormErrors: pip.errors.IFormErrorsService,\n        private pipEntry: IEntryService,\n        private pipRest: pip.rest.IRestService,\n        private pipTranslate: pip.services.ITranslateService,\n        private pipEntryData: IEntryDataService,\n        private pipToasts: pip.controls.IToastService\n    ) {\n        \"ngInject\";\n\n        super(pipEntryCommon);\n        this.transaction = pipTransaction.create('entry.signin');\n    }\n\n    public init($scope) {\n        this.initModel($scope);\n        this.setElementVisability();\n    }\n\n    private setElementVisability() {\n        this.hideObject.subTitle = new Boolean(this.hideObject.subTitle) == true;\n        this.hideObject.title = new Boolean(this.hideObject.title) == true;\n        this.hideObject.successTitle = new Boolean(this.hideObject.successTitle) == true;\n        this.hideObject.progress = new Boolean(this.hideObject.progress) == true;\n    }\n\n    private checkSupported(): boolean {\n        let pipSystemInfo: any = this.$injector.has('pipSystemInfo') ? this.$injector.get('pipSystemInfo') : null;\n        if (!pipSystemInfo) {\n            return true;\n        }\n\n        if (!this.pipErrorPageConfigService || !this.pipErrorPageConfigService.configs || \n            !this.pipErrorPageConfigService.configs.Unsupported || !this.pipErrorPageConfigService.configs.Unsupported.Active) {\n\n            return true;\n        }\n\n        let browser: string = pipSystemInfo.browserName;\n        let version: string = pipSystemInfo.browserVersion;\n        version = version.split(\".\")[0];\n\n        let supported = this.pipErrorPageConfigService.configs.Unsupported.Params && this.pipErrorPageConfigService.configs.Unsupported.Params.supported ? this.pipErrorPageConfigService.configs.Unsupported.Params.supported : null;\n        if (!supported) {\n\n            return true;\n        }\n\n        if (browser && supported[browser] && version >= supported[browser]) {\n            return true;\n        }\n\n        this.pipEntry.signout();\n        this.$state.go(pip.errors.ErrorsUnsupportedState); \n        return false;\n    }\n\n    public onPostSignupSubmit(callback?: () => void) {\n        if (this.config.form.$invalid) {\n            this.pipFormErrors.resetFormErrors(this.config.form, true);\n            return;\n        }\n\n        var transactionId = this.transaction.begin('PROCESSING');\n        if (!transactionId) return;\n\n        if (callback) callback();\n        // this.pipPartyData.createParty(\n        //     this.config.data,\n        //     (party) => {\n        //         this.pipFormErrors.resetFormErrors(this.config.form, false);\n        //         if (this.transaction.aborted(transactionId)) return;\n\n        //         this.transaction.end();\n\n        //         if (this.checkSupported()) {\n        //             this.pipAuthState.goToAuthorized({\n        //                 party_id: party.id\n        //             });\n        //         }\n\n        //     },\n        //     (error) => {\n        //         this.transaction.end(error);\n        //         this.pipFormErrors.resetFormErrors(this.config.form, true);\n        //         this.pipFormErrors.setFormError(\n        //             this.config.form, error, {\n        //                 1000: 'form', // Unknown error\n        //                 1110: 'form', // Account is locked\n        //                 1111: 'form', // Number of attempts exceeded. Account was locked\n        //                 1112: 'form', // Account is not active\n        //                 '-1': 'form' // server not response\n        //             }\n        //         );\n        //     }\n        // );\n    }\n}","import { IEntryCommonService } from \"../common/IEntryCommonService\";\nimport { PostSignupViewModel } from './PostSignupViewModel';\nimport { GENDER } from '../data/Enums';\n\n{\n    interface IPostSignupPanelBindings {\n        [key: string]: any;\n\n        $party: any;\n    }\n\n    const PostSignupPanelBindings: IPostSignupPanelBindings = {\n        $party: '=pipParty',\n    }\n\n    class PostSignupPanelController {\n        public $party: any;\n        public picture: any;\n        public touchedErrorsWithHint: Function;\n\n        constructor(\n            private $scope: ng.IScope,\n            pipTranslate: pip.services.ITranslateService,\n            pipFormErrors: pip.errors.IFormErrorsService,\n            private pipPostSignupViewModel: PostSignupViewModel\n        ) {\n             \"ngInject\";\n\n            pipPostSignupViewModel.initModel($scope);\n            this.touchedErrorsWithHint = pipFormErrors.touchedErrorsWithHint;\n            this.config.data = {\n                id: this.$party.id,\n                name: this.$party.name,\n                email: this.$party.email,\n                about: this.$party.about,\n                language: pipTranslate.language,\n                birthday: this.$party.birthday,\n                gender: this.$party.gender || GENDER.NOT_SPECIFIED,\n                location: this.$party.location\n            };\n        }\n\n        public $postLink() {\n            this.config.form = this.$scope.form;\n        }\n\n        public get config(): any {\n            return this.pipPostSignupViewModel.config;\n        }\n\n        public get transaction(): any {\n            return this.pipPostSignupViewModel.transaction;\n        }\n\n        public get showServerError(): any {\n            return this.pipPostSignupViewModel.showServerError;\n        }\n\n        public get hideObject(): any {\n            return this.pipPostSignupViewModel.hideObject;\n        }\n\n        public onPictureChanged($control) {\n            if (!this.config.enableAvatar) { return }\n\n            if (this.picture)\n                this.picture.save(\n                    // Success callback\n                    function () {},\n                    // Error callback\n                    function (error) {\n                    }\n                );\n        }\n\n        public onPictureCreated($event) {\n            this.picture = $event.sender;\n        }\n    }\n\n    const PostSignupPanel: ng.IComponentOptions = {\n        bindings: PostSignupPanelBindings,\n        templateUrl: 'post_signup/PostSignupPanel.html',\n        controller: PostSignupPanelController\n    }\n\n    angular.module(\"pipPostSignupPanel\", ['pipFocused', 'pipEntry.Strings'])\n        .component('pipPostSignupPanel', PostSignupPanel);\n}","import { PostSignupModel } from './PostSignupModel';\nimport { IEntryService } from \"../common/EntryService\";\nimport { IEntryDataService } from '../data/IEntryDataService';\nimport { IEntryCommonService } from \"../common/IEntryCommonService\";\n\nexport class PostSignupViewModel {\n    public model: PostSignupModel;\n\n    constructor(\n        pipEntryCommon: IEntryCommonService,\n        pipTransaction: pip.services.ITransactionService,\n        $rootScope: ng.IRootScopeService,\n        $location: ng.ILocationService,\n        $state: ng.ui.IStateService,\n        $injector: ng.auto.IInjectorService,\n        pipErrorPageConfigService: pip.errors.IErrorPageConfigService,\n        pipAuthState: pip.rest.IAuthStateService,\n        pipEntry: IEntryService,\n        pipFormErrors: pip.errors.IFormErrorsService,\n        pipRest: pip.rest.IRestService,\n        private pipTranslate: pip.services.ITranslateService,\n        private pipEntryData: IEntryDataService,\n        private pipToasts: pip.controls.IToastService\n    ) {\n        \"ngInject\";\n\n        this.model = new PostSignupModel(pipEntryCommon, pipTransaction, $rootScope, $location, $state, $injector,\n            pipErrorPageConfigService, pipAuthState, pipFormErrors, pipEntry, pipRest, pipTranslate, pipEntryData, pipToasts);\n    }\n\n    public get transaction(): pip.services.Transaction {\n        return this.model.transaction;\n    }\n\n    public get hideObject(): any {\n        return this.model.hideObject;\n    }\n\n    public get showServerError(): any {\n        return this.model.showServerError;\n    }\n\n    public get config(): any {\n        return this.model.config;\n    }\n\n    public initModel($scope) {\n        this.model.init($scope);\n    }\n\n    public onPostSignupSubmit(callback?: () => void) {\n        this.model.onPostSignupSubmit(callback);\n    }\n}\n\nangular.module('pipEntry.PostSignup')\n    .service('pipPostSignupViewModel', PostSignupViewModel);","import { IEntryCommonService } from \"../common/IEntryCommonService\";\nimport { RecoverPasswordViewModel } from './RecoverPasswordViewModel';\nimport { IResetPasswordDialogService } from '../reset_password/ResetPasswordDialog';\n\nexport class RecoverPasswordController {\n    constructor(\n        private $scope: ng.IScope,\n        private pipRecoverPasswordViewModel: RecoverPasswordViewModel,\n        private pipResetPasswordDialog: IResetPasswordDialogService,\n        pipEntryCommon: IEntryCommonService,\n        private $state: ng.ui.IStateService,\n        private pipAuthState: pip.rest.IAuthStateService,\n        private pipFormErrors: pip.errors.IFormErrorsService,\n        private $window: ng.IWindowService\n    ) {\n        \"ngInject\";\n\n        pipEntryCommon.configureAppBar();\n    }\n\n    public goBack(): void {\n        this.$state.go(this.pipAuthState.signinState());\n    }\n\n    public get transaction(): any {\n        return this.pipRecoverPasswordViewModel.transaction;\n    }\n\n    public get config(): any {\n        return this.pipRecoverPasswordViewModel.config;\n    }\n\n    public onRecover(): void {\n        this.pipRecoverPasswordViewModel.onRecover(\n            () => {\n                this.pipResetPasswordDialog.show(\n                    {},\n                    () => {\n                        // reinit recovery panel\n                        this.$scope.$broadcast('RecoverPasswordInit');\n                    },\n                    () => {\n                        // reinit recovery panel\n                        this.$scope.$broadcast('RecoverPasswordInit');\n                    }\n                );\n            }\n        );\n    }\n}\n\n{\n    angular.module('pipEntry.RecoverPassword', ['pipEntry.Common', 'pipRecoverPasswordPanel', 'pipEntry.ResetPasswordDialog']);\n}","import { RecoverPasswordViewModel } from './RecoverPasswordViewModel';\nimport { IResetPasswordDialogService } from '../reset_password/ResetPasswordDialog';\n\nexport interface IRecoverPasswordDialogService {\n    show(params: any, successCallback?: () => void, cancelCallback?: () => void): void;\n}\n\n{\n    class RecoverPasswordDialogService implements IRecoverPasswordDialogService {\n        public constructor(private $mdDialog: angular.material.IDialogService) { };\n        public show(params: any, successCallback?: () => void, cancelCallback?: () => void) {\n            this.$mdDialog.show({\n                targetEvent: params.event,\n                templateUrl: 'recover_password/RecoverPasswordDialog.html',\n                controller: RecoverPasswordDialogController,\n                controllerAs: '$ctrl',\n                locals: {\n                    params: params\n                },\n                clickOutsideToClose: false\n            })\n                .then(() => {\n                    if (successCallback) {\n                        successCallback();\n                    }\n                }, () => {\n                    if (cancelCallback) {\n                        cancelCallback();\n                    }\n                });\n        }\n    }\n\n    class RecoverPasswordDialogController {\n        public goBack: any;\n\n        constructor(\n            private pipResetPasswordDialog: IResetPasswordDialogService,\n            private pipRecoverPasswordViewModel: RecoverPasswordViewModel,\n            private pipFormErrors : pip.errors.IFormErrorsService,\n            private $mdDialog: angular.material.IDialogService\n        ) {\n            \"ngInject\";\n\n            this.goBack = $mdDialog.cancel;\n        }\n\n        public get transaction(): any {\n            return this.pipRecoverPasswordViewModel.transaction;\n        }\n\n        public get config(): any {\n            return this.pipRecoverPasswordViewModel.config;\n        }\n\n        public onRecover(): void {\n            this.$mdDialog.cancel;\n            this.pipRecoverPasswordViewModel.onRecover(\n                () => {\n                    this.pipResetPasswordDialog.show({});\n                }\n            );\n        }\n    }\n\n    angular.module('pipEntry.RecoverPasswordDialog', ['pipEntry.Common', \"pipRecoverPasswordPanel\",\n        'pipEntry.ResetPasswordDialog'\n    ])\n        .service('pipRecoverPasswordDialog', RecoverPasswordDialogService);\n\n}","import { EntryModel } from '../common/EntryModel';\nimport { IEntryCommonService } from \"../common/IEntryCommonService\";\nimport { IEntryDataService } from '../data/IEntryDataService';\n\nexport class RecoverPasswordModel extends EntryModel {\n    constructor(\n        pipEntryCommon: IEntryCommonService,\n        pipTransaction: pip.services.ITransactionService,\n        private $rootScope: ng.IRootScopeService,\n        private $location: ng.ILocationService,\n        private $state: ng.ui.IStateService,\n        private $injector: ng.auto.IInjectorService,\n        private pipAuthState: pip.rest.IAuthStateService,\n        private pipFormErrors : pip.errors.IFormErrorsService,\n        private pipRest: pip.rest.IRestService,\n        private pipTranslate: pip.services.ITranslateService,\n        private pipEntryData: IEntryDataService,\n        private pipToasts: pip.controls.IToastService\n    ) {\n        \"ngInject\";\n        \n        super(pipEntryCommon);\n        this.transaction = pipTransaction.create('entry.signin');\n    }\n\n    public init($scope): void {\n        this.initModel($scope);\n        this.setElementVisability();\n    }\n\n    private setElementVisability(): void {\n        this.hideObject.title = new Boolean(this.hideObject.title) == true;\n        this.hideObject.subTitle1 = new Boolean(this.hideObject.subTitle1) == true;\n        this.hideObject.subTitle2 = new Boolean(this.hideObject.subTitle2) == true;\n        this.hideObject.server = new Boolean(this.hideObject.server) == true;\n        this.hideObject.hint = new Boolean(this.hideObject.hint) == true;\n        this.hideObject.progress = new Boolean(this.hideObject.progress) == true;\n    }\n\n    public onRecover(gotoReset: () => void): void {\n        if (this.config.form.$invalid) {\n            this.pipFormErrors.resetFormErrors(this.config.form, true);\n            return;\n        }\n        const transactionId = this.transaction.begin('PROCESSING');\n        if (!transactionId) return;\n        \n        if (!this.pipRest.lockServerUrl) {\n            this.pipRest.serverUrl = this.config.data.serverUrl;\n        }\n        this.pipEntryData.recoverPassword({\n                login: this.config.data.login\n            },\n            (data: any) => {\n                this.pipFormErrors.resetFormErrors(this.config.form, true);\n                if (this.transaction.aborted(transactionId)) return;\n\n                this.transaction.end();\n                if (!gotoReset) {\n                    this.$state.go('reset_password', {\n                        server_url: this.config.data.serverUrl,\n                        login: this.config.data.login\n                    });\n                } else {\n                    gotoReset();\n                }\n            },\n            (error: any) => {\n                this.transaction.end(error);\n                this.pipFormErrors.setFormError(\n                    this.config.form, error, {\n                        'WRONG_LOGIN': 'login', // Account  was not found\n                        'NO_LOGIN': 'login', // Missing account login\n                        'LOGIN_NOT_FOUND': 'login', // Missing account login\n                        'act_execute': 'form', // Unknown error\n                        '-1': 'form' // server not response\n                    }\n                );\n                this.pipFormErrors.resetFormErrors(this.config.form, true);\n            }\n        );\n    };\n}","import { EntryPageConfig } from '../common/EntryPageConfig';\nimport { IEntryCommonService } from \"../common/IEntryCommonService\";\nimport { RecoverPasswordViewModel } from './RecoverPasswordViewModel';\n\n{\n    interface IRecoverPasswordPanelBindings {\n        [key: string]: any;\n\n    }\n\n    const RecoverPasswordPanelBindings: IRecoverPasswordPanelBindings = {\n\n    }\n\n    class RecoverPasswordPanelController {\n        public touchedErrorsWithHint: Function;\n        constructor(\n            private $scope: ng.IScope,\n            private pipFormErrors: pip.errors.IFormErrorsService,\n            private pipRest: pip.rest.IRestService,\n            private pipRecoverPasswordViewModel: RecoverPasswordViewModel\n        ) {\n            \"ngInject\";\n            \n            this.touchedErrorsWithHint = pipFormErrors.touchedErrorsWithHint;\n            pipRecoverPasswordViewModel.initModel($scope);\n\n            this.$scope.$on('RecoverPasswordInit', () => {\n                this.config.form = this.$scope.form;\n            });\n        }\n\n        public $postLink(): void {\n            this.config.form = this.$scope.form;\n            this.config.data.password = null;\n            this.config.data.passwordNew = null;\n        }\n\n        public get config(): any {\n            return this.pipRecoverPasswordViewModel.config;\n        }\n\n        public get transaction(): any {\n            return this.pipRecoverPasswordViewModel.transaction;\n        }\n\n        public get showServerError(): any {\n            return this.pipRecoverPasswordViewModel.showServerError;\n        }\n\n        public onServerUrlChanged() {\n            this.config.onServerUrlChanged(this.config.form, this.config.selected.searchURLs);\n        }\n    \n        public onChanged() {\n            this.pipFormErrors.resetFormErrors(this.config.form, false);\n            this.pipFormErrors.resetFieldsErrors(this.config.form, null);\n            this.pipRest.serverUrl = this.config.selected.searchURLs;\n            this.config.data.serverUrl = this.config.selected.searchURLs;\n        }\n\n        public get hideObject(): any {\n            return this.pipRecoverPasswordViewModel.hideObject;\n        }\n    }\n\n    const RecoverPasswordPanel: ng.IComponentOptions = {\n        bindings: RecoverPasswordPanelBindings,\n        controller: RecoverPasswordPanelController,\n        templateUrl: 'recover_password/RecoverPasswordPanel.html'\n    }\n\n    angular.module(\"pipRecoverPasswordPanel\", ['pipFocused', 'pipEntry.Strings'])\n        .component('pipRecoverPasswordPanel', RecoverPasswordPanel);\n}","import { RecoverPasswordModel } from './RecoverPasswordModel';\n\nexport class RecoverPasswordViewModel {\n    public model: RecoverPasswordModel;\n\n    constructor(\n        pipEntryCommon: any,\n        pipTransaction: pip.services.ITransactionService,\n        $rootScope: ng.IRootScopeService,\n        $location: ng.ILocationService,\n        $state: ng.ui.IStateService,\n        $injector: ng.auto.IInjectorService,\n        pipAuthState: pip.rest.IAuthStateService,\n        pipFormErrors: pip.errors.IFormErrorsService,\n        pipRest: pip.rest.IRestService,\n        private pipTranslate: pip.services.ITranslateService,\n        private pipEntryData: any,\n        private pipToasts: any\n    ) {\n        \"ngInject\";\n\n        this.model = new RecoverPasswordModel(pipEntryCommon, pipTransaction, $rootScope, $location, $state,\n            $injector, pipAuthState, pipFormErrors, pipRest, pipTranslate, pipEntryData, pipToasts);\n    }\n\n    public get transaction(): pip.services.Transaction {\n        return this.model.transaction;\n    }\n\n    public get hideObject(): any {\n        return this.model.hideObject;\n    }\n\n    public get showServerError(): any {\n        return this.model.showServerError;\n    }\n\n    public get config(): any {\n        return this.model.config;\n    }\n\n    public initModel($scope): void {\n        this.model.init($scope);\n    }\n\n    public onRecover(gotoReset: any): void {\n        this.model.onRecover(gotoReset);\n    }\n}\n\nangular.module('pipEntry.RecoverPassword')\n    .service('pipRecoverPasswordViewModel', RecoverPasswordViewModel);","import { IEntryCommonService } from \"../common/IEntryCommonService\";\nimport { ResetPasswordViewModel } from './ResetPasswordViewModel';\n\nexport class ResetPasswordController {\n\n    constructor(\n        private pipResetPasswordViewModel: ResetPasswordViewModel,\n        pipEntryCommon: IEntryCommonService,\n        private $window: ng.IWindowService\n    ) {\n        \"ngInject\";\n\n        pipEntryCommon.configureAppBar();\n    }\n\n    public goBack() {\n        this.$window.history.back();\n    }\n\n    public get config(): any {\n        return this.pipResetPasswordViewModel.config;\n    }\n\n    public onReset() {\n        this.pipResetPasswordViewModel.onReset();\n    }\n}\n\n{\n    angular.module('pipEntry.ResetPassword', ['pipEntry.Common', 'pipResetPasswordPanel',\n        'pipEmailUnique'\n    ]);\n\n}","import { ResetPasswordViewModel } from './ResetPasswordViewModel';\n\nexport interface IResetPasswordDialogService {\n    show(params: any, successCallback?: () => void, cancelCallback?: () => void): void;\n}\n\n{\n    class ResetPasswordDialogService implements IResetPasswordDialogService {\n        public constructor(private $mdDialog: angular.material.IDialogService) { };\n        public show(params: any, successCallback?: () => void, cancelCallback?: () => void) {\n            this.$mdDialog.show({\n                targetEvent: params.event,\n                templateUrl: 'reset_password/ResetPasswordDialog.html',\n                controller: ResetPasswordDialogController,\n                controllerAs: '$ctrl',\n                locals: {\n                    params: params\n                },\n                clickOutsideToClose: false\n            })\n                .then(() => {\n                    if (successCallback) {\n                        successCallback();\n                    }\n                }, () => {\n                    if (cancelCallback) {\n                        cancelCallback();\n                    }\n                });\n        }\n    }\n\n    class ResetPasswordDialogController {\n        public goBack: any;\n\n        constructor(\n            $mdDialog: angular.material.IDialogService,\n            private pipResetPasswordViewModel: ResetPasswordViewModel\n        ) {\n            \"ngInject\";\n\n            this.goBack = $mdDialog.cancel;\n        }\n\n        public get config(): any {\n            return this.pipResetPasswordViewModel.config;\n        }\n\n        public onReset() {\n            this.pipResetPasswordViewModel.onReset(() => {\n                this.goBack();\n            });\n        }\n\n        public onCancel() {\n            this.goBack();\n        }\n\n    }\n\n    angular.module('pipEntry.ResetPasswordDialog', ['pipEntry.Common', \"pipResetPasswordPanel\"])\n        .service('pipResetPasswordDialog', ResetPasswordDialogService);\n\n}","import { EntryModel } from '../common/EntryModel';\nimport { IEntryCommonService } from \"../common/IEntryCommonService\";\nimport { IEntryDataService } from '../data/IEntryDataService';\n\nexport class ResetPasswordModel extends EntryModel {\n    constructor(\n        pipEntryCommon: IEntryCommonService,\n        pipTransaction: pip.services.ITransactionService,\n        // private $scope: ng.IScope,\n        private $rootScope: ng.IRootScopeService,\n        private $location: ng.ILocationService,\n        private $state: ng.ui.IStateService,\n        private $injector: ng.auto.IInjectorService,\n        // private $timeout: ng.ITimeoutService,\n        private pipAuthState: pip.rest.IAuthStateService,\n        private pipFormErrors: pip.errors.IFormErrorsService,\n        private pipRest: pip.rest.IRestService,\n        private pipTranslate: pip.services.ITranslateService,\n        private pipEntryData: IEntryDataService,\n        private pipToasts: pip.controls.IToastService\n    ) {\n        \"ngInject\";\n\n        super(pipEntryCommon);\n        this.transaction = pipTransaction.create('entry.signin');\n\n    }\n\n    public init($scope): void {\n        this.initModel($scope);\n        this.setElementVisability();\n    }\n\n    private setElementVisability(): void {\n        this.hideObject.subTitle = new Boolean(this.hideObject.subTitle) == true;\n        this.hideObject.title = new Boolean(this.hideObject.title) == true;\n        this.hideObject.server = new Boolean(this.hideObject.server) == true;\n        this.hideObject.hint = new Boolean(this.hideObject.hint) == true;\n        this.hideObject.progress = new Boolean(this.hideObject.progress) == true;\n    }\n\n    public onShowToast(message: string, type: string): void {\n        if (!message) return;\n        message = this.pipTranslate.translate(message);\n        type = type || 'message';\n\n        if (type == 'message') {\n            this.pipToasts.showMessage(message, null, null, null);\n            return;\n        }\n        if (type == 'error') {\n            this.pipToasts.showError(message, null, null, null, null);\n            return;\n        }\n    }\n\n    public onReset(callback?: () => void): void {\n        if (this.config.form.$invalid) {\n            this.pipFormErrors.resetFormErrors(this.config.form, true);\n\n            return;\n        }\n\n        const transactionId = this.transaction.begin('PROCESSING');\n        if (!transactionId) return;\n        if (!this.pipRest.lockServerUrl) {\n            this.pipRest.serverUrl = this.config.data.serverUrl;\n        }\n        this.pipEntryData.resetPassword({\n            login: this.config.data.login,\n            code: this.config.data.resetCode,\n            password: this.config.data.password\n        },\n            (data: any) => {\n                this.pipFormErrors.resetFormErrors(this.config.form, false);\n                if (this.transaction.aborted(transactionId)) return;\n\n                const message = String() + 'RESET_PWD_SUCCESS_TEXT';\n                this.onShowToast(message, 'message');\n                this.transaction.end();\n                if (callback) callback();\n                this.$state.go('signin', {\n                    server_url: this.config.data.serverUrl,\n                    login: this.config.data.login\n                });\n            },\n            (error: any) => {\n                this.transaction.end(error);\n                this.pipFormErrors.resetFormErrors(this.config.form, true);\n                this.pipFormErrors.setFormError(\n                    this.config.form, error, {\n                        'NO_LOGIN': 'login', // Missing account login\n                        'WRONG_LOGIN': 'login', // Account  was not found\n                        'LOGIN_NOT_FOUND': 'login', // Account  was not found\n                        'WRONG_PASSWORD': 'password', // Invalid password\n                        'WRONG_CODE': 'resetCode', // Invalid password recovery code\n                        'act_execute': 'form', // Unknown error\n                        '-1': 'form' // server not response\n                    }\n                );\n            }\n        );\n    }\n\n}","import { EntryPageConfig } from '../common/EntryPageConfig';\nimport { IEntryCommonService } from \"../common/IEntryCommonService\";\nimport { ResetPasswordViewModel } from './ResetPasswordViewModel';\n\n{\n    interface IResetPasswordPanelBindings {\n        [key: string]: any;\n\n\n    }\n\n    const ResetPasswordPanelBindings: IResetPasswordPanelBindings = {\n\n    }\n\n    class ResetPasswordPanelController {\n        public touchedErrorsWithHint: Function;\n        constructor(\n            private $scope: ng.IScope,\n            private pipFormErrors: pip.errors.IFormErrorsService,\n            private pipRest: pip.rest.IRestService,\n            private pipResetPasswordViewModel: ResetPasswordViewModel\n        ) {\n            \"ngInject\";\n\n            this.touchedErrorsWithHint = pipFormErrors.touchedErrorsWithHint;\n            pipResetPasswordViewModel.initModel($scope);\n     \n        }\n\n        public $postLink(): void {\n            this.config.form = this.$scope.form;\n            this.config.data.password = null;\n            this.config.data.passwordNew = null;\n        }\n\n        public get config(): any {\n            return this.pipResetPasswordViewModel.config;\n        }\n\n        public get transaction(): any {\n            return this.pipResetPasswordViewModel.transaction;\n        }\n\n        public get showServerError(): any {\n            return this.pipResetPasswordViewModel.showServerError;\n        }\n\n        public get hideObject(): any {\n            return this.pipResetPasswordViewModel.hideObject;\n        }\n\n        public onServerUrlChanged() {\n            this.config.onServerUrlChanged(this.config.form, this.config.selected.searchURLs);\n        }\n    \n        public onChanged() {\n            this.pipFormErrors.resetFormErrors(this.config.form, false);\n            this.pipFormErrors.resetFieldsErrors(this.config.form, null);\n            this.pipRest.serverUrl = this.config.selected.searchURLs;\n            this.config.data.serverUrl = this.config.selected.searchURLs;\n        }\n\n        public onShowToast(message: string, type: string): void {\n            this.pipResetPasswordViewModel.onShowToast(message, type);\n        }\n\n    }\n\n    const ResetPasswordPanel: ng.IComponentOptions = {\n        bindings: ResetPasswordPanelBindings,\n        controller: ResetPasswordPanelController,\n        templateUrl: 'reset_password/ResetPasswordPanel.html'\n    }\n\n    angular.module(\"pipResetPasswordPanel\", ['pipFocused', 'pipEntry.Strings'])\n        .component('pipResetPasswordPanel', ResetPasswordPanel);\n}","import { ResetPasswordModel } from './ResetPasswordModel';\n\nexport class ResetPasswordViewModel {\n    public model: ResetPasswordModel;\n\n    constructor(\n        pipEntryCommon: any,\n        pipTransaction: pip.services.ITransactionService,\n        $rootScope: ng.IRootScopeService,\n        $location: ng.ILocationService,\n        $state: ng.ui.IStateService,\n        $injector: ng.auto.IInjectorService,\n        pipAuthState: pip.rest.IAuthStateService,\n        pipFormErrors: pip.errors.IFormErrorsService,\n        pipRest: pip.rest.IRestService,\n        private pipTranslate: pip.services.ITranslateService,\n        private pipEntryData: any,\n        private pipToasts: any\n    ) {\n        \"ngInject\";\n\n        this.model = new ResetPasswordModel(pipEntryCommon, pipTransaction, $rootScope, $location, $state,\n            $injector, pipAuthState, pipFormErrors, pipRest, pipTranslate, pipEntryData, pipToasts);\n    }\n\n    public get transaction(): pip.services.Transaction {\n        return this.model.transaction;\n    }\n\n    public get hideObject(): any {\n        return this.model.hideObject;\n    }\n\n    public get showServerError(): any {\n        return this.model.showServerError;\n    }\n\n    public get config(): any {\n        return this.model.config;\n    }\n\n    public initModel($scope) {\n        this.model.init($scope);\n    }\n\n    public onShowToast(message, type) {\n        this.model.onShowToast(message, type);\n    }\n\n    public onReset(callback?: () => void) {\n        this.model.onReset(callback);\n    }\n}\n\nangular.module('pipEntry.ResetPassword')\n    .service('pipResetPasswordViewModel', ResetPasswordViewModel);","function configEntryResources(pipRestProvider: pip.rest.IRestProvider) {\n    // resource, url, path, defaultParams, actions\n    pipRestProvider.registerOperation('signin', '/api/v1/signin');\n    pipRestProvider.registerOperation('signout', '/api/v1/signout');\n    pipRestProvider.registerOperation('signup', '/api/v1/signup');\n    pipRestProvider.registerOperation('recoverPassword', '/api/v1/passwords/recover');\n    pipRestProvider.registerOperation('resetPassword', '/api/v1/passwords/reset');\n    pipRestProvider.registerCollection('changePassword', '/api/v1/passwords/:user_id/change',\n     { user_id: '@user_id' });\n\n    pipRestProvider.registerOperation('requestEmailVerification', '/api/v1/email_settings/resend');\n    pipRestProvider.registerOperation('verifyEmail', '/api/v1/email_settings/verify');\n    pipRestProvider.registerOperation('email_settings', '/api/v1/email_settings/:user_id', \n        { user_id: '@user_id' },\n        {\n            get: { method: 'GET', isArray: false }\n        }\n    ); \n    pipRestProvider.registerOperation('signupValidate', '/api/v1/signup/validate', {},\n        {\n            get: { method: 'GET', isArray: false }\n        }\n    ); \n}\n\nangular\n    .module('pipEntry.Rest')\n    .config(configEntryResources);\n\n\n","function configSessionResources(pipRestProvider: pip.rest.IRestProvider) {\n    pipRestProvider.registerPagedCollection('sessions', '/api/v1/sessions');\n    pipRestProvider.registerOperation('restoreSessions', '/api/v1/sessions/restore');\n    pipRestProvider.registerPagedCollection('userSessions', '/api/v1//sessions/:user_id');\n}\n\nangular\n    .module('pipEntry.Rest')\n    .config(configSessionResources);\n\n","function configSettingsResources(pipRestProvider: pip.rest.IRestProvider) {\n    // resource, url, path, defaultParams, actions\n    pipRestProvider.registerPagedCollection('settings', '/api/v1/settings/:section/:key',\n        { section: '@section' },\n        {\n            update: { method: 'PUT' }\n        }\n    );\n}\n\nangular\n    .module('pipEntry.Rest')\n    .config(configSettingsResources);","/// <reference path=\"../../typings/tsd.d.ts\" />\nimport { IEntryService } from \"../common/EntryService\";\nimport { IEntryCommonService } from \"../common/IEntryCommonService\";\n\nexport const isSignin = 'isSignin';\n\n{\n    class SigninController {\n        public fixedServerUrl: boolean = false;\n        constructor(\n            $scope: ng.IScope,\n            $rootScope: ng.IRootScopeService,\n            pipEntry: IEntryService,\n            pipEntryCommon: IEntryCommonService,\n            pipSession: pip.services.ISessionService\n        ) {\n            \"ngIngect\";\n\n            pipEntryCommon.configureAppBar();\n            // if (!$rootScope[isSignin] && pipSession.isOpened()) { // ??\n            //     pipEntry.signout(); // hack for set language\n            // }\n            $rootScope[isSignin] = false;\n            this.fixedServerUrl = $scope['fixedServerUrl'];\n        }\n    }\n\n    const SigninConfig = ($stateProvider, pipAuthStateProvider) => {\n\n        $stateProvider\n            .state('signin', {\n                url: '/signin?login&server_url&redirect_to&language&email',\n                auth: false,\n                controller: SigninController,\n                controllerAs: '$ctrl',\n                templateUrl: 'signin/Signin.html'\n            })\n        pipAuthStateProvider.signinState = 'signin';\n    }\n\n    angular.module('pipEntry.Signin', ['pipEntry.Common', \"pipSigninPanel\"])\n        .config(SigninConfig)\n\n}","/// <reference path=\"../../typings/tsd.d.ts\" />\nimport { IEntryService } from \"../common/EntryService\";\n\ninterface ISigninDialogService {\n    show(params: any, successCallback ? : () => void, cancelCallback ? : () => void): void;\n}\n\nclass SigninDialogService implements ISigninDialogService {\n\n    public constructor(private $mdDialog: angular.material.IDialogService) {}\n    public show(params: any, successCallback ? : () => void, cancelCallback ? : () => void) {\n        this.$mdDialog.show({\n                targetEvent: params.event,\n                templateUrl: 'signin/SigninDialog.html',\n                controller: SigninDialogController,\n                locals: {\n                    params: params\n                },\n                clickOutsideToClose: false\n            })\n            .then(() => {\n                if (successCallback) {\n                    successCallback();\n                }\n            }, () => {\n                if (cancelCallback) {\n                    cancelCallback();\n                }\n            });\n    }\n}\n\nexport interface ISigninDialogController {\n    pipGotoSignupDialog: Function;\n    pipGotoRecoverPasswordDialog: Function;\n}\n\nclass SigninDialogController implements ISigninDialogController {\n    public pipGotoSignupDialog: Function;\n    public pipGotoRecoverPasswordDialog: Function;\n\n    constructor(\n        private pipSignupDialog,\n        private pipRecoverPasswordDialog,\n        private pipEntry: IEntryService,\n    ) {\n        \"ngInject\";\n        \n        //pipEntry.signout();\n        this.pipGotoSignupDialog = () => {\n            this.gotoSignupDialog();\n        }\n        this.pipGotoRecoverPasswordDialog = () => {\n            this.gotoRecoverPasswordDialog();\n        }\n    }\n\n    private gotoSignupDialog() {\n        this.pipSignupDialog.show({});\n    }\n\n    private gotoRecoverPasswordDialog() {\n        this.pipRecoverPasswordDialog.show({});\n    }\n}\n\n{\n\n    angular.module('pipEntry.SigninDialog', [\n            'pipEntry.Common',\n            'pipSigninPanel',\n            'pipEntry.SignupDialog',\n            'pipEntry.RecoverPasswordDialog'\n        ])\n        .service('pipSigninDialog', SigninDialogService);\n\n}","import { EntryModel } from '../common/EntryModel';\nimport { IEntryCommonService } from \"../common/IEntryCommonService\";\nimport { IEntryService } from \"../common/EntryService\";\nimport { AuthSessionData } from '../common/EntryPageConfig';\nimport { SessionData } from '../data/SessionData';\nimport { EmailSettings } from '../data/EmailSettings';\n\nexport class SinginModel extends EntryModel {\n    constructor(\n        pipEntryCommon: IEntryCommonService,\n        pipTransaction: pip.services.ITransactionService,\n        private $rootScope: ng.IRootScopeService,\n        private $location: ng.ILocationService,\n        private $state: ng.ui.IStateService,\n        private $injector: ng.auto.IInjectorService,\n        private pipErrorPageConfigService: pip.errors.IErrorPageConfigService,\n        private pipAuthState: pip.rest.IAuthStateService,\n        private pipEntry: IEntryService,\n        private pipFormErrors: pip.errors.IFormErrorsService,\n        private pipNavService: pip.nav.INavService,\n        private pipRest: pip.rest.IRestService,\n    ) {\n        \"ngInject\";\n        \n        super(pipEntryCommon);\n\n        this.transaction = pipTransaction.create('entry.signin');\n    }\n\n    public init($scope) {\n        this.initModel($scope);\n        this.setElementVisability();\n    }\n\n    private setElementVisability() {\n        this.hideObject.remember = new Boolean(this.hideObject.remember) == true;\n        this.hideObject.title = new Boolean(this.hideObject.title) == true;\n        this.hideObject.server = new Boolean(this.hideObject.server) == true;\n        this.hideObject.forgotPassword = new Boolean(this.hideObject.forgotPassword) == true;\n        this.hideObject.signup = new Boolean(this.hideObject.signup) == true;\n        this.hideObject.hint = new Boolean(this.hideObject.hint) == true;\n        this.hideObject.progress = new Boolean(this.hideObject.progress) == true;\n    }\n\n    private checkSupported(): boolean {\n        let pipSystemInfo: any = this.$injector.has('pipSystemInfo') ? this.$injector.get('pipSystemInfo') : null;\n        if (!pipSystemInfo) {\n            return true;\n        }\n\n        if (!this.pipErrorPageConfigService || !this.pipErrorPageConfigService.configs || \n            !this.pipErrorPageConfigService.configs.Unsupported || !this.pipErrorPageConfigService.configs.Unsupported.Active) {\n\n            return true;\n        }\n\n        let browser: string = pipSystemInfo.browserName;\n        let version: string = pipSystemInfo.browserVersion;\n        version = version.split(\".\")[0];\n\n        let supported = this.pipErrorPageConfigService.configs.Unsupported.Params && this.pipErrorPageConfigService.configs.Unsupported.Params.supported ? this.pipErrorPageConfigService.configs.Unsupported.Params.supported : null;\n        if (!supported) {\n\n            return true;\n        }\n\n        if (browser && supported[browser] && version >= supported[browser]) {\n            return true;\n        }\n\n        this.pipEntry.signout();\n        this.$state.go(pip.errors.ErrorsUnsupportedState); \n        return false;\n    }\n\n    public gotoSignup(gotoSignupPage: any, gotoSignupDialog: any): void {\n        if (!gotoSignupPage && !gotoSignupDialog) {\n            this.$state.go('signup', {\n                server_url: this.config.data.serverUrl,\n                login: this.config.data.login\n            });\n            return;\n        }\n        if (gotoSignupPage) {\n            this.$state.go(gotoSignupPage);\n            return;\n        }\n        if (gotoSignupDialog) {\n            gotoSignupDialog();\n            return;\n        }\n    }\n\n    public gotoRecoverPassword(gotoRecoverPasswordDialog: any): void {\n\n        if (!gotoRecoverPasswordDialog) {\n            this.$state.go('recover_password', {\n                server_url: this.config.data.serverUrl,\n                login: this.config.data.login\n            });\n            return;\n        }\n        if (gotoRecoverPasswordDialog) {\n            gotoRecoverPasswordDialog();\n            return;\n        }\n    }\n\n    private inSigninComplete(data: SessionData): void {\n        if (this.checkSupported()) {\n            let passwordExpire: boolean = false;\n            // check password change\n            if (this.pipEntry.passwordExpire && data.user && data.user.change_pwd_time) {\n                let expireDate = new Date(data.user.change_pwd_time);\n                let nowDate = new Date();\n                \n                passwordExpire = expireDate.getTime() < nowDate.getTime();\n            }\n            if (passwordExpire) {\n                this.pipAuthState.go('change_password', {\n                    login: this.config.data.login,\n                    server_url: this.pipRest.serverUrl\n                    // redirect_to: this.pipAuthState.params.redirect_to\n                });\n            } else if (this.pipAuthState.params.redirect_to) {\n                if (this.pipAuthState.params.toState) {\n                    if (this.pipAuthState.params.toState != this.pipAuthState.signinState) {\n                        this.pipAuthState.go(this.pipAuthState.params.toState, this.pipAuthState.params.toParams)\n                    } else {\n                        this.pipAuthState.goToAuthorized({});\n                    }\n                } else {\n                    if (decodeURIComponent(this.pipAuthState.params.redirect_to) != '/signin') {\n                        this.$location.url(decodeURIComponent(this.pipAuthState.params.redirect_to));\n                    } else {\n                        this.pipAuthState.goToAuthorized({});\n                    }\n                }\n            } else {\n                this.pipAuthState.goToAuthorized({});\n            }\n\n            this.pipNavService.sidenav.show();\n        }\n    }\n\n    private checkEmailVerification(data: SessionData): boolean {\n        return data.user && data.user.settings &&\n            data.user.settings['verified_email'] && data.user.settings['verified_email'] == \"true\";\n    }\n\n    public onSignin(rememberDefault: boolean): void {\n        if (this.config.form.$invalid) {\n            this.pipFormErrors.resetFormErrors(this.config.form, true);\n            return;\n        }\n\n        let transactionId: string = this.transaction.begin('ENTERING');\n        if (!transactionId) return;\n\n         this.$rootScope['isSignin'] = true;\n\n        if (this.hideObject.remember && !!rememberDefault) {\n            this.config.data.remember = true;\n        }\n\n        if (!this.pipRest.lockServerUrl) {\n            this.pipRest.serverUrl = this.config.data.serverUrl;\n        }\n\n        let session: AuthSessionData = new AuthSessionData();\n        this.pipRest.setHeaders({\n            'session-id': undefined,\n            'user-id': undefined,\n            'account-id': undefined\n        });\n\n        this.pipRest.getResource('signin').call({ \n            login: this.config.data.login,\n            password: this.config.data.password\n        },\n            (data: SessionData) => {\n                this.pipFormErrors.resetFormErrors(this.config.form, false);\n                if (this.transaction.aborted(transactionId)) return;\n\n                this.pipEntry.openSession(data, this.config.data.remember);\n                if (this.checkEmailVerification(data)) {\n                    this.inSigninComplete(data);\n                    this.transaction.end();\n                } else {\n                    this.pipRest.getResource('email_settings').get(\n                        {\n                            user_id: data.user.id\n                        },\n                        (setting: EmailSettings) => {\n                            if (setting && setting.verified && setting.email == data.user.login) {\n                                this.inSigninComplete(data);\n                            } else {\n                                this.pipAuthState.go('verify_email', { email: data.user.login || data.user['email'], serverUrl: this.pipRest.serverUrl });\n                            }\n                            this.transaction.end();\n                        }, \n                        (error: any) => {\n                            this.$rootScope['isSignin'] = false;\n                            this.pipFormErrors.resetFormErrors(this.config.form, true);\n                            this.pipFormErrors.setFormError(this.config.form, error, {\n                                'WRONG_LOGIN': 'login', // Account was not found\n                                'NO_LOGIN': 'login', // Missing account login\n                                'LOGIN_NOT_FOUND': 'login', // Missing account login\n                                'WRONG_PASSWORD': 'password', // Missing password\n                                'ACCOUNT_LOCKED': 'form',\n                                'act_execute': 'form', // Unknown error\n                                '-1': 'form' // server not response\n                            });\n                            this.transaction.end({\n                                message: error\n                            });\n                        });\n                }\n                \n            },\n            (error: any) => {\n                this.$rootScope['isSignin'] = false;\n                this.pipFormErrors.resetFormErrors(this.config.form, true);\n                this.pipFormErrors.setFormError(this.config.form, error, {\n                    'WRONG_LOGIN': 'login', // Account was not found\n                    'NO_LOGIN': 'login', // Missing account login\n                    'LOGIN_NOT_FOUND': 'login', // Missing account login\n                    'WRONG_PASSWORD': 'password', // Missing password\n                    'act_execute': 'form', // Unknown error\n                    '-1': 'form' // server not response\n                });\n                this.transaction.end({\n                    message: error\n                });\n            });\n    }\n}","/// <reference path=\"../../typings/tsd.d.ts\" />\n\nimport { EntryPageConfig } from '../common/EntryPageConfig';\nimport { IEntryCommonService } from '../common/IEntryCommonService';\nimport { SigninViewModel } from './SigninViewModel';\n\ninterface ISigninPanelController {\n    pipMedia: pip.layouts.IMediaService;\n\n    gotoSignup(): void;\n    onSignin(): void;\n    gotoRecoverPassword(): void;\n    onEnter(event): void;\n}\n\nclass SigninPanelController implements ISigninPanelController {\n    public gotoSignupDialog: Function;\n    public gotoRecoverPasswordDialog: Function;\n    public gotoSignupPage: any;\n    public rememberDefault: boolean;\n    public touchedErrorsWithHint: Function;\n\n    constructor(\n        private $scope: ng.IScope,\n        private $document: ng.IDocumentService,\n        private $timeout,\n        public pipMedia: pip.layouts.IMediaService,\n        private pipSigninViewModel: SigninViewModel,\n        private pipRest: pip.rest.IRestService,\n        private pipFormErrors: pip.errors.IFormErrorsService\n    ) {\n        \"ngInject\";\n\n        pipSigninViewModel.initModel($scope);\n        this.touchedErrorsWithHint = pipFormErrors.touchedErrorsWithHint;\n    }\n\n    public $postLink() {\n        this.config.form = this.$scope.form;\n\n        this.$timeout(() => {\n            if (this.$document && this.$document[0]) {\n                var elem = angular.element(this.$document[0].querySelector('input[type=password]:-webkit-autofill'));\n\n                if (elem.length) {\n                    elem.parent().addClass('md-input-has-value');\n                }\n            }\n        }, 150);\n    }\n\n    public get config(): any {\n        return this.pipSigninViewModel.config;\n    }\n\n    public get transaction(): any {\n        return this.pipSigninViewModel.transaction;\n    }\n\n    public get showServerError(): any {\n        return this.pipSigninViewModel.showServerError;\n    }\n\n    public get hideObject(): any {\n        return this.pipSigninViewModel.hideObject;\n    }\n\n    public gotoSignup() {\n        this.pipSigninViewModel.gotoSignup(this.gotoSignupPage, this.gotoSignupDialog);\n    }\n\n    public onSignin() {\n        this.pipSigninViewModel.onSignin(this.rememberDefault);\n    }\n\n    public gotoRecoverPassword() {\n        this.pipSigninViewModel.gotoRecoverPassword(this.gotoRecoverPasswordDialog);\n    }\n\n    public onServerUrlChanged() {\n        this.config.onServerUrlChanged(this.config.form, this.config.selected.searchURLs);\n    }\n\n    public onChanged() {\n        this.pipFormErrors.resetFormErrors(this.config.form, false);\n        this.pipFormErrors.resetFieldsErrors(this.config.form, null);\n        this.pipRest.serverUrl = this.config.selected.searchURLs;\n        this.config.data.serverUrl = this.config.selected.searchURLs;\n    }\n\n    public onEnter(event): void {\n        if (event.keyCode === 13) {\n            this.onSignin();\n        }\n    }\n}\n\ninterface ISigninBindings {\n    [key: string]: any;\n\n    gotoSignupPage: any,\n    gotoSignupDialog: any,\n    gotoRecoverPasswordDialog: any,\n    rememberDefault: any, // set remember check\n}\n\nconst SigninBindings: ISigninBindings = {\n    gotoSignupPage: '=pipGotoSignupPage',\n    gotoSignupDialog: '=pipGotoSignupDialog',\n    gotoRecoverPasswordDialog: '=pipGotoRecoverPasswordDialog',\n    rememberDefault: '=pipRemember', // set remember check\n};\n\n\nclass SigninChanges implements ng.IOnChangesObject, ISigninBindings {\n    [key: string]: ng.IChangesObject<any>;\n\n\n    gotoSignupPage: ng.IChangesObject<any>;\n    gotoSignupDialog: ng.IChangesObject<Function>;\n    gotoRecoverPasswordDialog: ng.IChangesObject<Function>;\n    rememberDefault: ng.IChangesObject<boolean>; // set remember check\n}\n\n{\n\n    const SigninPanel: ng.IComponentOptions = {\n        bindings: SigninBindings,\n        templateUrl: 'signin/SigninPanel.html',\n        controller: SigninPanelController\n    };\n\n\n    angular.module(\"pipSigninPanel\", ['pipFocused', 'pipEntry.Strings'])\n        .component('pipSigninPanel', SigninPanel);\n\n}","import { SinginModel } from './SigninModel';\nimport { IEntryCommonService } from \"../common/IEntryCommonService\";\nimport { IEntryService } from \"../common/EntryService\";\n\nexport class SigninViewModel {\n    public model: SinginModel;\n\n    constructor(\n        pipEntryCommon: IEntryCommonService,\n        pipTransaction: pip.services.ITransactionService,\n        $rootScope: ng.IRootScopeService,\n        $location: ng.ILocationService,\n        $state: ng.ui.IStateService,\n        $injector: ng.auto.IInjectorService,\n        pipErrorPageConfigService: pip.errors.IErrorPageConfigService,\n        pipAuthState: pip.rest.IAuthStateService,\n        pipEntry: IEntryService,\n        pipFormErrors: pip.errors.IFormErrorsService,\n        pipNavService: pip.nav.INavService,\n        pipRest: pip.rest.IRestService\n    ) {\n        this.model = new SinginModel(\n            pipEntryCommon,\n            pipTransaction,\n            $rootScope,\n            $location,\n            $state,\n            $injector,\n            pipErrorPageConfigService,\n            pipAuthState,\n            pipEntry,\n            pipFormErrors,\n            pipNavService,\n            pipRest\n        );\n    }\n\n    public get transaction(): pip.services.Transaction {\n        return this.model.transaction;\n    }\n\n    public get hideObject(): any {\n        return this.model.hideObject;\n    }\n\n    public get showServerError(): any {\n        return this.model.showServerError;\n    }\n\n    public get config(): any {\n        return this.model.config;\n    }\n\n    public initModel($scope) {\n        this.model.init($scope);\n    }\n\n    public gotoSignup(gotoSignupPage: any, gotoSignupDialog: any) {\n        this.model.gotoSignup(gotoSignupPage, gotoSignupDialog);\n    }\n\n    public gotoRecoverPassword(gotoRecoverPasswordDialog: any) {\n        this.model.gotoRecoverPassword(gotoRecoverPasswordDialog);\n    }\n\n    public onSignin(rememberDefault: boolean) {\n        this.model.onSignin(rememberDefault);\n    }\n}\n\nangular.module('pipEntry.Signin')\n    .service('pipSigninViewModel', SigninViewModel);","/// <reference path=\"../../typings/tsd.d.ts\" />\nimport { IEntryService } from '../common/EntryService';\n\n\nexport class SignoutController {\n\n    constructor(\n        pipAuthState: pip.rest.IAuthStateService,\n        pipEntry: IEntryService\n    ) {\n        \"ngIngect\";\n\n       pipEntry.signout();\n        pipAuthState.goToUnauthorized({});\n    }\n}\n\nangular.module('pipEntry.Signout', []);\n\n\n\n\n\n","import { IEntryCommonService } from \"../common/IEntryCommonService\";\nimport { IEntryService } from \"../common/EntryService\";\n\n{\n    class SignupController {\n        constructor(\n            pipEntryCommon: IEntryCommonService,\n            pipEntry: IEntryService,\n            $state: ng.ui.IStateService,\n            pipAuthState: pip.rest.IAuthStateService\n        ) {\n            \"ngInject\";\n\n            pipEntryCommon.configureAppBar();\n\n            if (pipEntry.entryHideObject && pipEntry.entryHideObject.signup === true) {\n                $state.go(pipAuthState.signinState(), {});\n            }\n        }\n    }\n\n    const SignupConfig = ($stateProvider, pipAuthStateProvider) => {\n        $stateProvider\n            .state('signup', {\n                url: '/signup?name&login&server_url&redirect_to&language',\n                auth: false,\n                controller: SignupController,\n                controllerAs: '$ctrl',\n                templateUrl: 'signup/Signup.html'\n            })\n    }\n\n    angular\n        .module('pipEntry.Signup', [\n            'pipEntry.Common',\n            // 'pipEmailUnique',\n            'pipSignupPanel',\n            'pipPasswordMatch'\n        ])\n        .config(SignupConfig)\n}","import { IEntryService } from \"../common/EntryService\";\n\ninterface ISignupDialogService {\n    show(params: any, successCallback ? : () => void, cancelCallback ? : () => void): void;\n}\n\nclass SignupDialogService implements ISignupDialogService {\n\n    public constructor(private $mdDialog: angular.material.IDialogService) {}\n    public show(params: any, successCallback ? : () => void, cancelCallback ? : () => void) {\n        this.$mdDialog.show({\n                targetEvent: params.event,\n                templateUrl: 'signup/SignupDialog.html',\n                controller: SignupDialogController,\n                controllerAs: '$ctrl',\n                locals: {\n                    params: params\n                },\n                clickOutsideToClose: false\n            })\n            .then(() => {\n                if (successCallback) {\n                    successCallback();\n                }\n            }, () => {\n                if (cancelCallback) {\n                    cancelCallback();\n                }\n            });\n    }\n}\n\ninterface ISignupDialogController {\n    pipGotoSigninDialog: Function;\n    pipGotoPostSignupDialog: Function;\n}\n\nclass SignupDialogController implements ISignupDialogController {\n    public pipGotoSigninDialog: Function;\n    public pipGotoPostSignupDialog: Function;\n\n    constructor(\n        private pipSigninDialog,\n        private pipPostSignupDialog,\n        private pipEntry: IEntryService,\n    ) {\n        \"ngInject\";\n        \n        pipEntry.signout();\n        this.pipGotoSigninDialog = () => {\n            this.gotoSigninDialog();\n        }\n        this.pipGotoPostSignupDialog = (user) => {\n            this.gotoPostSignupDialog(user);\n        }\n    }\n\n    private gotoSigninDialog() {\n        this.pipSigninDialog.show({});\n    }\n\n    private gotoPostSignupDialog(user) {\n        this.pipPostSignupDialog.show({\n            $party: user\n        });\n    }\n}\n\n{\n\n    angular.module('pipEntry.SignupDialog', [\n            'pipEntry.Common',\n            \"pipSignupPanel\",\n            'pipEntry.SigninDialog',\n            'pipEntry.PostSignupDialog'\n        ])\n        .service('pipSignupDialog', SignupDialogService)\n}","import { EntryModel } from '../common/EntryModel';\nimport { IEntryService } from \"../common/EntryService\";\nimport { IEntryCommonService } from \"../common/IEntryCommonService\";\nimport { IEntryDataService } from '../data/IEntryDataService';\nimport { AuthSessionData } from '../common/EntryPageConfig';\nimport { SessionData } from '../data/SessionData';\nimport { EmailSettings } from '../data/EmailSettings';\n\nexport class SingupModel extends EntryModel {\n    private session: AuthSessionData;\n    private regestryVerifyEmailKey: string = 'verified_email';\n\n    constructor(\n        pipEntryCommon: IEntryCommonService,\n        pipTransaction: pip.services.ITransactionService,\n        private $rootScope: ng.IRootScopeService,\n        private $location: ng.ILocationService,\n        private $state: ng.ui.IStateService,\n        private $injector: ng.auto.IInjectorService,\n        private pipAuthState: pip.rest.IAuthStateService,\n        private pipFormErrors: pip.errors.IFormErrorsService,\n        private pipRest: pip.rest.IRestService,\n        private pipEntry: IEntryService,\n        private pipEntryData: IEntryDataService,\n        private pipTranslate: pip.services.ITranslateService\n    ) {\n        \"ngInject\";\n\n        super(pipEntryCommon);\n        this.transaction = pipTransaction.create('entry.signup');\n    }\n\n    public init($scope) {\n        this.initModel($scope);\n        this.setElementVisability();\n    }\n\n    private setElementVisability() {\n        this.hideObject.agreement = new Boolean(this.hideObject.agreement) == true;\n        this.hideObject.title = new Boolean(this.hideObject.title) == true;\n        this.hideObject.server = new Boolean(this.hideObject.server) == true;\n        this.hideObject.passwordConfirm = new Boolean(this.hideObject.passwordConfirm) == true;\n        this.hideObject.signin = new Boolean(this.hideObject.signin) == true;\n        this.hideObject.hint = new Boolean(this.hideObject.hint) == true;\n        this.hideObject.progress = new Boolean(this.hideObject.progress) == true;\n    }\n\n    public gotoSignin(gotoSigninPage: any, gotoSigninDialog: any) {\n        if (!gotoSigninPage && !gotoSigninDialog) {\n            this.$state.go(this.pipAuthState.signinState(), {});\n            return;\n        }\n        if (gotoSigninPage) {\n            this.$state.go(gotoSigninPage);\n            return;\n        }\n        if (gotoSigninDialog) {\n            gotoSigninDialog();\n            return;\n        }\n    }\n\n    public onSignup(gotoPostSignup: any) {\n        if (this.config.form.$invalid) {\n            this.pipFormErrors.resetFormErrors(this.config.form, true);\n            return;\n        }\n        const transactionId = this.transaction.begin('PROCESSING');\n        if (!transactionId) return;\n\n        if (!this.pipRest.lockServerUrl) {\n            this.pipRest.serverUrl = this.config.data.serverUrl;\n        }\n        // todo theme name take from parametr\n        this.pipRest.getResource('signup').call({\n            serverUrl: this.config.data.serverUrl,\n            name: this.config.data.name,\n            login: this.config.useEmailAsLogin ? this.config.data.email : this.config.data.login,\n            email: this.config.data.email,\n            password: this.config.data.password,\n            language: this.pipTranslate.language || 'en',\n            theme: 'default', // todo this.$rootScope['theme'] || 'blue' // pipTheme.theme || 'blue'\n            time_zone: null\n        },\n            (data: SessionData) => {\n                this.pipFormErrors.resetFormErrors(this.config.form, false);\n                if (this.transaction.aborted(transactionId)) return;\n\n                this.pipEntry.openSession(data);\n                this.transaction.end();\n\n                /*this.pipSettingsData.saveSettingsKey(\n                    this.pipEntry.getUserId(data),\n                    this.regestryVerifyEmailKey,\n                    false);*/\n                    this.pipEntryData.saveSettingsKey(\n                        this.pipEntry.getUserId(data),\n                        this.regestryVerifyEmailKey,\n                        false);\n                \n\n                if (this.config.isPostSignup) {\n                    if (!gotoPostSignup) {\n                        this.pipAuthState.go('post_signup', {\n                            party_id: this.pipEntry.getUserId(data)\n                        });\n                    } else {\n                        gotoPostSignup(data);\n                    }\n                } else {\n                    this.pipRest.getResource('email_settings').get(\n                        {\n                            user_id: data.user.id\n                        },\n                        (setting: EmailSettings) => {\n                            if (setting && setting.verified && setting.email == data.user.login) {\n                                this.pipAuthState.goToAuthorized({});\n                            } else {\n                                this.pipAuthState.go('verify_email', {\n                                    email: data.user.login || data.user['email'], serverUrl: this.pipRest.serverUrl \n                                });\n                            }\n                            this.transaction.end();\n                        }, \n                        (error: any) => {\n                            this.pipFormErrors.resetFormErrors(this.config.form, true);\n                            this.pipFormErrors.setFormError(\n                                this.config.form, error, {\n                                    'WRONG_LOGIN': 'signupLogin', // Account was not found\n                                    'NO_LOGIN': 'signupLogin', // Missing account login\n                                    'ALREADY_EXIST': 'signupLogin', // account is already exist\n                                    'WRONG_PASSWORD': 'password', // Missing password\n                                    'NO_EMAIL': 'userEmail',\n                                    'NO_NAME': 'signupFullName',\n                                    'act_execute': 'form', // Unknown error\n                                    '-1': 'form' // server not response\n                                }\n                            );\n                            this.transaction.end(error);\n                        });\n\n\n                }\n            },\n            (error: any) => {\n                // todo error by login\n                this.pipFormErrors.resetFormErrors(this.config.form, true);\n                this.pipFormErrors.setFormError(\n                    this.config.form, error, {\n                        'WRONG_LOGIN': 'signupLogin', // Account was not found\n                        'NO_LOGIN': 'signupLogin', // Missing account login\n                        'ALREADY_EXIST': 'signupLogin', // account is already exist\n                        'WRONG_PASSWORD': 'password', // Missing password\n                        'NO_EMAIL': 'userEmail',\n                        'NO_NAME': 'signupFullName',\n                        'act_execute': 'form', // Unknown error\n                        '-1': 'form' // server not response\n                    }\n                );\n                this.transaction.end(error);\n            }\n        );\n    };\n}","import { EntryPageConfig } from '../common/EntryPageConfig';\nimport { IEntryCommonService } from '../common/IEntryCommonService';\nimport { SignupViewModel } from './SignupViewModel';\nimport { IEntryDataService } from '../data/IEntryDataService';\n\n{\n    class SignupPanelController {\n        public gotoSigninPage: any;\n        public gotoSigninDialog: any;\n        public gotoPostSignup: any;\n        public touchedErrorsWithHint: Function;\n        public isQuery: boolean = false;\n        public error: string;\n\n        constructor(\n            private $scope: ng.IScope,\n            public pipMedia: pip.layouts.IMediaService,\n            public pipFormErrors: pip.errors.IFormErrorsService,\n            public pipEntryData: IEntryDataService,\n            private pipRest: pip.rest.IRestService,\n            private pipSignupViewModel: SignupViewModel\n        ) {\n            \"ngInject\";\n\n            this.pipSignupViewModel.initModel(this.$scope);\n            this.touchedErrorsWithHint = pipFormErrors.touchedErrorsWithHint;\n        }\n\n        public $postLink() {\n            this.config.form = this.$scope.form;\n        }\n\n        public get config(): any {\n            return this.pipSignupViewModel.config;\n        }\n\n        public get transaction(): any {\n            return this.pipSignupViewModel.transaction;\n        }\n\n        public get showServerError(): any {\n            return this.pipSignupViewModel.showServerError;\n        }\n\n        public get hideObject(): any {\n            return this.pipSignupViewModel.hideObject;\n        }\n\n        public gotoSignin() {\n            this.pipSignupViewModel.gotoSignin(this.gotoSigninPage, this.gotoSigninDialog);\n        }\n\n        public onSignup() {\n            this.pipSignupViewModel.onSignup(this.gotoPostSignup);\n        }\n\n        public onEnter(event: any) {\n            if (event.keyCode === 13) {\n                this.onSignup();\n            }\n        }\n\n        public onChangeEmail(field: string) {\n            if (!this.config.data.email) { return }\n            if (this.isQuery) return;\n            this.error = null;\n            \n            this.isQuery = true;\n            this.pipEntryData.signupValidate(this.config.data.email,\n                (data) => {\n                    if (this.config.form && this.config.form[field]) {\n                        this.config.form[field].$setValidity('emailUnique', true);\n                    }\n                    this.isQuery = false;\n                },\n                (err) => {\n                    if (err && err.status == 400 && err.data && err.data.code == 'LOGIN_ALREADY_USED') {\n                        if (this.config.form && this.config.form[field]) {\n                            this.config.form[field].$setValidity('emailUnique', false);\n                        }\n                    } else {\n                        let code: string = err.code || (err.data || {}).code || null;\n                        if (!code && err.status) code = err.status;\n\n                        if (code == '-1') {\n                            this.error = 'ERROR_' + code;\n\n\n                        } else {\n                            // if undefined error for this form or code === undefined/null, go to unhandled error page\n                            if (err.data && err.data.message) {\n                                this.error = err.data.message;\n                            } else if (err.message) {\n                                this.error = err.message;\n                            } else if (err.name) {\n                                this.error = err.name;\n                            } else this.error = err;\n                        }\n                    }\n\n                    this.isQuery = false;\n                });\n        }\n\n        public onServerUrlChanged() {\n            this.error = null;\n            this.config.onServerUrlChanged(this.config.form, this.config.selected.searchURLs);\n        }\n    \n        public onChanged() {\n            this.pipFormErrors.resetFormErrors(this.config.form, false);\n            this.pipFormErrors.resetFieldsErrors(this.config.form, null);\n            this.pipRest.serverUrl = this.config.selected.searchURLs;\n            this.config.data.serverUrl = this.config.selected.searchURLs;\n        }\n        public isError(error: any): boolean {\n            return error.required || error.email || error.emailUnique || error.ERROR_WRONG_LOGIN || error.ERROR_NO_LOGIN\n        }\n    }\n\n    interface ISignupPanelBindings {\n        [key: string]: any;\n\n        gotoPostSignup: any;\n        gotoSigninPage: any;\n        gotoSigninDialog: any;\n    }\n\n    const SignupPanelBindings: ISignupPanelBindings = {\n        gotoPostSignup: '=pipPostSignup',\n        gotoSigninPage: '=pipGotoSigninPage',\n        gotoSigninDialog: '=pipGotoSigninDialog',\n    }\n\n    class SignupPanelBindingsChanges implements ng.IOnChangesObject, ISignupPanelBindings {\n        [key: string]: ng.IChangesObject<any>;\n\n        gotoPostSignup: ng.IChangesObject<boolean>;\n        gotoSigninPage: ng.IChangesObject<Function>;\n        gotoSigninDialog: ng.IChangesObject<boolean>;\n    }\n\n    const SignupPanel: ng.IComponentOptions = {\n        bindings: SignupPanelBindings,\n        controller: SignupPanelController,\n        templateUrl: 'signup/SignupPanel.html'\n    }\n\n    angular.module(\"pipSignupPanel\", ['pipFocused', 'pipEntry.Strings'])\n        .component('pipSignupPanel', SignupPanel);\n}","import { SingupModel } from './SignupModel';\nimport { IEntryDataService } from '../data/IEntryDataService';\nimport { IEntryCommonService } from \"../common/IEntryCommonService\";\nimport { IEntryService } from \"../common/EntryService\";\n\nexport class SignupViewModel {\n    public model: SingupModel;\n\n    constructor(\n        pipEntryCommon: IEntryCommonService,\n        pipTransaction: pip.services.ITransactionService,\n        $rootScope: ng.IRootScopeService,\n        $location: ng.ILocationService,\n        $state: ng.ui.IStateService,\n        $injector: ng.auto.IInjectorService,\n        pipAuthState: pip.rest.IAuthStateService,\n        pipFormErrors: pip.errors.IFormErrorsService,\n        pipRest: pip.rest.IRestService,\n        pipEntry: IEntryService,\n        pipEntryData: IEntryDataService,\n        pipTranslate: pip.services.ITranslateService\n    ) {\n        \"ngInject\";\n\n        this.model = new SingupModel(pipEntryCommon, pipTransaction, $rootScope, $location, $state, $injector,\n            pipAuthState, pipFormErrors, pipRest, pipEntry, pipEntryData, pipTranslate);\n    }\n\n    public get transaction(): pip.services.Transaction {\n        return this.model.transaction;\n    }\n\n    public get hideObject(): any {\n        return this.model.hideObject;\n    }\n\n    public get showServerError(): any {\n        return this.model.showServerError;\n    }\n\n    public get config(): any {\n        return this.model.config;\n    }\n\n    public initModel($scope) {\n        this.model.init($scope);\n    }\n\n    public gotoSignin(gotoSigninPage: any, gotoSigninDialog: any) {\n        this.model.gotoSignin(gotoSigninPage, gotoSigninDialog);  \n    }\n\n    public onSignup(gotoPostSignup: any) {\n        this.model.onSignup(gotoPostSignup);\n    }\n}\n\nangular.module('pipEntry.Signup')\n    .service('pipSignupViewModel', SignupViewModel);","import { IEntryCommonService } from '../common/IEntryCommonService';\nimport { VerifyEmailViewModel } from './VerifyEmailViewModel';\nimport { EntryPageConfig } from '../common/EntryPageConfig';\n\nexport class VerifyEmailController {\n    public showServerError: boolean;\n    public touchedErrorsWithHint: Function;\n    public form: any;\n    public data: any;\n    public error: any;\n    public serverUrl: string;\n    public email: string;\n    public showValidateProgress: boolean;\n\n    constructor(\n        private $scope: ng.IScope,\n        private $window: ng.IWindowService,\n        private pipFormErrors: pip.errors.IFormErrorsService,\n        private pipVerifyEmailViewModel: VerifyEmailViewModel,\n        private pipIdentity: pip.services.IIdentityService,\n        private $timeout: ng.ITimeoutService\n    ) {\n        \"ngInject\";\n\n        pipVerifyEmailViewModel.initModel(this.$scope);\n        this.touchedErrorsWithHint = pipFormErrors.touchedErrorsWithHint;\n\n        // postlink hak\n        $timeout(() => {\n            this.config.form = this.$scope.form;\n            if (this.config.data.code && this.config.data.email) {\n                this.showValidateProgress = true;\n                this.pipVerifyEmailViewModel.onVerify(\n                    (data: any) => {\n                        this.pipVerifyEmailViewModel.onContinue();\n                    },\n                    (error: any) => {\n                        this.showValidateProgress = false;\n                    }\n                );\n            } else {\n                this.showValidateProgress = false;\n            }\n        }, 0)\n    }\n\n    public goBack(): void {\n        // this.$window.history.back();\n        this.pipVerifyEmailViewModel.onCancel();\n    }\n\n    public get config(): EntryPageConfig {\n        return this.pipVerifyEmailViewModel.config;\n    }\n\n    public get transaction(): any {\n        return this.pipVerifyEmailViewModel.transaction;\n    }\n\n    public onVerify() {\n        this.pipVerifyEmailViewModel.onVerify();\n    }\n\n    public onRecover() {\n        this.pipVerifyEmailViewModel.onRecover();\n    }\n}\n\nexport class VerifyEmailSuccessController {\n    constructor(\n        $scope: ng.IScope,\n        private pipVerifyEmailViewModel: VerifyEmailViewModel\n    ) {\n        pipVerifyEmailViewModel.initModel($scope);\n    }\n\n    public onContinue() {\n        this.pipVerifyEmailViewModel.onContinue();\n    }\n}\n\nangular.module('pipEntry.VerifyEmail', []);","import { EntryModel } from '../common/EntryModel';\nimport { IEntryCommonService } from \"../common/IEntryCommonService\";\nimport { IEntryDataService } from '../data/IEntryDataService';\nimport { IEntryService } from \"../common/EntryService\";\n\nexport class VerifyEmailModel extends EntryModel {\n    private regestryVerifyEmailKey: string = 'verified_email';\n\n    constructor(\n        pipEntryCommon: IEntryCommonService,\n        pipTransaction: pip.services.ITransactionService,\n        private $rootScope: ng.IRootScopeService,\n        private $location: ng.ILocationService,\n        private $state: ng.ui.IStateService,\n        private $injector: ng.auto.IInjectorService,\n        private pipAuthState: pip.rest.IAuthStateService,\n        private pipFormErrors: pip.errors.IFormErrorsService,\n        private pipRest: pip.rest.IRestService,\n        private pipEntryData: IEntryDataService,\n        private pipIdentity: pip.services.IIdentityService,\n        private pipEntry: IEntryService\n    ) {\n        \"ngInject\";\n\n        super(pipEntryCommon);\n        this.transaction = pipTransaction.create('entry.verify_email');\n    }\n\n    public init($scope) {\n        this.initModel($scope);\n        this.setElementVisability();\n        this.pipEntryCommon.configureAppBar();\n    }\n\n    private setElementVisability() {\n        this.hideObject.remember = new Boolean(this.hideObject.remember) == true;\n        this.hideObject.title = new Boolean(this.hideObject.title) == true;\n        this.hideObject.server = new Boolean(this.hideObject.server) == true;\n        this.hideObject.forgotPassword = new Boolean(this.hideObject.forgotPassword) == true;\n        this.hideObject.signup = new Boolean(this.hideObject.signup) == true;\n        this.hideObject.hint = new Boolean(this.hideObject.hint) == true;\n        this.hideObject.progress = new Boolean(this.hideObject.progress) == true;\n    }\n\n    public onVerify(successCallback?: (data: any) => void, errorCallback?: (error: any) => void) {\n        if (this.config.form.$invalid) {\n            this.pipFormErrors.resetFormErrors(this.config.form, true);\n            return;\n        }\n\n        var transactionId = this.transaction.begin('PROCESSING');\n        if (!transactionId) return;\n\n        if (!this.pipRest.lockServerUrl) {\n            this.pipRest.serverUrl = this.config.data.serverUrl;\n        }\n\n        this.pipEntryData.verifyEmail({\n            login: this.config.data.login,\n            email: this.config.data.email || this.config.data.login,\n            code: this.config.data.code\n        },\n            (data) => {\n                this.pipFormErrors.resetFormErrors(this.config.form, false);\n                if (this.transaction.aborted(transactionId)) return;\n\n                let userId = this.pipEntryData.getUserId();\n                if (successCallback) successCallback(data);\n\n                this.transaction.end();\n                this.pipEntryData.saveSettingsKey(\n                    userId,\n                    this.regestryVerifyEmailKey,\n                    true,\n                    (data) => {\n                        let identity: any = this.pipIdentity.identity;\n                        if (identity && identity.user) {\n                            if (!identity.user.settings) identity.user.settings = {};\n\n                            identity.user.settings[this.regestryVerifyEmailKey] = \"true\";\n                            this.pipIdentity.identity = identity;\n                        }\n                        this.onContinue();\n                    },\n                (error: any) => {\n                    this.transaction.end(error)\n                });\n\n            },\n            (error) => {\n                this.transaction.end(error);\n                this.pipFormErrors.resetFormErrors(this.config.form, true);\n                this.pipFormErrors.setFormError(\n                    this.config.form, error, {\n                        'WRONG_LOGIN_EMAIL': 'login', // Account was not found\n                        'NO_LOGIN_EMAIL': 'login', // Missing account login\n                        'NO_EMAIL': 'login', // Missing account login\n                        'INVALID_CODE': 'code', // Invalid password recovery code\n                        'act_execute': 'form', // Unknown error\n                        '-1': 'form' // server not response\n                    }\n                );\n                if (errorCallback) errorCallback(error);\n            }\n        );\n    }\n\n    public onRecover() {\n        if (!this.config.data.login) {\n\n            return;\n        }\n\n        const tid = this.transaction.begin('PROCESSING');\n        if (!tid) return;\n\n        this.pipEntryData.requestEmailVerification({\n            login: this.config.data.login\n        },\n            (data) => {\n                if (this.transaction.aborted(tid)) return;\n                this.config.data.code = null\n                this.transaction.end();\n            },\n            (error) => {\n                this.transaction.end(error);\n            }\n        );\n    }\n// todo \n    public onContinue() {\n        if (this.pipAuthState.params.redirect_to) {\n            this.$location.url(this.pipAuthState.params.redirect_to);\n        } else {\n            this.pipAuthState.goToAuthorized(this.config && this.config.data ? this.config.data : {});\n        }\n    }\n\n    public onCancel() {\n        this.pipEntry.signout();\n        this.pipAuthState.goToUnauthorized({});\n    }\n}","import { VerifyEmailModel } from './VerifyEmailModel';\nimport { IEntryDataService } from '../data/IEntryDataService';\nimport { IEntryService } from \"../common/EntryService\";\n\nexport class VerifyEmailViewModel {\n    public model: VerifyEmailModel;\n\n    constructor(\n        pipEntryCommon: any,\n        pipTransaction: pip.services.ITransactionService,\n        $rootScope: ng.IRootScopeService,\n        $location: ng.ILocationService,\n        $state: ng.ui.IStateService,\n        $injector: ng.auto.IInjectorService,\n        pipAuthState: pip.rest.IAuthStateService,\n        pipFormErrors: pip.errors.IFormErrorsService,\n        pipRest: pip.rest.IRestService,\n        pipEntryData: IEntryDataService,\n        pipIdentity: pip.services.IIdentityService,\n        pipEntry: IEntryService\n    ) {\n        \"ngInject\";\n\n        this.model = new VerifyEmailModel(pipEntryCommon, pipTransaction, $rootScope, $location, $state,\n            $injector, pipAuthState, pipFormErrors, pipRest, pipEntryData, pipIdentity, pipEntry);\n    }\n\n    public get transaction(): pip.services.Transaction {\n        return this.model.transaction;\n    }\n\n    public get hideObject(): any {\n        return this.model.hideObject;\n    }\n\n    public get showServerError(): any {\n        return this.model.showServerError;\n    }\n\n    public get config(): any {\n        return this.model.config;\n    }\n\n    public initModel($scope) {\n        this.model.init($scope);\n    }\n\n    public onVerify(successCallback?: (data: any) => void, errorCallback?: (error: any) => void) {\n        this.model.onVerify(successCallback, errorCallback);\n    }\n\n    public onRecover() {\n        this.model.onRecover();\n    }\n\n    public onContinue() {\n        this.model.onContinue();\n    }\n\n    public onCancel() {\n        this.model.onCancel();\n    }\n}\n\nangular.module('pipEntry.VerifyEmail')\n    .service('pipVerifyEmailViewModel', VerifyEmailViewModel);","(function(module) {\ntry {\n  module = angular.module('pipEntry.Templates');\n} catch (e) {\n  module = angular.module('pipEntry.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('change_password/ChangePassword.html',\n    '<div class=\"pip-card-container pip-outer-scroll pip-entry\"><pip-card width=\"400\"><pip-change-password-panel class=\"scroll-y\"></pip-change-password-panel><div class=\"pip-footer\"><md-button ng-hide=\"$ctrl.transaction.busy()\" ng-click=\"$ctrl.goBack()\" class=\"rm8\" aria-label=\"CANCEL\">{{ ::\\'CANCEL\\' | translate }}</md-button><md-button ng-hide=\"$ctrl.transaction.busy()\" ng-click=\"$ctrl.onChange()\" aria-label=\"ENTRY_CHANGE_PASSWORD\" ng-disabled=\"($ctrl.config.form.$pristine && !$ctrl.config.data.login) || $ctrl.config.data.serverUrl.length == 0 || $ctrl.config.data.login.length == 0 || $ctrl.config.data.code.length == 0 || $ctrl.config.data.password.length < 6\" class=\"md-accent\" type=\"submit\">{{ ::\\'ENTRY_CHANGE_PASSWORD\\' | translate }}</md-button><md-button class=\"md-warn\" ng-show=\"$ctrl.transaction.busy()\" ng-click=\"$ctrl.transaction.abort()\" aria-label=\"ABORT\">{{ ::\\'CANCEL\\' | translate }}</md-button></div></pip-card></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipEntry.Templates');\n} catch (e) {\n  module = angular.module('pipEntry.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('change_password/ChangePasswordDialog.html',\n    '<md-dialog class=\"pip-entry lp0 rp0\"><md-dialog-content><pip-change-password-panel></pip-change-password-panel></md-dialog-content><md-dialog-actions class=\"layout-row layout-align-end-center\"><md-button ng-hide=\"$ctrl.transaction.busy()\" ng-click=\"$ctrl.goBack()\" class=\"rm8\" aria-label=\"CANCEL\">{{ ::\\'CANCEL\\' | translate }}</md-button><md-button ng-hide=\"$ctrl.transaction.busy()\" ng-click=\"$ctrl.onChange()\" aria-label=\"ENTRY_CHANGE_PASSWORD\" ng-disabled=\"($ctrl.config.form.$pristine && !$ctrl.config.data.login) || $ctrl.config.data.serverUrl.length == 0 || $ctrl.config.data.login.length == 0 || $ctrl.config.data.code.length == 0 || $ctrl.config.data.password.length < 6\" class=\"md-accent\" type=\"submit\">{{ ::\\'ENTRY_CHANGE_PASSWORD\\' | translate }}</md-button><md-button class=\"md-warn\" ng-show=\"$ctrl.transaction.busy()\" ng-click=\"$ctrl.transaction.abort()\" aria-label=\"ABORT\">{{ ::\\'CANCEL\\' | translate }}</md-button></md-dialog-actions></md-dialog>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipEntry.Templates');\n} catch (e) {\n  module = angular.module('pipEntry.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('change_password/ChangePasswordPanel.html',\n    '<div class=\"pip-body\"><div class=\"pip-content\"><md-progress-linear ng-show=\"$ctrl.transaction.busy() && $ctrl.showServerError && !$ctrl.hideObject.progress\" md-mode=\"indeterminate\" class=\"pip-progress-top\"></md-progress-linear><h2 ng-if=\"!$ctrl.hideObject.changePwdTitle\">{{::\\'CHANGE_PWD_PASSWORD\\' | translate}}</h2><p class=\"title-padding bm16\" ng-if=\"!$ctrl.hideObject.changePwdSubTitle\">{{::\\'CHANGE_PWD_TEXT\\' | translate}}</p><form name=\"form\" novalidate=\"\" autocomplete=\"off\"><input name=\"password\" style=\"display:none\"> <input name=\"passwordNew\" style=\"display:none\"><div ng-messages=\"$ctrl.config.form.$serverError\" class=\"text-error bm8 color-error\" md-auto-hide=\"false\"><div ng-message=\"ERROR_act_execute\">{{ ::\\'ERROR_ACT_EXECUTE\\' | translate }}</div><div ng-message=\"ERROR_-1\">{{ ::\\'ERROR_SERVER\\' | translate }}</div><div ng-message=\"ERROR_UNKNOWN\">{{ \\'ERROR_UNKNOWN\\' | translate }}</div></div><div ng-show=\"$ctrl.config.showServerUrl && !$ctrl.hideObject.server\" class=\"bp8\"><md-autocomplete ng-initial=\"\" autofocus=\"\" tabindex=\"1\" class=\"pip-combobox w-stretch bm8\" name=\"server\" ng-enabled=\"!$ctrl.transaction.busy()\" placeholder=\"{{::\\'ENTRY_SERVER_URL\\' | translate}}\" md-no-cache=\"true\" md-selected-item=\"$ctrl.config.data.serverUrl\" md-search-text=\"$ctrl.config.selected.searchURLs\" md-items=\"item in $ctrl.config.getMatches($ctrl.config.selected.searchURLs)\" md-item-text=\"item\" md-selected-item-change=\"$ctrl.onServerUrlChanged()\" md-search-text-change=\"$ctrl.onChanged()\" md-delay=\"200\" ng-model=\"$ctrl.config.data.serverUrl\" pip-clear-errors=\"\"><span md-highlight-text=\"$ctrl.config.selected.searchURLs\">{{ item }}</span></md-autocomplete></div><md-input-container class=\"pip-no-hint\" style=\"padding-bottom: 4px!important;\"><label>{{::\\'OLD_PASSWORD\\' | translate}}</label> <input name=\"password\" ng-disabled=\"$ctrl.transaction.busy()\" xxxpip-clear-errors=\"\" type=\"password\" tabindex=\"4\" ng-model=\"$ctrl.config.data.password\" required=\"\" minlength=\"6\" ng-change=\"$ctrl.onChangePassword()\" pip-compare-old-password=\"\" compare-to=\"$ctrl.config.data.passwordNew\"><div class=\"hint\" ng-if=\"$ctrl.touchedErrorsWithHint($ctrl.config.form, $ctrl.config.form.password, true).hint && !$ctrl.hideObject.hint\">{{::\\'HINT_PASSWORD\\' | translate}}</div><div ng-messages=\"$ctrl.touchedErrorsWithHint($ctrl.config.form, $ctrl.config.form.password, true)\" class=\"md-input-error\" md-auto-hide=\"false\"><div ng-message=\"required\">{{::\\'MINLENGTH_PASSWORD\\' | translate}}</div><div ng-message=\"minlength\">{{::\\'MINLENGTH_PASSWORD\\' | translate}}</div><div ng-message=\"ERROR_WRONG_PASSWORD\">{{::\\'ERROR_WRONG_PASSWORD\\' | translate}}</div><div ng-message=\"ERROR_compareTo\">{{::\\'PASSWORD_IDENTICAL\\' | translate}}</div></div></md-input-container><md-input-container class=\"display bp4\"><label>{{::\\'NEW_PASSWORD_SET\\' | translate}}</label> <input name=\"passwordNew\" ng-disabled=\"$ctrl.transaction.busy()\" xxxpip-clear-errors=\"\" type=\"password\" tabindex=\"4\" ng-model=\"$ctrl.config.data.passwordNew\" ng-change=\"$ctrl.onChangePasswordNew()\" required=\"\" minlength=\"6\" ng-keypress=\"$ctrl.onEnter($event)\" pip-test=\"input-password\" autocomplete=\"off\" pip-compare-new-password=\"\" compare-to1=\"$ctrl.config.data.password\"><div class=\"hint\" ng-if=\"$ctrl.touchedErrorsWithHint($ctrl.config.form, $ctrl.config.form.passwordNew, true).hint && !$ctrl.hideObject.hint\">{{::\\'HINT_PASSWORD\\' | translate}}</div><div ng-messages=\"$ctrl.touchedErrorsWithHint($ctrl.config.form, $ctrl.config.form.passwordNew, true)\" md-auto-hide=\"false\"><div ng-message=\"required\">{{::\\'HINT_PASSWORD\\' | translate}}</div><div ng-message=\"minlength\">{{::\\'HINT_PASSWORD\\' | translate}}</div><div ng-message=\"ERROR_compareTo\">{{::\\'PASSWORD_IDENTICAL\\' | translate}}</div><div ng-message=\"ERROR_WRONG_PASSWORD\" xxxng-if=\"!$ctrl.config.form.passwordNew.$pristine\">{{::\\'ERROR_WRONG_PASSWORD\\' | translate}}</div></div></md-input-container><md-input-container class=\"display bp4\" ng-if=\"!$ctrl.hideObject.passwordConfirm\"><label>{{::\\'NEW_PASSWORD_CONFIRM\\' | translate}}</label> <input name=\"passwordConfirm\" type=\"password\" tabindex=\"4\" required=\"\" minlength=\"6\" ng-model=\"$ctrl.confirmPassword\" ng-disabled=\"$ctrl.transaction.busy()\" xxpip-clear-errors=\"\" ng-change=\"$ctrl.onChangePasswordConfirm()\" pip-compare-password-match=\"\" compare-to2=\"$ctrl.config.data.passwordNew\" ng-keypress=\"$ctrl.onEnter($event)\" pip-test=\"input-password\"><div class=\"hint\" ng-if=\"$ctrl.touchedErrorsWithHint($ctrl.config.form, $ctrl.config.form.passwordConfirm, true).hint && !$ctrl.hideObject.hint\">{{::\\'HINT_PASSWORD\\' | translate}}</div><div ng-messages=\"$ctrl.touchedErrorsWithHint($ctrl.config.form, $ctrl.config.form.passwordConfirm, true)\" md-auto-hide=\"false\"><div ng-message=\"required\">{{::\\'HINT_PASSWORD\\' | translate}}</div><div ng-message=\"minlength\">{{::\\'HINT_PASSWORD\\' | translate}}</div><div ng-message=\"ERROR_compareTo\">{{::\\'PASSWORD_MATCH\\' | translate}}</div></div></md-input-container></form></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipEntry.Templates');\n} catch (e) {\n  module = angular.module('pipEntry.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('expire_change_password/ExpireChangePassword.html',\n    '<div class=\"pip-card-container pip-outer-scroll pip-entry\"><pip-card width=\"400\"><pip-expire-change-password-panel class=\"scroll-y\"></pip-expire-change-password-panel><div class=\"pip-footer\"><md-button ng-hide=\"$ctrl.transaction.busy()\" ng-click=\"$ctrl.goBack()\" class=\"rm8\" aria-label=\"CANCEL\">{{ ::\\'CANCEL\\' | translate }}</md-button><md-button ng-hide=\"$ctrl.transaction.busy()\" ng-click=\"$ctrl.onChange()\" aria-label=\"ENTRY_EXPIRE_CHANGE_PASSWORD\" ng-disabled=\"($ctrl.config.form.$pristine && !$ctrl.config.data.login) || $ctrl.config.data.serverUrl.length == 0 || $ctrl.config.data.login.length == 0 || $ctrl.config.data.code.length == 0 || $ctrl.config.data.password.length < 6\" class=\"md-accent\" type=\"submit\">{{ ::\\'ENTRY_EXPIRE_CHANGE_PASSWORD\\' | translate }}</md-button><md-button class=\"md-warn\" ng-show=\"$ctrl.transaction.busy()\" ng-click=\"$ctrl.transaction.abort()\" aria-label=\"ABORT\">{{ ::\\'CANCEL\\' | translate }}</md-button></div></pip-card></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipEntry.Templates');\n} catch (e) {\n  module = angular.module('pipEntry.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('expire_change_password/ExpireChangePasswordDialog.html',\n    '<md-dialog class=\"pip-entry lp0 rp0\"><md-dialog-content><pip-expire-change-password-panel></pip-expire-change-password-panel></md-dialog-content><md-dialog-actions class=\"layout-row layout-align-end-center\"><md-button ng-hide=\"$ctrl.transaction.busy()\" ng-click=\"$ctrl.goBack()\" class=\"rm8\" aria-label=\"CANCEL\">{{ ::\\'CANCEL\\' | translate }}</md-button><md-button ng-hide=\"$ctrl.transaction.busy()\" ng-click=\"$ctrl.onChange()\" aria-label=\"ENTRY_EXPIRE_CHANGE_PASSWORD\" ng-disabled=\"($ctrl.config.form.$pristine && !$ctrl.config.data.login) || $ctrl.config.data.serverUrl.length == 0 || $ctrl.config.data.login.length == 0 || $ctrl.config.data.code.length == 0 || $ctrl.config.data.password.length < 6\" class=\"md-accent\" type=\"submit\">{{ ::\\'ENTRY_EXPIRE_CHANGE_PASSWORD\\' | translate }}</md-button><md-button class=\"md-warn\" ng-show=\"$ctrl.transaction.busy()\" ng-click=\"$ctrl.transaction.abort()\" aria-label=\"ABORT\">{{ ::\\'CANCEL\\' | translate }}</md-button></md-dialog-actions></md-dialog>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipEntry.Templates');\n} catch (e) {\n  module = angular.module('pipEntry.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('expire_change_password/ExpireChangePasswordPanel.html',\n    '<div class=\"pip-body\"><div class=\"pip-content\"><md-progress-linear ng-show=\"$ctrl.transaction.busy() && $ctrl.showServerError && !$ctrl.hideObject.progress\" md-mode=\"indeterminate\" class=\"pip-progress-top\"></md-progress-linear><h2 ng-if=\"!$ctrl.hideObject.changePwdTitle\">{{::\\'EXPIRE_CHANGE_PWD_PASSWORD\\' | translate}}</h2><p class=\"title-padding bm16\" ng-if=\"!$ctrl.hideObject.changePwdSubTitle\">{{::\\'EXPIRE_CHANGE_PWD_TEXT\\' | translate}}</p><form name=\"form\" novalidate=\"\" autocomplete=\"off\"><div ng-messages=\"$ctrl.config.form.$serverError\" class=\"text-error bm8 color-error\" md-auto-hide=\"false\"><div ng-message=\"ERROR_act_execute\">{{::\\'ERROR_ACT_EXECUTE\\' | translate}}</div><div ng-message=\"ERROR_-1\">{{::\\'ERROR_SERVER\\' | translate}}</div><div ng-message=\"ERROR_UNKNOWN\">{{ $ctrl.config.form.$serverError.ERROR_UNKNOWN | translate }}</div></div><div class=\"bp16\"><a ng-hide=\"$ctrl.config.showServerUrl || $ctrl.config.fixedServerUrl || $ctrl.hideObject.server\" ng-click=\"$ctrl.config.showServerUrl = true\" href=\"\">{{::\\'ENTRY_CHANGE_SERVER\\' | translate}}</a></div><div ng-show=\"$ctrl.config.showServerUrl && !$ctrl.hideObject.server\" class=\"bp8\"><md-autocomplete ng-initial=\"\" autofocus=\"\" tabindex=\"1\" class=\"pip-combobox w-stretch bm8\" name=\"server\" ng-enabled=\"!$ctrl.transaction.busy()\" placeholder=\"{{::\\'ENTRY_SERVER_URL\\' | translate}}\" md-no-cache=\"true\" md-selected-item=\"$ctrl.config.data.serverUrl\" md-search-text=\"$ctrl.config.selected.searchURLs\" md-items=\"item in $ctrl.config.getMatches($ctrl.config.selected.searchURLs)\" md-item-text=\"item\" md-selected-item-change=\"$ctrl.onServerUrlChanged()\" md-search-text-change=\"$ctrl.onChanged()\" md-delay=\"200\" ng-model=\"$ctrl.config.data.serverUrl\" pip-clear-errors=\"\"><span md-highlight-text=\"$ctrl.config.selected.searchURLs\">{{ item }}</span></md-autocomplete></div><md-input-container class=\"pip-no-hint\" style=\"padding-bottom: 4px!important;\"><label>{{::\\'OLD_PASSWORD\\' | translate}}</label> <input name=\"password\" ng-disabled=\"$ctrl.transaction.busy()\" pip-clear-errors=\"\" type=\"password\" tabindex=\"4\" ng-model=\"$ctrl.config.data.password\" required=\"\" minlength=\"6\"><div class=\"hint\" ng-if=\"$ctrl.touchedErrorsWithHint($ctrl.config.form, $ctrl.config.form.password).hint && !$ctrl.hideObject.hint\">{{::\\'HINT_PASSWORD\\' | translate}}</div><div ng-messages=\"$ctrl.touchedErrorsWithHint($ctrl.config.form, $ctrl.config.form.password)\" class=\"md-input-error\" md-auto-hide=\"false\"><div ng-message=\"required\">{{::\\'MINLENGTH_PASSWORD\\' | translate}}</div><div ng-message=\"minlength\">{{::\\'MINLENGTH_PASSWORD\\' | translate}}</div><div ng-message=\"ERROR_WRONG_PASSWORD\">{{::\\'ERROR_WRONG_PASSWORD\\' | translate}}</div></div></md-input-container><md-input-container class=\"display bp4\"><label>{{::\\'NEW_PASSWORD_SET\\' | translate}}</label> <input name=\"passwordNew\" ng-disabled=\"$ctrl.transaction.busy()\" pip-clear-errors=\"\" type=\"password\" tabindex=\"4\" ng-model=\"$ctrl.config.data.passwordNew\" required=\"\" minlength=\"6\" ng-keypress=\"$ctrl.onEnter($event)\" pip-test=\"input-password\"><div class=\"hint\" ng-if=\"$ctrl.touchedErrorsWithHint($ctrl.config.form, $ctrl.config.form.passwordNew).hint && !$ctrl.hideObject.hint\">{{::\\'HINT_PASSWORD\\' | translate}}</div><div ng-messages=\"$ctrl.touchedErrorsWithHint($ctrl.config.form, $ctrl.config.form.passwordNew)\" md-auto-hide=\"false\"><div ng-message=\"required\">{{::\\'HINT_PASSWORD\\' | translate}}</div><div ng-message=\"minlength\">{{::\\'HINT_PASSWORD\\' | translate}}</div><div ng-message=\"ERROR_WRONG_PASSWORD\" xxxng-if=\"!$ctrl.config.form.passwordNew.$pristine\">{{::\\'ERROR_WRONG_PASSWORD\\' | translate}}</div></div></md-input-container><md-input-container class=\"display bp4\" ng-if=\"!$ctrl.hideObject.passwordConfirm\"><label>{{::\\'NEW_PASSWORD_CONFIRM\\' | translate}}</label> <input name=\"passwordConfirm\" type=\"password\" tabindex=\"4\" required=\"\" minlength=\"6\" ng-model=\"$ctrl.confirmPassword\" ng-disabled=\"$ctrl.transaction.busy()\" pip-clear-errors=\"\" pip-compare-password-match=\"\" compare-to2=\"$ctrl.config.data.passwordNew\" ng-keypress=\"$ctrl.onEnter($event)\" pip-test=\"input-password\"><div class=\"hint\" ng-if=\"$ctrl.touchedErrorsWithHint($ctrl.config.form, $ctrl.config.form.passwordConfirm, true).hint && !$ctrl.hideObject.hint\">{{::\\'HINT_PASSWORD\\' | translate}}</div><div ng-messages=\"$ctrl.touchedErrorsWithHint($ctrl.config.form, $ctrl.config.form.passwordConfirm, true)\" md-auto-hide=\"false\"><div ng-message=\"ERROR_compareTo\">{{::\\'PASSWORD_MATCH\\' | translate}}</div><div ng-message=\"required\">{{::\\'HINT_PASSWORD\\' | translate}}</div><div ng-message=\"minlength\">{{::\\'HINT_PASSWORD\\' | translate}}</div></div></md-input-container></form></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipEntry.Templates');\n} catch (e) {\n  module = angular.module('pipEntry.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('post_signup/PostSignup.html',\n    '<div class=\"pip-card-container pip-outer-scroll pip-entry\"><pip-card width=\"400\"><pip-post-signup-panel pip-party=\"$ctrl.$party\"></pip-post-signup-panel><div class=\"pip-footer\"><md-button ng-hide=\"$ctrl.transaction.busy()\" class=\"md-accent\" type=\"submit\" ng-click=\"$ctrl.onPostSignupSubmit()\" aria-label=\"CONTINUE\">{{ ::\\'CONTINUE\\' | translate }}</md-button><md-button ng-show=\"$ctrl.transaction.busy()\" class=\"md-warn\" ng-click=\"$ctrl.transaction.abort()\" aria-label=\"ABORT\">{{ ::\\'CANCEL\\' | translate }}</md-button></div></pip-card></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipEntry.Templates');\n} catch (e) {\n  module = angular.module('pipEntry.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('post_signup/PostSignupDialog.html',\n    '<md-dialog class=\"pip-entry lp0 rp0\"><md-dialog-content><pip-post-signup-panel pip-party=\"$ctrl.$party\"></pip-post-signup-panel></md-dialog-content><md-dialog-actions class=\"layout-row layout-align-end-center\"><md-button ng-hide=\"$ctrl.transaction.busy()\" class=\"md-accent\" ng-click=\"$ctrl.onPostSignupSubmit()\" aria-label=\"CONTINUE\">{{ ::\\'CONTINUE\\' | translate }}</md-button><md-button ng-show=\"$ctrl.transaction.busy()\" class=\"md-warn\" ng-click=\"$ctrl.transaction.abort()\" aria-label=\"ABORT\">{{ ::\\'CANCEL\\' | translate }}</md-button></md-dialog-actions></md-dialog>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipEntry.Templates');\n} catch (e) {\n  module = angular.module('pipEntry.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('post_signup/PostSignupPanel.html',\n    '<div class=\"pip-body\"><div class=\"pip-content\"><md-progress-linear ng-show=\"$ctrl.transaction.busy() && !$ctrl.hideObject.progress\" md-mode=\"indeterminate\" class=\"pip-progress-top\"></md-progress-linear><h2 class=\"text-overflow\" ng-if=\"!$ctrl.hideObject.title\">{{ \\'POST_SIGNUP_TITLE\\' | translate }}</h2><p class=\"bm0 line-height-string\" ng-if=\"!$ctrl.hideObject.successTitle\">{{ \\'POST_SIGNUP_TEXT_1\\' | translate }}</p><p class=\"line-height-string m0\" ng-if=\"!$ctrl.hideObject.subTitle\">{{ \\'POST_SIGNUP_TEXT_2\\' | translate }}</p><form name=\"form\" novalidate=\"\"><div ng-messages=\"$ctrl.config.form.$serverError\" class=\"text-error bm8\" md-auto-hide=\"false\"><div ng-message=\"ERROR_1000\">{{::\\'ERROR_1000\\' | translate}}</div><div ng-message=\"ERROR_1110\">{{::\\'ERROR_1110\\' | translate}}</div><div ng-message=\"ERROR_1111\">{{::\\'ERROR_1111\\' | translate}}</div><div ng-message=\"ERROR_1112\">{{::\\'ERROR_1112\\' | translate}}</div><div ng-message=\"ERROR_1002\">{{::\\'ERROR_1002\\' | translate}}</div><div ng-message=\"ERROR_-1\">{{::\\'ERROR_SERVER\\' | translate}}</div><div ng-message=\"ERROR_UNKNOWN\">{{ $ctrl.config.form.$serverError.ERROR_UNKNOWN | translate }}</div></div><div class=\"pip-ref-item\"><pip-avatar-edit ng-disabled=\"$ctrl.transaction.busy()\" ng-if=\"$ctrl.config.enableAvatar\" pip-reset=\"false\" pip-party-id=\"$ctrl.config.data.id\" pip-created=\"$ctrl.onPictureCreated($event)\" pip-changed=\"$ctrl.onPictureChanged($control, $event)\" class=\"rm16 flex-fixed\"></pip-avatar-edit><div class=\"pip-content\"><p class=\"pip-title\">{{ $ctrl.config.data.name }}</p><p class=\"pip-subtitle\">{{ $ctrl.config.data.email }}</p></div></div><md-input-container class=\"pip-no-hint bp4\"><label>{{ \\'HINT_ABOUT\\' | translate }}</label> <textarea ng-model=\"$ctrl.config.data.about\" ng-initial=\"\" ng-disabled=\"$ctrl.transaction.busy()\" pip-clear-errors=\"\">\\n' +\n    '                        </textarea></md-input-container><div class=\"tm2\"><p class=\"text-caption bm0\">{{ \\'GENDER\\' | translate }}</p><md-select class=\"w-stretch tm0 tp0 bp8\" ng-disabled=\"$ctrl.transaction.busy()\" ng-model=\"$ctrl.config.data.gender\" label=\"{{\\'GENDER\\' | translate}}\" ng-change=\"$ctrl.onStatusChange($ctrl.config.data)\" pip-clear-errors=\"\"><md-option ng-value=\"opt.id\" ng-repeat=\"opt in $ctrl.genders track by opt.id\">{{ opt.name }}</md-option></md-select></div><div class=\"tm2\"><p class=\"text-caption bm0\">{{ ::\\'BIRTHDAY\\' | translate }}</p><pip-date ng-disabled=\"$ctrl.transaction.busy()\" ng-model=\"$ctrl.config.data.birthday\" pip-time-mode=\"past\" pip-clear-errors=\"\" time-mode=\"past\"></pip-date></div><md-input-container><label>{{ ::\\'LANGUAGE\\' | translate }}</label><md-select class=\"w-stretch tm0 tp0 bp16\" ng-disabled=\"$ctrl.transaction.busy()\" ng-model=\"$ctrl.config.data.language\" ng-change=\"$ctrl.onStatusChange($ctrl.config.data)\" pip-clear-errors=\"\"><md-option ng-value=\"opt.id\" ng-repeat=\"opt in $ctrl.languages track by opt.id\">{{ opt.name }}</md-option></md-select></md-input-container></form></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipEntry.Templates');\n} catch (e) {\n  module = angular.module('pipEntry.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('reset_password/ResetPassword.html',\n    '<div class=\"pip-card-container pip-outer-scroll pip-entry\"><pip-card width=\"400\"><pip-reset-password-panel class=\"scroll-y\"></pip-reset-password-panel><div class=\"pip-footer\"><md-button ng-hide=\"$ctrl.transaction.busy()\" ng-click=\"$ctrl.goBack()\" class=\"rm8\" aria-label=\"CANCEL\">{{ ::\\'CANCEL\\' | translate }}</md-button><md-button ng-hide=\"$ctrl.transaction.busy()\" ng-click=\"$ctrl.onReset()\" aria-label=\"ENTRY_RESET_PASSWORD\" ng-disabled=\"($ctrl.config.form.$pristine && !$ctrl.config.data.login) || $ctrl.config.data.serverUrl.length == 0 || $ctrl.config.data.login.length == 0 || $ctrl.config.data.resetCode.length == 0 || $ctrl.config.data.password.length < 6\" class=\"md-accent\" type=\"submit\">{{ ::\\'ENTRY_RESET_PASSWORD\\' | translate }}</md-button><md-button class=\"md-warn\" ng-show=\"$ctrl.transaction.busy()\" ng-click=\"$ctrl.transaction.abort()\" aria-label=\"ABORT\">{{ ::\\'CANCEL\\' | translate }}</md-button></div></pip-card></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipEntry.Templates');\n} catch (e) {\n  module = angular.module('pipEntry.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('reset_password/ResetPasswordDialog.html',\n    '<md-dialog class=\"pip-entry lp0 rp0\"><md-dialog-content><pip-reset-password-panel></pip-reset-password-panel></md-dialog-content><md-dialog-actions class=\"layout-row layout-align-end-center\"><md-button ng-hide=\"$ctrl.transaction.busy()\" ng-click=\"$ctrl.onCancel()\" class=\"rm8\" aria-label=\"CANCEL\">{{ ::\\'CANCEL\\' | translate }}</md-button><md-button ng-hide=\"$ctrl.transaction.busy()\" ng-click=\"$ctrl.onReset()\" aria-label=\"ENTRY_RESET_PASSWORD\" ng-disabled=\"($ctrl.config.form.$pristine && !$ctrl.config.data.login) || $ctrl.config.data.serverUrl.length == 0 || $ctrl.config.data.login.length == 0 || $ctrl.config.data.resetCode.length == 0 || $ctrl.config.data.password.length < 6\" class=\"md-accent\" type=\"submit\">{{ ::\\'ENTRY_RESET_PASSWORD\\' | translate }}</md-button><md-button class=\"md-warn\" ng-show=\"$ctrl.transaction.busy()\" ng-click=\"$ctrl.transaction.abort()\" aria-label=\"ABORT\">{{ ::\\'CANCEL\\' | translate }}</md-button></md-dialog-actions></md-dialog>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipEntry.Templates');\n} catch (e) {\n  module = angular.module('pipEntry.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('reset_password/ResetPasswordPanel.html',\n    '<div class=\"pip-body\"><div class=\"pip-content\"><md-progress-linear ng-show=\"$ctrl.transaction.busy() && $ctrl.showServerError && !$ctrl.hideObject.progress\" md-mode=\"indeterminate\" class=\"pip-progress-top\"></md-progress-linear><h2 ng-if=\"!$ctrl.hideObject.title\">{{::\\'RESET_PWD_PASSWORD\\' | translate}}</h2><p class=\"title-padding bm16\" ng-if=\"!$ctrl.hideObject.resetSubTitle && !$ctrl.config.useEmailAsLogin\">{{::\\'RESET_PWD_TEXT_LOGIN\\' | translate}}</p><p class=\"title-padding bm16\" ng-if=\"!$ctrl.hideObject.resetSubTitle && $ctrl.config.useEmailAsLogin\">{{::\\'RESET_PWD_TEXT_EMAIL\\' | translate}}</p><form name=\"form\" novalidate=\"\" autocomplete=\"off\"><input name=\"code\" style=\"display:none\"> <input name=\"resetCode\" style=\"display:none\"> <input name=\"password\" style=\"display:none\"><div ng-messages=\"$ctrl.config.form.$serverError\" class=\"text-error bm8 color-error\" md-auto-hide=\"false\"><div ng-message=\"ERROR_act_execute\">{{::\\'ERROR_ACT_EXECUTE\\' | translate}}</div><div ng-message=\"ERROR_-1\">{{::\\'ERROR_SERVER\\' | translate}}</div><div ng-message=\"ERROR_UNKNOWN\">{{ $ctrl.config.form.$serverError.ERROR_UNKNOWN | translate }}</div></div><div class=\"bp16\"><a ng-hide=\"$ctrl.config.showServerUrl || $ctrl.config.fixedServerUrl || $ctrl.hideObject.server\" ng-click=\"$ctrl.config.showServerUrl = true\" href=\"\">{{::\\'ENTRY_CHANGE_SERVER\\' | translate}}</a></div><div ng-show=\"$ctrl.config.showServerUrl && !$ctrl.hideObject.server\" class=\"bp8\"><md-autocomplete ng-initial=\"\" autofocus=\"\" tabindex=\"1\" class=\"pip-combobox w-stretch bm8\" name=\"server\" aria-label=\"URL\" ng-enabled=\"!$ctrl.transaction.busy()\" placeholder=\"{{::\\'ENTRY_SERVER_URL\\' | translate}}\" md-no-cache=\"true\" md-selected-item=\"$ctrl.config.data.serverUrl\" md-search-text=\"$ctrl.config.selected.searchURLs\" md-items=\"item in $ctrl.config.getMatches($ctrl.config.selected.searchURLs)\" md-item-text=\"item\" md-selected-item-change=\"$ctrl.onServerUrlChanged()\" md-search-text-change=\"$ctrl.onChanged()\" md-delay=\"200\" ng-model=\"$ctrl.config.data.serverUrl\" pip-clear-errors=\"\"><span md-highlight-text=\"$ctrl.config.selected.searchURLs\">{{ item }}</span></md-autocomplete></div><md-input-container class=\"pip-no-hint\" style=\"padding-bottom: 4px!important;\"><label ng-if=\"!$ctrl.config.useEmailAsLogin\">{{::\\'LOGIN\\' | translate}}</label> <label ng-if=\"$ctrl.config.useEmailAsLogin\">{{::\\'EMAIL\\' | translate}}</label> <input name=\"login\" type=\"login\" ng-model=\"$ctrl.config.data.login\" required=\"\" step=\"any\" aria-label=\"LOGIN\" pip-clear-errors=\"\" ng-disabled=\"$ctrl.transaction.busy()\" tabindex=\"2\"><div class=\"hint\" ng-if=\"$ctrl.touchedErrorsWithHint($ctrl.config.form, $ctrl.config.form.login).hint && !$ctrl.hideObject.hint && !$ctrl.config.useEmailAsLogin\">{{::\\'HINT_LOGIN\\' | translate}}</div><div class=\"hint\" ng-if=\"$ctrl.touchedErrorsWithHint($ctrl.config.form, $ctrl.config.form.login).hint && !$ctrl.hideObject.hint && $ctrl.config.useEmailAsLogin\">{{::\\'HINT_EMAIL\\' | translate}}</div><div ng-messages=\"$ctrl.touchedErrorsWithHint($ctrl.config.form, $ctrl.config.form.login)\" class=\"md-input-error\" md-auto-hide=\"false\"><div ng-message=\"required\">{{::\\'ERROR_LOGIN_INVALID\\' | translate }}</div><div ng-message=\"ERROR_NO_LOGIN\">{{::\\'ERROR_NO_LOGIN\\' | translate}}</div><div ng-message=\"ERROR_WRONG_LOGIN\">{{::\\'ERROR_WRONG_LOGIN\\' | translate}}</div><div ng-message=\"ERROR_LOGIN_NOT_FOUND\">{{::\\'ERROR_LOGIN_NOT_FOUND\\' | translate}}</div></div></md-input-container><md-input-container class=\"pip-no-hint\"><label>{{::\\'ENTRY_RESET_CODE\\' | translate}}</label> <input name=\"resetCode\" ng-disabled=\"$ctrl.transaction.busy()\" autocomplete=\"off\" aria-label=\"CODE\" ng-model=\"$ctrl.config.data.resetCode\" required=\"\" tabindex=\"3\" pip-clear-errors=\"\"><div class=\"hint\" ng-if=\"$ctrl.touchedErrorsWithHint($ctrl.config.form, $ctrl.config.form.resetCode).hint && !$ctrl.hideObject.hint\">{{::\\'ENTRY_RESET_CODE\\' | translate}}</div><div ng-messages=\"$ctrl.touchedErrorsWithHint($ctrl.config.form, $ctrl.config.form.resetCode)\" class=\"md-input-error\" md-auto-hide=\"false\"><div ng-message=\"required\">{{::\\'ERROR_CODE_WRONG\\' | translate }}</div><div ng-message=\"ERROR_WRONG_CODE\">{{::\\'ERROR_WRONG_CODE\\' | translate}}</div></div></md-input-container><md-input-container class=\"pip-no-hint\" style=\"padding-bottom: 4px!important;\"><label>{{::\\'NEW_PASSWORD_SET\\' | translate}}</label> <input name=\"passwordNew\" ng-disabled=\"$ctrl.transaction.busy()\" pip-clear-errors=\"\" autocomplete=\"off\" type=\"password\" tabindex=\"4\" ng-model=\"$ctrl.config.data.password\" required=\"\" minlength=\"6\" aria-label=\"password\"><div class=\"hint\" ng-if=\"$ctrl.touchedErrorsWithHint($ctrl.config.form, $ctrl.config.form.passwordNew).hint && !$ctrl.hideObject.hint\">{{::\\'HINT_PASSWORD\\' | translate}}</div><div ng-messages=\"$ctrl.touchedErrorsWithHint($ctrl.config.form, $ctrl.config.form.passwordNew)\" class=\"md-input-error\" md-auto-hide=\"false\"><div ng-message=\"required\">{{::\\'MINLENGTH_PASSWORD\\' | translate}}</div><div ng-message=\"minlength\">{{::\\'MINLENGTH_PASSWORD\\' | translate}}</div><div ng-message=\"ERROR_WRONG_PASSWORD\">{{::\\'ERROR_WRONG_PASSWORD\\' | translate}}</div></div></md-input-container></form></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipEntry.Templates');\n} catch (e) {\n  module = angular.module('pipEntry.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('recover_password/RecoverPassword.html',\n    '<div class=\"pip-card-container pip-outer-scroll pip-entry\"><pip-card width=\"400\"><pip-recover-password-panel class=\"scroll-y\"></pip-recover-password-panel><div class=\"pip-footer\"><md-button ng-hide=\"$ctrl.transaction.busy()\" ng-click=\"$ctrl.goBack()\" class=\"rm8\" aria-label=\"CANCEL\">{{ ::\\'CANCEL\\' | translate }}</md-button><md-button ng-hide=\"$ctrl.transaction.busy()\" class=\"md-accent\" ng-click=\"$ctrl.onRecover()\" aria-label=\"RECOVER_PWD_RECOVER\" type=\"submit\" ng-disabled=\"($ctrl.config.form.$pristine && !$ctrl.config.data.login) || $ctrl.config.data.serverUrl.length == 0 || $ctrl.config.data.login.length == 0\">{{ ::\\'RECOVER_PWD_RECOVER\\' | translate }}</md-button><md-button ng-show=\"$ctrl.transaction.busy()\" class=\"md-warn\" ng-click=\"$ctrl.transaction.abort()\" aria-label=\"ABORT\">{{ ::\\'CANCEL\\' | translate }}</md-button></div></pip-card></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipEntry.Templates');\n} catch (e) {\n  module = angular.module('pipEntry.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('recover_password/RecoverPasswordDialog.html',\n    '<md-dialog class=\"pip-entry lp0 rp0\"><md-dialog-content><pip-recover-password-panel></pip-recover-password-panel></md-dialog-content><md-dialog-actions class=\"layout-row layout-align-end-center\"><md-button ng-hide=\"$ctlr.transaction.busy()\" ng-click=\"$ctlr.goBack()\" class=\"rm8\" aria-label=\"CANCEL\">{{::\\'CANCEL\\' | translate}}</md-button><md-button ng-hide=\"$ctlr.transaction.busy()\" class=\"md-accent\" ng-click=\"$ctlr.onRecover()\" aria-label=\"RECOVER_PWD_RECOVER\" ng-disabled=\"($$ctlr.config.form.$pristine && !$ctlr.config.data.login) || $ctlr.config.data.login== undefined || || $ctlr.config.data.serverUrl.length == 0 || $ctlr.config.data.login.length == 0\">{{::\\'RECOVER_PWD_RECOVER\\' | translate}}</md-button><md-button ng-show=\"$ctlr.transaction.busy()\" class=\"md-warn\" ng-click=\"$ctlr.transaction.abort()\" aria-label=\"ABORT\">{{::\\'CANCEL\\' | translate}}</md-button></md-dialog-actions></md-dialog>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipEntry.Templates');\n} catch (e) {\n  module = angular.module('pipEntry.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('recover_password/RecoverPasswordPanel.html',\n    '<div class=\"pip-body\"><div class=\"pip-content\"><md-progress-linear ng-show=\"$ctrl.transaction.busy() && !$ctrl.hideObject.progress\" md-mode=\"indeterminate\" class=\"pip-progress-top\"></md-progress-linear><h2 ng-if=\"!$ctrl.hideObject.title\">{{ \\'RECOVER_PWD_TITLE\\' | translate }}</h2><p class=\"text-primary tm0 bm16\" ng-if=\"!$ctrl.hideObject.subTitle1 && !$ctrl.config.useEmailAsLogin\">{{ \\'RECOVER_PWD_TEXT_1_LOGIN\\' | translate }}</p><p class=\"text-primary tm0 bm16\" ng-if=\"!$ctrl.hideObject.subTitle1 && $ctrl.config.useEmailAsLogin\">{{ \\'RECOVER_PWD_TEXT_1_EMAIL\\' | translate }}</p><p class=\"text-primary tm0 bm16\" ng-if=\"!$ctrl.hideObject.subTitle2\">{{ \\'RECOVER_PWD_TEXT_2\\' | translate }}</p><form name=\"form\" novalidate=\"\" autocomplete=\"off\"><div ng-messages=\"$ctrl.config.form.$serverError\" class=\"text-error bm8 color-error\" md-auto-hide=\"false\"><div ng-message=\"ERROR_act_execute\">{{::\\'ERROR_ACT_EXECUTE\\' | translate}}</div><div ng-message=\"ERROR_-1\">{{::\\'ERROR_SERVER\\' | translate}}</div><div ng-message=\"ERROR_UNKNOWN\">{{ $ctrl.config.form.$serverError.ERROR_UNKNOWN | translate }}</div></div><div class=\"bp16\"><a ng-hide=\"$ctrl.config.showServerUrl || $ctrl.config.fixedServerUrl || $ctrl.hideObject.server\" ng-click=\"$ctrl.config.showServerUrl = true\" href=\"\">{{ ::\\'ENTRY_CHANGE_SERVER\\' | translate }}</a></div><div ng-show=\"$ctrl.config.showServerUrl && !$ctrl.hideObject.server\" class=\"bp8\"><md-autocomplete ng-initial=\"\" autofocus=\"\" tabindex=\"1\" class=\"pip-combobox w-stretch bm8\" name=\"server\" aria-label=\"URL\" ng-enabled=\"!$ctrl.transaction.busy()\" placeholder=\"{{::\\'ENTRY_SERVER_URL\\' | translate}}\" md-no-cache=\"true\" md-selected-item=\"$ctrl.config.data.serverUrl\" md-search-text=\"$ctrl.config.selected.searchURLs\" md-items=\"item in $ctrl.config.getMatches($ctrl.config.selected.searchURLs)\" md-item-text=\"item\" md-selected-item-change=\"$ctrl.onServerUrlChanged()\" md-search-text-change=\"$ctrl.onChanged()\" md-delay=\"200\" ng-model=\"$ctrl.config.data.serverUrl\" pip-clear-errors=\"\"><span md-highlight-text=\"$ctrl.config.selected.searchURLs\">{{ item }}</span></md-autocomplete></div><md-input-container class=\"pip-no-hint\" style=\"padding-bottom: 4px!important;\"><label ng-if=\"!$ctrl.config.useEmailAsLogin\">{{::\\'LOGIN\\' | translate}}</label> <label ng-if=\"$ctrl.config.useEmailAsLogin\">{{::\\'EMAIL\\' | translate}}</label> <input name=\"login\" type=\"text\" aria-label=\"LOGIN\" ng-model=\"$ctrl.config.data.login\" required=\"\" step=\"any\" pip-clear-errors=\"\" ng-disabled=\"$ctrl.transaction.busy()\" tabindex=\"2\"><div class=\"hint\" ng-if=\"$ctrl.touchedErrorsWithHint($ctrl.config.form, $ctrl.config.form.login).hint && !$ctrl.hideObject.hint && !$ctrl.config.useEmailAsLogin\">{{::\\'HINT_LOGIN\\' | translate}}</div><div class=\"hint\" ng-if=\"$ctrl.touchedErrorsWithHint($ctrl.config.form, $ctrl.config.form.login).hint && !$ctrl.hideObject.hint && $ctrl.config.useEmailAsLogin\">{{::\\'HINT_EMAIL\\' | translate}}</div><div ng-messages=\"$ctrl.touchedErrorsWithHint($ctrl.config.form, $ctrl.config.form.login)\" class=\"md-input-error\" md-auto-hide=\"false\"><div ng-message=\"required\">{{::\\'ERROR_LOGIN_INVALID\\' | translate }}</div><div ng-message=\"ERROR_WRONG_LOGIN\">{{::\\'ERROR_WRONG_LOGIN\\' | translate}}</div><div ng-message=\"ERROR_NO_LOGIN\">{{::\\'ERROR_NO_LOGIN\\' | translate}}</div><div ng-message=\"ERROR_LOGIN_NOT_FOUND\">{{::\\'ERROR_LOGIN_NOT_FOUND\\' | translate}}</div></div></md-input-container></form></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipEntry.Templates');\n} catch (e) {\n  module = angular.module('pipEntry.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('signin/Signin.html',\n    '<div class=\"pip-card-container pip-outer-scroll pip-entry\"><pip-card width=\"400\"><pip-signin-panel pipfixedserverurl=\"$ctrl.fixedServerUrl\" class=\"scroll-y\"></pip-signin-panel></pip-card></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipEntry.Templates');\n} catch (e) {\n  module = angular.module('pipEntry.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('signin/SigninDialog.html',\n    '<md-dialog class=\"pip-entry\"><md-dialog-content><pip-signin-panel pip-goto-signup-dialog=\"$ctrl.pipGotoSignupDialog\" pip-goto-recover-password-dialog=\"$ctrl.pipGotoRecoverPasswordDialog\"></pip-signin-panel></md-dialog-content></md-dialog>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipEntry.Templates');\n} catch (e) {\n  module = angular.module('pipEntry.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('signin/SigninPanel.html',\n    '<div class=\"pip-body\"><div class=\"pip-content\"><md-progress-linear ng-show=\"$ctrl.transaction.busy() && !$ctrl.hideObject.progress\" md-mode=\"indeterminate\" class=\"pip-progress-top\"></md-progress-linear><h2 pip-translate=\"SIGNIN_TITLE\" ng-if=\"!$ctrl.hideObject.title\"></h2><form name=\"form\" novalidate=\"\"><input type=\"password\" style=\"display:none\"><div ng-messages=\"$ctrl.config.form.$serverError\" class=\"text-error bm8 color-error\" md-auto-hide=\"false\"><div ng-message=\"ERROR_act_execute\">{{::\\'ERROR_ACT_EXECUTE\\' | translate}}</div><div ng-message=\"ERROR_-1\">{{::\\'ERROR_SERVER\\' | translate}}</div><div ng-message=\"ERROR_ACCOUNT_LOCKED\">{{::\\'ERROR_ACCOUNT_LOCKED\\' | translate}}</div><div ng-message=\"ERROR_UNKNOWN\">{{ $ctrl.config.form.$serverError.ERROR_UNKNOWN | translate }}</div></div><div class=\"bp16\"><a ng-hide=\"$ctrl.config.showServerUrl || $ctrl.config.fixedServerUrl || $ctrl.hideObject.server\" ng-click=\"$ctrl.config.showServerUrl = true\" href=\"\" id=\"link-server-url\" pip-test=\"link-server-url\">{{::\\'ENTRY_CHANGE_SERVER\\' | translate}}</a></div><div ng-show=\"$ctrl.config.showServerUrl && !$ctrl.hideObject.server\" class=\"bp8\"><md-autocomplete ng-initial=\"\" autofocus=\"\" tabindex=\"1\" class=\"pip-combobox w-stretch bm8\" name=\"server\" placeholder=\"{{::\\'ENTRY_SERVER_URL\\' | translate}}\" md-no-cache=\"true\" md-selected-item=\"$ctrl.config.data.serverUrl\" md-search-text=\"$ctrl.config.selected.searchURLs\" md-items=\"item in $ctrl.config.getMatches($ctrl.config.selected.searchURLs)\" md-item-text=\"item\" md-selected-item-change=\"$ctrl.onServerUrlChanged()\" md-search-text-change=\"$ctrl.onChanged()\" md-delay=\"200\" ng-model=\"$ctrl.config.data.serverUrl\" ng-disabled=\"$ctrl.transaction.busy()\" pip-clear-errors=\"\" pip-test=\"autocomplete-server\"><span md-highlight-text=\"$ctrl.config.selected.searchURLs\">{{item}}</span></md-autocomplete></div><md-input-container class=\"display bp4\"><label ng-if=\"!$ctrl.config.useEmailAsLogin\">{{::\\'LOGIN\\' | translate}}</label> <label ng-if=\"$ctrl.config.useEmailAsLogin\">{{::\\'EMAIL\\' | translate}}</label> <input name=\"login\" ng-model=\"$ctrl.config.data.login\" required=\"\" step=\"any\" ng-keypress=\"$ctrl.onEnter($event)\" aria-label=\"LOGIN\" pip-clear-errors=\"\" ng-disabled=\"$ctrl.transaction.busy()\" tabindex=\"2\" pip-test=\"input-login\"><div class=\"hint\" ng-if=\"$ctrl.touchedErrorsWithHint($ctrl.config.form, $ctrl.config.form.login).hint && !$ctrl.hideObject.hint && !$ctrl.config.useEmailAsLogin\">{{::\\'HINT_LOGIN\\' | translate}}</div><div class=\"hint\" ng-if=\"$ctrl.touchedErrorsWithHint($ctrl.config.form, $ctrl.config.form.login).hint && !$ctrl.hideObject.hint && $ctrl.config.useEmailAsLogin\">{{::\\'HINT_EMAIL\\' | translate}}</div><div ng-messages=\"$ctrl.touchedErrorsWithHint($ctrl.config.form, $ctrl.config.form.login)\" md-auto-hide=\"false\"><div ng-message=\"required\">{{::\\'ERROR_LOGIN_INVALID\\' | translate }}</div><div ng-message=\"ERROR_WRONG_LOGIN\">{{::\\'ERROR_WRONG_LOGIN\\' | translate}}</div><div ng-message=\"ERROR_NO_LOGIN\">{{::\\'ERROR_NO_LOGIN\\' | translate}}</div><div ng-message=\"ERROR_LOGIN_NOT_FOUND\">{{::\\'ERROR_LOGIN_NOT_FOUND\\' | translate}}</div></div></md-input-container><md-input-container class=\"display bp4\"><label>{{::\\'PASSWORD\\' | translate}}</label> <input name=\"password\" ng-disabled=\"$ctrl.transaction.busy()\" pip-clear-errors=\"\" type=\"password\" tabindex=\"3\" ng-model=\"$ctrl.config.data.password\" ng-keypress=\"$ctrl.onEnter($event)\" required=\"\" minlength=\"6\" pip-test=\"input-password\"><div class=\"hint\" ng-if=\"$ctrl.touchedErrorsWithHint($ctrl.config.form, $ctrl.config.form.password).hint && !$ctrl.hideObject.hint\">{{::\\'SIGNIN_HINT_PASSWORD\\' | translate}}</div><div ng-messages=\"$ctrl.touchedErrorsWithHint($ctrl.config.form, $ctrl.config.form.password)\" md-auto-hide=\"false\"><div ng-message=\"required\">{{::\\'SIGNIN_HINT_PASSWORD\\' | translate}}</div><div ng-message=\"ERROR_WRONG_PASSWORD\">{{::\\'ERROR_WRONG_PASSWORD\\' | translate}}</div><div ng-message=\"minlength\">{{::\\'HINT_PASSWORD\\' | translate}}</div></div></md-input-container><a href=\"\" class=\"display bm16\" ng-if=\"!$ctrl.hideObject.forgotPassword\" ng-click=\"$ctrl.gotoRecoverPassword()\" tabindex=\"4\">{{::\\'SIGNIN_FORGOT_PASSWORD\\' | translate}}</a><md-checkbox ng-disabled=\"$ctrl.transaction.busy()\" ng-if=\"!$ctrl.hideObject.forgotPassword\" md-no-ink=\"\" class=\"lm0\" aria-label=\"{{\\'SIGNIN_REMEMBER\\' | translate}}\" tabindex=\"5\" ng-model=\"$ctrl.config.data.remember\" pip-test-checkbox=\"remember\"><label class=\"label-check\">{{::\\'SIGNIN_REMEMBER\\' | translate}}</label></md-checkbox><div style=\"height: 36px; overflow: hidden;\"><md-button ng-if=\"!$ctrl.transaction.busy()\" ng-click=\"$ctrl.onSignin()\" aria-label=\"SIGNIN\" class=\"md-raised md-accent w-stretch m0\" tabindex=\"6\" type=\"submit\" xxng-disabled=\"($ctrl.config.data.login == undefined) || $ctrl.config.data.login.length == 0 || $ctrl.config.data.serverUrl == \\'\\' || $ctrl.config.data.serverUrl == undefined || $ctrl.config.data.serverUrl.length == 0 || ($ctrl.config.data.password == undefined)\" pip-test=\"button-signin\">{{::\\'SIGNIN_TITLE\\' | translate}}</md-button><md-button ng-if=\"$ctrl.transaction.busy()\" ng-click=\"$ctrl.transaction.abort()\" class=\"md-raised md-warn m0 w-stretch\" tabindex=\"5\" aria-label=\"ABORT\" pip-test=\"button-cancel\">{{::\\'CANCEL\\' | translate}}</md-button></div><div class=\"tm24 layout-row\" ng-if=\"!$ctrl.config.adminOnly && $ctrl.pipMedia(\\'gt-xs\\') && !$ctrl.hideObject.signup\"><p class=\"m0 text-small\">{{::\\'SIGNIN_NOT_MEMBER\\' | translate}} <a href=\"\" ng-click=\"$ctrl.gotoSignup()\" tabindex=\"6\">{{::\\'SIGNIN_SIGNUP_HERE\\' | translate}}</a></p></div><div class=\"tm24 divider-top text-signup\" ng-if=\"!$ctrl.config.adminOnly && $ctrl.pipMedia(\\'xs\\') && !$ctrl.hideObject.signup\"><div class=\"h48 layout-row layout-align-center-end\"><p class=\"m0 text-small\">{{::\\'SIGNIN_NOT_MEMBER\\' | translate}}</p></div><div class=\"h48 layout-row layout-align-center-start\"><a class=\"text-small\" ng-click=\"$ctrl.gotoSignup()\" href=\"\" tabindex=\"6\">{{::\\'SIGNIN_SIGNUP_HERE\\' | translate}}</a></div></div></form></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipEntry.Templates');\n} catch (e) {\n  module = angular.module('pipEntry.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('signup/Signup.html',\n    '<div class=\"pip-card-container pip-outer-scroll pip-entry\"><pip-card width=\"400\"><pip-signup-panel class=\"scroll-y\"></pip-signup-panel></pip-card></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipEntry.Templates');\n} catch (e) {\n  module = angular.module('pipEntry.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('signup/SignupDialog.html',\n    '<md-dialog class=\"pip-entry\"><md-dialog-content><pip-signup-panel pip-goto-signin-dialog=\"$ctrl.pipGotoSigninDialog\" pip-post-signup=\"$ctrl.pipPostSignup\"></pip-signup-panel></md-dialog-content></md-dialog>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipEntry.Templates');\n} catch (e) {\n  module = angular.module('pipEntry.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('signup/SignupPanel.html',\n    '<div class=\"pip-body\"><div class=\"pip-content\"><md-progress-linear ng-show=\"$ctrl.transaction.busy() && !$ctrl.hideObject.progress\" md-mode=\"indeterminate\" class=\"pip-progress-top\"></md-progress-linear><h2 pip-translate=\"SIGNUP_TITLE\" ng-if=\"!$ctrl.hideObject.title\"></h2><form name=\"form\" novalidate=\"\" autocomplete=\"off\"><input type=\"email\" style=\"display:none\"> <input type=\"login\" style=\"display:none\"> <input type=\"password\" style=\"display:none\"><div ng-messages=\"$ctrl.config.form.$serverError\" class=\"text-error bm8 color-error\" md-auto-hide=\"false\"><div ng-message=\"ERROR_act_execute\">{{::\\'ERROR_ACT_EXECUTE\\' | translate}}</div><div ng-message=\"ERROR_-1\">{{::\\'ERROR_SERVER\\' | translate}}</div><div ng-message=\"ERROR_UNKNOWN\">{{ $ctrl.config.form.$serverError.ERROR_UNKNOWN | translate }}</div></div><div ng-if=\"$ctrl.error\" class=\"text-error bm8 color-error\" md-auto-hide=\"false\">{{::\\'ERROR_SERVER\\' | translate}}</div><div class=\"bp16\"><a ng-hide=\"$ctrl.config.showServerUrl || $ctrl.config.fixedServerUrl || $ctrl.hideObject.server\" ng-click=\"$ctrl.config.showServerUrl = true\" href=\"\">{{::\\'ENTRY_CHANGE_SERVER\\' | translate}}</a></div><div ng-show=\"$ctrl.config.showServerUrl && !$ctrl.hideObject.server\" class=\"bp8\"><md-autocomplete ng-initial=\"\" autofocus=\"\" tabindex=\"1\" class=\"pip-combobox w-stretch bm8\" name=\"server\" ng-enabled=\"!$ctrl.transaction.busy()\" placeholder=\"{{::\\'ENTRY_SERVER_URL\\' | translate}}\" md-no-cache=\"true\" md-selected-item=\"$ctrl.config.data.serverUrl\" md-search-text=\"$ctrl.config.selected.searchURLs\" md-items=\"item in $ctrl.config.getMatches($ctrl.config.selected.searchURLs)\" md-item-text=\"item\" md-selected-item-change=\"$ctrl.onServerUrlChanged()\" md-search-text-change=\"$ctrl.onChanged()\" md-delay=\"200\" ng-model=\"$ctrl.config.data.serverUrl\" ng-disabled=\"$ctrl.transaction.busy()\" pip-clear-errors=\"\"><span md-highlight-text=\"$ctrl.config.selected.searchURLs\">{{item}}</span></md-autocomplete></div><md-input-container class=\"display bp4\"><label>{{::\\'FULLNAME\\' | translate}}</label> <input name=\"signupFullName\" ng-disabled=\"$ctrl.transaction.busy()\" autocomplete=\"off\" ng-model=\"$ctrl.config.data.name\" ng-init=\"$ctrl.config.data.name = \\'\\'\" required=\"\" tabindex=\"2\" pip-clear-errors=\"\" ng-keypress=\"$ctrl.onEnter($event)\"><div class=\"hint text-overflow w-stretch\" ng-if=\"$ctrl.touchedErrorsWithHint($ctrl.config.form, $ctrl.config.form.signupFullName).hint && !$ctrl.hideObject.hint\">{{ ::\\'HINT_FULLNAME\\' | translate}}</div><div ng-messages=\"$ctrl.touchedErrorsWithHint($ctrl.config.form, $ctrl.config.form.signupFullName)\" md-auto-hide=\"false\"><div ng-message=\"required\">{{ ::\\'HINT_FULLNAME\\' | translate}} {{::\\'ERROR_FULLNAME_INVALID\\' | translate }}</div><div ng-message=\"ERROR_NO_NAME\">{{ ::\\'ERROR_NO_NAME\\' | translate }}</div></div></md-input-container><div ng-if=\"!$ctrl.config.useEmailAsLogin\"><md-input-container class=\"display bp4\"><label>{{ ::\\'LOGIN\\' | translate}}</label> <input name=\"signupLogin\" ng-disabled=\"$ctrl.transaction.busy()\" autocomplete=\"off\" ng-model=\"$ctrl.config.data.login\" ng-init=\"$ctrl.config.data.login = \\'\\'\" required=\"\" tabindex=\"2\" pip-clear-errors=\"\" ng-keypress=\"$ctrl.onEnter($event)\"><div class=\"hint text-overflow w-stretch\" ng-if=\"$ctrl.touchedErrorsWithHint($ctrl.config.form, $ctrl.config.form.signupLogin).hint && !$ctrl.hideObject.hint\">{{::\\'HINT_LOGIN\\' | translate}}</div><div ng-messages=\"$ctrl.touchedErrorsWithHint($ctrl.config.form, $ctrl.config.form.signupLogin)\" md-auto-hide=\"false\"><div ng-message=\"required\">{{::\\'HINT_LOGIN\\' | translate}} {{::\\'ERROR_LOGIN_INVALID\\' | translate }}</div><div ng-message=\"ERROR_WRONG_LOGIN\">{{::\\'ERROR_WRONG_LOGIN\\' | translate}}</div><div ng-message=\"ERROR_NO_LOGIN\">{{::\\'ERROR_NO_LOGIN\\' | translate}}</div></div></md-input-container><md-input-container class=\"display bp4\"><label>{{::\\'EMAIL\\' | translate}}</label> <input name=\"userEmail\" ng-disabled=\"$ctrl.transaction.busy()\" pip-clear-errors=\"\" type=\"email\" tabindex=\"3\" ng-model=\"$ctrl.config.data.email\" xxxxpip-email-unique=\"$ctrl.config.data.email\" ng-change=\"$ctrl.onChangeEmail(\\'userEmail\\')\" ng-model-options=\"{ delay: 500 }\" required=\"\" ng-keypress=\"$ctrl.onEnter($event)\" xxxpip-test=\"input-password\"><div class=\"hint\" ng-if=\"$ctrl.touchedErrorsWithHint($ctrl.config.form, $ctrl.config.form.userEmail, true).hint && !$ctrl.hideObject.hint\">{{::\\'HINT_EMAIL\\' | translate}}</div><div ng-messages=\"$ctrl.touchedErrorsWithHint($ctrl.config.form, $ctrl.config.form.userEmail, true)\" md-auto-hide=\"false\"><div ng-message=\"emailUnique\">{{::\\'ERROR_ALREADY_EXIST\\' | translate}}</div><div ng-message=\"required\">{{::\\'ERROR_EMAIL_INVALID\\' | translate }}</div><div ng-message=\"email\">{{::\\'ERROR_EMAIL_INVALID\\' | translate }}</div><div ng-message=\"ERROR_NO_EMAIL\">{{::\\'ERROR_NO_EMAIL\\' | translate}}</div></div></md-input-container></div><div ng-if=\"$ctrl.config.useEmailAsLogin\"><md-input-container class=\"display bp4\" xxxmd-is-error=\"$ctrl.isError($ctrl.touchedErrorsWithHint($ctrl.config.form, $ctrl.config.form.userEmail1))\"><label>{{::\\'EMAIL\\' | translate}}</label> <input name=\"userEmail1\" ng-disabled=\"$ctrl.transaction.busy()\" pip-clear-errors=\"\" type=\"email\" tabindex=\"3\" ng-model=\"$ctrl.config.data.email\" ng-change=\"$ctrl.onChangeEmail(\\'userEmail1\\')\" ng-model-options=\"{ delay: 500 }\" required=\"\" ng-keypress=\"$ctrl.onEnter($event)\" pip-test=\"input-password\"><div class=\"hint\" ng-if=\"$ctrl.touchedErrorsWithHint($ctrl.config.form, $ctrl.config.form.userEmail1, true).hint && !$ctrl.hideObject.hint\">{{::\\'HINT_EMAIL\\' | translate}}</div><div ng-messages=\"$ctrl.touchedErrorsWithHint($ctrl.config.form, $ctrl.config.form.userEmail1, true)\" md-auto-hide=\"false\"><div ng-message=\"required\">{{::\\'ERROR_EMAIL_INVALID\\' | translate }}</div><div ng-message=\"email\">{{::\\'ERROR_EMAIL_INVALID\\' | translate }}</div><div ng-message=\"emailUnique\">{{::\\'ERROR_ALREADY_EXIST_EMAIL\\' | translate}}</div><div ng-message=\"ERROR_WRONG_LOGIN\">{{::\\'ERROR_WRONG_LOGIN_EMAIL\\' | translate}}</div><div ng-message=\"ERROR_NO_LOGIN\">{{::\\'ERROR_NO_LOGIN_EMAIL\\' | translate}}</div></div></md-input-container></div><md-input-container class=\"display bp4\"><label>{{::\\'PASSWORD_SET\\' | translate}}</label> <input name=\"password\" ng-disabled=\"$ctrl.transaction.busy()\" autocomplete=\"off\" pip-clear-errors=\"\" type=\"password\" tabindex=\"4\" ng-model=\"$ctrl.config.data.password\" required=\"\" minlength=\"6\" ng-keypress=\"$ctrl.onEnter($event)\" pip-test=\"input-password\"><div class=\"hint\" ng-if=\"$ctrl.touchedErrorsWithHint($ctrl.config.form, $ctrl.config.form.password).hint && !$ctrl.hideObject.hint\">{{::\\'HINT_PASSWORD\\' | translate}}</div><div ng-messages=\"$ctrl.touchedErrorsWithHint($ctrl.config.form, $ctrl.config.form.password)\" md-auto-hide=\"false\"><div ng-message=\"required\">{{::\\'HINT_PASSWORD\\' | translate}}</div><div ng-message=\"minlength\">{{::\\'HINT_PASSWORD\\' | translate}}</div><div ng-message=\"ERROR_WRONG_PASSWORD\" xxxng-if=\"!$ctrl.config.form.password.$pristine\">{{::\\'ERROR_WRONG_PASSWORD\\' | translate}}</div></div></md-input-container><md-input-container class=\"display bp4\" ng-if=\"!$ctrl.hideObject.passwordConfirm\"><label>{{::\\'PASSWORD_CONFIRM\\' | translate}}</label> <input name=\"passwordConfirm\" type=\"password\" tabindex=\"4\" required=\"\" minlength=\"6\" ng-model=\"$ctrl.confirmPassword\" ng-disabled=\"$ctrl.transaction.busy()\" pip-clear-errors=\"\" pip-compare-password-match=\"\" compare-to2=\"$ctrl.config.data.password\" ng-keypress=\"$ctrl.onEnter($event)\" pip-test=\"input-password\"><div class=\"hint\" ng-if=\"$ctrl.touchedErrorsWithHint($ctrl.config.form, $ctrl.config.form.passwordConfirm, true).hint && !$ctrl.hideObject.hint\">{{::\\'HINT_PASSWORD\\' | translate}}</div><div ng-messages=\"$ctrl.touchedErrorsWithHint($ctrl.config.form, $ctrl.config.form.passwordConfirm, true)\" md-auto-hide=\"false\"><div ng-message=\"ERROR_compareTo\">{{::\\'PASSWORD_MATCH\\' | translate}}</div><div ng-message=\"required\">{{::\\'HINT_PASSWORD\\' | translate}}</div><div ng-message=\"minlength\">{{::\\'HINT_PASSWORD\\' | translate}}</div></div></md-input-container><p class=\"text-small-secondary\" ng-if=\"!$ctrl.hideObject.agreement\">{{::\\'SIGNUP_TEXT_11\\' | translate}} <a href=\"#/legal/privacy\" target=\"_blank\">{{::\\'SIGNUP_PRIVACY\\' | translate}}</a> {{::\\'SIGNUP_TEXT_12\\' | translate}} <a href=\"#/legal/services\" target=\"_blank\">{{::\\'SIGNUP_SERVICES\\' | translate}}</a></p><md-button ng-hide=\"$ctrl.transaction.busy()\" class=\"md-raised m0 md-accent w-stretch\" ng-click=\"$ctrl.onSignup()\" aria-label=\"SIGNUP\" type=\"submit\" xxng-disabled=\"$ctrl.config.form.$invalid || ($ctrl.config.form.$pristine && !$ctrl.config.data.email) || $ctrl.config.data.serverUrl.length == 0 || $ctrl.config.data.email.length == 0 || ($ctrl.config.data.login.length == 0 && !$ctrl.config.useEmailAsLogin) || (!$ctrl.config.data.password) || (!$ctrl.config.data.name) || $ctrl.config.data.name.length == 0 || $ctrl.config.data.password.length == 0\">{{::\\'SIGNUP_TITLE\\' | translate}}</md-button><md-button ng-show=\"$ctrl.transaction.busy()\" ng-click=\"$ctrl.transaction.abort()\" class=\"md-raised md-warn m0 w-stretch\" aria-label=\"ABORT\">{{::\\'CANCEL\\' | translate}}</md-button><div class=\"tm24 layout-row\" ng-if=\"$ctrl.pipMedia(\\'gt-xs\\') && !$ctrl.hideObject.signin\"><p class=\"text-small m0\">{{::\\'SIGNUP_TEXT_2\\' | translate}} <a href=\"\" ng-click=\"$ctrl.gotoSignin()\">{{::\\'SIGNUP_SIGNIN_HERE\\' | translate}}</a></p></div><div class=\"tm24 divider-top\" ng-if=\"$ctrl.pipMedia(\\'xs\\') && !$ctrl.hideObject.signin\" style=\"margin-right: -16px; margin-left: -16px; background-color: rgb(238, 238, 238);\"><div class=\"h48 layout-row layout-align-center-end\"><p class=\"bm0 text-small\">{{::\\'SIGNUP_TEXT_2\\' | translate}}</p></div><div class=\"h48 layout-row layout-align-center-start\"><p class=\"bm0 text-small\"><a href=\"\" ng-click=\"$ctrl.gotoSignin()\">{{::\\'SIGNUP_SIGNIN_HERE\\' | translate}}</a></p></div></div></form></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipEntry.Templates');\n} catch (e) {\n  module = angular.module('pipEntry.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('verify_email/VerifyEmail.html',\n    '<div class=\"pip-card-container pip-outer-scroll pip-entry\"><pip-card width=\"400\"><div class=\"pip-body\"><div class=\"pip-content layout-column flex\" style=\"position: absolute; top: 0px; right: 0px; left: 0px; bottom: 0px; background-color: #fafafa; z-index: 100;\" ng-if=\"$ctrl.showValidateProgress\"><h2 class=\"p24-flex m0\">{{\\'VERIFY_EMAIL_WAIT\\' | translate}}</h2><div class=\"layout-column flex layout-align-center-center\"><md-progress-circular md-diameter=\"96\"></md-progress-circular></div></div><div class=\"pip-content\"><md-progress-linear ng-show=\"$ctrl.transaction.busy()\" md-mode=\"indeterminate\" class=\"pip-progress-top\"></md-progress-linear><h2>{{\\'VERIFY_EMAIL_TITLE\\' | translate}}</h2><p class=\"title-padding\">{{\\'VERIFY_EMAIL_TEXT_1\\' | translate}}</p><form name=\"form\" novalidate=\"\" ng-init=\"$ctrl.formCreated(form)\" autocomplete=\"off\"><div ng-messages=\"$ctrl.config.form.$serverError\" class=\"text-error color-error bm8\"><div ng-message=\"ERROR_act_execute\">{{::\\'ERROR_ACT_EXECUTE\\' | translate}}</div><div ng-message=\"ERROR_-1\">{{::\\'ERROR_SERVER\\' | translate}}</div><div ng-message=\"ERROR_UNKNOWN\">{{ $ctrl.config.form.$serverError.ERROR_UNKNOWN | translate }}</div></div><div ng-show=\"$ctrl.config.showServerUrl && !$ctrl.hideObject.server\" class=\"tp8 bp8\">{{::\\'ENTRY_SERVER_URL\\' | translate}}: {{ $ctrl.config.data.serverUrl }}</div><div class=\"tp8 bp8\"><span ng-if=\"!$ctrl.config.useEmailAsLogin\">{{::\\'LOGIN\\' | translate}}</span> <span ng-if=\"$ctrl.config.useEmailAsLogin\">{{::\\'EMAIL\\' | translate}}</span> : {{ $ctrl.config.data.login }}</div><md-input-container class=\"pip-no-hint\"><label>{{::\\'ENTRY_VERIFICATION_CODE\\' | translate}}</label> <input name=\"code\" ng-disabled=\"$ctrl.transaction.busy()\" pip-clear-errors=\"\" ng-model=\"$ctrl.config.data.code\" required=\"\" tabindex=\"3\"><div class=\"hint text-overflow w-stretch\" ng-if=\"$ctrl.touchedErrorsWithHint($ctrl.config.form, $ctrl.config.form.code).hint && !$ctrl.hideObject.hint\">{{::\\'ENTRY_VERIFICATION_CODE\\' | translate}}</div><div ng-messages=\"$ctrl.touchedErrorsWithHint($ctrl.config.form, $ctrl.config.form.code)\" ng-if=\"!$ctrl.config.form.$pristine\" class=\"md-input-error\"><div ng-message=\"required\">{{::\\'ERROR_CODE_INVALID\\' | translate }}</div><div ng-message=\"ERROR_INVALID_CODE\">{{::\\'ERROR_INVALID_CODE\\' | translate }}</div></div></md-input-container><p>{{\\'VERIFY_EMAIL_TEXT_21\\' | translate}} <a ng-click=\"$ctrl.onRecover()\" class=\"pointer\" href=\"\">{{\\'VERIFY_EMAIL_RESEND\\' | translate}}</a> {{\\'VERIFY_EMAIL_TEXT_22\\' | translate}}</p></form></div></div><div class=\"pip-footer\"><md-button ng-click=\"$ctrl.goBack()\" ng-hide=\"$ctrl.transaction.busy()\" class=\"rm8\" aria-label=\"CANCEL\">{{::\\'CANCEL\\' | translate}}</md-button><md-button class=\"md-accent\" ng-click=\"$ctrl.onVerify()\" ng-hide=\"$ctrl.transaction.busy()\" aria-label=\"VERIFY\" ng-if=\"!$ctrl.showValidateProgress\" type=\"submit\" ng-disabled=\"$ctrl.config.data.code.length == 0 || $ctrl.config.data.login.length == 0 || (!$ctrl.config.data.login && $ctrl.config.form.$pristine) || (!$ctrl.config.data.code)\">{{::\\'VERIFY\\' | translate}}</md-button><md-button class=\"md-warn\" ng-show=\"$ctrl.transaction.busy()\" ng-click=\"$ctrl.transaction.abort()\" aria-label=\"ABORT\">{{::\\'CANCEL\\' | translate}}</md-button></div></pip-card></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipEntry.Templates');\n} catch (e) {\n  module = angular.module('pipEntry.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('verify_email/VerifyEmailSuccess.html',\n    '<div class=\"pip-card-container pip-outer-scroll pip-entry\"><pip-card width=\"400\"><div class=\"pip-footer\"><md-button ng-click=\"$ctrl.onContinue()\" class=\"md-accent\">{{\\'CONTINUE\\' | translate}}</md-button></div><div class=\"pip-body\"><div class=\"pip-content\"><h2>{{\\'VERIFY_EMAIL_TITLE\\' | translate}}</h2><p class=\"title-padding\">{{\\'VERIFY_EMAIL_SUCCESS_TEXT\\' | translate}}</p></div></div></pip-card></div>');\n}]);\n})();\n\n//# sourceMappingURL=pip-suite-entry-html.min.js.map\n","export interface ISplitService {\n    forwardTransition(toState: any, fromState: any): boolean;\n    goToDesktopState(fromState: string): string;\n}\n\nexport interface ISplitProvider {\n    addTransitionSequence(sequence: string[], mobileStates?: MobileState[]): void;\n}\n\nexport class MobileState {\n    name: string;\n    toStateName: string;\n}","/// <reference path=\"../typings/tsd.d.ts\" />\n\nimport {\n    ISplitService,\n    ISplitProvider,\n    MobileState\n} from './ISplitService';\n\n{\n    const run = function (\n        $rootScope: ng.IRootScopeService, pipSplit: ISplitService, $state: ng.ui.IStateService\n    ) {\n        $rootScope.$on('$stateChangeStart',\n            (event, toState, toParams, fromState, fromParams) => {\n                // Split animation\n                const splitElements = $('.pip-split');\n\n                if (splitElements.length > 0) {\n                    splitElements.removeClass('pip-transition-forward');\n                    splitElements.removeClass('pip-transition-back');\n                    if (toState.name != fromState.name) {\n                        if (pipSplit.forwardTransition(toState, fromState)) {\n                            splitElements.addClass('pip-transition-forward');\n                        } else {\n                            splitElements.addClass('pip-transition-back');\n                        }\n                    }\n                }\n            }\n        );\n\n        const debounceResize = _.debounce(() => {\n            const toState = pipSplit.goToDesktopState($state.current.name);\n            if (toState) $state.go(toState, $state.current.params);\n        }, 100);\n\n        $rootScope.$on(pip.layouts.MainResizedEvent, (\n            event: ng.IAngularEvent,\n            breakpoints: pip.layouts.MediaBreakpointStatuses\n        ) => {\n            if (!breakpoints.xs) {\n                debounceResize();\n            }\n        });\n\n    }\n\n    class SplitService implements ISplitService {\n        constructor(\n            private transitionSequences: any,\n            private mobileStates: any\n        ) {}\n\n        public forwardTransition(toState, fromState) {\n            for (let i = 0; i < this.transitionSequences.length; i++) {\n                const toIndex = this.transitionSequences[i].indexOf(toState.name);\n                const fromIndex = this.transitionSequences[i].indexOf(fromState.name);\n\n                if (toIndex > -1) {\n                    return toIndex > fromIndex;\n                }\n            }\n\n            return false\n        }\n\n        public goToDesktopState(fromState: string): string {\n            for (let i = 0; i < this.mobileStates.length; i++) {\n                const fromIndex = _.findIndex(this.mobileStates[i], (state: MobileState) => {\n                    return state.name === fromState;\n                })\n\n                if (fromIndex > -1) {\n                    return this.mobileStates[i][fromIndex].toState;\n                }\n            }\n\n            return '';\n        }\n    }\n\n    class SplitProvider implements ISplitProvider {\n        private transitionSequences: any = [];\n        private mobileStates: any = [];\n        private _service: ISplitService;\n\n        constructor() {}\n\n        public addTransitionSequence(sequence: string[], mobileStates ? : MobileState[]) {\n            if (!_.isArray(sequence) || sequence.length == 0) {\n                throw new Error('Transition sequence must be an array of state names');\n            }\n\n            this.transitionSequences.push(sequence);\n            this.mobileStates.push(mobileStates);\n        }\n\n        public $get() {\n            \"ngInject\";\n\n            if (this._service == null)\n                this._service = new SplitService(this.transitionSequences, this.mobileStates);\n\n            return this._service;\n        }\n    }\n\n    angular.module('pipSplit', [])\n        .run(run)\n        .provider('pipSplit', SplitProvider);\n}","/*!\n * async\n * https://github.com/caolan/async\n *\n * Copyright 2010-2014 Caolan McMahon\n * Released under the MIT license\n */\n(function () {\n\n    var async = {};\n    function noop() {}\n    function identity(v) {\n        return v;\n    }\n    function toBool(v) {\n        return !!v;\n    }\n    function notId(v) {\n        return !v;\n    }\n\n    // global on the server, window in the browser\n    var previous_async;\n\n    // Establish the root object, `window` (`self`) in the browser, `global`\n    // on the server, or `this` in some virtual machines. We use `self`\n    // instead of `window` for `WebWorker` support.\n    var root = typeof self === 'object' && self.self === self && self ||\n            typeof global === 'object' && global.global === global && global ||\n            this;\n\n    if (root != null) {\n        previous_async = root.async;\n    }\n\n    async.noConflict = function () {\n        root.async = previous_async;\n        return async;\n    };\n\n    function only_once(fn) {\n        return function() {\n            if (fn === null) throw new Error(\"Callback was already called.\");\n            fn.apply(this, arguments);\n            fn = null;\n        };\n    }\n\n    function _once(fn) {\n        return function() {\n            if (fn === null) return;\n            fn.apply(this, arguments);\n            fn = null;\n        };\n    }\n\n    //// cross-browser compatiblity functions ////\n\n    var _toString = Object.prototype.toString;\n\n    var _isArray = Array.isArray || function (obj) {\n        return _toString.call(obj) === '[object Array]';\n    };\n\n    // Ported from underscore.js isObject\n    var _isObject = function(obj) {\n        var type = typeof obj;\n        return type === 'function' || type === 'object' && !!obj;\n    };\n\n    function _isArrayLike(arr) {\n        return _isArray(arr) || (\n            // has a positive integer length property\n            typeof arr.length === \"number\" &&\n            arr.length >= 0 &&\n            arr.length % 1 === 0\n        );\n    }\n\n    function _arrayEach(arr, iterator) {\n        var index = -1,\n            length = arr.length;\n\n        while (++index < length) {\n            iterator(arr[index], index, arr);\n        }\n    }\n\n    function _map(arr, iterator) {\n        var index = -1,\n            length = arr.length,\n            result = Array(length);\n\n        while (++index < length) {\n            result[index] = iterator(arr[index], index, arr);\n        }\n        return result;\n    }\n\n    function _range(count) {\n        return _map(Array(count), function (v, i) { return i; });\n    }\n\n    function _reduce(arr, iterator, memo) {\n        _arrayEach(arr, function (x, i, a) {\n            memo = iterator(memo, x, i, a);\n        });\n        return memo;\n    }\n\n    function _forEachOf(object, iterator) {\n        _arrayEach(_keys(object), function (key) {\n            iterator(object[key], key);\n        });\n    }\n\n    function _indexOf(arr, item) {\n        for (var i = 0; i < arr.length; i++) {\n            if (arr[i] === item) return i;\n        }\n        return -1;\n    }\n\n    var _keys = Object.keys || function (obj) {\n        var keys = [];\n        for (var k in obj) {\n            if (obj.hasOwnProperty(k)) {\n                keys.push(k);\n            }\n        }\n        return keys;\n    };\n\n    function _keyIterator(coll) {\n        var i = -1;\n        var len;\n        var keys;\n        if (_isArrayLike(coll)) {\n            len = coll.length;\n            return function next() {\n                i++;\n                return i < len ? i : null;\n            };\n        } else {\n            keys = _keys(coll);\n            len = keys.length;\n            return function next() {\n                i++;\n                return i < len ? keys[i] : null;\n            };\n        }\n    }\n\n    // Similar to ES6's rest param (http://ariya.ofilabs.com/2013/03/es6-and-rest-parameter.html)\n    // This accumulates the arguments passed into an array, after a given index.\n    // From underscore.js (https://github.com/jashkenas/underscore/pull/2140).\n    function _restParam(func, startIndex) {\n        startIndex = startIndex == null ? func.length - 1 : +startIndex;\n        return function() {\n            var length = Math.max(arguments.length - startIndex, 0);\n            var rest = Array(length);\n            for (var index = 0; index < length; index++) {\n                rest[index] = arguments[index + startIndex];\n            }\n            switch (startIndex) {\n                case 0: return func.call(this, rest);\n                case 1: return func.call(this, arguments[0], rest);\n            }\n            // Currently unused but handle cases outside of the switch statement:\n            // var args = Array(startIndex + 1);\n            // for (index = 0; index < startIndex; index++) {\n            //     args[index] = arguments[index];\n            // }\n            // args[startIndex] = rest;\n            // return func.apply(this, args);\n        };\n    }\n\n    function _withoutIndex(iterator) {\n        return function (value, index, callback) {\n            return iterator(value, callback);\n        };\n    }\n\n    //// exported async module functions ////\n\n    //// nextTick implementation with browser-compatible fallback ////\n\n    // capture the global reference to guard against fakeTimer mocks\n    var _setImmediate = typeof setImmediate === 'function' && setImmediate;\n\n    var _delay = _setImmediate ? function(fn) {\n        // not a direct alias for IE10 compatibility\n        _setImmediate(fn);\n    } : function(fn) {\n        setTimeout(fn, 0);\n    };\n\n    if (typeof process === 'object' && typeof process.nextTick === 'function') {\n        async.nextTick = process.nextTick;\n    } else {\n        async.nextTick = _delay;\n    }\n    async.setImmediate = _setImmediate ? _delay : async.nextTick;\n\n\n    async.forEach =\n    async.each = function (arr, iterator, callback) {\n        return async.eachOf(arr, _withoutIndex(iterator), callback);\n    };\n\n    async.forEachSeries =\n    async.eachSeries = function (arr, iterator, callback) {\n        return async.eachOfSeries(arr, _withoutIndex(iterator), callback);\n    };\n\n\n    async.forEachLimit =\n    async.eachLimit = function (arr, limit, iterator, callback) {\n        return _eachOfLimit(limit)(arr, _withoutIndex(iterator), callback);\n    };\n\n    async.forEachOf =\n    async.eachOf = function (object, iterator, callback) {\n        callback = _once(callback || noop);\n        object = object || [];\n\n        var iter = _keyIterator(object);\n        var key, completed = 0;\n\n        while ((key = iter()) != null) {\n            completed += 1;\n            iterator(object[key], key, only_once(done));\n        }\n\n        if (completed === 0) callback(null);\n\n        function done(err) {\n            completed--;\n            if (err) {\n                callback(err);\n            }\n            // Check key is null in case iterator isn't exhausted\n            // and done resolved synchronously.\n            else if (key === null && completed <= 0) {\n                callback(null);\n            }\n        }\n    };\n\n    async.forEachOfSeries =\n    async.eachOfSeries = function (obj, iterator, callback) {\n        callback = _once(callback || noop);\n        obj = obj || [];\n        var nextKey = _keyIterator(obj);\n        var key = nextKey();\n        function iterate() {\n            var sync = true;\n            if (key === null) {\n                return callback(null);\n            }\n            iterator(obj[key], key, only_once(function (err) {\n                if (err) {\n                    callback(err);\n                }\n                else {\n                    key = nextKey();\n                    if (key === null) {\n                        return callback(null);\n                    } else {\n                        if (sync) {\n                            async.setImmediate(iterate);\n                        } else {\n                            iterate();\n                        }\n                    }\n                }\n            }));\n            sync = false;\n        }\n        iterate();\n    };\n\n\n\n    async.forEachOfLimit =\n    async.eachOfLimit = function (obj, limit, iterator, callback) {\n        _eachOfLimit(limit)(obj, iterator, callback);\n    };\n\n    function _eachOfLimit(limit) {\n\n        return function (obj, iterator, callback) {\n            callback = _once(callback || noop);\n            obj = obj || [];\n            var nextKey = _keyIterator(obj);\n            if (limit <= 0) {\n                return callback(null);\n            }\n            var done = false;\n            var running = 0;\n            var errored = false;\n\n            (function replenish () {\n                if (done && running <= 0) {\n                    return callback(null);\n                }\n\n                while (running < limit && !errored) {\n                    var key = nextKey();\n                    if (key === null) {\n                        done = true;\n                        if (running <= 0) {\n                            callback(null);\n                        }\n                        return;\n                    }\n                    running += 1;\n                    iterator(obj[key], key, only_once(function (err) {\n                        running -= 1;\n                        if (err) {\n                            callback(err);\n                            errored = true;\n                        }\n                        else {\n                            replenish();\n                        }\n                    }));\n                }\n            })();\n        };\n    }\n\n\n    function doParallel(fn) {\n        return function (obj, iterator, callback) {\n            return fn(async.eachOf, obj, iterator, callback);\n        };\n    }\n    function doParallelLimit(fn) {\n        return function (obj, limit, iterator, callback) {\n            return fn(_eachOfLimit(limit), obj, iterator, callback);\n        };\n    }\n    function doSeries(fn) {\n        return function (obj, iterator, callback) {\n            return fn(async.eachOfSeries, obj, iterator, callback);\n        };\n    }\n\n    function _asyncMap(eachfn, arr, iterator, callback) {\n        callback = _once(callback || noop);\n        arr = arr || [];\n        var results = _isArrayLike(arr) ? [] : {};\n        eachfn(arr, function (value, index, callback) {\n            iterator(value, function (err, v) {\n                results[index] = v;\n                callback(err);\n            });\n        }, function (err) {\n            callback(err, results);\n        });\n    }\n\n    async.map = doParallel(_asyncMap);\n    async.mapSeries = doSeries(_asyncMap);\n    async.mapLimit = doParallelLimit(_asyncMap);\n\n    // reduce only has a series version, as doing reduce in parallel won't\n    // work in many situations.\n    async.inject =\n    async.foldl =\n    async.reduce = function (arr, memo, iterator, callback) {\n        async.eachOfSeries(arr, function (x, i, callback) {\n            iterator(memo, x, function (err, v) {\n                memo = v;\n                callback(err);\n            });\n        }, function (err) {\n            callback(err, memo);\n        });\n    };\n\n    async.foldr =\n    async.reduceRight = function (arr, memo, iterator, callback) {\n        var reversed = _map(arr, identity).reverse();\n        async.reduce(reversed, memo, iterator, callback);\n    };\n\n    async.transform = function (arr, memo, iterator, callback) {\n        if (arguments.length === 3) {\n            callback = iterator;\n            iterator = memo;\n            memo = _isArray(arr) ? [] : {};\n        }\n\n        async.eachOf(arr, function(v, k, cb) {\n            iterator(memo, v, k, cb);\n        }, function(err) {\n            callback(err, memo);\n        });\n    };\n\n    function _filter(eachfn, arr, iterator, callback) {\n        var results = [];\n        eachfn(arr, function (x, index, callback) {\n            iterator(x, function (v) {\n                if (v) {\n                    results.push({index: index, value: x});\n                }\n                callback();\n            });\n        }, function () {\n            callback(_map(results.sort(function (a, b) {\n                return a.index - b.index;\n            }), function (x) {\n                return x.value;\n            }));\n        });\n    }\n\n    async.select =\n    async.filter = doParallel(_filter);\n\n    async.selectLimit =\n    async.filterLimit = doParallelLimit(_filter);\n\n    async.selectSeries =\n    async.filterSeries = doSeries(_filter);\n\n    function _reject(eachfn, arr, iterator, callback) {\n        _filter(eachfn, arr, function(value, cb) {\n            iterator(value, function(v) {\n                cb(!v);\n            });\n        }, callback);\n    }\n    async.reject = doParallel(_reject);\n    async.rejectLimit = doParallelLimit(_reject);\n    async.rejectSeries = doSeries(_reject);\n\n    function _createTester(eachfn, check, getResult) {\n        return function(arr, limit, iterator, cb) {\n            function done() {\n                if (cb) cb(getResult(false, void 0));\n            }\n            function iteratee(x, _, callback) {\n                if (!cb) return callback();\n                iterator(x, function (v) {\n                    if (cb && check(v)) {\n                        cb(getResult(true, x));\n                        cb = iterator = false;\n                    }\n                    callback();\n                });\n            }\n            if (arguments.length > 3) {\n                eachfn(arr, limit, iteratee, done);\n            } else {\n                cb = iterator;\n                iterator = limit;\n                eachfn(arr, iteratee, done);\n            }\n        };\n    }\n\n    async.any =\n    async.some = _createTester(async.eachOf, toBool, identity);\n\n    async.someLimit = _createTester(async.eachOfLimit, toBool, identity);\n\n    async.all =\n    async.every = _createTester(async.eachOf, notId, notId);\n\n    async.everyLimit = _createTester(async.eachOfLimit, notId, notId);\n\n    function _findGetResult(v, x) {\n        return x;\n    }\n    async.detect = _createTester(async.eachOf, identity, _findGetResult);\n    async.detectSeries = _createTester(async.eachOfSeries, identity, _findGetResult);\n    async.detectLimit = _createTester(async.eachOfLimit, identity, _findGetResult);\n\n    async.sortBy = function (arr, iterator, callback) {\n        async.map(arr, function (x, callback) {\n            iterator(x, function (err, criteria) {\n                if (err) {\n                    callback(err);\n                }\n                else {\n                    callback(null, {value: x, criteria: criteria});\n                }\n            });\n        }, function (err, results) {\n            if (err) {\n                return callback(err);\n            }\n            else {\n                callback(null, _map(results.sort(comparator), function (x) {\n                    return x.value;\n                }));\n            }\n\n        });\n\n        function comparator(left, right) {\n            var a = left.criteria, b = right.criteria;\n            return a < b ? -1 : a > b ? 1 : 0;\n        }\n    };\n\n    async.auto = function (tasks, concurrency, callback) {\n        if (typeof arguments[1] === 'function') {\n            // concurrency is optional, shift the args.\n            callback = concurrency;\n            concurrency = null;\n        }\n        callback = _once(callback || noop);\n        var keys = _keys(tasks);\n        var remainingTasks = keys.length;\n        if (!remainingTasks) {\n            return callback(null);\n        }\n        if (!concurrency) {\n            concurrency = remainingTasks;\n        }\n\n        var results = {};\n        var runningTasks = 0;\n\n        var hasError = false;\n\n        var listeners = [];\n        function addListener(fn) {\n            listeners.unshift(fn);\n        }\n        function removeListener(fn) {\n            var idx = _indexOf(listeners, fn);\n            if (idx >= 0) listeners.splice(idx, 1);\n        }\n        function taskComplete() {\n            remainingTasks--;\n            _arrayEach(listeners.slice(0), function (fn) {\n                fn();\n            });\n        }\n\n        addListener(function () {\n            if (!remainingTasks) {\n                callback(null, results);\n            }\n        });\n\n        _arrayEach(keys, function (k) {\n            if (hasError) return;\n            var task = _isArray(tasks[k]) ? tasks[k]: [tasks[k]];\n            var taskCallback = _restParam(function(err, args) {\n                runningTasks--;\n                if (args.length <= 1) {\n                    args = args[0];\n                }\n                if (err) {\n                    var safeResults = {};\n                    _forEachOf(results, function(val, rkey) {\n                        safeResults[rkey] = val;\n                    });\n                    safeResults[k] = args;\n                    hasError = true;\n\n                    callback(err, safeResults);\n                }\n                else {\n                    results[k] = args;\n                    async.setImmediate(taskComplete);\n                }\n            });\n            var requires = task.slice(0, task.length - 1);\n            // prevent dead-locks\n            var len = requires.length;\n            var dep;\n            while (len--) {\n                if (!(dep = tasks[requires[len]])) {\n                    throw new Error('Has nonexistent dependency in ' + requires.join(', '));\n                }\n                if (_isArray(dep) && _indexOf(dep, k) >= 0) {\n                    throw new Error('Has cyclic dependencies');\n                }\n            }\n            function ready() {\n                return runningTasks < concurrency && _reduce(requires, function (a, x) {\n                    return (a && results.hasOwnProperty(x));\n                }, true) && !results.hasOwnProperty(k);\n            }\n            if (ready()) {\n                runningTasks++;\n                task[task.length - 1](taskCallback, results);\n            }\n            else {\n                addListener(listener);\n            }\n            function listener() {\n                if (ready()) {\n                    runningTasks++;\n                    removeListener(listener);\n                    task[task.length - 1](taskCallback, results);\n                }\n            }\n        });\n    };\n\n\n\n    async.retry = function(times, task, callback) {\n        var DEFAULT_TIMES = 5;\n        var DEFAULT_INTERVAL = 0;\n\n        var attempts = [];\n\n        var opts = {\n            times: DEFAULT_TIMES,\n            interval: DEFAULT_INTERVAL\n        };\n\n        function parseTimes(acc, t){\n            if(typeof t === 'number'){\n                acc.times = parseInt(t, 10) || DEFAULT_TIMES;\n            } else if(typeof t === 'object'){\n                acc.times = parseInt(t.times, 10) || DEFAULT_TIMES;\n                acc.interval = parseInt(t.interval, 10) || DEFAULT_INTERVAL;\n            } else {\n                throw new Error('Unsupported argument type for \\'times\\': ' + typeof t);\n            }\n        }\n\n        var length = arguments.length;\n        if (length < 1 || length > 3) {\n            throw new Error('Invalid arguments - must be either (task), (task, callback), (times, task) or (times, task, callback)');\n        } else if (length <= 2 && typeof times === 'function') {\n            callback = task;\n            task = times;\n        }\n        if (typeof times !== 'function') {\n            parseTimes(opts, times);\n        }\n        opts.callback = callback;\n        opts.task = task;\n\n        function wrappedTask(wrappedCallback, wrappedResults) {\n            function retryAttempt(task, finalAttempt) {\n                return function(seriesCallback) {\n                    task(function(err, result){\n                        seriesCallback(!err || finalAttempt, {err: err, result: result});\n                    }, wrappedResults);\n                };\n            }\n\n            function retryInterval(interval){\n                return function(seriesCallback){\n                    setTimeout(function(){\n                        seriesCallback(null);\n                    }, interval);\n                };\n            }\n\n            while (opts.times) {\n\n                var finalAttempt = !(opts.times-=1);\n                attempts.push(retryAttempt(opts.task, finalAttempt));\n                if(!finalAttempt && opts.interval > 0){\n                    attempts.push(retryInterval(opts.interval));\n                }\n            }\n\n            async.series(attempts, function(done, data){\n                data = data[data.length - 1];\n                (wrappedCallback || opts.callback)(data.err, data.result);\n            });\n        }\n\n        // If a callback is passed, run this as a controll flow\n        return opts.callback ? wrappedTask() : wrappedTask;\n    };\n\n    async.waterfall = function (tasks, callback) {\n        callback = _once(callback || noop);\n        if (!_isArray(tasks)) {\n            var err = new Error('First argument to waterfall must be an array of functions');\n            return callback(err);\n        }\n        if (!tasks.length) {\n            return callback();\n        }\n        function wrapIterator(iterator) {\n            return _restParam(function (err, args) {\n                if (err) {\n                    callback.apply(null, [err].concat(args));\n                }\n                else {\n                    var next = iterator.next();\n                    if (next) {\n                        args.push(wrapIterator(next));\n                    }\n                    else {\n                        args.push(callback);\n                    }\n                    ensureAsync(iterator).apply(null, args);\n                }\n            });\n        }\n        wrapIterator(async.iterator(tasks))();\n    };\n\n    function _parallel(eachfn, tasks, callback) {\n        callback = callback || noop;\n        var results = _isArrayLike(tasks) ? [] : {};\n\n        eachfn(tasks, function (task, key, callback) {\n            task(_restParam(function (err, args) {\n                if (args.length <= 1) {\n                    args = args[0];\n                }\n                results[key] = args;\n                callback(err);\n            }));\n        }, function (err) {\n            callback(err, results);\n        });\n    }\n\n    async.parallel = function (tasks, callback) {\n        _parallel(async.eachOf, tasks, callback);\n    };\n\n    async.parallelLimit = function(tasks, limit, callback) {\n        _parallel(_eachOfLimit(limit), tasks, callback);\n    };\n\n    async.series = function(tasks, callback) {\n        _parallel(async.eachOfSeries, tasks, callback);\n    };\n\n    async.iterator = function (tasks) {\n        function makeCallback(index) {\n            function fn() {\n                if (tasks.length) {\n                    tasks[index].apply(null, arguments);\n                }\n                return fn.next();\n            }\n            fn.next = function () {\n                return (index < tasks.length - 1) ? makeCallback(index + 1): null;\n            };\n            return fn;\n        }\n        return makeCallback(0);\n    };\n\n    async.apply = _restParam(function (fn, args) {\n        return _restParam(function (callArgs) {\n            return fn.apply(\n                null, args.concat(callArgs)\n            );\n        });\n    });\n\n    function _concat(eachfn, arr, fn, callback) {\n        var result = [];\n        eachfn(arr, function (x, index, cb) {\n            fn(x, function (err, y) {\n                result = result.concat(y || []);\n                cb(err);\n            });\n        }, function (err) {\n            callback(err, result);\n        });\n    }\n    async.concat = doParallel(_concat);\n    async.concatSeries = doSeries(_concat);\n\n    async.whilst = function (test, iterator, callback) {\n        callback = callback || noop;\n        if (test()) {\n            var next = _restParam(function(err, args) {\n                if (err) {\n                    callback(err);\n                } else if (test.apply(this, args)) {\n                    iterator(next);\n                } else {\n                    callback.apply(null, [null].concat(args));\n                }\n            });\n            iterator(next);\n        } else {\n            callback(null);\n        }\n    };\n\n    async.doWhilst = function (iterator, test, callback) {\n        var calls = 0;\n        return async.whilst(function() {\n            return ++calls <= 1 || test.apply(this, arguments);\n        }, iterator, callback);\n    };\n\n    async.until = function (test, iterator, callback) {\n        return async.whilst(function() {\n            return !test.apply(this, arguments);\n        }, iterator, callback);\n    };\n\n    async.doUntil = function (iterator, test, callback) {\n        return async.doWhilst(iterator, function() {\n            return !test.apply(this, arguments);\n        }, callback);\n    };\n\n    async.during = function (test, iterator, callback) {\n        callback = callback || noop;\n\n        var next = _restParam(function(err, args) {\n            if (err) {\n                callback(err);\n            } else {\n                args.push(check);\n                test.apply(this, args);\n            }\n        });\n\n        var check = function(err, truth) {\n            if (err) {\n                callback(err);\n            } else if (truth) {\n                iterator(next);\n            } else {\n                callback(null);\n            }\n        };\n\n        test(check);\n    };\n\n    async.doDuring = function (iterator, test, callback) {\n        var calls = 0;\n        async.during(function(next) {\n            if (calls++ < 1) {\n                next(null, true);\n            } else {\n                test.apply(this, arguments);\n            }\n        }, iterator, callback);\n    };\n\n    function _queue(worker, concurrency, payload) {\n        if (concurrency == null) {\n            concurrency = 1;\n        }\n        else if(concurrency === 0) {\n            throw new Error('Concurrency must not be zero');\n        }\n        function _insert(q, data, pos, callback) {\n            if (callback != null && typeof callback !== \"function\") {\n                throw new Error(\"task callback must be a function\");\n            }\n            q.started = true;\n            if (!_isArray(data)) {\n                data = [data];\n            }\n            if(data.length === 0 && q.idle()) {\n                // call drain immediately if there are no tasks\n                return async.setImmediate(function() {\n                    q.drain();\n                });\n            }\n            _arrayEach(data, function(task) {\n                var item = {\n                    data: task,\n                    callback: callback || noop\n                };\n\n                if (pos) {\n                    q.tasks.unshift(item);\n                } else {\n                    q.tasks.push(item);\n                }\n\n                if (q.tasks.length === q.concurrency) {\n                    q.saturated();\n                }\n            });\n            async.setImmediate(q.process);\n        }\n        function _next(q, tasks) {\n            return function(){\n                workers -= 1;\n\n                var removed = false;\n                var args = arguments;\n                _arrayEach(tasks, function (task) {\n                    _arrayEach(workersList, function (worker, index) {\n                        if (worker === task && !removed) {\n                            workersList.splice(index, 1);\n                            removed = true;\n                        }\n                    });\n\n                    task.callback.apply(task, args);\n                });\n                if (q.tasks.length + workers === 0) {\n                    q.drain();\n                }\n                q.process();\n            };\n        }\n\n        var workers = 0;\n        var workersList = [];\n        var q = {\n            tasks: [],\n            concurrency: concurrency,\n            payload: payload,\n            saturated: noop,\n            empty: noop,\n            drain: noop,\n            started: false,\n            paused: false,\n            push: function (data, callback) {\n                _insert(q, data, false, callback);\n            },\n            kill: function () {\n                q.drain = noop;\n                q.tasks = [];\n            },\n            unshift: function (data, callback) {\n                _insert(q, data, true, callback);\n            },\n            process: function () {\n                while(!q.paused && workers < q.concurrency && q.tasks.length){\n\n                    var tasks = q.payload ?\n                        q.tasks.splice(0, q.payload) :\n                        q.tasks.splice(0, q.tasks.length);\n\n                    var data = _map(tasks, function (task) {\n                        return task.data;\n                    });\n\n                    if (q.tasks.length === 0) {\n                        q.empty();\n                    }\n                    workers += 1;\n                    workersList.push(tasks[0]);\n                    var cb = only_once(_next(q, tasks));\n                    worker(data, cb);\n                }\n            },\n            length: function () {\n                return q.tasks.length;\n            },\n            running: function () {\n                return workers;\n            },\n            workersList: function () {\n                return workersList;\n            },\n            idle: function() {\n                return q.tasks.length + workers === 0;\n            },\n            pause: function () {\n                q.paused = true;\n            },\n            resume: function () {\n                if (q.paused === false) { return; }\n                q.paused = false;\n                var resumeCount = Math.min(q.concurrency, q.tasks.length);\n                // Need to call q.process once per concurrent\n                // worker to preserve full concurrency after pause\n                for (var w = 1; w <= resumeCount; w++) {\n                    async.setImmediate(q.process);\n                }\n            }\n        };\n        return q;\n    }\n\n    async.queue = function (worker, concurrency) {\n        var q = _queue(function (items, cb) {\n            worker(items[0], cb);\n        }, concurrency, 1);\n\n        return q;\n    };\n\n    async.priorityQueue = function (worker, concurrency) {\n\n        function _compareTasks(a, b){\n            return a.priority - b.priority;\n        }\n\n        function _binarySearch(sequence, item, compare) {\n            var beg = -1,\n                end = sequence.length - 1;\n            while (beg < end) {\n                var mid = beg + ((end - beg + 1) >>> 1);\n                if (compare(item, sequence[mid]) >= 0) {\n                    beg = mid;\n                } else {\n                    end = mid - 1;\n                }\n            }\n            return beg;\n        }\n\n        function _insert(q, data, priority, callback) {\n            if (callback != null && typeof callback !== \"function\") {\n                throw new Error(\"task callback must be a function\");\n            }\n            q.started = true;\n            if (!_isArray(data)) {\n                data = [data];\n            }\n            if(data.length === 0) {\n                // call drain immediately if there are no tasks\n                return async.setImmediate(function() {\n                    q.drain();\n                });\n            }\n            _arrayEach(data, function(task) {\n                var item = {\n                    data: task,\n                    priority: priority,\n                    callback: typeof callback === 'function' ? callback : noop\n                };\n\n                q.tasks.splice(_binarySearch(q.tasks, item, _compareTasks) + 1, 0, item);\n\n                if (q.tasks.length === q.concurrency) {\n                    q.saturated();\n                }\n                async.setImmediate(q.process);\n            });\n        }\n\n        // Start with a normal queue\n        var q = async.queue(worker, concurrency);\n\n        // Override push to accept second parameter representing priority\n        q.push = function (data, priority, callback) {\n            _insert(q, data, priority, callback);\n        };\n\n        // Remove unshift function\n        delete q.unshift;\n\n        return q;\n    };\n\n    async.cargo = function (worker, payload) {\n        return _queue(worker, 1, payload);\n    };\n\n    function _console_fn(name) {\n        return _restParam(function (fn, args) {\n            fn.apply(null, args.concat([_restParam(function (err, args) {\n                if (typeof console === 'object') {\n                    if (err) {\n                        if (console.error) {\n                            console.error(err);\n                        }\n                    }\n                    else if (console[name]) {\n                        _arrayEach(args, function (x) {\n                            console[name](x);\n                        });\n                    }\n                }\n            })]));\n        });\n    }\n    async.log = _console_fn('log');\n    async.dir = _console_fn('dir');\n    /*async.info = _console_fn('info');\n    async.warn = _console_fn('warn');\n    async.error = _console_fn('error');*/\n\n    async.memoize = function (fn, hasher) {\n        var memo = {};\n        var queues = {};\n        var has = Object.prototype.hasOwnProperty;\n        hasher = hasher || identity;\n        var memoized = _restParam(function memoized(args) {\n            var callback = args.pop();\n            var key = hasher.apply(null, args);\n            if (has.call(memo, key)) {   \n                async.setImmediate(function () {\n                    callback.apply(null, memo[key]);\n                });\n            }\n            else if (has.call(queues, key)) {\n                queues[key].push(callback);\n            }\n            else {\n                queues[key] = [callback];\n                fn.apply(null, args.concat([_restParam(function (args) {\n                    memo[key] = args;\n                    var q = queues[key];\n                    delete queues[key];\n                    for (var i = 0, l = q.length; i < l; i++) {\n                        q[i].apply(null, args);\n                    }\n                })]));\n            }\n        });\n        memoized.memo = memo;\n        memoized.unmemoized = fn;\n        return memoized;\n    };\n\n    async.unmemoize = function (fn) {\n        return function () {\n            return (fn.unmemoized || fn).apply(null, arguments);\n        };\n    };\n\n    function _times(mapper) {\n        return function (count, iterator, callback) {\n            mapper(_range(count), iterator, callback);\n        };\n    }\n\n    async.times = _times(async.map);\n    async.timesSeries = _times(async.mapSeries);\n    async.timesLimit = function (count, limit, iterator, callback) {\n        return async.mapLimit(_range(count), limit, iterator, callback);\n    };\n\n    async.seq = function (/* functions... */) {\n        var fns = arguments;\n        return _restParam(function (args) {\n            var that = this;\n\n            var callback = args[args.length - 1];\n            if (typeof callback == 'function') {\n                args.pop();\n            } else {\n                callback = noop;\n            }\n\n            async.reduce(fns, args, function (newargs, fn, cb) {\n                fn.apply(that, newargs.concat([_restParam(function (err, nextargs) {\n                    cb(err, nextargs);\n                })]));\n            },\n            function (err, results) {\n                callback.apply(that, [err].concat(results));\n            });\n        });\n    };\n\n    async.compose = function (/* functions... */) {\n        return async.seq.apply(null, Array.prototype.reverse.call(arguments));\n    };\n\n\n    function _applyEach(eachfn) {\n        return _restParam(function(fns, args) {\n            var go = _restParam(function(args) {\n                var that = this;\n                var callback = args.pop();\n                return eachfn(fns, function (fn, _, cb) {\n                    fn.apply(that, args.concat([cb]));\n                },\n                callback);\n            });\n            if (args.length) {\n                return go.apply(this, args);\n            }\n            else {\n                return go;\n            }\n        });\n    }\n\n    async.applyEach = _applyEach(async.eachOf);\n    async.applyEachSeries = _applyEach(async.eachOfSeries);\n\n\n    async.forever = function (fn, callback) {\n        var done = only_once(callback || noop);\n        var task = ensureAsync(fn);\n        function next(err) {\n            if (err) {\n                return done(err);\n            }\n            task(next);\n        }\n        next();\n    };\n\n    function ensureAsync(fn) {\n        return _restParam(function (args) {\n            var callback = args.pop();\n            args.push(function () {\n                var innerArgs = arguments;\n                if (sync) {\n                    async.setImmediate(function () {\n                        callback.apply(null, innerArgs);\n                    });\n                } else {\n                    callback.apply(null, innerArgs);\n                }\n            });\n            var sync = true;\n            fn.apply(this, args);\n            sync = false;\n        });\n    }\n\n    async.ensureAsync = ensureAsync;\n\n    async.constant = _restParam(function(values) {\n        var args = [null].concat(values);\n        return function (callback) {\n            return callback.apply(this, args);\n        };\n    });\n\n    async.wrapSync =\n    async.asyncify = function asyncify(func) {\n        return _restParam(function (args) {\n            var callback = args.pop();\n            var result;\n            try {\n                result = func.apply(this, args);\n            } catch (e) {\n                return callback(e);\n            }\n            // if result is Promise object\n            if (_isObject(result) && typeof result.then === \"function\") {\n                result.then(function(value) {\n                    callback(null, value);\n                })[\"catch\"](function(err) {\n                    callback(err.message ? err : new Error(err));\n                });\n            } else {\n                callback(null, result);\n            }\n        });\n    };\n\n    // Node.js\n    if (typeof module === 'object' && module.exports) {\n        module.exports = async;\n    }\n    // AMD / RequireJS\n    else if (typeof define === 'function' && define.amd) {\n        define([], function () {\n            return async;\n        });\n    }\n    // included directly via <script> tag\n    else {\n        root.async = async;\n    }\n\n}());\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","var nextTick = require('process/browser.js').nextTick;\nvar apply = Function.prototype.apply;\nvar slice = Array.prototype.slice;\nvar immediateIds = {};\nvar nextImmediateId = 0;\n\n// DOM APIs, for completeness\n\nexports.setTimeout = function() {\n  return new Timeout(apply.call(setTimeout, window, arguments), clearTimeout);\n};\nexports.setInterval = function() {\n  return new Timeout(apply.call(setInterval, window, arguments), clearInterval);\n};\nexports.clearTimeout =\nexports.clearInterval = function(timeout) { timeout.close(); };\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\nTimeout.prototype.close = function() {\n  this._clearFn.call(window, this._id);\n};\n\n// Does not start the time, just sets up the members needed.\nexports.enroll = function(item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function(item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function(item) {\n  clearTimeout(item._idleTimeoutId);\n\n  var msecs = item._idleTimeout;\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout)\n        item._onTimeout();\n    }, msecs);\n  }\n};\n\n// That's not how node.js implements it but the exposed api is the same.\nexports.setImmediate = typeof setImmediate === \"function\" ? setImmediate : function(fn) {\n  var id = nextImmediateId++;\n  var args = arguments.length < 2 ? false : slice.call(arguments, 1);\n\n  immediateIds[id] = true;\n\n  nextTick(function onNextTick() {\n    if (immediateIds[id]) {\n      // fn.call() is faster so we optimize for the common use-case\n      // @see http://jsperf.com/call-apply-segu\n      if (args) {\n        fn.apply(null, args);\n      } else {\n        fn.call(null);\n      }\n      // Prevent ids from leaking\n      exports.clearImmediate(id);\n    }\n  });\n\n  return id;\n};\n\nexports.clearImmediate = typeof clearImmediate === \"function\" ? clearImmediate : function(id) {\n  delete immediateIds[id];\n};","import { AddImageOption } from './AddImageOption';\nimport { Attachment } from '../data';\nimport { AddImageResult } from './AddImageResult';\n\n// Todo: Is this public exist anywhere?\ndeclare let unescape: any;\n\nconst ConfigTranslations = (pipTranslateProvider: pip.services.ITranslateProvider) => {\n    pipTranslateProvider.translations('en', {\n        'FILE': 'Upload pictures',\n        'WEB_LINK': 'Use web link',\n        'CAMERA': 'Take photo',\n        'IMAGE_GALLERY': 'Use image library',\n    });\n    pipTranslateProvider.translations('ru', {\n        'FILE': 'Загрузить картинку',\n        'WEB_LINK': 'Вставить веб ссылка',\n        'CAMERA': 'Использовать камеру',\n        'IMAGE_GALLERY': 'Открыть галерею изображений'\n    });\n}\n\n{\n    interface IAddImageScope extends angular.IScope {\n        $images: AddImageResult[];\n        onChange: any;\n        multi: any;\n        option: any;\n        ngDisabled: any;\n    }\n\n    class AddImageController {\n        public option: AddImageOption;\n\n        constructor(\n            private $scope: IAddImageScope,\n            private $element,\n            private $mdMenu,\n            private $timeout,\n            private pipCameraDialog,\n            private pipPictureUrlDialog,\n            private pipGallerySearchDialog\n        ) {\n            \"ngInject\";\n\n            let defaultOption = new AddImageOption();\n\n            this.option = _.assign(defaultOption, this.$scope.option);\n        }\n\n        public openMenu($mdOpenMenu): void {\n            if (this.$scope.ngDisabled()) {\n                return;\n            }\n\n            $mdOpenMenu();\n        }\n\n        private toBoolean(value: any): boolean {\n            if (!value) { return false; }\n\n            value = value.toString().toLowerCase();\n\n            return value == '1' || value == 'true';\n        }\n\n        public isMulti(): boolean {\n            if (this.$scope.multi !== undefined && this.$scope.multi !== null) {\n                if (angular.isFunction(this.$scope.multi)) {\n                    return this.toBoolean(this.$scope.multi());\n                } else {\n                    return this.toBoolean(this.$scope.multi);\n                }\n            } else {\n                return true;\n            }\n        }\n\n        public hideMenu(): void {\n            this.$mdMenu.hide();\n        }\n\n        public dataURItoBlob(dataURI: string): Blob {\n            let byteString;\n\n            if (dataURI.split(',')[0].indexOf('base64') >= 0) {\n                byteString = atob(dataURI.split(',')[1]);\n            } else {\n                byteString = unescape(dataURI.split(',')[1]);\n            }\n            let mimeString = dataURI.split(',')[0].split(':')[1].split(';')[0];\n\n            let ia = new Uint8Array(byteString.length);\n            let i: number;\n            for (i = 0; i < byteString.length; i++) {\n                ia[i] = byteString.charCodeAt(i);\n            }\n\n            return new Blob([ia], { type: mimeString });\n        }\n\n        public addImages(images: any): void {\n            if (images === undefined) { return; }\n\n            if (angular.isArray(images)) {\n                images.forEach((img: AddImageResult) => {\n                    if (this.$scope.onChange) {\n                        this.$scope.onChange(img);\n                    }\n                });\n            } else {\n                if (this.$scope.onChange) {\n                    this.$scope.onChange(images);\n                }\n            }\n\n            if (this.$scope.$images === undefined || !Array.isArray(this.$scope.$images)) {\n                return;\n            }\n\n            if (Array.isArray(images)) {\n                images.forEach((img) => {\n                    this.$scope.$images.push(img);\n                });\n            } else {\n                this.$scope.$images.push(images);\n            }\n        }\n\n        // Process user actions\n        public onFileChange($files: any): void {\n            if ($files == null || $files.length == 0) { return; }\n\n            $files.forEach((file) => {\n                if (file.type.indexOf('image') > -1) {\n                    this.$timeout(() => {\n                        let fileReader = new FileReader();\n                        fileReader.readAsDataURL(file);\n                        fileReader.onload = (e) => {\n                            this.$timeout(() => {\n                                this.addImages({ url: null, uriData: (e.target as any).result, file: file, picture: null });\n                            });\n                        }\n                    });\n                }\n            });\n\n        }\n\n        public onWebLinkClick(): void {\n            this.pipPictureUrlDialog.show((result) => {\n                let blob = null;\n                if (result.substring(0, 10) == 'data:image') {\n                    blob = this.dataURItoBlob(result);\n                    blob.name = result.slice(result.lastIndexOf('/') + 1, result.length).split('?')[0];\n                }\n                this.addImages({ url: result, uriData: null, file: blob, picture: null });\n            });\n        }\n\n        public onCameraClick(): void {\n            this.pipCameraDialog.show((result) => {\n                let blob: any = this.dataURItoBlob(result);\n                blob.name = 'camera';\n                this.addImages({ url: null, uriData: result, file: blob, picture: null });\n            });\n        }\n\n        public onGalleryClick(): void {\n            this.pipGallerySearchDialog.show(\n                {\n                    multiple: this.isMulti()\n                },\n                (result: Attachment[]) => {\n                    if (this.isMulti()) {\n                        let imgs: AddImageResult[] = [];\n                        result.forEach((item: Attachment) => {\n                            imgs.push({ url: null, uriData: null, file: null,  picture: item });\n                        });\n                        this.addImages(imgs);\n                    } else {\n                        this.addImages({ url: null, uriData: null, file: null, picture: result[0] });\n                    }\n                }\n            );\n        }\n    }\n\n    const AddImage = function (): ng.IDirective {\n        return {\n            restrict: 'AC',\n            scope: {\n                $images: '=pipImages',\n                onChange: '&pipChanged',\n                multi: '&pipMulti',\n                option: '=pipOption',\n                ngDisabled: '&'\n            },\n            transclude: true,\n            templateUrl: 'add_image/AddImage.html',\n            controller: AddImageController,\n            controllerAs: 'vm'\n        };\n    }\n\n    angular\n        .module('pipAddImage', ['pipCameraDialog', 'pipPictureUrlDialog', 'pipGallerySearchDialog', 'angularFileUpload'])\n        .config(ConfigTranslations)\n        .directive('pipAddImage', AddImage);\n}\n","export class AddImageOption {\n    public Upload: boolean = true;\n    public WebLink: boolean = true;\n    public Camera: boolean = true;\n    public Galery: boolean = true;\n}","import { Attachment } from '../data';\n\nexport class AddImageResult {\n    public picture?: Attachment;\n    public file?: any;\n    public uriData?: any;\n    public url?: string;\n}","import { IPictureUtilsService } from '../utilities/IPictureUtils';\nimport { IAvatarDataService, colors, colorClasses } from '../data/IAvatarDataService';\nimport { ReloadAvatar } from '../avatar_edit/AvatarEdit';\n\n{\n    interface IAvatarBindings {\n        [key: string]: any;\n\n        pipId: any;\n        pipUrl: any;\n        pipName: any;\n        ngClass: any;\n        pipRebindAvatar: any;\n        pipRebind: any;\n    }\n\n    const AvatarBindings: IAvatarBindings = {\n        pipId: '<?',\n        pipUrl: '<?',\n        pipName: '<?',\n        ngClass: '<?',\n        pipRebindAvatar: '<?',\n        pipRebind: '<?'\n    }\n\n    class AvatarBindingsChanges implements ng.IOnChangesObject, IAvatarBindings {\n        [key: string]: ng.IChangesObject<any>;\n\n        pipId: ng.IChangesObject<string>;\n        pipUrl: ng.IChangesObject<string>;\n        pipName: ng.IChangesObject<string>;\n        ngClass: ng.IChangesObject<string>;\n        pipRebindAvatar: ng.IChangesObject<boolean>;\n        pipRebind: ng.IChangesObject<boolean>;\n    }\n\n    class AvatarController {\n        private cleanupAvatarUpdated: Function;\n        private imageElement: any;\n        // private iconErrorElement: any;\n        private defaultAvatarElement: any;\n        private image: any;\n\n        public pipId: string;\n        public pipUrl: string;\n        public pipName: string;\n\n        public ngClass: string;\n        public pipRebindAvatar: boolean;\n        public pipRebind: boolean;\n\n        public postLink: boolean = false;\n        // public errorIcon: string;\n        public initial: string;\n\n        constructor(\n            private $log: ng.ILogService,\n            private $http: ng.IHttpService,\n            private $rootScope: ng.IRootScopeService,\n            private $element: JQuery,\n            private pipAvatarData: IAvatarDataService,\n            private pipPictureUtils: IPictureUtilsService,\n            private pipCodes: pip.services.ICodes,\n            private $timeout\n        ) {\n            \"ngInject\";\n\n            this.image = null;\n\n            // this.errorIcon = 'icon:warn-star';\n            this.initial = this.pipAvatarData.DefaultInitial;\n            // Add class\n            $element.addClass('pip-avatar flex-fixed');\n\n            this.$rootScope.$on(ReloadAvatar, ($event: ng.IAngularEvent, id: string) => { //navState\n                if (this.pipId == id && this.pipRebind) {\n                    this.refreshAvatar();\n                }\n            });\n        }\n\n        public $postLink() {\n            this.imageElement = this.$element.children('img');\n            // this.iconErrorElement = this.$element.find('#icon-error');\n            this.defaultAvatarElement = this.$element.find('#default-avatar');\n\n            // When image is loaded resize/reposition it\n            this.imageElement\n                .load(($event) => {\n                    this.image = $($event.target);\n                    this.pipPictureUtils.setImageMarginCSS(this.$element, this.image);\n                })\n                .error(($event) => {\n                    this.showAvatarByName();\n                });\n\n            this.bindControl();\n\n            this.postLink = true;\n        }\n\n        public $onChanges(changes: AvatarBindingsChanges): void {\n            if (changes.pipRebind && changes.pipRebind.currentValue !== changes.pipRebind.previousValue) {\n                this.pipRebind = changes.pipRebind.currentValue;\n            }\n            if (changes.pipRebindAvatar && changes.pipRebindAvatar.currentValue !== changes.pipRebindAvatar.previousValue) {\n                this.pipRebindAvatar = changes.pipRebindAvatar.currentValue;\n            }\n            if (changes.ngClass && changes.ngClass.currentValue !== changes.ngClass.previousValue) {\n                this.ngClass = changes.ngClass.currentValue;\n                setTimeout(() => {\n                    this.pipPictureUtils.setImageMarginCSS(this.$element, this.image);\n                }, 50);\n            }\n\n            let isDataChange: boolean = false;\n            if (this.pipRebind) {\n                if (changes.pipId && changes.pipId.currentValue !== changes.pipId.previousValue) {\n                    this.pipId = changes.pipId.currentValue;\n                    isDataChange = true;\n                }\n\n                if (changes.pipUrl && changes.pipUrl.currentValue !== changes.pipUrl.previousValue) {\n                    this.pipUrl = changes.pipUrl.currentValue;\n                    isDataChange = true;\n                }\n\n                if (changes.pipName && changes.pipName.currentValue !== changes.pipName.previousValue) {\n                    this.pipName = changes.pipName.currentValue;\n                    isDataChange = true;\n                }\n            }\n\n            // this.avatarUrlParams = this.getAvatarUrlParams();\n            if (isDataChange && this.postLink) {\n                this.refreshAvatar();\n            }\n        }\n\n        private showAvatarByName() {\n            this.$timeout(() => {\n                let colorClassIndex = this.pipCodes.hash(this.pipId) % colors.length;\n                this.defaultAvatarElement.removeAttr('class');\n                this.defaultAvatarElement.addClass(colorClasses[colorClassIndex]);\n                this.imageElement.css('display', 'none');\n                this.defaultAvatarElement.css('display', 'inline-block');\n            })\n\n        }\n\n        private toBoolean(value: any): boolean {\n            if (!value) { return false; }\n            value = value.toString().toLowerCase();\n\n            return value == '1' || value == 'true';\n        }\n\n        public refreshAvatar(): void {\n\n            if (!this.pipAvatarData.ShowOnlyNameIcon) {\n                this.imageElement.attr('src', '');\n                this.imageElement.css('display', 'inline-block');\n                this.defaultAvatarElement.css('display', 'none');\n            }\n\n            this.bindControl();\n        };\n\n        public bindControl(): void {\n            if (this.pipRebindAvatar) {\n                this.cleanupAvatarUpdated = this.$rootScope.$on('pipPartyAvatarUpdated', () => { this.refreshAvatar(); });\n            } else {\n                if (this.cleanupAvatarUpdated) {\n                    this.cleanupAvatarUpdated();\n                }\n            }\n\n            if (this.pipName) {\n                this.initial = this.pipName.charAt(0);\n            } else {\n                this.initial = this.pipAvatarData.DefaultInitial;\n            }\n\n            if (!this.pipAvatarData.ShowOnlyNameIcon) {\n                let url = this.pipId ? this.pipAvatarData.getAvatarUrl(this.pipId) : this.pipUrl;\n                this.imageElement.attr('src', url);\n            } else {\n                this.showAvatarByName();\n            }\n        }\n\n    }\n\n    const AvatarComponent: ng.IComponentOptions = {\n        bindings: AvatarBindings,\n        template: '<img/><div id=\"default-avatar\">{{ $ctrl.initial }}</div>',\n        controller: AvatarController\n    }\n\n    angular\n        .module('pipAvatar', ['pipPictureUtils'])\n        .component('pipAvatar', AvatarComponent);\n}\n\n","import { IPictureUtilsService } from '../utilities/IPictureUtils';\nimport { PicturePaste } from '../utilities/PicturePaste';\nimport { IAvatarDataService } from '../data/IAvatarDataService';\nimport { AddImageOption } from '../add_image/AddImageOption';\nimport { AddImageResult } from '../add_image/AddImageResult';\n\nexport const ReloadAvatar = 'pipReloadAvatar';\n\nexport class AvatarEditControl {\n    public reset: (afterDeleting?: boolean) => void;\n    public save: (id?: string, successCallback?: (response?: any) => void, errorCallback?: (error?: any) => void) => void;\n    public abort: () => void;\n    public error?: any;\n\n    public disabled: boolean = false;\n    public url: string = '';\n    public uriData: any;\n    public progress: number = 0;\n    public uploaded: boolean = false;\n    public uploading: boolean = false;\n    public upload: boolean = false;\n    public loaded: boolean = false;\n    public file: any = null;\n    public state: string = AvatarStates.Original;\n}\n\nexport class AvatarStates {\n    static Original: string = 'original';\n    static Changed: string = 'changed';\n    static Deleted: string = 'deleted';\n    static Error: string = 'error';\n}\n\n{\n    const ConfigAvatarEditTranslations = (pipTranslateProvider: pip.services.ITranslateProvider) => {\n        pipTranslateProvider.translations('en', {\n            'PICTURE_EDIT_TEXT': 'Click here to upload a picture',\n            'PICTURE_ERROR_LOAD': 'Error image loading'\n        });\n        pipTranslateProvider.translations('ru', {\n            'PICTURE_EDIT_TEXT': 'Нажмите сюда для загрузки картинки',\n            'PICTURE_ERROR_LOAD': 'Ошибка загрузки картинки'\n        });\n    }\n\n\n    class SenderEvent {\n        $control: AvatarEditControl;\n    }\n\n    class AvatarEvent {\n        $event: SenderEvent;\n        $control: AvatarEditControl;\n    }\n\n    interface IAvatarEditBindings {\n        [key: string]: any;\n\n        ngDisabled: any;\n        pipCreated: any;\n        pipChanged: any;\n        pipReset: any;\n        pipId: any;\n        text: any;\n        icon: any;\n        pipRebind: any;\n    }\n\n    const AvatarEditBindings: IAvatarEditBindings = {\n        ngDisabled: '<?',\n        pipCreated: '&?',\n        pipChanged: '&?',\n        pipReset: '<?',\n        pipId: '<?',\n        text: '<?pipDefaultText',\n        icon: '<?pipDefaultIcon',\n        pipRebind: '<?',\n    }\n\n    class AvatarEditBindingsChanges implements ng.IOnChangesObject, IAvatarEditBindings {\n        [key: string]: ng.IChangesObject<any>;\n\n        ngDisabled: ng.IChangesObject<boolean>;\n        pipCreated: ng.IChangesObject<(params: AvatarEvent) => ng.IPromise<void>>;\n        pipChanged: ng.IChangesObject<(params: AvatarEvent) => ng.IPromise<void>>;\n        pipReset: ng.IChangesObject<boolean>;\n        pipId: ng.IChangesObject<string>;\n        text: ng.IChangesObject<string>;\n        icon: ng.IChangesObject<string>;\n        pipRebind: ng.IChangesObject<boolean>;\n    }\n\n    class AvatarEditController {\n        private controlElement: any;\n        private inputElement: any;\n        private pipPicturePaste: PicturePaste;\n\n        public ngDisabled: boolean;\n        public pipCreated: (params: AvatarEvent) => void;\n        public pipChanged: (params: AvatarEvent) => void;\n        public pipReset: boolean;\n        public text: string;\n        public icon: string;\n        public pipId: string;\n        public pipRebind: boolean;\n\n        public multiUpload: boolean;\n        public errorText: string;\n        public control: AvatarEditControl;\n        public option: AddImageOption;\n\n        constructor(\n            private $log: ng.ILogService,\n            private $scope: ng.IScope,\n            private $http: ng.IHttpService,\n            private $rootScope: ng.IRootScopeService,\n            private $element: JQuery,\n            private $timeout: ng.ITimeoutService,\n            private pipAvatarData: IAvatarDataService,\n            private pipCodes: pip.services.ICodes,\n            private pipPictureUtils: IPictureUtilsService,\n            private pipFileUpload: pip.files.IFileUploadService,\n            private pipRest: pip.rest.IRestService\n        ) {\n            \"ngInject\";\n            this.pipPicturePaste = new PicturePaste($timeout);\n            this.option = new AddImageOption();\n            this.option.WebLink = false;\n            this.option.Galery = false;\n\n            this.text = this.text || 'PICTURE_EDIT_TEXT';\n            this.icon = this.icon || 'picture-no-border';\n            this.errorText = 'PICTURE_ERROR_LOAD';\n\n            this.control = new AvatarEditControl();\n            this.multiUpload = false;\n\n            this.control.reset = (afterDeleting: boolean) => {\n                this.reset(afterDeleting);\n            }\n            this.control.save = (id?: string, successCallback?: (response?: any) => void, errorCallback?: (error?: any) => void): void => {\n                this.save(id, successCallback, errorCallback);\n            }\n            // Add class\n            $element.addClass('pip-picture-edit');\n        }\n\n        public $postLink() {\n            this.controlElement = this.$element.children('.pip-picture-upload');\n            this.inputElement = this.controlElement.children('input[type=file]');\n\n            // Add paste listener\n            this.$element.children('.pip-picture-upload').focus(() => {\n                this.pipPicturePaste.addPasteListener((item) => {\n                    this.readItemLocally(item.url, item.uriData, item.file, item.picture);\n                });\n            });\n\n            this.$element.children('.pip-picture-upload').blur(() => {\n                this.pipPicturePaste.removePasteListener();\n            });\n\n            // Execute callback\n            if (this.pipCreated) {\n                this.pipCreated({\n                    $event: { $control: this.control },\n                    $control: this.control\n                });\n            }\n\n            // Initialize control\n            this.control.reset();\n        }\n\n        public $onChanges(changes: AvatarEditBindingsChanges): void {\n            if (changes.pipRebind && changes.pipRebind.currentValue !== changes.pipRebind.previousValue) {\n                this.pipRebind = changes.pipRebind.currentValue;\n            }\n            if (changes.pipReset && changes.pipReset.currentValue !== changes.pipReset.previousValue) {\n                this.pipReset = changes.pipReset.currentValue;\n            }\n\n            let isReset: boolean = false;\n            if (this.pipRebind) {\n\n                if (changes.pipId && changes.pipId.currentValue !== changes.pipId.previousValue) {\n                    this.pipId = changes.pipId.currentValue;\n                    if (this.pipReset !== false) {\n                        isReset = true;\n                    }\n                }\n\n                if (changes.ngDisabled && changes.ngDisabled.currentValue !== changes.ngDisabled.previousValue) {\n                    this.ngDisabled = changes.ngDisabled.currentValue;\n                }\n            }\n            if (changes.pipId && changes.pipId.currentValue && this.control && this.control.state != AvatarStates.Deleted && this.control.state != AvatarStates.Changed ) {\n                isReset = true;\n            }\n            if (isReset) {\n                this.control.reset();\n            }\n        }\n\n        public reset(afterDeleting: boolean): void {\n            this.control.progress = 0;\n            this.control.uploading = false;\n            this.control.uploaded = false;\n\n            this.control.file = null;\n            this.control.state = AvatarStates.Original;\n            this.control.url = '';\n            this.control.uriData = null;\n\n            if (!afterDeleting) {\n                var url = this.pipId ? this.pipAvatarData.getAvatarUrl(this.pipId) : '';\n\n                if (!url) return;\n\n                this.control.progress = 0;\n                this.control.url = url;\n                this.control.uploaded = this.control.url != '';\n                this.onChange();\n\n            } else this.onChange();\n        }\n\n        public saveAvatar(id: string, successCallback?: (response?: any) => void, errorCallback?: (error?: any) => void): void {\n            if (!id) {\n                id = this.pipId;\n            }\n            if (this.control.file !== null) {\n                let fd: FormData = new FormData();\n                fd.append('file', this.control.file);\n                this.control.uploading = true;\n                this.$http.put(this.pipAvatarData.getAvatarUrl(id), fd, <any>{\n                    uploadEventHandlers: {\n                        progress: (e: any) => {\n                            if (e.lengthComputable) {\n                                this.control.progress = (e.loaded / e.total) * 100;\n                            }\n                        }\n                    },\n                    headers: { 'Content-Type': undefined }\n                })\n                    .success((response: any) => {\n                        this.control.progress = 100;\n\n                        this.pipId = response.id;\n                        this.$rootScope.$broadcast(ReloadAvatar, this.pipId);\n                        \n                        this.control.reset();\n                        if (successCallback) {\n                            successCallback(response);\n                        }\n                    })\n                    .error((error: any) => {\n                        this.control.progress = 0;\n                        this.control.uploading = false;\n                        this.control.upload = false;\n                        this.control.progress = 0;\n                        this.control.state = AvatarStates.Original; //AvatarStates.Error;\n\n                        if (errorCallback) {\n                            errorCallback(error);\n                        } else {\n                            this.$log.error(error);\n                        }\n                    });\n            }\n        }\n\n        public deletePicture(successCallback?: (response?: any) => void, errorCallback?: (error?: any) => void): void {\n            this.pipAvatarData.deleteAvatar(\n                this.pipId,\n                () => {\n                    this.$rootScope.$broadcast(ReloadAvatar, this.pipId);\n                    this.control.reset(true);\n\n                    if (successCallback) { successCallback(); }\n                },\n                (error: any) => {\n                    this.control.uploading = false;\n                    this.control.upload = false;\n                    this.control.progress = 0;\n                    this.control.state = AvatarStates.Original; // AvatarStates.Error;\n\n                    if (errorCallback) {\n                        errorCallback(error);\n                    } else {\n                        this.$log.error(error);\n                    }\n                }\n            );\n        }\n\n        public save(id: string, successCallback?: (response?: any) => void, errorCallback?: (error?: any) => void): void {\n            // Process changes of the image\n            if (this.control.state == AvatarStates.Changed) {\n                this.saveAvatar(id, successCallback, errorCallback);\n            }\n            // Process deletion of the image\n            else if (this.control.state == AvatarStates.Deleted) {\n                this.deletePicture(successCallback, errorCallback);\n            }\n            // Process if no changes were made \n            else {\n                if (successCallback) successCallback();\n            }\n        }\n\n        // Visual publics\n        public empty(): boolean {\n            return this.control.url == '' && !this.control.uploading;\n        };\n\n        public isUpdated(): boolean {\n            return this.control.state != AvatarStates.Original;\n        };\n\n        // Process user events\n        public readItemLocally(url, uriData, file, picture): void {\n            if (picture) {\n                // todo set avatar\n                this.control.url = this.pipAvatarData.getAvatarUrl(this.pipId);\n            } else {\n                this.control.file = file;\n                this.control.url = file ? uriData : url ? url : '';\n                // todo uriData - save as blob\n            }\n\n            this.control.state = AvatarStates.Changed;\n            this.onChange();\n        };\n\n        public onDeleteClick($event: JQueryEventObject): void {\n            if ($event) {\n                $event.stopPropagation();\n            }\n\n            this.controlElement.focus();\n            this.control.file = null;\n            this.control.url = '';\n            this.control.state = AvatarStates.Deleted;\n\n            this.onChange();\n        };\n\n        public onKeyDown($event: KeyboardEvent): void {\n            if ($event.keyCode == 13 || $event.keyCode == 32) {\n                setTimeout(() => {\n                    this.controlElement.trigger('click');\n                }, 0);\n            } else if ($event.keyCode == 46 || $event.keyCode == 8) {\n                this.control.file = null;\n                this.control.url = '';\n                this.control.state = AvatarStates.Deleted;\n\n                this.onChange();\n            } else if ($event.keyCode == 27) {\n                this.control.reset();\n            }\n        };\n\n        // Clean up url to remove broken icon\n        public onImageError($event: JQueryEventObject): void {\n            this.$scope.$apply(() => {\n                this.control.url = '';\n                let image = $($event.target);\n                this.control.state = AvatarStates.Original; // AvatarStates.Error;\n                this.pipPictureUtils.setErrorImageCSS(image, { width: 'auto', height: '100%' });\n            });\n        };\n\n        // When image is loaded resize/reposition it\n        public onImageLoad($event: JQueryEventObject) {\n            let image = $($event.target);\n            let container: any = {}; //JQuery = _.cloneDeep(this.controlElement);\n            container.clientWidth = 80;\n            container.clientHeight = 80;\n            this.pipPictureUtils.setImageMarginCSS(container, image);\n            this.control.uploading = false;\n        };\n\n        // On change event\n        public onChange() {\n            if (this.pipChanged) {\n                this.pipChanged({\n                    $event: { $control: this.control },\n                    $control: this.control\n                });\n            }\n        };\n\n    }\n\n    const AvatarEditComponent: ng.IComponentOptions = {\n        bindings: AvatarEditBindings,\n        templateUrl: 'picture_edit/PictureEdit.html',\n        controller: AvatarEditController\n    }\n\n    angular\n        .module('pipAvatarEdit', ['ui.event', 'pipPictureUtils', 'pipPictures.Templates', 'pipFiles'])\n        .config(ConfigAvatarEditTranslations)\n        .component('pipAvatarEdit', AvatarEditComponent);\n}\n\n","﻿const ConfigCameraDialogTranslations = (pipTranslateProvider: pip.services.ITranslateProvider) => {\n    pipTranslateProvider.translations('en', {\n        'TAKE_PICTURE': 'Take a picture',\n        'WEB_CAM_ERROR': 'Webcam is missing or was not found'\n    });\n    pipTranslateProvider.translations('ru', {\n        'TAKE_PICTURE': 'Сделать фото',\n        'WEB_CAM_ERROR': 'Web-камера отсутствует или не найдена'\n    });\n}\n\ndeclare var Webcam: any;\ndeclare var Camera: any;\n{\n    class CameraDialogController {\n        public webCamError: boolean\n        public theme: string;\n        public browser: string;\n        public freeze: boolean;\n\n        constructor(\n            private $mdDialog: angular.material.IDialogService,\n            private $rootScope: ng.IRootScopeService,\n            private $timeout: ng.ITimeoutService,\n            private $mdMenu,\n            private pipSystemInfo: pip.services.ISystemInfo\n        ) {\n            \"ngInject\";\n\n            this.theme = this.$rootScope[pip.themes.ThemeRootVar];\n            this.browser = this.pipSystemInfo.os;\n            this.freeze = false;\n\n            this.onInit();\n        }\n\n        private onInit() {\n\n\n            if (this.browser !== 'android') {\n                Webcam.init();\n\n                setTimeout(() => {\n                    Webcam.attach('.camera-stream');\n                }, 0);\n\n                Webcam.on('error', (err: any) => {\n                    this.webCamError = true;\n                    console.error(err);\n                });\n\n                Webcam.set({\n                    width: 400,\n                    height: 300,\n\n                    dest_width: 400,\n                    dest_height: 300,\n\n                    crop_width: 400,\n                    crop_height: 300,\n\n                    image_format: 'jpeg',\n                    jpeg_quality: 90\n                });\n\n                //Webcam.setSWFLocation('../../../dist/webcam.swf');\n                Webcam.setSWFLocation('webcam.swf');\n\n            } else {\n                document.addEventListener(\"deviceready\", this.onDeviceReady, false);\n            }\n        }\n\n        // todo add logic in callbacks\n        public onDeviceReady() {\n            (navigator as any).camera.getPicture((data) => { this.onSuccess(data); }, (message) => { this.onFail(message); },\n                {\n                    sourceType: Camera.PictureSourceType.CAMERA,\n                    correctOrientation: true,\n                    quality: 75,\n                    targetWidth: 200,\n                    destinationType: Camera.DestinationType.DATA_URL\n                });\n        }\n\n        public onSuccess(imageData) {\n            //var picture = imageData;\n            var picture = 'data:image/jpeg;base64,' + imageData;\n            this.$mdDialog.hide(picture);\n        }\n\n        public onFail(message) {\n            alert('Failed because: ' + message);\n            this.$mdDialog.hide();\n        }\n\n        public onTakePictureClick() {\n            if (Webcam) {\n                if (this.freeze) {\n                    Webcam.snap((dataUri) => {\n                        this.freeze = false;\n                        this.$mdDialog.hide(dataUri);\n                    });\n                } else {\n                    this.freeze = true;\n                    Webcam.freeze();\n                }\n            }\n        }\n\n        public onResetPicture() {\n            this.freeze = false;\n            Webcam.unfreeze();\n        }\n\n        public onCancelClick() {\n            this.$mdDialog.cancel();\n        }\n    }\n\n\n    angular\n        .module('pipCameraDialog')\n        .config(ConfigCameraDialogTranslations)\n        .controller('pipCameraDialogController', CameraDialogController);\n\n}","import { ICameraDialogService } from './ICameraDialogService';\n\ndeclare var Webcam: any;\n\nclass CameraDialogService implements ICameraDialogService {\n    private _mdDialog: angular.material.IDialogService;\n\n    constructor($mdDialog: angular.material.IDialogService) {\n        this._mdDialog = $mdDialog;\n\n    }\n\n    public show(successCallback?: (result) => void, cancelCallback?: () => void) {\n        this._mdDialog.show({\n            templateUrl: 'camera_dialog/CameraDialog.html',\n            clickOutsideToClose: true,\n            controller: 'pipCameraDialogController',\n            controllerAs: '$ctrl'\n        })\n        .then(\n            (result) => {\n                Webcam.reset();\n                if (successCallback) {\n                    successCallback(result);\n                }\n            }, \n            () => {\n                Webcam.reset();\n            }\n        );\n\n    }\n\n}\n\nangular\n    .module('pipCameraDialog')\n    .service('pipCameraDialog', CameraDialogService);","angular\n    .module('pipCameraDialog',\n        ['ngMaterial', 'pipServices', 'pipPictures.Templates']);\n\nimport './ICameraDialogService';\nimport './CameraDialogService';\nimport './CameraDialogController';\n\n\nexport * from './ICameraDialogService';\n","import { IPictureUtilsService } from '../utilities/IPictureUtils';\nimport { PicturePaste } from '../utilities/PicturePaste';\nimport { IPictureDataService } from '../data/IPictureDataService';\nimport { Attachment } from '../data';\n\n{\n    class ContainerSize {\n        public w: number;\n        public h: number;\n    }\n\n    interface ICollageBindings {\n        [key: string]: any;\n\n        pipPictureIds: any;\n        pipSrcs: any;\n        pipPictures: any;\n        uniqueCode: any;\n        multiple: any;\n        allowOpen: any;\n        pipRebind: any;\n    }\n\n    const CollageBindings: ICollageBindings = {\n        pipPictureIds: '<?',\n        pipSrcs: '<?',\n        pipPictures: '<?',\n        uniqueCode: '<?pipUniqueCode',\n        multiple: '<?pipMultiple',\n        allowOpen: '<?pipOpen',\n        pipRebind: '<?',\n    }\n\n    class CollageBindingsChanges implements ng.IOnChangesObject, ICollageBindings {\n        [key: string]: ng.IChangesObject<any>;\n\n        pipPictureIds: ng.IChangesObject<string[]>;\n        pipSrcs: ng.IChangesObject<string[]>;\n        pipPictures: ng.IChangesObject<Attachment[]>;\n        uniqueCode: ng.IChangesObject<string>;\n        multiple: ng.IChangesObject<boolean>;\n        allowOpen: ng.IChangesObject<boolean>;\n        pipRebind: ng.IChangesObject<boolean>;\n    }\n\n    class CollageController {\n        private debounceCalculateResize: any;\n\n        public pipPictureIds: string[];\n        public pipSrcs: string[];\n        public pipPictures: Attachment[];\n        public uniqueCode: string;\n        public multiple: boolean;\n        public allowOpen: boolean;\n        public pipRebind: boolean;\n\n        private svgData: any;\n        private resized: number;\n        private collageSchemes: any;\n\n        constructor(\n            private $log: ng.ILogService,\n            private $scope: ng.IScope,\n            private $rootScope: ng.IRootScopeService,\n            private $element: JQuery,\n            private pipPictureData: IPictureDataService,\n            private pipPictureUtils: IPictureUtilsService,\n            private pipCodes: pip.services.ICodes\n        ) {\n            \"ngInject\";\n\n            // Add class\n            $element.addClass('pip-collage');\n\n            this.collageSchemes = pipPictureUtils.getCollageSchemes(),\n                this.resized = 0;\n            this.svgData = '<?xml version=\"1.0\" encoding=\"utf-8\"?>' +\n                '<!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\" \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\">' +\n                '<svg version=\"1.1\"'+\n                    'xmlns=\"http://www.w3.org/2000/svg\"'+\n                    'xmlns:xlink=\"http://www.w3.org/1999/xlink\"'+\n                    'x=\"0px\" y=\"0px\"'+\n                    'viewBox=\"0 0 510 510\"'+\n                    'style=\"enable-background:new 0 0 515 515;\"'+\n                    'xml:space=\"preserve\">'+\n                    '<defs>'+\n                    '<style type=\"text/css\"><![CDATA['+\n                    '#symbol-picture-no-border {'+\n                    '        transform-origin: 50% 50%;'+\n                    '        transform: scale(0.6, -0.6);'+\n                    '    }'+\n                    '        ]]></style>'+\n                    '        </defs>'+\n                    '<rect x=\"0\" width=\"515\" height=\"515\"/>'+\n                    '<path id=\"symbol-picture-no-border\" d=\"M120 325l136-102 69 33 136-82 0-54-410 0 0 136z m341 15c0-28-23-51-51-51-29 0-52 23-52 51 0 29 23 52 52 52 28 0 51-23 51-52z\" />'+\n                    '</svg>';\n\n            this.debounceCalculateResize = _.debounce(() => { this.calculateResize(); }, 50);\n        }\n\n        public $postLink() {\n            this.$scope.getElementDimensions = () => {\n                let dimension = {\n                    'h': this.$element.height(),\n                    'w': this.$element.width()\n                };\n\n                return dimension;\n            }\n\n            this.$scope.$watch(this.$scope.getElementDimensions, (newValue: ContainerSize, oldValue: ContainerSize) => {\n                if (newValue && oldValue && oldValue.h == newValue.h && oldValue.w == newValue.w) return;\n                this.debounceCalculateResize();\n            }, true);\n\n            this.generateContent();\n        }\n\n        public $onChanges(changes: CollageBindingsChanges): void {\n            if (changes.pipRebind && changes.pipRebind.currentValue !== changes.pipRebind.previousValue) {\n                this.pipRebind = changes.pipRebind.currentValue;\n            }\n\n            if (changes.allowOpen && changes.allowOpen.currentValue !== changes.allowOpen.previousValue) {\n                this.allowOpen = changes.allowOpen.currentValue;\n            }\n\n            let isChanged: boolean = false;\n            if (this.pipRebind) {\n                if (changes.pipSrcs && !_.isEqual(changes.pipSrcs.currentValue, changes.pipSrcs.previousValue)) {\n                    this.pipSrcs = changes.pipSrcs.currentValue;\n                    isChanged = true;\n                }\n                if (changes.pipPictureIds && !_.isEqual(changes.pipPictureIds.currentValue, changes.pipPictureIds.previousValue)) {\n                    this.pipPictureIds = changes.pipPictureIds.currentValue;\n                    isChanged = true;\n                }\n                if (changes.pipPictures && !_.isEqual(changes.pipPictures.currentValue, changes.pipPictures.previousValue)) {\n                    this.pipPictures = changes.pipPictures.currentValue;\n                    isChanged = true;\n                }\n            }\n\n            if (isChanged) {\n                this.generateContent();\n            }\n        }\n\n        public calculateResize(): void {\n            let ims = this.$element.find('img');\n            let i: number = 0;\n            for (i; i < ims.length; i++) {\n                let container = angular.element(ims[i].parentElement);\n                let image = angular.element(ims[i]);\n\n                if (image.css('display') != 'none') {\n                    this.pipPictureUtils.setImageMarginCSS(container, image);\n                }\n            }\n\n            let icns = this.$element.find('md-icon');\n\n            for (i; i < icns.length; i++) {\n                let container = angular.element(icns[i].parentElement);\n                let icn = angular.element(icns[i]);\n                if (container.css('display') != 'none') {\n                    this.pipPictureUtils.setIconMarginCSS(container[0], icn);\n                }\n            }\n        }\n\n        // Clean up url to remove broken icon\n        public onImageError($event: JQueryEventObject): void {\n            let image = $($event.target);\n            let container = image.parent();\n            let defaultBlock = container.children('div');\n            let defaultIcon = image.parent().find('md-icon');\n\n            defaultBlock.css('display', 'block');\n            image.css('display', 'none');\n            this.pipPictureUtils.setIconMarginCSS(container[0], defaultIcon);\n            defaultIcon.empty().append(this.svgData);\n        }\n\n        // When image is loaded resize/reposition it\n        public onImageLoad($event: JQueryEventObject) {\n            let image = $($event.target);\n            let container = image.parent();\n            let defaultBlock = container.children('div');\n\n            this.pipPictureUtils.setImageMarginCSS(container, image);\n            defaultBlock.css('display', 'none');\n        }\n\n        public getScheme(count: number): any {\n            let schemes = this.collageSchemes[count - 1];\n\n            // If nothing to choose from then return\n            if (schemes.length == 1) return schemes[0];\n\n            // Calculate unique had code\n            let uniqueCode: string = this.uniqueCode ? this.uniqueCode : '';\n            let hash = this.pipCodes.hash(uniqueCode);\n\n            // Return reproducable scheme by hash\n            return schemes[hash % schemes.length];\n        }\n\n        public getImageUrls(): string[] {\n            // Simply return sources\n            if (this.pipSrcs) {\n\n                return _.clone(this.pipSrcs);\n            }\n\n            let i: number;\n            let result: string[] = [];\n            // Calculate urls if picture ids are specified\n            if (this.pipPictureIds) {\n                for (i = 0; i < this.pipPictureIds.length; i++) {\n                    result.push(this.pipPictureData.getPictureUrl(this.pipPictureIds[i]));\n                }\n            } else if (this.pipPictures) {\n                for (i = 0; i < this.pipPictures.length; i++) {\n                    let url = this.pipPictures[i].uri ? this.pipPictures[i].uri : this.pipPictureData.getPictureUrl(this.pipPictures[i].id);\n                    result.push(url);\n                }\n            }\n\n            // Return an empty array otherwise\n            return result;\n        }\n\n        public generatePicture(urls: string[], scheme: any): string {\n            let url: string = urls[0];\n            let containerClasses: string = '';\n            let pictureClasses: string = '';\n\n            urls.splice(0, 1);\n\n            containerClasses += scheme.fullWidth ? ' pip-full-width' : '';\n            containerClasses += scheme.fullHeight ? ' pip-full-height' : '';\n            containerClasses += ' flex-' + scheme.flex;\n\n            pictureClasses += scheme.leftPadding ? ' pip-left' : '';\n            pictureClasses += scheme.rightPadding ? ' pip-right' : '';\n            pictureClasses += scheme.topPadding ? ' pip-top' : '';\n            pictureClasses += scheme.bottomPadding ? ' pip-bottom' : '';\n\n            if (this.allowOpen) {\n                return '<a class=\"pip-picture-container' + containerClasses + '\" flex=\"' + scheme.flex + '\" '\n                    + 'href=\"' + url + '\"  target=\"_blank\">'\n                    + '<div class=\"pip-picture' + pictureClasses + '\"><img src=\"' + url + '\"/>'\n                    + '<div><md-icon class=\"collage-error-icon\" md-svg-icon=\"icons:picture-no-border\"></md-icon></div></div></a>';\n            }\n\n            return '<div class=\"pip-picture-container' + containerClasses + '\" flex=\"' + scheme.flex + '\">'\n                + '<div class=\"pip-picture' + pictureClasses + '\"><img src=\"' + url + '\"/>'\n                + '<div><md-icon class=\"collage-error-icon\" md-svg-icon=\"icons:picture-no-border\"></md-icon></div></div></div>';\n        }\n\n        public generatePictureGroup(urls: string[], scheme: any): string {\n            let classes: string = '';\n            let result: string;\n            let i: number;\n\n            classes += scheme.fullWidth ? ' pip-full-width' : '';\n            classes += scheme.fullHeight ? ' pip-full-height' : '';\n            classes += ' flex-' + scheme.flex;\n            classes += ' layout-' + scheme.layout;\n\n            result = '<div class=\"pip-picture-group layout' + classes + '\" flex=\"'\n                + scheme.flex + '\" layout=\"' + scheme.layout + '\">';\n\n            // Generate content for children recursively\n            for (i = 0; i < scheme.children.length; i++) {\n                result += this.generate(urls, scheme.children[i]);\n            }\n            result += '</div>';\n\n            return result;\n        }\n\n        public generate(urls: string[], scheme: any): string {\n            if (scheme.group) {\n                return this.generatePictureGroup(urls, scheme);\n            }\n\n            return this.generatePicture(urls, scheme);\n        }\n\n        public generateContent(): void {\n            // Unbind previously defined actions handlers\n            this.$element.find('img')\n                .unbind('error')\n                .unbind('load');\n\n            // Clean up content\n            this.$element.empty();\n\n            // Calculate list of image urls\n            let urls: string[] = this.getImageUrls();\n            let scheme: any;\n            let html: string;\n\n            // And exit if nothing to show\n            if (urls.length == 0) {\n                this.$element.hide();\n\n                return;\n            }\n\n            // Limit collage only to one element if not specified otherwise\n            if (urls.length > 8) {\n                if (!this.multiple) {\n                    urls.length = 8;\n                }\n            }\n\n            if (urls.length <= 8) {\n                // Get scheme for visualization\n                scheme = this.getScheme(urls.length);\n\n                // Generate and add content\n                html = '<div class=\"pip-collage-section\">' + this.generate(urls, scheme) + '</div>';\n                html += '<div class=\"clearfix\"></div>';\n                this.$element.html(html);\n            } else {\n                html = '';\n\n                while (urls.length > 0) {\n                    let partialUrls = urls.splice(0, 8);\n\n                    // Get scheme for visualization\n                    scheme = this.getScheme(partialUrls.length);\n\n                    // Generate and add content\n                    html += '<div class=\"pip-collage-section\">' + this.generate(partialUrls, scheme) + '</div>';\n                }\n\n                html += '<div class=\"clearfix\"></div>';\n                this.$element.html(html);\n            }\n\n            // Bind events to images...\n            this.$element.find('img')\n                .bind('error', (event) => { this.onImageError(event); })\n                .bind('load', (event) => { this.onImageLoad(event); });\n\n            // Show the new element\n            this.$element.show();\n        }\n\n    }\n\n    const CollageComponent: ng.IComponentOptions = {\n        bindings: CollageBindings,\n        controller: CollageController\n    }\n\n    angular\n        .module('pipCollage', [])\n        .component('pipCollage', CollageComponent);\n}\n\n","export class Attachment {\n\n    public constructor(id?: string, uri?: string, name?: string) {\n        this.id = id;\n        this.uri = uri;\n        this.name = name;\n    }\n\n    public id?: string;\n    public uri?: string;\n    public name?: string;\n}\n","import { IAvatarDataService, IAvatarDataProvider, AvatarConfig } from './IAvatarDataService';\nimport { BlobInfo } from './BlobInfo';\n\nclass AvatarData implements IAvatarDataService {\n\n    constructor(\n        private _config: AvatarConfig,\n        private pipRest: pip.rest.IRestService\n    ) {\n         \"ngInject\";\n     }\n\n    public get AvatarRoute(): string {\n        return this._config.AvatarRoute;\n    }\n\n    public get ShowOnlyNameIcon(): boolean {\n        return this._config.ShowOnlyNameIcon;\n    }\n\n    public get DefaultInitial(): string {\n        return this._config.DefaultInitial;\n    }\n\n    public getAvatarUrl(id: any): string {\n        return this.pipRest.serverUrl + this._config.AvatarRoute + '/' + id;\n    }\n\n    public postAvatarUrl(): string {\n        return this.pipRest.serverUrl + this._config.AvatarRoute;\n    }\n\n    public deleteAvatar(id: string, successCallback?: () => void, errorCallback?: (error: any) => void): void {\n        let params = {};\n        params[this._config.AvatarFieldId] = id;\n        this.pipRest.getResource(this._config.AvatarResource).remove(\n            params,\n            null,\n            successCallback,\n            errorCallback\n        );\n    }\n\n    public createAvatar(data: any, successCallback?: (data: BlobInfo) => void,\n        errorCallback?: (error: any) => void, progressCallback?: (progress: number) => void): void {\n\n    }\n\n}\n\nclass AvatarDataProvider implements IAvatarDataProvider {\n    private _service: IAvatarDataService;\n    private _config: AvatarConfig;\n\n    constructor(\n        private pipRestProvider: pip.rest.IRestProvider\n    ) {\n        this._config = new AvatarConfig();\n        \n        this._config.AvatarRoute = '/api/1.0/avatars';\n        this._config.AvatarResource = 'avatars';\n        this._config.AvatarFieldId = 'avatar_id';\n        this._config.ShowOnlyNameIcon = false;\n        this._config.DefaultInitial = '&';\n    }\n\n    public get AvatarRoute(): string {\n        return this._config.AvatarRoute;\n    }\n\n    public set AvatarRoute(value: string) {\n        this._config.AvatarRoute = value;\n        this.pipRestProvider.registerOperation('avatars', this._config.AvatarRoute + '/:avatar_id');\n    }\n\n    public get AvatarResource(): string {\n        return this._config.AvatarResource;\n    }\n\n    public set AvatarResource(value: string) {\n        this._config.AvatarResource = value;\n    }\n\n    public get AvatarFieldId(): string {\n        return this._config.AvatarFieldId;\n    }\n\n    public set AvatarFieldId(value: string) {\n        this._config.AvatarFieldId = value;\n    }\n\n    public get ShowOnlyNameIcon(): boolean {\n        return this._config.ShowOnlyNameIcon;\n    }\n\n    public set ShowOnlyNameIcon(value: boolean) {\n        this._config.ShowOnlyNameIcon = value;\n    }\n\n    public get DefaultInitial(): string {\n        return this._config.DefaultInitial;\n    }\n\n    public set DefaultInitial(value: string) {\n        this._config.DefaultInitial = value;\n    }\n\n    public $get(\n        pipRest: pip.rest.IRestService\n    ) {\n        \"ngInject\";\n\n        if (this._service == null) {\n            this._service = new AvatarData(this._config, pipRest);\n        }\n\n        return this._service;\n    }\n\n}\n\n\nangular\n    .module('pipAvatarData', ['pipRest'])\n    .provider('pipAvatarData', AvatarDataProvider);\n\n\n","export class BlobInfo {\n\n    public constructor(id: string, group: string, name: string, size?: number,\n        content_type?: string, create_time?: Date, expire_time?: Date, completed?: boolean) {\n        this.id = id;\n        this.group = group;\n        this.name = name;\n        this.size = size;\n        this.content_type = content_type;\n        this.create_time = create_time;\n        this.expire_time = expire_time;\n        this.completed = completed;\n    }\n\n    /* Identification */\n    public id: string;\n    public group: string;\n    public name: string;\n\n    /* Content */\n    public size: number;\n    public content_type: string;\n    public create_time: Date;\n    public expire_time: Date;\n    public completed: boolean;\n}","export class DataPage<T> {\n    public constructor(data: T[] = null, total: number = null) {\n\t\tthis.total = total;\n\t\tthis.data = data;\n\t}\n\n    public total: number;\n    public data: T[];\n}","import { BlobInfo } from './BlobInfo';\n\nexport class AvatarConfig {\n    // custom avatar route\n    public AvatarRoute: string;\n    // custom avatar resource name\n    public AvatarResource: string;\n    public AvatarFieldId: string;\n    // show only first letter for name as avatar \n    public ShowOnlyNameIcon: boolean;\n    // default first name  letter\n    public DefaultInitial: string;\n}\n\nexport const colorClasses = [\n    'pip-avatar-color-0', 'pip-avatar-color-1', 'pip-avatar-color-2', 'pip-avatar-color-3',\n    'pip-avatar-color-4', 'pip-avatar-color-5', 'pip-avatar-color-6', 'pip-avatar-color-7',\n    'pip-avatar-color-8', 'pip-avatar-color-9', 'pip-avatar-color-10', 'pip-avatar-color-11',\n    'pip-avatar-color-12', 'pip-avatar-color-13', 'pip-avatar-color-14', 'pip-avatar-color-15'\n];\n\nexport const colors = [\n    'rgba(239,83,80,1)', 'rgba(236,64,122,1)', 'rgba(171,71,188,1)',\n    'rgba(126,87,194,1)', 'rgba(92,107,192,1)', 'rgba(3,169,244,1)',\n    'rgba(0,188,212,1)', 'rgba(0,150,136,1)', 'rgba(76,175,80,1)',\n    'rgba(139,195,74,1)', 'rgba(205,220,57,1)', 'rgba(255,193,7,1)',\n    'rgba(255,152,0,1)', 'rgba(255,87,34,1)', 'rgba(121,85,72,1)',\n    'rgba(96,125,139,1)'\n];\n\nexport interface IAvatarDataService {\n    AvatarRoute: string;\n    ShowOnlyNameIcon: boolean;\n    DefaultInitial: string;\n\n    getAvatarUrl(id: any): string;\n    postAvatarUrl(): string;\n\n    deleteAvatar(id: string, successCallback?: () => void, errorCallback?: (error: any) => void): void;\n    createAvatar(data: any, successCallback?: (data: BlobInfo) => void,\n        errorCallback?: (error: any) => void, progressCallback?: (progress: number) => void): void;\n}\n\nexport interface IAvatarDataProvider extends ng.IServiceProvider {\n    AvatarRoute: string;\n    AvatarResource: string;\n    DefaultInitial: string;\n    ShowOnlyNameIcon: boolean;\n    AvatarFieldId: string;    \n}\n","import { BlobInfo } from './BlobInfo';\nimport { DataPage } from './DataPage';\n\nexport class PictureConfig {\n    public PictureRoute: string;\n    public DefaultErrorIcon: string;\n    public ShowErrorIcon: boolean;\n}\n\nexport interface IPictureDataService {\n    PictureRoute: string;\n    DefaultErrorIcon: string;\n    ShowErrorIcon: boolean;\n\n    getPictureUrl(id: string): string;\n    postPictureUrl(): string\n    readPictures(params: any, successCallback?: (data: DataPage<BlobInfo>) => void, errorCallback?: (error: any) => void): angular.IPromise<any>\n    readPictureInfo(params: any, successCallback?: (data: BlobInfo) => void, errorCallback?: (error: any) => void): angular.IPromise<any>;\n    readPicture(id: string, successCallback?: (data: any) => void, errorCallback?: (error: any) => void): angular.IPromise<any>;\n    deletePicture(id: string, successCallback?: () => void, errorCallback?: (error: any) => void): void;    \n}\n\n\nexport interface IPictureDataProvider extends ng.IServiceProvider {\n    PictureRoute: string;\n    DefaultErrorIcon: string;\n    ShowErrorIcon: boolean;\n\n    getPictureUrl(id: string): string;\n}\n","export class Image {\n    title: string;\n    link: string;\n    thumbnail: string;\n}\n","import { Attachment } from './Attachment';\n\nexport class ImageSet {\n\n    public constructor(id: string, title: string, picIds?: string[], create_time?: Date) {\n        this.id = id;\n        this.title = title;\n        this.pics = [];\n        this.create_time = create_time;\n    }\n\n    /* Identification */\n    public id: string;\n\n    /* Automatically set fields */\n    public create_time: Date;\n\n    /* Content */\n    public title: string;\n    public pics?: Attachment[];\n\n    /* Search */\n    public tags?: string[];\n    public all_tags?: string[];\n}","import { IImageSetDataService } from './IImageSetDataService';\nimport { ImageSet } from './ImageSet';\nimport { DataPage } from './DataPage';\n\nclass ImageSetData implements IImageSetDataService {\n    private RESOURCE: string = 'imagesets';\n\n    constructor(\n        private pipRest: pip.rest.IRestService,\n        private pipFormat: pip.services.IFormat\n\n    ) {\n        \"ngInject\";\n    }\n\n    public readImageSets(params: any, successCallback?: (data: DataPage<ImageSet>) => void,\n        errorCallback?: (error: any) => void): ng.IPromise<any> {\n\n        params = params || {};\n        // if (params.filter) {\n        //     params.filer = this.pipFormat.filterToString(params.filer);\n        // }\n\n        return this.pipRest.getResource(this.RESOURCE).page(params, successCallback, errorCallback);\n    }\n\n    public readImageSet(id: string, successCallback?: (data: ImageSet) => void,\n        errorCallback?: (error: any) => void): ng.IPromise<any> {\n\n        return this.pipRest.getResource(this.RESOURCE).get(\n            { imagesets_id: id },\n            successCallback,\n            errorCallback\n        );\n    }\n\n    public updateImageSet(id: string, data: ImageSet, successCallback?: (data: ImageSet) => void,\n        errorCallback?: (error: any) => void): void {\n\n        this.pipRest.getResource(this.RESOURCE).update(\n            { imagesets_id: id },\n            data,\n            successCallback,\n            errorCallback\n        );\n\n    }\n\n    public createImageSet(data: ImageSet, successCallback?: (data: any) => void,\n        errorCallback?: (error: any) => void): void {\n\n        this.pipRest.getResource(this.RESOURCE).save(\n            null,\n            data,\n            successCallback,\n            errorCallback\n        );\n    }\n\n\n    public deleteImageSet(id: string, successCallback?: () => void,\n        errorCallback?: (error: any) => void): void {\n\n        this.pipRest.getResource(this.RESOURCE).remove(\n            { imagesets_id: id },\n            null,\n            successCallback,\n            errorCallback\n        );\n    }\n}\n\nangular\n    .module('pipImageSetData', ['pipRest'])\n    .service('pipImageSetData', ImageSetData);\n\n","import { IPictureDataService, IPictureDataProvider, PictureConfig } from './IPictureDataService';\nimport { BlobInfo } from './BlobInfo';\nimport { DataPage } from './DataPage';\n\nclass PictureData implements IPictureDataService {\n    private RESOURCE: string = 'picture';\n    private RESOURCE_INFO: string = 'pictureInfo';\n\n    constructor(\n        private _config: PictureConfig,\n        private pipFormat: pip.services.IFormat,\n        private pipRest: pip.rest.IRestService\n    ) {\n        \"ngInject\";\n    }\n\n    public get PictureRoute(): string {\n        return this._config.PictureRoute;\n    }\n\n    public get ShowErrorIcon(): boolean {\n        return this._config.ShowErrorIcon;\n    }\n    \n    public get DefaultErrorIcon(): string {\n        return this._config.DefaultErrorIcon;\n    }\n\n    public getPictureUrl(id: string): string {\n        return this.pipRest.serverUrl + this._config.PictureRoute + '/' + id;\n    }\n\n    public postPictureUrl(): string {\n        return this.pipRest.serverUrl + this._config.PictureRoute;\n    }\n\n    public readPictures(params: any, successCallback?: (data: DataPage<BlobInfo>) => void, errorCallback?: (error: any) => void): angular.IPromise<any> {\n        params = params || {};\n        if (params.filter) {\n            params.filer = this.pipFormat.filterToString(params.filer);\n        }\n\n        return this.pipRest.getResource(this.RESOURCE).page(params, successCallback, errorCallback);\n    }\n\n    public readPictureInfo(params: any, successCallback?: (data: BlobInfo) => void, errorCallback?: (error: any) => void): angular.IPromise<any> {\n        params = params || {};\n        if (params.filter) {\n            params.filer = this.pipFormat.filterToString(params.filer);\n        }\n\n        return this.pipRest.getResource(this.RESOURCE_INFO).get(params, successCallback, errorCallback);\n    }\n\n    public readPicture(id: string, successCallback?: (data: any) => void, errorCallback?: (error: any) => void): angular.IPromise<any> {\n\n        return this.pipRest.getResource(this.RESOURCE).get({\n            picture_id: id\n        }, successCallback, errorCallback);\n    }\n\n    public deletePicture(id: string, successCallback?: () => void, errorCallback?: (error: any) => void): void {\n        this.pipRest.getResource(this.RESOURCE).remove(\n            { picture_id: id },\n            null,\n            successCallback,\n            errorCallback\n        );\n    }\n}\n\nclass PictureDataProvider implements IPictureDataProvider {\n    private _service: IPictureDataService;\n    private _config: PictureConfig;\n\n    constructor(\n        private pipRestProvider: pip.rest.IRestProvider\n    ) {\n        this._config = new PictureConfig();\n\n        this._config.PictureRoute = '/api/1.0/blobs';\n        this._config.ShowErrorIcon = true;\n        this._config.DefaultErrorIcon = 'picture-no-border';\n    }\n\n    public get PictureRoute(): string {\n        return this._config.PictureRoute;\n    }\n\n    public getPictureUrl(id: string): string {\n        return this.pipRestProvider.serverUrl + this._config.PictureRoute + '/' + id;\n    }\n\n    public set PictureRoute(value: string) {\n        this._config.PictureRoute = value;\n\n        this.pipRestProvider.registerOperation('pictures', this._config.PictureRoute + '/:picture_id');\n    }\n\n    public get DefaultErrorIcon(): string {\n        return this._config.DefaultErrorIcon;\n    }\n\n    public set DefaultErrorIcon(value: string) {\n        this._config.DefaultErrorIcon = value;\n\n        this.pipRestProvider.registerOperation('pictures', this._config.PictureRoute + '/:picture_id');\n    }\n\n    public get ShowErrorIcon(): boolean {\n        return this._config.ShowErrorIcon;\n    }\n\n    public set ShowErrorIcon(value: boolean) {\n        this._config.ShowErrorIcon = value;\n    }\n\n    public $get(\n        pipRest: pip.rest.IRestService,\n        pipFormat: pip.services.IFormat\n    ) {\n        \"ngInject\";\n\n        if (this._service == null) {\n            this._service = new PictureData(this._config, pipFormat, pipRest);\n        }\n\n        return this._service;\n    }\n\n}\n\n\nangular\n    .module('pipPictureData', ['pipRest'])\n    .provider('pipPictureData', PictureDataProvider);\n","﻿import { GallerySearchDialogParams } from './IGallerySearchDialogService'\nimport { IImageSetDataService, IPictureDataService, DataPage, Attachment, ImageSet } from '../data';\n\n\n\nconst ConfigGallerySearchDialogTranslations = (pipTranslateProvider: pip.services.ITranslateProvider) => {\n    pipTranslateProvider.translations('en', {\n        'IMAGE_GALLERY': 'Add from image gallery',\n        'SEARCH_PICTURES': 'Search for pictures...',\n        'IMAGE_START_SEARCH': 'Images will appear here once you start searching'\n    });\n    pipTranslateProvider.translations('ru', {\n        'IMAGE_GALLERY': 'Добавить из галереи изображений',\n        'SEARCH_PICTURES': 'Поиск изображений...',\n        'IMAGE_START_SEARCH': 'Картинки появятся после начала поиска'\n    });\n}\n\nclass GallerySearchDialogImage {\n    public checked: boolean;\n    public url: string;\n    public thumbnail: any\n    public item: Attachment\n}\n\nclass GallerySearchDialogController extends GallerySearchDialogParams {\n\n    public theme: string;\n\n    public prevSearch: string = '';\n    private url: string;\n    public images: any[];\n    public imagesSearchResult: any[];\n    public search: string;\n    public transaction: pip.services.Transaction;\n\n    constructor(\n        private $log: ng.ILogService,\n        private $mdDialog: angular.material.IDialogService,\n        private $rootScope: ng.IRootScopeService,\n        private $timeout: ng.ITimeoutService,\n        private $mdMenu,\n        public multiple: boolean,\n        private $http: ng.IHttpService,\n        private pipRest: pip.rest.IRestService,\n        private pipTransaction: pip.services.ITransactionService,\n        private pipImageSetData: IImageSetDataService,\n        private pipPictureData: IPictureDataService\n    ) {\n        \"ngInject\";\n\n        super();\n\n        // this.url = this.pipRest.serverUrl + '/api/images/search';\n        this.images = [];\n        this.theme = this.$rootScope[pip.themes.ThemeRootVar];\n        this.search = '';\n        this.imagesSearchResult = [];\n        this.transaction = this.pipTransaction.create('search');\n\n        this.focusSearchText();\n    }\n\n    public onSearchClick(): void {\n        if (this.transaction.busy()) return;\n\n        if (this.search == '' || this.search == this.prevSearch) return;\n\n        this.prevSearch = this.search;\n        this.imagesSearchResult = [];\n\n        // let requestUrl: string = this.url + '?q=' + this.search;\n\n        let transactionId: string = this.transaction.begin('ENTERING');\n        if (!transactionId) return;\n\n        this.pipImageSetData.readImageSets(\n            {\n                Search: this.search\n            },\n            (result: DataPage<ImageSet>) => {\n                if (this.transaction.aborted(transactionId)) return;\n\n                _.each(result.data, (item: ImageSet) => { // todo add type to image_set\n                    _.each(item.pics, (img: Attachment) => {\n                        let newImage: GallerySearchDialogImage = {\n                            checked: false,\n                            url: img.uri ? img.uri : this.pipPictureData.getPictureUrl(img.id),\n                            item: img,\n                            // todo ?? thumbnail\n                            thumbnail: img.uri ? img.uri : this.pipPictureData.getPictureUrl(img.id)\n                        };\n                        this.imagesSearchResult.push(newImage);\n                    })\n\n                })\n\n                this.transaction.end();\n            },\n            (error) => {\n                this.transaction.end(error);\n                this.$log.error(error);\n            }\n        )\n    } Attachment\n\n    public onStopSearchClick(): void {\n        this.transaction.abort();\n        this.prevSearch = '';\n    }\n\n    public onKeyPress($event: KeyboardEvent): void {\n        if ($event.keyCode === 13) {\n            this.onSearchClick();\n        }\n    }\n\n    public onImageClick(image: GallerySearchDialogImage): void {\n        if (this.transaction.busy()) { return; }\n\n        image.checked = !image.checked;\n\n        if (this.multiple) {\n            if (image.checked) {\n                this.images.push(image);\n            } else {\n                _.remove(this.images, { url: image.url });\n            }\n        } else {\n            if (image.checked) {\n                if (this.images.length > 0) {\n                    this.images[0].checked = false;\n                    this.images[0] = image;\n                } else {\n                    this.images.push(image);\n                }\n            } else {\n                this.images = [];\n            }\n        }\n    }\n\n    public onAddClick(): void {\n        if (this.transaction.busy()) { return; }\n\n        let result: Attachment[] = [];\n        this.images.forEach((image: GallerySearchDialogImage) => {\n            if (image.checked) {\n                result.push(image.item);\n            }\n        });\n        this.$mdDialog.hide(result);\n    }\n\n    public onCancelClick(): void {\n        this.$mdDialog.cancel();\n    }\n\n    public addButtonDisabled(): boolean {\n        return this.images.length == 0 || this.transaction.busy();\n    }\n\n    public focusSearchText(): void {\n        setTimeout(() => {\n            let element = $('.pip-gallery-search-dialog .search-images');\n            if (element.length > 0) {\n                element.focus();\n            }\n        }, 0);\n    }\n}\n\n\n\nangular\n    .module('pipGallerySearchDialog')\n    .config(ConfigGallerySearchDialogTranslations)\n    .controller('pipGallerySearchController', GallerySearchDialogController);","import { IGallerySearchDialogService, GallerySearchDialogParams } from './IGallerySearchDialogService';\nimport { Attachment } from '../data';\n\nclass GallerySearchDialogService implements IGallerySearchDialogService {\n    private _mdDialog: angular.material.IDialogService;\n\n    constructor($mdDialog: angular.material.IDialogService) {\n        this._mdDialog = $mdDialog;\n    }\n\n    public show(params: GallerySearchDialogParams, successCallback?: (result: Attachment[]) => void, cancelCallback?: () => void) {\n        this._mdDialog.show({\n            templateUrl: 'gallery_search_dialog/GallerySearchDialog.html',\n            clickOutsideToClose: true,\n            controller: 'pipGallerySearchController',\n            controllerAs: '$ctrl',\n            locals: params\n        })\n            .then(\n            (result: Attachment[]) => {\n                if (successCallback) {\n                    successCallback(result);\n                }\n            });\n    }\n\n}\n\nangular\n    .module('pipGallerySearchDialog')\n    .service('pipGallerySearchDialog', GallerySearchDialogService);","import { Attachment } from '../data';\n\nexport class GallerySearchDialogParams {\n    public multiple: boolean;\n}\n\nexport interface IGallerySearchDialogService {\n    show(params: GallerySearchDialogParams, successCallback?: (result: Attachment[][]) => void, cancelCallback?: () => void): any;\n}\n\n","angular\n    .module('pipGallerySearchDialog',\n        ['ngMaterial', 'pipPictures.Templates', 'pipCommonRest']);\n\nimport './IGallerySearchDialogService';\nimport './GallerySearchDialogService';\nimport './GallerySearchDialogController';\n\n\nexport * from './IGallerySearchDialogService';\n\n","import { IPictureUtilsService } from '../utilities/IPictureUtils';\nimport { IPictureDataService, Attachment } from '../data';\n\n{\n    interface IPictureBindings {\n        [key: string]: any;\n\n        src: any;\n        pictureId: any;\n        pipPicture: any;\n        defaultIcon: any;\n        pipRebind: any;\n    }\n\n    const PictureBindings: IPictureBindings = {\n        src: '<?pipSrc',\n        pictureId: '<?pipPictureId',\n        pipPicture: '<?',\n        defaultIcon: '<?pipDefaultIcon',\n        pipRebind: '<?'\n    }\n\n    class PictureBindingsChanges implements ng.IOnChangesObject, IPictureBindings {\n        [key: string]: ng.IChangesObject<any>;\n\n        src: ng.IChangesObject<string>;\n        pictureId: ng.IChangesObject<string>;\n        pipPicture: ng.IChangesObject<Attachment>;\n        defaultIcon: ng.IChangesObject<string>;\n        pipRebind: ng.IChangesObject<boolean>;\n    }\n\n    class PictureController {\n        private imageElement: any;\n        private defaultBlock: any;\n\n        public src: string;\n        public pictureId: string;\n        public pipPicture: Attachment;\n        public defaultIcon: string;\n        public pipRebind: boolean;\n\n        private postLink: boolean = false;\n        public errorText: string;\n        constructor(\n            private $scope: ng.IScope,\n            private $rootScope: ng.IRootScopeService,\n            private $element: JQuery,\n            private pipPictureUtils: IPictureUtilsService,\n            private pipPictureData: IPictureDataService\n        ) {\n            \"ngInject\";\n\n            this.errorText = 'PICTURE_ERROR_LOAD';\n\n            // Add class\n            this.$element.addClass('pip-picture');\n        }\n\n        public $postLink() {\n            this.imageElement = this.$element.children('img');\n            this.defaultBlock = this.$element.children('div');\n            this.defaultIcon = this.defaultIcon ? this.defaultIcon : this.pipPictureData.DefaultErrorIcon;\n            this.postLink = true;\n            this.bindControl();\n        }\n\n        public $onChanges(changes: PictureBindingsChanges): void {\n            if (changes.pipRebind && changes.pipRebind.currentValue !== changes.pipRebind.previousValue) {\n                this.pipRebind = changes.pipRebind.currentValue;\n            }\n\n            let isDataChange: boolean = false;\n            if (this.pipRebind) {\n                if (changes.src && changes.src.currentValue !== changes.src.previousValue) {\n                    this.src = changes.src.currentValue;\n                    isDataChange = true;\n                }\n\n                if (changes.pictureId && changes.pictureId.currentValue !== changes.pictureId.previousValue) {\n                    this.pictureId = changes.pictureId.currentValue;\n                    isDataChange = true;\n                }\n\n                if (changes.pipPicture && !_.isEqual(changes.pipPicture.currentValue, changes.pipPicture.previousValue)) {\n                    this.pipPicture = changes.pipPicture.currentValue;\n                    isDataChange = true;\n                }\n\n                if (changes.defaultIcon && changes.defaultIcon.currentValue !== changes.defaultIcon.previousValue) {\n                    this.defaultIcon = changes.defaultIcon.currentValue;\n                    this.defaultIcon = this.defaultIcon ? this.defaultIcon : this.pipPictureData.DefaultErrorIcon;\n                }\n            }\n\n            if (isDataChange && this.postLink) {\n                this.bindControl();\n            }\n        }\n\n        // Clean up url to remove broken icon\n        public onImageError($event: JQueryEventObject): void {\n            if (this.pipPictureData.ShowErrorIcon) {\n                this.$scope.$apply(() => {\n                    this.imageElement.css('display', 'none');\n                    this.defaultBlock.css('display', 'block');\n                });\n            } else {\n                this.$scope.$apply(() => {\n                    this.defaultBlock.css('display', 'none');\n                });\n            }\n        }\n\n        // When image is loaded resize/reposition it\n        public onImageLoad($event: JQueryEventObject): void {\n            let image: any = $($event.target);\n            this.pipPictureUtils.setImageMarginCSS(this.$element, image);\n            this.$element.children('div').css('display', 'none');\n        }\n\n        public bindControl(): void {\n            let url;\n            if (this.pictureId) {\n                url = this.pipPictureData.getPictureUrl(this.pictureId);\n                this.imageElement.attr('src', url);\n            } else if (this.src) {\n                this.imageElement.attr('src', this.src);\n            } else if (this.pipPicture) {\n                url = this.pipPicture.uri ? this.pipPicture.uri : this.pipPictureData.getPictureUrl(this.pipPicture.id);\n                this.imageElement.attr('src', url);\n            }\n        }\n    }\n\n    const PictureComponent: ng.IComponentOptions = {\n        bindings: PictureBindings,\n        template: '<img ui-event=\"{ error: \\'$ctrl.onImageError($event)\\', load: \\'$ctrl.onImageLoad($event)\\' }\"/>'\n        + '<div class=\"pip-picture-error\"><md-icon md-svg-icon=\"icons:{{$ctrl.defaultIcon}}\"></md-icon><div class=\"pip-default-text\"><span>{{ $ctrl.errorText | translate }}</span></div></div>',\n        controller: PictureController\n    }\n\n    angular\n        .module('pipPicture', [])\n        .component('pipPicture', PictureComponent);\n}\n","import { IPictureUtilsService } from '../utilities/IPictureUtils';\nimport { PicturePaste } from '../utilities/PicturePaste';\nimport { IPictureDataService, Attachment } from '../data';\nimport { AddImageResult } from '../add_image/AddImageResult';\n\nexport class PictureEditControl {\n    public reset: (afterDeleting?: boolean) => void;\n    public save: (successCallback?: (response?: Attachment) => void, errorCallback?: (error?: any) => void) => void;\n    public abort: () => void;\n    public error?: any;\n\n    public disabled: boolean = false;\n    public url: string = '';\n    public uriData: any;\n    public uri: string;\n    public id: string;\n    public name: string;\n    public progress: number = 0;\n    public uploaded: boolean = false;\n    public uploading: boolean = false;\n    public upload: boolean = false;\n    public loaded: boolean = false;\n    public file: any = null;\n    public state: string = PictureStates.Original;\n}\n\nexport class PictureStates {\n    static Original: string = 'original';\n    static Copied: string = 'copied';\n    static Changed: string = 'changed';\n    static Deleted: string = 'deleted';\n    static Error: string = 'error';\n}\n\n{\n\n    const ConfigPictureEditTranslations = (pipTranslateProvider: pip.services.ITranslateProvider) => {\n        pipTranslateProvider.translations('en', {\n            ERROR_WRONG_IMAGE_FILE: 'Incorrect image file. Please, choose another one',\n            PICTURE_EDIT_TEXT: 'Click here to upload a picture',\n            PICTURE_ERROR_LOAD: 'Error image loading'\n        });\n        pipTranslateProvider.translations('ru', {\n            ERROR_WRONG_IMAGE_FILE: 'Неправильный файл с изображением. Выберете другой файл',\n            PICTURE_EDIT_TEXT: 'Нажмите сюда для загрузки картинки',\n            PICTURE_ERROR_LOAD: 'Ошибка загрузки картинки'\n        });\n    }\n\n\n    class SenderEvent {\n        sender: PictureEditControl;\n    }\n\n    class PictureEvent {\n        $event: SenderEvent;\n        $control: PictureEditControl;\n    }\n\n    interface IPictureEditBindings {\n        [key: string]: any;\n\n        ngDisabled: any;\n        pipCreated: any;\n        pipChanged: any;\n        pipPictureId: any;\n        pipPicture: any;\n        pipAddedPicture: any;\n        text: any;\n        icon: any;\n        pipRebind: any;\n    }\n\n    const PictureEditBindings: IPictureEditBindings = {\n        ngDisabled: '<?',\n        pipCreated: '&?',\n        pipChanged: '&?',\n        pipPictureId: '=?',\n        pipPicture: '=?',\n        pipAddedPicture: '&?',\n        text: '<?pipDefaultText',\n        icon: '<?pipDefaultIcon',\n        pipRebind: '<?',\n    }\n\n    class PictureEditBindingsChanges implements ng.IOnChangesObject, IPictureEditBindings {\n        [key: string]: ng.IChangesObject<any>;\n\n        ngDisabled: ng.IChangesObject<boolean>;\n        pipCreated: ng.IChangesObject<(params: PictureEvent) => ng.IPromise<void>>;\n        pipChanged: ng.IChangesObject<(params: PictureEvent) => ng.IPromise<void>>;\n        pipPictureId: ng.IChangesObject<string>;\n        pipPicture: ng.IChangesObject<Attachment>;\n        pipAddedPicture: ng.IChangesObject<() => boolean>;\n        text: ng.IChangesObject<string>;\n        icon: ng.IChangesObject<string>;\n        pipRebind: ng.IChangesObject<boolean>;\n    }\n\n    class PictureEditController {\n        private controlElement: any;\n        private inputElement: any;\n        private pipPicturePaste: PicturePaste;\n        private pictureStartState: string;\n\n        public ngDisabled: boolean;\n        public pipCreated: (params: PictureEvent) => void;\n        public pipChanged: (params: PictureEvent) => void;\n        public text: string;\n        public icon: string;\n        public pipPictureId: string;\n        public pipPicture: Attachment;\n        public pipAddedPicture: () => boolean;\n        public pipRebind: boolean;\n\n        public multiUpload: boolean;\n        public errorText: string;\n\n        public control: PictureEditControl;\n\n        constructor(\n            private $log: ng.ILogService,\n            private $scope: ng.IScope,\n            private $rootScope: ng.IRootScopeService,\n            private $element: JQuery,\n            private pipPictureData: IPictureDataService,\n            private pipPictureUtils: IPictureUtilsService,\n            private $timeout: ng.ITimeoutService,\n            private pipFileUpload: pip.files.IFileUploadService\n        ) {\n            \"ngInject\";\n            this.pipPicturePaste = new PicturePaste($timeout);\n            this.pictureStartState = this.pipAddedPicture ? PictureStates.Copied : PictureStates.Original;\n\n            this.text = this.text || 'PICTURE_EDIT_TEXT';\n            this.icon = this.icon || 'picture-no-border';\n            this.errorText = 'PICTURE_ERROR_LOAD';\n\n            this.multiUpload = false;\n\n            this.control = new PictureEditControl();\n            this.control.state = this.pictureStartState;\n            this.control.reset = (afterDeleting: boolean) => {\n                this.resetImage(afterDeleting);\n            }\n            this.control.save = (successCallback?: (response?: Attachment) => void, errorCallback?: (error?: any) => void): void => {\n                this.saveImage(successCallback, errorCallback);\n            }\n            this.control.abort = (): void => {\n                this.abort();\n            }\n            // Add class\n            $element.addClass('pip-picture-edit');\n        }\n\n        public $postLink() {\n            this.controlElement = this.$element.children('.pip-picture-upload');\n            this.inputElement = this.controlElement.children('input[type=file]');\n            // Initialize control\n            this.control.reset();\n\n            // Execute callback\n            if (this.pipCreated) {\n                this.pipCreated({\n                    $event: { sender: this.control },\n                    $control: this.control\n                });\n            }\n        }\n\n        public abort(): void {\n            if (this.control.uploading) {\n                this.control.uploaded = false;\n                this.control.uploading = false;\n                this.control.progress = 0;\n                this.control.upload = null;\n            }\n        }\n\n        public $onChanges(changes: PictureEditBindingsChanges): void {\n            if (changes.pipRebind && changes.pipRebind.currentValue !== changes.pipRebind.previousValue) {\n                this.pipRebind = changes.pipRebind.currentValue;\n            }\n\n            let change = false;\n\n            if (changes.ngDisabled && changes.ngDisabled.currentValue !== changes.ngDisabled.previousValue) {\n                this.ngDisabled = changes.ngDisabled.currentValue;\n                this.control.disabled = this.ngDisabled; // ???\n                if (this.inputElement) {\n                    this.inputElement.attr('disabled', this.control.disabled);\n                }\n            }\n\n            if (this.pipRebind) {\n                if (changes.pipPictureId && changes.pipPictureId.currentValue !== this.pipPictureId) {\n                    this.pipPictureId = changes.pipPictureId.currentValue;\n                    change = true;\n                }\n            }\n\n            if (this.pipRebind) {\n                if (changes.pipPicture && !_.isEqual(changes.pipPicture.currentValue, this.pipPicture)) {\n                    this.pipPicture = changes.pipPicture.currentValue;\n                    change = true;\n                }\n            }\n            if (change) {\n                this.control.reset();\n            }\n        }\n\n        public resetImage(afterDeleting: boolean): void {\n            this.control.progress = 0;\n            this.control.uploading = false;\n            this.control.uploaded = false;\n            this.control.file = null;\n            this.control.state = this.pictureStartState;\n            this.control.url = '';\n            this.control.uri = null;\n            this.control.name = null;\n            this.control.uriData = null;\n            this.control.id = null;\n            var url = '';\n            if (!afterDeleting) {\n                if (this.pipPictureId) {\n                    url = this.pipPictureData.getPictureUrl(this.pipPictureId);\n                } else if (this.pipPicture) {\n                    url = this.pipPicture.uri ? this.pipPicture.uri : this.pipPicture.id ? this.pipPictureData.getPictureUrl(this.pipPicture.id) : null;\n                    this.control.uri = this.pipPicture.uri;\n                    this.control.name = this.pipPicture.name;\n                    this.control.id = this.pipPicture.id;\n                }\n                if (!url) return;\n\n                this.control.url = url;\n                this.control.uploaded = true;\n                this.onChange();\n            } else {\n                this.onChange();\n            }\n        }\n\n        public onFocus(): void {\n            this.pipPicturePaste.addPasteListener((item) => {\n                this.readItemLocally(item.url, item.uriData, item.file, item.picture);\n            });\n        }\n\n        public onBlur(): void {\n            this.pipPicturePaste.removePasteListener();\n        };\n\n        public savePicture(successCallback?: (response?: Attachment) => void, errorCallback?: (error?: any) => void): void {\n            if (this.control.id) {\n                this.control.uploading = false;\n                this.pipPicture = {\n                    id: this.control.id,\n                    uri: this.control.uri,\n                    name: this.control.name\n                }\n                this.pictureStartState = PictureStates.Original;\n                this.control.reset();\n                if (successCallback) {\n                    successCallback(this.pipPicture);\n                }\n            }\n            else if (this.control.file !== null) {\n                this.control.uploading = true;\n                this.pipFileUpload.upload(\n                    this.control.file,\n                    this.pipPictureData.postPictureUrl(),\n                    (data: any, error: any) => {\n                        if (!error) {\n                            this.pipPictureId = data.id;\n                            this.pipPicture = {\n                                id: data.id,\n                                uri: null,\n                                name: data.name\n                            }\n                            this.pictureStartState = PictureStates.Original;\n                            this.control.reset();\n                            if (successCallback) {\n                                successCallback(this.pipPicture);\n                            }\n                        } else {\n                            this.control.uploading = false;\n                            this.control.upload = false;\n                            this.control.progress = 0;\n                            this.pictureStartState = PictureStates.Error;\n                            if (errorCallback) {\n                                errorCallback(error);\n                            } else {\n                                this.$log.error(error);\n                            }\n                        }\n                    },\n                    (state: pip.files.FileUploadState, progress: number) => {\n                        this.control.progress = progress;\n                    }\n                );\n            } else if (this.control.uri && this.pipPicture) {\n                this.control.uploading = false;\n                if (this.control.uri) {\n                    this.pipPicture = {\n                        id: this.control.id,\n                        uri: this.control.uri,\n                        name: this.control.name\n                    }\n                    this.pictureStartState = PictureStates.Original;\n                    this.control.reset();\n                    if (successCallback) {\n                        successCallback(this.pipPicture);\n                    }\n                }\n            }\n        }\n\n        public deletePicture(successCallback?: (response?: any) => void, errorCallback?: (error?: any) => void): void {\n            if (this.pipPictureId) {\n                this.pipPictureData.deletePicture(\n                    this.pipPictureId,\n                    () => {\n                        this.pipPictureId = null;\n                        this.control.reset(true);\n\n                        if (successCallback) successCallback();\n                    },\n                    (error: any) => {\n                        this.control.uploading = false;\n                        this.control.upload = false;\n                        this.control.progress = 0;\n                        this.control.state = PictureStates.Error;\n\n                        if (errorCallback) {\n                            errorCallback(error);\n                        } else {\n                            this.$log.error(error);\n                        }\n                    });\n            } else {\n                this.control.uploading = false;\n                this.pipPicture = {\n                    id: null,\n                    uri: null,\n                    name: null\n                }\n\n                this.control.reset(true);\n                if (successCallback) successCallback(this.pipPicture);\n            }\n        }\n\n        public saveImage(successCallback?: (response?: any) => void, errorCallback?: (error?: any) => void): void {\n            // Process changes of the image\n            if (this.control.state == PictureStates.Changed) {\n                this.savePicture(successCallback, errorCallback);\n            }\n            // Process deletion of the image\n            else if (this.control.state == PictureStates.Deleted) {\n                this.deletePicture(successCallback, errorCallback);\n            }\n            // Process copied of the image\n            else if (this.control.state == PictureStates.Copied) {\n                this.pipPicture = {\n                    id: this.control.id,\n                    name: this.control.name,\n                    uri: this.control.uri\n                }\n                this.pictureStartState = PictureStates.Original;\n                this.control.reset();\n                successCallback(this.pipPicture);\n            }\n            // Process if no changes were made\n            else {\n                if (successCallback) {\n                    if (this.pipPicture) {\n                        successCallback(this.pipPicture);\n                    } else {\n                        successCallback(this.pipPictureId);\n                    }\n                }\n            }\n        }\n\n        // Visual publics\n        public empty(): boolean {\n            return (this.control.url == '' && !this.control.uploading);\n        }\n\n        public isUpdated(): boolean {\n            return this.control.state != PictureStates.Original;\n        }\n\n        // Process user events\n        public readItemLocally(url, uriData, file, picture): void {\n            if (picture) {\n                this.control.file = null;\n                this.control.name = picture.name;\n                this.control.uri = picture.uri;\n                this.control.id = picture.id;\n                this.control.uriData = null;\n                this.control.url = picture.uri ? picture.uri : picture.id ? this.pipPictureData.getPictureUrl(picture.id) : '';\n                this.control.state == PictureStates.Copied\n            } else {\n                this.control.file = file;\n                this.control.name = file ? file.name : url ? url.split('/').pop() : null;\n                this.control.url = !file && url ? url : uriData ? uriData : '';\n                this.control.uri = !file && url ? url : null;\n                this.control.uriData = uriData;\n                this.control.id = null;\n                this.control.state = PictureStates.Changed;\n            }\n            this.onChange();\n        }\n\n        public onDeleteClick($event: JQueryEventObject): void {\n            $event.stopPropagation();\n\n            this.controlElement.focus();\n\n            this.control.file = null;\n            this.control.url = '';\n            this.control.uri = null;\n            this.control.uriData = null;\n            this.control.name = null;\n            this.control.id = null;\n            if (this.control.state != PictureStates.Copied) this.control.state = PictureStates.Deleted;\n\n            this.onChange();\n        }\n\n        public onKeyDown($event: KeyboardEvent): void {\n            if ($event.keyCode == 13 || $event.keyCode == 32) {\n                // !! Avoid clash with $apply()\n                setTimeout(() => {\n                    this.controlElement.trigger('click');\n                }, 0);\n            } else if ($event.keyCode == 46 || $event.keyCode == 8) {\n                this.control.file = null;\n                this.control.url = '';\n                this.control.state = PictureStates.Deleted;\n                this.onChange();\n            } else if ($event.keyCode == 27) {\n                this.control.reset();\n            }\n        }\n\n        // Clean up url to remove broken icon\n        public onImageError($event: JQueryEventObject): void {\n            this.$scope.$apply(() => {\n                this.control.url = '';\n                let image = $($event.target);\n                this.control.state = PictureStates.Error;\n                this.pipPictureUtils.setErrorImageCSS(image, { width: 'auto', height: '100%' });\n            });\n        }\n\n        // When image is loaded resize/reposition it\n        public onImageLoad($event): void {\n            let image = $($event.target);\n            let container: any = {}; //JQuery = _.cloneDeep(this.controlElement);\n            container.clientWidth = 80;\n            container.clientHeight = 80;\n            this.pipPictureUtils.setImageMarginCSS(container, image);\n            this.control.uploading = false;\n        }\n\n        // On change event\n        public onChange(): void {\n            if (this.pipChanged) {\n                this.pipChanged({\n                    $event: { sender: this.control },\n                    $control: this.control\n                });\n            }\n        }\n\n    }\n\n    const PictureEditComponent: ng.IComponentOptions = {\n        bindings: PictureEditBindings,\n        templateUrl: 'picture_edit/PictureEdit.html',\n        controller: PictureEditController\n    }\n\n    angular\n        .module('pipPictureEdit', ['ui.event', 'pipPicturePaste',\n            'pipTranslate', 'angularFileUpload', 'pipPictures.Templates'])\n        .config(ConfigPictureEditTranslations)\n        .component('pipPictureEdit', PictureEditComponent);\n}\n\n","import { IPictureUtilsService } from '../utilities/IPictureUtils';\nimport { PicturePaste } from '../utilities/PicturePaste';\nimport { IPictureDataService, Attachment, BlobInfo } from '../data';\n\nlet async = require('async');\n\nexport class PictureListEditItem {\n    public pin: number;\n    public id: string;\n    public uri: string;\n    public name: string;\n    public url: string;\n    public uriData: any;\n    public uploading: boolean;\n    public uploaded: boolean;\n    public progress: number;\n    public file: any;\n    public upload?: any;\n    public state: string;\n    public loaded?: boolean;\n}\n\nexport class PictureListEditControl {\n    public uploading: number = 0;\n    public items: PictureListEditItem[];\n    public reset: () => void;\n    public save: (successCallback?: (data?: Attachment[]) => void, errorCallback?: (error?: PictureUploadErrors[]) => void) => void;\n    public abort: () => void;\n    public error?: any;\n}\n\n\nexport class PictureListEditStates {\n    static Added: string = 'added';\n    static Original: string = 'original';\n    static Copied: string = 'copied';\n    static Changed: string = 'changed';\n    static Deleted: string = 'deleted';\n    static Error: string = 'error';\n}\n\nexport class PictureUploadErrors {\n    id: string;\n    uri: string;\n    name: string;\n}\n\n{\n\n    const ConfigPictureListEditTranslations = (pipTranslateProvider: pip.services.ITranslateProvider) => {\n        pipTranslateProvider.translations('en', {\n            'PICTURE_LIST_EDIT_TEXT': 'Click here to add a picture',\n            'ERROR_TRANSACTION_IN_PROGRESS': 'Transaction is in progress. Please, wait until it is finished or abort',\n            'ERROR_IMAGE_PRELOADING': 'Image loading error. The picture can not be saved'\n        });\n        pipTranslateProvider.translations('ru', {\n            'PICTURE_LIST_EDIT_TEXT': 'Нажмите сюда чтобы добавить картинку',\n            'ERROR_TRANSACTION_IN_PROGRESS': 'Транзакция еще не завершена. Подождите окончания или прервите её',\n            'ERROR_IMAGE_PRELOADING': 'Ошибка при загрузки картинки. Картинка не сохранена.'\n        });\n    }\n\n\n    class SenderEvent {\n        sender: PictureListEditControl;\n    }\n\n    class PictureEvent {\n        $event: SenderEvent;\n        $control: PictureListEditControl;\n    }\n\n    interface IPictureListEditBindings {\n        [key: string]: any;\n\n        ngDisabled: any;\n        pipCreated: any;\n        pipChanged: any;\n        pictures: any;\n        pipAddedPicture: any;\n        text: any;\n        icon: any;\n        pipRebind: any;\n    }\n\n    const PictureListEditBindings: IPictureListEditBindings = {\n        ngDisabled: '<?',\n        pipCreated: '&?',\n        pipChanged: '&?',\n        pictures: '=?pipPictures',\n        pipAddedPicture: '&?',\n        text: '<?pipDefaultText',\n        icon: '<?pipDefaultIcon',\n        pipRebind: '<?',\n    }\n\n    class PictureListEditBindingsChanges implements ng.IOnChangesObject, IPictureListEditBindings {\n        [key: string]: ng.IChangesObject<any>;\n\n        ngDisabled: ng.IChangesObject<boolean>;\n        pipCreated: ng.IChangesObject<(params: PictureEvent) => ng.IPromise<void>>;\n        pipChanged: ng.IChangesObject<(params: PictureEvent) => ng.IPromise<void>>;\n        pictures: ng.IChangesObject<Attachment[]>;\n        pipAddedPicture: ng.IChangesObject<() => boolean>;\n        text: ng.IChangesObject<string>;\n        icon: ng.IChangesObject<string>;\n        pipRebind: ng.IChangesObject<boolean>;\n    }\n\n    class PictureListEditController {\n        private controlElement: any;\n        private pipPicturePaste: PicturePaste;\n        private pictureStartState: string;\n        private cancelQuery: any;\n\n        public ngDisabled: boolean;\n        public pipCreated: (params: PictureEvent) => void;\n        public pipChanged: (params: PictureEvent) => void;\n        public text: string;\n        public icon: string;\n        public pictures: Attachment[];\n        public pipAddedPicture: () => boolean;\n        public pipRebind: boolean;\n\n        public control: PictureListEditControl;\n        private itemPin: number;\n        private errorText: string;\n\n        constructor(\n            private $log: ng.ILogService,\n            private $scope: ng.IScope,\n            private $rootScope: ng.IRootScopeService,\n            private $element: JQuery,\n            private pipPictureUtils: IPictureUtilsService,\n            private $timeout: ng.ITimeoutService,\n            private pipFileUpload: pip.files.IFileUploadService,\n            private pipRest: pip.rest.IRestService,\n            private pipPictureData: IPictureDataService\n        ) {\n            \"ngInject\";\n\n            this.itemPin = 0;\n            this.pipPicturePaste = new PicturePaste($timeout);\n            this.pictureStartState = this.toBoolean(this.pipAddedPicture) ? PictureListEditStates.Copied : PictureListEditStates.Original;\n\n            this.text = this.text || 'PICTURE_LIST_EDIT_TEXT';\n            this.icon = this.icon || 'picture-no-border';\n            this.errorText = 'PICTURE_ERROR_LOAD';\n\n            this.control = new PictureListEditControl();\n            this.control.uploading = 0;\n            this.control.items = [];\n            this.control.reset = () => {\n                this.reset();\n            }\n            this.control.save = (successCallback?: (data?: Attachment[]) => void, errorCallback?: (error?: PictureUploadErrors[]) => void): void => {\n                this.save(successCallback, errorCallback);\n            }\n            this.control.abort = (): void => {\n                this.abort();\n            }\n            // Add class\n            $element.addClass('pip-picture-list-edit');\n        }\n\n        private toBoolean(value: any): boolean {\n            if (value == null) {\n                return false;\n            }\n            if (!value) {\n                return false;\n            }\n            value = value.toString().toLowerCase();\n\n            return value == '1' || value == 'true';\n        }\n\n        public filterItem(item: PictureListEditItem): boolean {\n            return item.state != PictureListEditStates.Deleted;\n        }\n\n        public $postLink() {\n            this.controlElement = this.$element.find('.pip-picture-drop')\n\n            // Initialize control\n            this.control.reset();\n            // Execute callback\n            if (this.pipCreated) {\n                this.pipCreated({\n                    $event: { sender: this.control },\n                    $control: this.control\n                });\n            }\n        }\n\n        private removeItem(item: PictureListEditItem): void {\n            if (item.state === PictureListEditStates.Added || item.state === PictureListEditStates.Copied) {\n                let index = _.findIndex(this.control.items, { pin: item.pin });\n                if (index > -1) {\n                    this.control.items.splice(index, 1);\n                }\n            } else {\n                item.state = PictureListEditStates.Deleted;\n            }\n        }\n\n        public $onChanges(changes: PictureListEditBindingsChanges): void {\n            if (changes.pipRebind && changes.pipRebind.currentValue !== changes.pipRebind.previousValue) {\n                this.pipRebind = changes.pipRebind.currentValue;\n            }\n\n            if (changes.ngDisabled && changes.ngDisabled.currentValue !== changes.ngDisabled.previousValue) {\n                this.ngDisabled = changes.ngDisabled.currentValue;\n            }\n\n            if (this.pipRebind) {\n                if (changes.pictures && !_.isEqual(changes.pictures.currentValue, this.pictures)) {\n                    this.pictures = changes.pictures.currentValue;\n                    this.control.reset();\n                }\n            }\n\n            this.pictures = this.pictures ? this.pictures : [];\n        }\n\n        public onImageError($event: JQueryEventObject, item: PictureListEditItem): void {\n\n            item.state = PictureListEditStates.Error;\n            item.url = '';\n        }\n\n        public onFocus(): void {\n            this.pipPicturePaste.addPasteListener((item) => {\n                this.readItemLocally(item.url, item.uriData, item.file, item.picture);\n            });\n        }\n\n        public onBlur(): void {\n            this.pipPicturePaste.removePasteListener();\n        }\n\n        public getItems(): PictureListEditItem[] {\n            let items: PictureListEditItem[] = [];\n            let i: number;\n\n            if (this.pictures == null || this.pictures.length == 0) {\n                return items;\n            }\n\n            for (i = 0; i < this.pictures.length; i++) {\n                let newItem: PictureListEditItem = {\n                    pin: this.itemPin++,\n                    id: this.pictures[i].id,\n                    name: this.pictures[i].name,\n                    uri: this.pictures[i].uri,\n                    uriData: null,\n                    uploading: false,\n                    uploaded: false,\n                    progress: 0,\n                    file: null,\n                    url: this.pictures[i].id ? this.pipPictureData.getPictureUrl(this.pictures[i].id) : this.pictures[i].uri,\n                    state: this.pictureStartState\n                };\n                items.push(newItem);\n            }\n\n            return items;\n        }\n\n        public setItems(): void {\n            let i: number;\n\n            // Clean the array\n            if (this.pictures && this.pictures.length > 0) {\n                this.pictures.splice(0, this.pictures.length);\n            }\n            for (i = 0; i < this.control.items.length; i++) {\n                let item = this.control.items[i];\n                if ((item.id || item.uri) && item.state != PictureListEditStates.Deleted) {\n                    let newPic: Attachment = {\n                        id: item.id,\n                        name: item.name,\n                        uri: item.uri\n                    };\n                    this.pictures.push(newPic);\n                }\n            }\n        }\n\n        public reset(): void {\n            if (!this.controlElement) { return }\n            this.control.uploading = 0;\n            this.control.items = this.getItems();\n        }\n\n        private addItem(oldItem: PictureListEditItem, fileInfo: BlobInfo, error: any) {\n            let itemIndex = _.findIndex(this.control.items, { pin: oldItem.pin });\n            if (itemIndex < 0) return;\n            if (error) {\n                this.control.items[itemIndex].uploaded = false;\n                this.control.items[itemIndex].uploading = false;\n                this.control.items[itemIndex].progress = 0;\n                this.control.items[itemIndex].upload = null;\n                this.control.items[itemIndex].state = PictureListEditStates.Error;\n            } else {\n                if (fileInfo) {\n                    this.control.items[itemIndex].id = fileInfo.id;\n                    this.control.items[itemIndex].name = fileInfo.name;\n                    this.control.items[itemIndex].uploaded = true;\n                    this.control.items[itemIndex].state = PictureListEditStates.Original;\n                } else {\n                    this.control.items[itemIndex].uploaded = false;\n                }                \n                this.control.items[itemIndex].uploading = false;\n                this.control.items[itemIndex].uriData = null;\n                this.control.items[itemIndex].progress = 0;\n                this.control.items[itemIndex].upload = null;\n                this.control.items[itemIndex].file = null;\n            }\n        }\n\n        public deleteItem(item: PictureListEditItem, callback?: (data?: any) => void): void {\n            // Avoid double transactions\n            if (item.upload) {\n                item.upload.abort();\n                item.upload = null;\n            }\n\n            if (item.state != PictureListEditStates.Deleted) {\n                return;\n            }\n\n            this.removeItem(item);\n            callback();\n\n        }\n\n        public save(successCallback?: (data: Attachment[]) => void, errorCallback?: (errors?: any) => void): void {\n            let item: PictureListEditItem;\n            let onItemCallback: (error: any) => void;\n            let i: number;\n\n            if (this.control.uploading) {\n                if (errorCallback) {\n                    errorCallback('ERROR_TRANSACTION_IN_PROGRESS');\n                }\n\n                return;\n            }\n\n            this.cancelQuery = null;\n            this.control.error = null;\n            this.control.uploading = 0;\n\n            let addedBlobCollection = [];\n            let addedUrlCollection = [];\n\n            _.each(this.control.items, (item) => {\n                if (item.state == 'added') {\n                    if (item.file) {\n                        addedBlobCollection.push(item);\n                    } else {\n                        addedUrlCollection.push(item);\n                    }\n                }\n            });\n\n\n            let deletedCollection = _.filter(this.control.items, { state: 'deleted' });\n\n            // process addedUrlCollection\n            _.each(addedUrlCollection, (item) => {\n                item.uploaded = true;\n                item.uploading = false;\n                item.progress = 0;\n                item.upload = null;\n                item.uriData = null;\n                item.file = null;\n                item.state = PictureListEditStates.Original;\n            });\n\n            if (!addedBlobCollection.length && !deletedCollection.length) {\n                // do nothing\n                if (addedUrlCollection.length > 0) {\n                    this.setItems();\n                }\n                this.control.uploading = 0;\n                if (successCallback) {\n                    successCallback(this.pictures);\n                }\n\n                return;\n            }\n\n            this.control.uploading = addedBlobCollection.length + deletedCollection.length;\n            async.parallel([\n                (callbackAll) => {\n                    // add documents\n                    _.each(addedBlobCollection, (item) => {\n                        item.uploading = true;\n                        item.progress = 0;\n                    });\n                    this.pipFileUpload.multiUpload(\n                        this.pipPictureData.postPictureUrl(),\n                        addedBlobCollection,\n                        (index: number, data: BlobInfo, err: any) => {\n                            let item = addedBlobCollection[index];\n                            this.addItem(item, data, err);\n                            if (err) {\n                                this.control.error = true;\n                            }\n                        },\n                        (index: number, state: pip.files.FileUploadState, progress: number) => {\n                            // update item progress \n                            let item = addedBlobCollection[index];\n                            item.progress = progress;\n                        },\n                        (error: any, result: any, res: any) => {\n                            // reset upload abort\n                            this.cancelQuery = null;\n                            callbackAll();\n                        },\n                        (cancelQuery: any) => {\n                            this.cancelQuery = cancelQuery;\n                        },\n                        false,\n                        'pin'\n                    );\n                },\n                (callbackAll) => {\n                    // delete documents\n                    if (deletedCollection.length) {\n                        async.each(deletedCollection,\n                            (item, callback) => {\n                                this.deleteItem(item, (error: any) => { callback() });\n                            },\n                            (error, result) => {\n                                callbackAll();\n                            });\n                    } else {\n                        callbackAll();\n                    }\n\n                }\n            ],\n                // optional callback\n                (error, results) => {\n                    if (error && !this.control.error) {\n                        this.control.error = error;\n                    }\n                    if (this.control.error) {\n                        this.control.uploading = 0;\n                        let errors = this.getUploadErors();\n                        if (errorCallback) {\n                            errorCallback(errors);\n                        } else {\n                            this.$log.error(errors);   // eslint-disable-line no-console\n                        }\n                    } else {\n                        this.setItems();\n                        this.control.uploading = 0;\n                        if (successCallback) {\n                            successCallback(this.pictures);\n                        }\n                    }\n                });\n        }\n\n        private getUploadErors(): PictureUploadErrors[] {\n            let errors: PictureUploadErrors[] = [];\n\n            _.each(this.control.items, (item: PictureListEditItem) => {\n                if (item.state == PictureListEditStates.Error || item.state == PictureListEditStates.Error) {\n                    errors.push({\n                        id: item.id,\n                        uri: item.uri,\n                        name: item.name\n                    })\n                }\n            });\n\n            return errors;\n        }\n\n        public abort(): void {\n            let i: number;\n\n            for (i = 0; i < this.control.items.length; i++) {\n                let item: PictureListEditItem = this.control.items[i];\n\n                if (item.uploading) {\n                    if (item.upload) {\n                        item.upload.abort();\n                    }\n                    item.uploaded = false;\n                    item.uploading = false;\n                    item.progress = 0;\n                    item.upload = null;\n                }\n            }\n\n            // abort upload\n            if (this.cancelQuery) {\n                this.cancelQuery.resolve();\n            }\n\n            // Abort transaction\n            this.control.uploading = 0;\n            this.control.error = true;\n        }\n\n        public readItemLocally(url, uriData, file, picture): void {\n            let item: PictureListEditItem = new PictureListEditItem();\n            item.pin = this.itemPin++;\n            item.uploading = false;\n            item.uploaded = false;\n            item.progress = 0;\n\n            if (picture) {\n                item.file = null;\n                item.name = picture.name;\n                item.uri = picture.uri;\n                item.id = picture.id;\n                item.uriData = null;\n                item.url = picture.uri ? picture.uri : picture.id ? this.pipPictureData.getPictureUrl(picture.id) : '';\n                item.state == PictureListEditStates.Copied\n            } else {\n                item.file = file;\n                item.name = file ? file.name : url ? url.split('/').pop() : null;\n                item.url = !file && url ? url : uriData ? uriData : '';\n                item.uri = !file && url ? url : null;\n                item.uriData = uriData;\n                item.id = null;\n                item.state = PictureListEditStates.Added;\n            }\n            this.control.items.push(item);\n            this.onChange();\n        }\n\n        public onSelectClick($files: any): void {\n            let i: number;\n            this.controlElement.focus();\n\n            if ($files == null || $files.length == 0) { return; }\n            for (i = 0; i < $files.length; i++) {\n                let file: any = $files[i];\n\n                if (file.type.indexOf('image') > -1) {\n                    this.readItemLocally('', null, file, null);\n                }\n            }\n        }\n\n        public onDeleteClick(item: PictureListEditItem): void {\n            this.removeItem(item);\n\n            this.onChange();\n        }\n\n        public onKeyDown($event: KeyboardEvent, item: PictureListEditItem): void {\n            if (item) {\n                if ($event.keyCode == 46 || $event.keyCode == 8) {\n                    if (item.state == PictureListEditStates.Added) {\n                        this.removeItem(item);\n                    } else {\n                        item.state = PictureListEditStates.Deleted;\n                    }\n\n                    this.onChange();\n                }\n            } else {\n                if ($event.keyCode == 13 || $event.keyCode == 32) {\n                    // !! Avoid clash with $apply()\n                    setTimeout(() => {\n                        this.controlElement.trigger('click');\n                    }, 0);\n                }\n            }\n        }\n\n        public onImageLoad($event: JQueryEventObject, item: PictureListEditItem): void {\n            setTimeout(() => {\n                let image = $($event.target);\n                let container: any = {};\n                container.clientWidth = 80;\n                container.clientHeight = 80;\n                this.pipPictureUtils.setImageMarginCSS(container, image);\n            }, 250);\n\n            item.loaded = true;\n        }\n\n        // On change event\n        public onChange() {\n            if (this.pipChanged) {\n                this.pipChanged({\n                    $event: { sender: this.control },\n                    $control: this.control\n                });\n            }\n        }\n\n    }\n\n    const PictureListEditComponent: ng.IComponentOptions = {\n        bindings: PictureListEditBindings,\n        templateUrl: 'picture_list_edit/PictureListEdit.html',\n        controller: PictureListEditController\n    }\n\n    angular\n        .module('pipPictureListEdit', ['ui.event', 'pipPicturePaste',\n            'pipFocused', 'angularFileUpload', 'pipPictures.Templates'])\n        .config(ConfigPictureListEditTranslations)\n        .component('pipPictureListEdit', PictureListEditComponent);\n}\n","﻿// import pipPictureUtils\n\nconst ConfigPictureUrlDialogTranslations = (pipTranslateProvider: pip.services.ITranslateProvider) => {\n    pipTranslateProvider.translations('en', {\n        'PICTURE_FROM_WEBLINK': 'Add from web link',\n        'LINK_PICTURE': 'Link to the picture...'\n    });\n    pipTranslateProvider.translations('ru', {\n        'PICTURE_FROM_WEBLINK': 'Добавить из веб ссылки',\n        'LINK_PICTURE': 'Ссылка на изображение...'\n    });\n}\n\nclass PictureUrlDialogController {\n    public url: string = '';\n    public invalid: boolean = true;\n    public theme: string;\n\n    constructor(\n        private $log: ng.ILogService,\n        private $scope: ng.IScope,\n        private $mdDialog: angular.material.IDialogService,\n        private $rootScope: ng.IRootScopeService,\n        private $timeout: ng.ITimeoutService,\n        private $mdMenu,\n        private pipPictureUtils\n    ) {\n        \"ngInject\";\n\n        this.theme = this.$rootScope[pip.themes.ThemeRootVar];\n    }\n\n    public setImageSize(img: any): void {\n        let imageWidth: number = img.width();\n        let imageHeight: number = img.height();\n\n        let cssParams = {};\n\n        if ((imageWidth) > (imageHeight)) {\n            cssParams['width'] = '250px';\n            cssParams['height'] = 'auto';\n        } else {\n            cssParams['width'] = 'auto';\n            cssParams['height'] = '250px';\n        }\n\n        img.css(cssParams);\n    }\n\n    public checkUrl(): void {\n        let img = $(\"img#url_image\")\n            .on('error', () => {\n                this.invalid = true;\n                this.$scope.$apply();\n                \n            })\n            .on('load', (e) => {\n                this.invalid = false;\n                this.setImageSize(img);\n                this.$scope.$apply();\n            })\n            .attr(\"src\", this.url);\n    };\n\n    public onCancelClick(): void {\n        this.$mdDialog.cancel();\n    };\n\n    public onAddClick(): void {\n        this.$mdDialog.hide(this.url);\n    };\n\n}\n\nangular\n    .module('pipPictureUrlDialog')\n    .config(ConfigPictureUrlDialogTranslations)\n    .controller('pipPictureUrlDialogController', PictureUrlDialogController);\n\n","import { IPictureUrlDialogService } from './IPictureUrlDialogService';\n\nclass PictureUrlDialogService implements IPictureUrlDialogService {\n    private _mdDialog: angular.material.IDialogService;\n\n    constructor($mdDialog: angular.material.IDialogService) {\n        this._mdDialog = $mdDialog;\n    }\n\n    public show(successCallback?: (result) => void, cancelCallback?: () => void) {\n        this._mdDialog.show({\n            templateUrl: 'picture_url_dialog/PictureUrlDialog.html',\n            clickOutsideToClose: true,\n            controller: 'pipPictureUrlDialogController',\n            controllerAs: '$ctrl'\n        })\n        .then(\n            (result) => {\n                if (successCallback) {\n                    successCallback(result);\n                }\n            });\n    }\n}\n\nangular\n    .module('pipPictureUrlDialog')\n    .service('pipPictureUrlDialog', PictureUrlDialogService);\n\n","angular\n    .module('pipPictureUrlDialog',\n        ['ngMaterial', 'pipPictures.Templates']);\n\nimport './IPictureUrlDialogService';\nimport './PictureUrlDialogService';\nimport './PictureUrlDialogController';\n\n\nexport * from './IPictureUrlDialogService';\n","// configured Rest resource\nfunction configAvatarResources(pipRestProvider: pip.rest.IRestProvider) {\n    pipRestProvider.registerOperation('avatars', '/api/1.0/avatars/:avatar_id');\n}\n\nangular\n    .module('pipPictures.Rest')\n    .config(configAvatarResources);\n\n\n","// configured Rest resource\nfunction configImageSetResources(pipRestProvider: pip.rest.IRestProvider) {\n    pipRestProvider.registerPagedCollection('imagesets', '/api/1.0/imagesets/:imageset_id',\n        { imageset_id: '@imageset_id' },\n        {\n            page: {method: 'GET', isArray: false},\n            update: { method: 'PUT' }\n        });\n}\n\nangular\n    .module('pipPictures.Rest')\n    .config(configImageSetResources);","// configured Rest resource\nfunction configPictureResources(pipRestProvider: pip.rest.IRestProvider) {\n    pipRestProvider.registerPagedCollection('picture', '/api/1.0/blobs/:picture_id',\n        { blob_id: '@picture_id' },\n        {\n            page: { method: 'GET', isArray: false },\n            update: { method: 'PUT' }\n        });\n    pipRestProvider.registerResource('picturesInfo', '/api/1.0/blobs/:picture_id/info');\n}\n\nangular\n    .module('pipPictures.Rest')\n    .config(configPictureResources);\n\n\n","export class imageCssParams {\n    public 'width'?: string;\n    public 'margin-left'?: string;\n    public 'height'?: string;\n    public 'margin-top'?: string;\n}\n\nexport interface IPictureUtilsService {\n    getCollageSchemes(): any;\n    setErrorImageCSS(image: any, params?: imageCssParams): void;\n    setImageMarginCSS($element: any, image: any, params?: imageCssParams): void;\n    setIconMarginCSS(container: any, icon: any): void;\n}\n\nexport interface IPictureUtilsProvider extends ng.IServiceProvider {\n\n}\n\n","export class PicturePaste {\n    private pasteCatcher;\n\n    constructor(\n        private $timeout: ng.ITimeoutService\n    ) {\n        \"ngInject\";\n    }\n\n    public addPasteListener(onPaste) {\n        if (!window['Clipboard']) {\n            if (this.pasteCatcher !== null && this.pasteCatcher !== undefined) {\n                this.removePasteListener();\n            }\n\n            this.pasteCatcher = document.createElement(\"div\");\n\n            // Firefox allows images to be pasted into contenteditable elements\n            this.pasteCatcher.setAttribute(\"contenteditable\", \"true\");\n\n            // We can hide the element and append it to the body,\n            //this.pasteCatcher.style.opacity = 0;\n            $(this.pasteCatcher).css({\n                \"position\": \"absolute\",\n                \"left\": \"-999\",\n                width: \"0\",\n                height: \"0\",\n                \"overflow\": \"hidden\",\n                outline: 0\n            });\n\n            document.body.appendChild(this.pasteCatcher);\n        }\n\n        $(document).on('paste', (event) => {\n            let localEvent;\n            if (event['clipboardData'] == null && event.originalEvent) {\n                localEvent = event.originalEvent;\n            } else {\n                localEvent = event;\n            }\n\n            // Paste for chrome\n            if (localEvent.clipboardData) {\n                var items = localEvent.clipboardData.items;\n\n                _.each(items, (item) => {\n                    if (item.type.indexOf(\"image\") != -1) {\n                        var file = item.getAsFile();\n\n                        var fileReader = new FileReader();\n                        fileReader.onload = (e) => {\n                            this.$timeout(() => {\n                                onPaste({ url: e.target['result'], file: file });\n                            });\n                        };\n                        fileReader.readAsDataURL(file);\n                    }\n                });\n            }\n            // Paste for IE\n            else if (window['clipboardData'] && window['clipboardData'].files) {\n                _.each(window['clipboardData'].files, (file) => {\n                    var fileReader = new FileReader();\n                    fileReader.onload = (e) => {\n                        this.$timeout(() => {\n                            onPaste({ url: e.target['result'], file: file });\n                        });\n                    };\n                    fileReader.readAsDataURL(file);\n                });\n            }\n        });\n\n\n    }\n\n    public removePasteListener() {\n        if (!window['Clipboard']) {\n            if (this.pasteCatcher !== null && this.pasteCatcher !== undefined) {\n                document.body.removeChild(this.pasteCatcher);\n                this.pasteCatcher = null;\n            }\n        }\n        $(document).off('paste');\n    }\n\n}\n\nangular\n    .module('pipPicturePaste', []);\n","import { IPictureUtilsService, IPictureUtilsProvider, imageCssParams } from './IPictureUtils';\n\nlet collageSchemes = [\n    // 1\n    [\n        { flex: 100, fullWidth: true, fullHeight: true }\n    ],\n    // 2\n    [\n        {\n            group: true,\n            layout: 'row',\n            flex: 100,\n            fullHeight: true,\n            children: [\n                { flex: 50, fullHeight: true, rightPadding: true },\n                { flex: 50, fullHeight: true, leftPadding: true }\n            ]\n        }\n    ],\n    // 3\n    [\n        {\n            group: true,\n            layout: 'row',\n            flex: 100,\n            fullHeight: true,\n            children: [\n                { flex: 33, fullHeight: true, rightPadding: true },\n                { flex: 33, fullHeight: true, leftPadding: true, rightPadding: true },\n                { flex: 33, fullHeight: true, leftPadding: true }\n            ]\n        },\n        {\n            group: true,\n            layout: 'row',\n            flex: 100,\n            fullHeight: true,\n            children: [\n                { flex: 50, fullHeight: true, rightPadding: true },\n                {\n                    group: true,\n                    layout: 'column',\n                    flex: 50,\n                    fullHeight: true,\n                    children: [\n                        { flex: 50, leftPadding: true, bottomPadding: true },\n                        { flex: 50, leftPadding: true, topPadding: true }\n                    ]\n                }\n            ]\n        },\n        {\n            group: true,\n            layout: 'row',\n            flex: 100,\n            fullHeight: true,\n            children: [\n                { flex: 70, fullHeight: true, rightPadding: true },\n                {\n                    group: true,\n                    layout: 'column',\n                    flex: 30,\n                    fullHeight: true,\n                    children: [\n                        { flex: 50, leftPadding: true, bottomPadding: true },\n                        { flex: 50, leftPadding: true, topPadding: true }\n                    ]\n                }\n            ]\n        },\n        {\n            group: true,\n            layout: 'column',\n            flex: 100,\n            fullHeight: true,\n            children: [\n                { flex: 50, fullWidth: true, bottomPadding: true },\n                {\n                    group: true,\n                    layout: 'row',\n                    flex: 50,\n                    fullHeight: true,\n                    children: [\n                        { flex: 50, rightPadding: true, topPadding: true },\n                        { flex: 50, leftPadding: true, topPadding: true }\n                    ]\n                }\n            ]\n        }\n    ],\n    // 4\n    [\n        {\n            group: true,\n            layout: 'column',\n            flex: 100,\n            fullHeight: true,\n            children: [\n                {\n                    group: true,\n                    layout: 'row',\n                    flex: 50,\n                    fullHeight: true,\n                    children: [\n                        { flex: 50, fullWidth: true, rightPadding: true, bottomPadding: true },\n                        { flex: 50, fullWidth: true, leftPadding: true, bottomPadding: true }\n                    ]\n                },\n                {\n                    group: true,\n                    layout: 'row',\n                    flex: 50,\n                    fullHeight: true,\n                    children: [\n                        { flex: 50, fullWidth: true, rightPadding: true, topPadding: true },\n                        { flex: 50, fullWidth: true, leftPadding: true, topPadding: true }\n                    ]\n                }\n            ]\n        },\n        {\n            group: true,\n            layout: 'row',\n            flex: 100,\n            fullHeight: true,\n            children: [\n                { flex: 50, fullWidth: true, rightPadding: true },\n                {\n                    group: true,\n                    layout: 'column',\n                    flex: 50,\n                    fullHeight: true,\n                    children: [\n                        { flex: 50, fullWidth: true, leftPadding: true, bottomPadding: true },\n                        {\n                            group: true,\n                            layout: 'row',\n                            flex: 50,\n                            fullHeight: true,\n                            children: [\n                                { flex: 50, fullWidth: true, leftPadding: true, rightPadding: true, topPadding: true },\n                                { flex: 50, fullWidth: true, leftPadding: true, topPadding: true }\n                            ]\n                        }\n                    ]\n                }\n            ]\n        },\n        {\n            group: true,\n            layout: 'row',\n            flex: 100,\n            fullHeight: true,\n            children: [\n                { flex: 30, fullWidth: true, rightPadding: true },\n                {\n                    group: true,\n                    layout: 'column',\n                    flex: 70,\n                    fullHeight: true,\n                    children: [\n                        { flex: 50, fullWidth: true, leftPadding: true, bottomPadding: true },\n                        {\n                            group: true,\n                            layout: 'row',\n                            flex: 50,\n                            fullHeight: true,\n                            children: [\n                                { flex: 50, fullWidth: true, leftPadding: true, rightPadding: true, topPadding: true },\n                                { flex: 50, fullWidth: true, leftPadding: true, topPadding: true }\n                            ]\n                        }\n                    ]\n                }\n            ]\n        },\n        {\n            group: true,\n            layout: 'column',\n            flex: 100,\n            fullHeight: true,\n            children: [\n                {\n                    group: true,\n                    layout: 'row',\n                    flex: 50,\n                    fullHeight: true,\n                    children: [\n                        { flex: 100, fullWidth: true, bottomPadding: true }\n                    ]\n                },\n                {\n                    group: true,\n                    layout: 'row',\n                    flex: 50,\n                    fullHeight: true,\n                    children: [\n                        { flex: 33, fullWidth: true, rightPadding: true, topPadding: true },\n                        { flex: 33, fullWidth: true, leftPadding: true, rightPadding: true, topPadding: true },\n                        { flex: 33, fullWidth: true, leftPadding: true, topPadding: true }\n                    ]\n                }\n            ]\n        }\n    ],\n    // 5\n    [\n        {\n            group: true,\n            layout: 'column',\n            flex: 100,\n            fullHeight: true,\n            children: [\n                {\n                    group: true,\n                    layout: 'row',\n                    flex: 50,\n                    fullHeight: true,\n                    children: [\n                        { flex: 50, fullWidth: true, rightPadding: true, bottomPadding: true },\n                        { flex: 50, fullWidth: true, leftPadding: true, bottomPadding: true }\n                    ]\n                },\n                {\n                    group: true,\n                    layout: 'row',\n                    flex: 50,\n                    fullHeight: true,\n                    children: [\n                        { flex: 33, fullWidth: true, rightPadding: true, topPadding: true },\n                        { flex: 33, fullWidth: true, leftPadding: true, rightPadding: true, topPadding: true },\n                        { flex: 33, fullWidth: true, leftPadding: true, topPadding: true }\n                    ]\n                }\n            ]\n        },\n        {\n            group: true,\n            layout: 'row',\n            flex: 100,\n            fullHeight: true,\n            children: [\n                { flex: 50, fullWidth: true, rightPadding: true },\n                {\n                    group: true,\n                    layout: 'column',\n                    flex: 50,\n                    fullHeight: true,\n                    children: [\n                        {\n                            group: true,\n                            layout: 'row',\n                            flex: 50,\n                            fullHeight: true,\n                            children: [\n                                { flex: 50, fullWidth: true, leftPadding: true, rightPadding: true, bottomPadding: true },\n                                { flex: 50, fullWidth: true, leftPadding: true, bottomPadding: true }\n                            ]\n                        },\n                        {\n                            group: true,\n                            layout: 'row',\n                            flex: 50,\n                            fullHeight: true,\n                            children: [\n                                { flex: 50, fullWidth: true, leftPadding: true, rightPadding: true, topPadding: true },\n                                { flex: 50, fullWidth: true, leftPadding: true, topPadding: true }\n                            ]\n                        }\n                    ]\n                }\n            ]\n        },\n        {\n            group: true,\n            layout: 'row',\n            flex: 100,\n            fullHeight: true,\n            children: [\n                { flex: 33, fullWidth: true, rightPadding: true },\n                {\n                    group: true,\n                    layout: 'column',\n                    flex: 67,\n                    fullHeight: true,\n                    children: [\n                        {\n                            group: true,\n                            layout: 'row',\n                            flex: 50,\n                            fullHeight: true,\n                            children: [\n                                { flex: 50, fullWidth: true, leftPadding: true, rightPadding: true, bottomPadding: true },\n                                { flex: 50, fullWidth: true, leftPadding: true, bottomPadding: true }\n                            ]\n                        },\n                        {\n                            group: true,\n                            layout: 'row',\n                            flex: 50,\n                            fullHeight: true,\n                            children: [\n                                { flex: 50, fullWidth: true, leftPadding: true, rightPadding: true, topPadding: true },\n                                { flex: 50, fullWidth: true, leftPadding: true, topPadding: true }\n                            ]\n                        }\n                    ]\n                }\n            ]\n        },\n        {\n            group: true,\n            layout: 'column',\n            flex: 100,\n            fullHeight: true,\n            children: [\n                {\n                    group: true,\n                    layout: 'row',\n                    flex: 50,\n                    fullHeight: true,\n                    children: [\n                        { flex: 100, fullWidth: true, bottomPadding: true }\n                    ]\n                },\n                {\n                    group: true,\n                    layout: 'row',\n                    flex: 50,\n                    fullHeight: true,\n                    children: [\n                        { flex: 25, fullWidth: true, rightPadding: true, topPadding: true },\n                        { flex: 25, fullWidth: true, leftPadding: true, rightPadding: true, topPadding: true },\n                        { flex: 25, fullWidth: true, leftPadding: true, rightPadding: true, topPadding: true },\n                        { flex: 25, fullWidth: true, leftPadding: true, topPadding: true }\n                    ]\n                }\n            ]\n        }\n    ],\n    // 6\n    [\n        {\n            group: true,\n            layout: 'column',\n            flex: 100,\n            fullHeight: true,\n            children: [\n                {\n                    group: true,\n                    layout: 'row',\n                    flex: 50,\n                    fullHeight: true,\n                    children: [\n                        { flex: 33, fullWidth: true, rightPadding: true, bottomPadding: true },\n                        { flex: 33, fullWidth: true, leftPadding: true, rightPadding: true, bottomPadding: true },\n                        { flex: 33, fullWidth: true, leftPadding: true, bottomPadding: true }\n                    ]\n                },\n                {\n                    group: true,\n                    layout: 'row',\n                    flex: 50,\n                    fullHeight: true,\n                    children: [\n                        { flex: 33, fullWidth: true, rightPadding: true, topPadding: true },\n                        { flex: 33, fullWidth: true, leftPadding: true, rightPadding: true, topPadding: true },\n                        { flex: 33, fullWidth: true, leftPadding: true, topPadding: true }\n                    ]\n                }\n            ]\n        },\n        {\n            group: true,\n            layout: 'column',\n            flex: 100,\n            fullHeight: true,\n            children: [\n                {\n                    group: true,\n                    layout: 'row',\n                    flex: 50,\n                    fullHeight: true,\n                    children: [\n                        { flex: 50, fullWidth: true, rightPadding: true, bottomPadding: true },\n                        { flex: 25, fullWidth: true, leftPadding: true, rightPadding: true, bottomPadding: true },\n                        { flex: 25, fullWidth: true, leftPadding: true, bottomPadding: true }\n                    ]\n                },\n                {\n                    group: true,\n                    layout: 'row',\n                    flex: 50,\n                    fullHeight: true,\n                    children: [\n                        { flex: 50, fullWidth: true, rightPadding: true, topPadding: true },\n                        { flex: 25, fullWidth: true, leftPadding: true, rightPadding: true, topPadding: true },\n                        { flex: 25, fullWidth: true, leftPadding: true, topPadding: true }\n                    ]\n                }\n            ]\n        },\n        {\n            group: true,\n            layout: 'row',\n            flex: 100,\n            fullHeight: true,\n            children: [\n                { flex: 33, fullWidth: true, rightPadding: true },\n                {\n                    group: true,\n                    layout: 'column',\n                    flex: 67,\n                    fullHeight: true,\n                    children: [\n                        {\n                            group: true,\n                            layout: 'row',\n                            flex: 50,\n                            fullHeight: true,\n                            children: [\n                                { flex: 50, fullWidth: true, leftPadding: true, rightPadding: true, bottomPadding: true },\n                                { flex: 50, fullWidth: true, leftPadding: true, bottomPadding: true }\n                            ]\n                        },\n                        {\n                            group: true,\n                            layout: 'row',\n                            flex: 50,\n                            fullHeight: true,\n                            children: [\n                                { flex: 33, fullWidth: true, leftPadding: true, rightPadding: true, topPadding: true },\n                                { flex: 33, fullWidth: true, leftPadding: true, rightPadding: true, topPadding: true },\n                                { flex: 33, fullWidth: true, leftPadding: true, topPadding: true }\n                            ]\n                        }\n                    ]\n                }\n            ]\n        },\n        {\n            group: true,\n            layout: 'column',\n            flex: 100,\n            fullHeight: true,\n            children: [\n                {\n                    group: true,\n                    layout: 'row',\n                    flex: 50,\n                    fullHeight: true,\n                    children: [\n                        { flex: 50, fullWidth: true, rightPadding: true, bottomPadding: true },\n                        { flex: 50, fullWidth: true, leftPadding: true, bottomPadding: true }\n                    ]\n                },\n                {\n                    group: true,\n                    layout: 'row',\n                    flex: 50,\n                    fullHeight: true,\n                    children: [\n                        { flex: 25, fullWidth: true, rightPadding: true, topPadding: true },\n                        { flex: 25, fullWidth: true, leftPadding: true, rightPadding: true, topPadding: true },\n                        { flex: 25, fullWidth: true, leftPadding: true, rightPadding: true, topPadding: true },\n                        { flex: 25, fullWidth: true, leftPadding: true, topPadding: true }\n                    ]\n                }\n            ]\n        }\n    ],\n    // 7\n    [\n        {\n            group: true,\n            layout: 'column',\n            flex: 100,\n            fullHeight: true,\n            children: [\n                {\n                    group: true,\n                    layout: 'row',\n                    flex: 50,\n                    fullHeight: true,\n                    children: [\n                        { flex: 33, fullWidth: true, rightPadding: true, bottomPadding: true },\n                        { flex: 33, fullWidth: true, leftPadding: true, rightPadding: true, bottomPadding: true },\n                        { flex: 33, fullWidth: true, leftPadding: true, bottomPadding: true }\n                    ]\n                },\n                {\n                    group: true,\n                    layout: 'row',\n                    flex: 50,\n                    fullHeight: true,\n                    children: [\n                        { flex: 25, fullWidth: true, rightPadding: true, topPadding: true },\n                        { flex: 25, fullWidth: true, leftPadding: true, rightPadding: true, topPadding: true },\n                        { flex: 25, fullWidth: true, leftPadding: true, rightPadding: true, topPadding: true },\n                        { flex: 25, fullWidth: true, leftPadding: true, topPadding: true }\n                    ]\n                }\n            ]\n        },\n        {\n            group: true,\n            layout: 'column',\n            flex: 100,\n            fullHeight: true,\n            children: [\n                {\n                    group: true,\n                    layout: 'row',\n                    flex: 50,\n                    fullHeight: true,\n                    children: [\n                        { flex: 50, fullWidth: true, rightPadding: true, bottomPadding: true },\n                        { flex: 25, fullWidth: true, leftPadding: true, rightPadding: true, bottomPadding: true },\n                        { flex: 25, fullWidth: true, leftPadding: true, bottomPadding: true }\n                    ]\n                },\n                {\n                    group: true,\n                    layout: 'row',\n                    flex: 50,\n                    fullHeight: true,\n                    children: [\n                        { flex: 25, fullWidth: true, rightPadding: true, topPadding: true },\n                        { flex: 25, fullWidth: true, leftPadding: true, rightPadding: true, topPadding: true },\n                        { flex: 25, fullWidth: true, leftPadding: true, rightPadding: true, topPadding: true },\n                        { flex: 25, fullWidth: true, leftPadding: true, topPadding: true }\n                    ]\n                }\n            ]\n        },\n        {\n            group: true,\n            layout: 'row',\n            flex: 100,\n            fullHeight: true,\n            children: [\n                { flex: 25, fullWidth: true, rightPadding: true },\n                {\n                    group: true,\n                    layout: 'column',\n                    flex: 75,\n                    fullHeight: true,\n                    children: [\n                        {\n                            group: true,\n                            layout: 'row',\n                            flex: 50,\n                            fullHeight: true,\n                            children: [\n                                { flex: 33, fullWidth: true, leftPadding: true, rightPadding: true, bottomPadding: true },\n                                { flex: 33, fullWidth: true, leftPadding: true, rightPadding: true, bottomPadding: true },\n                                { flex: 33, fullWidth: true, leftPadding: true, bottomPadding: true }\n                            ]\n                        },\n                        {\n                            group: true,\n                            layout: 'row',\n                            flex: 50,\n                            fullHeight: true,\n                            children: [\n                                { flex: 33, fullWidth: true, leftPadding: true, rightPadding: true, topPadding: true },\n                                { flex: 33, fullWidth: true, leftPadding: true, rightPadding: true, topPadding: true },\n                                { flex: 33, fullWidth: true, leftPadding: true, topPadding: true }\n                            ]\n                        }\n                    ]\n                }\n            ]\n        }\n    ],\n    // 8\n    [\n        {\n            group: true,\n            layout: 'column',\n            flex: 100,\n            fullHeight: true,\n            fullWidth: true,\n            children: [\n                {\n                    group: true,\n                    layout: 'row',\n                    flex: 50,\n                    fullWidth: true,\n                    children: [\n                        { flex: 25, fullWidth: true, rightPadding: true, bottomPadding: true },\n                        { flex: 25, fullWidth: true, leftPadding: true, rightPadding: true, bottomPadding: true },\n                        { flex: 25, fullWidth: true, leftPadding: true, rightPadding: true, bottomPadding: true },\n                        { flex: 25, fullWidth: true, leftPadding: true, bottomPadding: true }\n                    ]\n                },\n                {\n                    group: true,\n                    layout: 'row',\n                    flex: 50,\n                    fullWidth: true,\n                    children: [\n                        { flex: 25, fullWidth: true, rightPadding: true, topPadding: true },\n                        { flex: 25, fullWidth: true, leftPadding: true, rightPadding: true, topPadding: true },\n                        { flex: 25, fullWidth: true, leftPadding: true, rightPadding: true, topPadding: true },\n                        { flex: 25, fullWidth: true, leftPadding: true, topPadding: true }\n                    ]\n                }\n            ]\n        }\n    ]\n];\n\nclass PictureUtils implements IPictureUtilsService {\n\n    constructor() {\n        \"ngInject\";\n    }\n\n    public getCollageSchemes(): any {\n        return collageSchemes;\n    }\n\n    public setErrorImageCSS(image: any, params?: imageCssParams): void {\n        let cssParams: imageCssParams = {\n            'width': '',\n            'margin-left': '',\n            'height': '',\n            'margin-top': ''\n        };\n\n        if (params) {\n            cssParams = _.assign(cssParams, params);\n        }\n        if (image) {\n            image.css(cssParams);\n        }\n    }\n\n    public setImageMarginCSS($element: any, image: any, params?: imageCssParams): void {\n        let containerWidth: number = $element.width ? $element.width() : $element.clientWidth;\n        let containerHeight: number = $element.height ? $element.height() : $element.clientHeight;\n        let imageWidth: number = image[0].naturalWidth || image.width;\n        let imageHeight: number = image[0].naturalHeight || image.height;\n        let margin: number = 0;\n        let cssParams: imageCssParams = {};\n\n        if ((imageWidth / containerWidth) > (imageHeight / containerHeight)) {\n            margin = -((imageWidth / imageHeight * containerHeight - containerWidth) / 2);\n            cssParams['margin-left'] = '' + margin + 'px';\n            cssParams['height'] = '' + containerHeight + 'px';\n            cssParams['width'] = '' + imageWidth * containerHeight / imageHeight + 'px';\n            cssParams['margin-top'] = '';\n        } else {\n            margin = -((imageHeight / imageWidth * containerWidth - containerHeight) / 2);\n            cssParams['margin-top'] = '' + margin + 'px';\n            cssParams['height'] = '' + imageHeight * containerWidth / imageWidth + 'px';\n            cssParams['width'] = '' + containerWidth + 'px';\n            cssParams['margin-left'] = '';\n        }\n\n        if (params) {\n            cssParams = _.assign(cssParams, params);\n        }\n\n        image.css(cssParams);\n    }\n\n    public setIconMarginCSS(container: any, icon: any): void {\n        let containerWidth: number = container.clientWidth ? container.clientWidth : container.width;\n        let containerHeight: number = container.clientHeight ? container.clientHeight : container.height;\n        let margin: number = 0;\n        let iconSize: number = containerWidth > containerHeight ? containerHeight : containerWidth;\n\n        var cssParams: imageCssParams = {\n            'width': '' + iconSize + 'px',\n            'margin-left': '',\n            'height': '' + iconSize + 'px',\n            'margin-top': ''\n        };\n\n        if ((containerWidth) > (containerHeight)) {\n            margin = ((containerWidth - containerHeight) / 2);\n            cssParams['margin-left'] = '' + margin + 'px';\n        } else {\n            margin = ((containerHeight - containerWidth) / 2);\n            cssParams['margin-top'] = '' + margin + 'px';\n        }\n\n        icon.css(cssParams);\n    }\n\n}\n\nclass PictureUtilsProvider implements IPictureUtilsProvider {\n    private _service: IPictureUtilsService;\n\n    constructor() { }\n\n    public $get() {\n        \"ngInject\";\n\n        if (this._service == null) {\n            this._service = new PictureUtils();\n        }\n\n        return this._service;\n    }\n}\n\nangular\n    .module('pipPictureUtils', [])\n    .provider('pipPictureUtils', PictureUtilsProvider);\n\n","import './IPictureUtils';\nimport './PictureUtils';\nimport './PicturePaste';\n\nexport * from './IPictureUtils';\nexport * from './PicturePaste';","(function(module) {\ntry {\n  module = angular.module('pipPictures.Templates');\n} catch (e) {\n  module = angular.module('pipPictures.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('add_image/AddImage.html',\n    '<md-menu><ng-transclude class=\"pip-add-image-open-button\" ng-click=\"vm.openMenu($mdOpenMenu)\" xxxng-click=\"vm.ngDisabled() ? \\'\\' : $mdOpenMenu()\"></ng-transclude><md-menu-content width=\"4\"><md-menu-item ng-if=\"vm.option.Upload\"><md-button class=\"layout-row layout-align-start-center\" accept=\"image/*\" ng-keydown=\"vm.onKeyDown($event)\" ng-multiple=\"vm.isMulti()\" ng-file-select=\"\" ng-file-change=\"vm.onFileChange($files)\" ng-click=\"vm.hideMenu()\" ng-file-drop=\"\"><md-icon class=\"text-headline text-grey rm24-flex\" md-svg-icon=\"icons:folder\"></md-icon><span class=\"text-grey\">{{ ::\\'FILE\\' | translate }}</span></md-button></md-menu-item><md-menu-item ng-if=\"vm.option.WebLink\"><md-button class=\"layout-row layout-align-start-center\" ng-click=\"vm.onWebLinkClick()\"><md-icon class=\"text-headline text-grey rm24-flex\" md-svg-icon=\"icons:weblink\"></md-icon><span class=\"text-grey\">{{ ::\\'WEB_LINK\\' | translate }}</span></md-button></md-menu-item><md-menu-item ng-if=\"vm.option.Camera\"><md-button class=\"layout-row layout-align-start-center\" ng-click=\"vm.onCameraClick()\"><md-icon class=\"text-headline text-grey rm24-flex\" md-svg-icon=\"icons:camera\"></md-icon><span class=\"text-grey\">{{ ::\\'CAMERA\\' | translate }}</span></md-button></md-menu-item><md-menu-item ng-if=\"vm.option.Galery\"><md-button class=\"layout-row layout-align-start-center\" ng-click=\"vm.onGalleryClick()\"><md-icon class=\"text-headline text-grey rm24-flex\" md-svg-icon=\"icons:images\"></md-icon><span class=\"text-grey\">{{ ::\\'IMAGE_GALLERY\\' | translate }}</span></md-button></md-menu-item></md-menu-content></md-menu>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipPictures.Templates');\n} catch (e) {\n  module = angular.module('pipPictures.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('camera_dialog/CameraDialog.html',\n    '<md-dialog class=\"pip-dialog pip-picture-dialog pip-camera-dialog layout-column\" md-theme=\"{{$ctrl.theme}}\" ng-show=\"$ctrl.browser != \\'android\\'\" ng-class=\"{\\'pip-android-dialog\\': $ctrl.browser == \\'android\\' || !$ctrl.browser}\"><div class=\"pip-header\"><md-button ng-click=\"$ctrl.onCancelClick()\" class=\"md-icon-button\" aria-label=\"{{ ::\\'CANCEL\\' | translate }}\"><md-icon class=\"text-grey\" md-svg-icon=\"icons:arrow-left\"></md-icon></md-button><h3 class=\"m0 text-title\">{{ ::\\'TAKE_PICTURE\\' | translate }}</h3></div><div class=\"pip-body\"><div class=\"camera-stream\" ng-hide=\"$ctrl.webCamError || $ctrl.browser == \\'android\\'\"></div><div class=\"camera-error\" ng-show=\"$ctrl.webCamError || $ctrl.browser == \\'android\\'\"><span>{{ ::\\'WEB_CAM_ERROR\\' | translate }}</span></div></div><div class=\"pip-footer\"><div class=\"w48\"><md-button ng-click=\"$ctrl.onResetPicture()\" ng-hide=\"!$ctrl.freeze || $ctrl.webCamError\" class=\"md-icon-button\" ng-disabled=\"transaction.busy()\" aria-label=\"{{ ::\\'REMOVE_PICTURE\\' | translate }}\"><md-icon class=\"text-grey\" md-svg-icon=\"icons:refresh\"></md-icon></md-button></div><div class=\"flex\"></div><div class=\"w48\"><md-button ng-click=\"$ctrl.onTakePictureClick()\" ng-hide=\"$ctrl.webCamError\" class=\"md-icon-button\" aria-label=\"{{ ::\\'TAKE_PICTURE\\' | translate }}\"><md-icon class=\"text-grey icon-button\" md-svg-icon=\"icons:{{$ctrl.freeze ? \\'check\\' : \\'camera\\'}}\"></md-icon></md-button></div><div class=\"flex\"></div><div class=\"w48\"><md-button ng-click=\"$ctrl.onCancelClick()\" class=\"md-icon-button\" aria-label=\"{{ ::\\'CANCEL\\' | translate }}\"><md-icon class=\"text-grey\" md-svg-icon=\"icons:cross\"></md-icon></md-button></div></div></md-dialog>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipPictures.Templates');\n} catch (e) {\n  module = angular.module('pipPictures.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('gallery_search_dialog/GallerySearchDialog.html',\n    '<md-dialog class=\"pip-dialog pip-gallery-search-dialog pip-picture-dialog layout-column\" md-theme=\"{{ $ctrl.theme }}\"><md-progress-linear ng-show=\"$ctrl.transaction.busy()\" md-mode=\"indeterminate\"></md-progress-linear><md-dialog-content class=\"pip-body lp0 rp0 tp0 pip-scroll flex layout-row\"><div class=\"layout-column layout-align-start-start flex\"><div class=\"pip-header w-stretch layout-column layout-align-start-start\"><h3 class=\"w-stretch text-title m0 bp8\"><md-button class=\"md-icon-button m0\" ng-click=\"$ctrl.onCancelClick()\" aria-label=\"{{ ::\\'CANCEL\\' | translate }}\"><md-icon class=\"text-grey\" md-svg-icon=\"icons:arrow-left\"></md-icon></md-button>{{ ::\\'IMAGE_GALLERY\\' | translate }}</h3><div class=\"w-stretch divider-bottom layout-row layout-start-center\"><input class=\"no-divider rm8 text-subhead1 flex\" ng-disabled=\"$ctrl.transaction.busy()\" ng-model=\"$ctrl.search\" ng-keypress=\"$ctrl.onKeyPress($event)\" placeholder=\"{{ ::\\'SEARCH_PICTURES\\' | translate }}\" type=\"text\" tabindex=\"1\"><md-button class=\"md-icon-button md-icon-button-square p0 pip-search-button md-primary\" ng-click=\"$ctrl.onSearchClick()\" ng-hide=\"$ctrl.optionDefault\" tabindex=\"-1\" aria-label=\"SEARCH\"><md-icon class=\"text-opacity md-primary\" md-svg-icon=\"icons:search-square\"></md-icon></md-button></div></div><div class=\"pip-content flex\" ng-show=\"$ctrl.imagesSearchResult.length > 0\"><div class=\"pip-image-container\" ng-click=\"$ctrl.onImageClick(image)\" ng-repeat=\"image in $ctrl.imagesSearchResult track by $index\" ng-class=\"{\\'checked\\': image.checked}\" tabindex=\"{{ $index + 2 }}\"><pip-picture pip-src=\"image.thumbnail\" pip-default-icon=\"icon-images\" pip-rebind=\"true\"></pip-picture><div class=\"pip-checked-cover\"></div><div class=\"pip-checkbox-backdrop\"><md-checkbox md-no-ink=\"\" ng-model=\"image.checked\" ng-click=\"image.checked = !image.checked\" aria-label=\"CHECKED\"></md-checkbox></div></div></div><div class=\"pip-no-images w-stretch layout-column layout-align-center-center flex\" ng-show=\"$ctrl.imagesSearchResult.length == 0\"><img src=\"images/add_from_image_library.svg\" width=\"200\" height=\"200\"><p class=\"text-secondary opacity-secondary text-center\">{{ ::\\'IMAGE_START_SEARCH\\' | translate }}</p></div></div></md-dialog-content><div class=\"pip-footer\"><md-button ng-click=\"$ctrl.onCancelClick()\" ng-hide=\"$ctrl.transaction.busy()\" aria-label=\"{{ ::\\'CANCEL\\' | translate }}\" tabindex=\"{{ $ctrl.imagesSearchResult.length + 3 }}\"><span class=\"text-grey\">{{ ::\\'CANCEL\\' | translate }}</span></md-button><md-button ng-if=\"transaction.busy()\" ng-click=\"$ctrl.onStopSearchClick()\" class=\"md-raised md-warn m0\" tabindex=\"5\" aria-label=\"ABORT\" pip-test=\"button-cancel\">{{ ::\\'CANCEL\\' | translate }}</md-button><md-button class=\"md-accent\" ng-hide=\"$ctrl.transaction.busy()\" ng-disabled=\"$ctrl.addButtonDisabled()\" ng-click=\"$ctrl.onAddClick()\" aria-label=\"{{ ::\\'ADD\\' | translate }}\" tabindex=\"{{ $ctrl.imagesSearchResult.length + 4 }}\">{{ ::\\'ADD\\' | translate }}</md-button></div></md-dialog>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipPictures.Templates');\n} catch (e) {\n  module = angular.module('pipPictures.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('picture_edit/PictureEdit.html',\n    '<div class=\"pip-picture-upload pip-picture-drop md-focused\" ng-keydown=\"$ctrl.onKeyDown($event)\" ng-class=\"{\\'pip-picture-error\\': $ctrl.control.state == \\'error\\'}\" tabindex=\"{{ $ctrl.ngDisabled || $ctrl.control.uploading ? -1 : 0 }}\" pip-changed=\"$ctrl.readItemLocally(url, uriData, file, picture)\" ng-disabled=\"$ctrl.ngDisabled\" pip-multi=\"$ctrl.multiUpload\" ng-focus=\"$ctrl.onFocus()\" ng-blur=\"$ctrl.onBlur()\" pip-option=\"$ctrl.option\" pip-add-image=\"\"><div class=\"pip-default-icon\" ng-show=\"$ctrl.empty() || $ctrl.control.state == \\'error\\'\"><md-icon class=\"pip-picture-icon\" md-svg-icon=\"icons:{{ $ctrl.icon }}\"></md-icon></div><div class=\"pip-default-text\" ng-show=\"$ctrl.control.state == \\'error\\'\"><span>{{ $ctrl.errorText | translate }}</span></div><div class=\"pip-default-text\" ng-show=\"$ctrl.empty() && $ctrl.control.state != \\'error\\'\"><span>{{ $ctrl.text | translate }}</span></div><img class=\"pip-picture-image\" ng-src=\"{{ $ctrl.control.url }}\" ng-show=\"!$ctrl.empty() && $ctrl.control.state != \\'error\\'\" ng-class=\"{ \\'pip-image-new\\': $ctrl.isUpdated(), \\'cursor-default\\' : $ctrl.ngDisabled || $ctrl.control.uploading }\" ui-event=\"{ error: \\'$ctrl.onImageError($event)\\', load: \\'$ctrl.onImageLoad($event)\\' }\"><md-button class=\"md-icon-button\" ng-click=\"$ctrl.onDeleteClick($event)\" tabindex=\"-1\" aria-label=\"delete\" ng-hide=\"$ctrl.empty() || $ctrl.ngDisabled\" ng-disabled=\"$ctrl.ngDisabled || $ctrl.control.uploading\"><md-icon md-svg-icon=\"icons:cross\"></md-icon></md-button><md-progress-linear ng-show=\"$ctrl.control.uploading\" ng-value=\"$ctrl.control.progress\"></md-progress-linear></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipPictures.Templates');\n} catch (e) {\n  module = angular.module('pipPictures.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('picture_list_edit/PictureListEdit.html',\n    '<div pip-focused=\"\"><div class=\"pip-picture-upload pointer pip-focusable\" ng-class=\"{\\'pip-picture-error\\': item.state == \\'error\\'}\" ng-keydown=\"$ctrl.onKeyDown($event, item)\" tabindex=\"{{ $ctrl.ngDisabled ? -1 : 0 }}\" ng-repeat=\"item in $ctrl.control.items | filter: $ctrl.filterItem\"><div class=\"pip-default-icon\" ng-hide=\"item.loaded || item.state == \\'error\\'\"><md-icon pip-cancel-drag=\"true\" class=\"pip-picture-icon\" md-svg-icon=\"icons:{{ $ctrl.icon }}\"></md-icon></div><div class=\"pip-default-text\" ng-show=\"$ctrl.control.state == \\'error\\'\"><span>{{ $ctrl.errorText | translate }}</span></div><img ng-src=\"{{ ::item.url }}\" pip-cancel-drag=\"true\" ng-hide=\"item.state == \\'error\\'\" ng-class=\"{ \\'pip-image-new\\': item.state == \\'added\\' }\" ui-event=\"{ error: \\'$ctrl.onImageError($event, item)\\', load: \\'$ctrl.onImageLoad($event, item)\\' }\"><md-button ng-click=\"$ctrl.onDeleteClick(item)\" ng-hide=\"$ctrl.ngDisabled || $ctrl.control.uploading\" ng-disabled=\"$ctrl.ngDisabled || $ctrl.control.uploading\" tabindex=\"-1\" aria-label=\"delete\" class=\"md-icon-button\"><md-icon pip-cancel-drag=\"true\" md-svg-icon=\"icons:cross\"></md-icon></md-button><md-progress-linear md-mode=\"indeterminate\" ng-show=\"item.uploading\" value=\"{{ item.progress }}\"></md-progress-linear></div><button class=\"pip-picture-upload pip-picture-drop pip-focusable\" pip-add-image=\"\" pip-multi=\"true\" ng-focus=\"$ctrl.onFocus()\" ng-blur=\"$ctrl.onBlur()\" pip-changed=\"$ctrl.readItemLocally(url, uriData, file, picture)\" ng-disabled=\"$ctrl.ngDisabled || $ctrl.control.uploading\"><div class=\"pip-default-icon\"><md-icon pip-cancel-drag=\"true\" class=\"pip-picture-icon\" md-svg-icon=\"icons:{{ $ctrl.icon }}\"></md-icon></div><div class=\"pip-default-text\"><span>{{ $ctrl.text | translate }}</span></div></button><div class=\"clearfix\"></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipPictures.Templates');\n} catch (e) {\n  module = angular.module('pipPictures.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('picture_url_dialog/PictureUrlDialog.html',\n    '<md-dialog class=\"pip-dialog pip-picture-url-dialog pip-picture-dialog layout-column\" md-theme=\"{{ $ctrl.theme }}\"><md-dialog-content class=\"pip-body lp0 rp0 tp0 pip-scroll\"><div class=\"pip-header bm16 layout-row layout-align-start-center\"><md-button ng-click=\"$ctrl.onCancelClick()\" class=\"md-icon-button lm0\" aria-label=\"{{ ::\\'CANCEL\\' | translate }}\"><md-icon class=\"text-grey\" md-svg-icon=\"icons:arrow-left\"></md-icon></md-button><h3 class=\"text-title m0\">{{ ::\\'PICTURE_FROM_WEBLINK\\' | translate}}</h3></div><div class=\"pip-content lm6 rm16\"><md-input-container md-no-float=\"\" class=\"w-stretch text-subhead1\"><input type=\"text\" ng-model=\"$ctrl.url\" ng-change=\"$ctrl.checkUrl()\" placeholder=\"{{ ::\\'LINK_PICTURE\\' | translate }}\"></md-input-container><div class=\"w-stretch layout-row layout-align-center-center\" ng-hide=\"$ctrl.invalid\"><img id=\"url_image\"></div><div class=\"pip-no-images layout-row layout-align-center-center\" ng-show=\"$ctrl.invalid\"><md-icon class=\"text-grey\" md-svg-icon=\"icons:images\"></md-icon></div></div></md-dialog-content><div class=\"pip-footer\"><md-button ng-click=\"$ctrl.onCancelClick()\" aria-label=\"{{ ::\\'CANCEL\\' | translate }}\">{{ ::\\'CANCEL\\' | translate }}</md-button><md-button class=\"md-accent\" ng-click=\"$ctrl.onAddClick()\" ng-disabled=\"$ctrl.invalid\" aria-label=\"{{ ::\\'ADD\\' | translate }}\">{{ ::\\'ADD\\' | translate }}</md-button></div></md-dialog>');\n}]);\n})();\n\n//# sourceMappingURL=pip-suite-pictures-html.min.js.map\n","import { IDocumentUrlDialogService } from '../document_url_dialog/IDocumentUrlDialogService';\ndeclare let unescape: any;\n\nconst ConfigTranslations = (pipTranslateProvider: pip.services.ITranslateProvider) => {\n    pipTranslateProvider.translations('en', {\n        'FILE_DOCUMENTS': 'Upload document',\n        'WEB_LINK': 'Use web link'\n    });\n    pipTranslateProvider.translations('ru', {\n        'FILE_DOCUMENTS': 'Загрузить документ',\n        'WEB_LINK': 'Вставить веб ссылка'\n    });\n}\n\n{\n    interface IAddDocumentScope extends angular.IScope {\n        $document: any;\n        onChange: any;\n        multi: any;\n        ngDisabled: any;\n    }\n\n    class AddDocumentsOnChangeParams {\n        public url: string;\n        public file: any;\n    }\n\n    class AddDocumentController {\n        constructor(\n            private $scope: IAddDocumentScope,\n            private $element: JQuery,\n            private $mdMenu,\n            private $timeout: ng.ITimeoutService,\n            private pipDocumentUrlDialog: IDocumentUrlDialogService\n        ) {\n            \"ngInject\";\n\n        }\n\n        public openMenu($mdOpenMenu): void {\n            if (this.$scope.ngDisabled()) {\n                return;\n            }\n            $mdOpenMenu();\n        }\n\n        private toBoolean(value: any): boolean {\n            if (!value) { return false; }\n\n            value = value.toString().toLowerCase();\n\n            return value == '1' || value == 'true';\n        }\n\n        public isMulti(): boolean {\n            if (this.$scope.multi !== undefined && this.$scope.multi !== null) {\n                if (angular.isFunction(this.$scope.multi)) {\n                    return this.toBoolean(this.$scope.multi());\n                } else {\n                    return this.toBoolean(this.$scope.multi);\n                }\n            } else {\n                return true;\n            }\n        }\n\n        public hideMenu(): void {\n            this.$mdMenu.hide();\n        }\n\n        public addDocuments(documents: any): void {\n\n            if (documents === undefined) { return; }\n\n            if (Array.isArray(documents)) {\n                documents.forEach((img) => {\n                    if (this.$scope.onChange) {\n                        let params: AddDocumentsOnChangeParams = { url: img.url, file: img.file };\n                        this.$scope.onChange(params);\n                    }\n                });\n            } else {\n                if (this.$scope.onChange) {\n                    let params: AddDocumentsOnChangeParams = { url: documents.url, file: documents.file };\n                    this.$scope.onChange(params);\n                }\n            }\n\n            if (this.$scope.$document === undefined || !Array.isArray(this.$scope.$document)) {\n                return;\n            }\n\n            if (Array.isArray(documents)) {\n                documents.forEach((img) => {\n                    this.$scope.$document.push(img.url);\n                });\n            } else {\n                this.$scope.$document.push(documents.url);\n            }\n        }\n\n        // Process user actions\n        public onFileChange($files: any): void {\n            if ($files == null || $files.length == 0) { return; }\n\n            $files.forEach((file) => {\n                if (file.type.indexOf('image') > -1) {\n                    this.$timeout(() => {\n                        let fileReader = new FileReader();\n                        fileReader.readAsDataURL(file);\n                        fileReader.onload = (e) => {\n                            this.$timeout(() => {\n                                this.addDocuments({ url: null, file: file });\n                            });\n                        }\n                    });\n                }\n            });\n\n        }\n\n        public onWebLinkClick(): void {\n            this.pipDocumentUrlDialog.show((result) => {\n                this.addDocuments({ url: result, file: null });\n            });\n        }\n\n    }\n\n    const AddDocument = function (): ng.IDirective {\n        return {\n            restrict: 'AC',\n            scope: {\n                $document: '=pipDocuments',\n                onChange: '&pipChanged',\n                multi: '&pipMulti',\n                ngDisabled: '&'\n            },\n            transclude: true,\n            templateUrl: 'add_documents/AddDocument.html',\n            controller: AddDocumentController,\n            controllerAs: 'vm'\n        };\n    }\n\n    angular\n        .module('pipAddDocument', ['DocumentUrlDialog'])\n        .config(ConfigTranslations)\n        .directive('pipAddDocument', AddDocument);\n}\n","import { IDocumentDataService, IDocumentDataProvider, DocumentConfig } from './IDocumentDataService';\nimport { BlobInfo } from './BlobInfo';\nimport { DataPage } from './DataPage';\n\nclass DocumentData implements IDocumentDataService {\n    private RESOURCE: string = 'documents';\n    private RESOURCE_INFO: string = 'documentsInfo';\n\n    private PAGE_SIZE: number = 100;\n    private PAGE_START: number = 0;\n    private PAGE_TOTAL: boolean = true;\n\n    constructor(\n        private _config: DocumentConfig,\n        private pipRest: pip.rest.IRestService,\n        private pipFormat: pip.services.IFormat\n    ) {\n        \"ngInject\";\n\n    }\n\n\n    public get DocumentRoute(): string {\n        return this._config.DocumentRoute;\n    }\n\n    public getDocumentUrl(id: string): string {\n        return this.pipRest.serverUrl + this._config.DocumentRoute + '/' + id;\n    }\n\n    public postDocumentUrl(): string {\n        return this.pipRest.serverUrl + this._config.DocumentRoute;\n    }\n\n\n    public readDocuments(params: any, successCallback?: (data: DataPage<BlobInfo>) => void, errorCallback?: (error: any) => void): angular.IPromise<any> {\n        params = params || {};\n        if (params.filter) {\n            params.filer = this.pipFormat.filterToString(params.filer);\n        }\n\n        return this.pipRest.getResource(this.RESOURCE).page(params, successCallback, errorCallback);\n    }\n\n    public readDocumentInfo(params: any, successCallback?: (data: BlobInfo) => void, errorCallback?: (error: any) => void): angular.IPromise<any> {\n        params = params || {};\n        if (params.filter) {\n            params.filer = this.pipFormat.filterToString(params.filer);\n        }\n\n        return this.pipRest.getResource(this.RESOURCE_INFO).get(params, successCallback, errorCallback);\n    }\n\n    public readDocument(id: string, successCallback?: (data: BlobInfo) => void, errorCallback?: (error: any) => void): angular.IPromise<any> {\n\n        return this.pipRest.getResource(this.RESOURCE).get({\n            blob_id: id\n        }, successCallback, errorCallback);\n    }\n\n    public deleteDocument(id: string, successCallback?: () => void, errorCallback?: (error: any) => void): void {\n        this.pipRest.getResource(this.RESOURCE).remove(\n            { blob_id: id },\n            null,\n            successCallback,\n            errorCallback\n        );\n    }\n}\n\n\nclass DocumentDataProvider implements IDocumentDataProvider {\n    private _service: IDocumentDataService;\n    private _config: DocumentConfig;\n\n    constructor(\n        private pipRestProvider: pip.rest.IRestProvider\n    ) {\n        this._config = new DocumentConfig();\n\n        this._config.DocumentRoute = '/api/1.0/blobs';\n    }\n\n    public get DocumentRoute(): string {\n        return this._config.DocumentRoute;\n    }\n\n    public set DocumentRoute(value: string) {\n        this._config.DocumentRoute = value;\n\n        this.pipRestProvider.registerOperation('documents', this._config.DocumentRoute + '/:document_id');\n        this.pipRestProvider.registerResource('documentInfo', this._config.DocumentRoute + '/:document_id/info');\n    }\n\n    public $get(\n        pipRest: pip.rest.IRestService,\n        pipFormat: pip.services.IFormat\n    ) {\n        \"ngInject\";\n\n        if (this._service == null) {\n            this._service = new DocumentData(this._config, pipRest, pipFormat);\n        }\n\n        return this._service;\n    }\n\n}\n\n\nangular\n    .module('pipDocumentData', ['pipRest', 'pipServices'])\n    .provider('pipDocumentData', DocumentDataProvider);\n\n\n","import { BlobInfo } from './BlobInfo';\nimport { DataPage } from './DataPage';\n\nexport class DocumentConfig {\n    public DocumentRoute: string;\n}\n\nexport interface IDocumentDataService {\n    DocumentRoute: string;\n\n    getDocumentUrl(id: string): string;\n    postDocumentUrl(): string\n\n    readDocuments(params: any, successCallback?: (data: DataPage<BlobInfo>) => void, errorCallback?: (error: any) => void): angular.IPromise<any>\n    readDocumentInfo(params: any, successCallback?: (data: BlobInfo) => void, errorCallback?: (error: any) => void): angular.IPromise<any>;\n    readDocument(id: string, successCallback?: (data: BlobInfo) => void, errorCallback?: (error: any) => void): angular.IPromise<any>;\n    deleteDocument(id: string, successCallback?: () => void, errorCallback?: (error: any) => void): void;\n}\n\n\nexport interface IDocumentDataProvider extends ng.IServiceProvider {\n    // bases document route string? sach as: '/api/1.0/blobs'\n    DocumentRoute: string;\n}\n","import { DefaultDocumentIcon } from '../document_list_edit/DocumentListEdit';\nimport { Attachment } from '../data/Attachment';\nimport { IDocumentDataService } from '../data/IDocumentDataService';\n\nconst ConfigTranslations = (pipTranslate: pip.services.ITranslateService) => {\n    if (pipTranslate) {\n        (pipTranslate).setTranslations('en', {\n            DOCUMENTS_ATTACHED: 'document(s) attached',\n            ERROR_DOCUMENTS_LOADED: 'Error: <%= error_number %> document(s) are not loaded'\n        });\n        (pipTranslate).setTranslations('ru', {\n            DOCUMENTS_ATTACHED: 'документов добавлено',\n            ERROR_DOCUMENTS_LOADED: 'Ошибка: <%= error_number %> документ(ов) не загружено'\n        });\n    }\n}\n\n{\n\n    interface DocumentListBindings {\n        [key: string]: any;\n\n        ngDisabled: any;\n        documents: any;\n        collapsable: any;\n        pipDocumentIcon: any;\n        rebind: any;\n    }\n\n    const DocumentListBindings: DocumentListBindings = {\n        ngDisabled: '&?',\n        documents: '<pipDocuments',\n        collapsable: '<?pipCollapse',\n        pipDocumentIcon: '<?pipDocumentIcon',\n        rebind: '<?pipRebind'\n    }\n\n    class DocumentListChanges implements ng.IOnChangesObject, DocumentListBindings {\n        [key: string]: ng.IChangesObject<any>;\n\n        ngDisabled: ng.IChangesObject<() => ng.IPromise<void>>;\n        documents: ng.IChangesObject<Attachment[]>;\n        collapsable: ng.IChangesObject<boolean>;\n        pipDocumentIcon: ng.IChangesObject<boolean>;\n        rebind: ng.IChangesObject<boolean>;\n    }\n\n    class DocumentListController {\n        private documentsContainer: JQuery;\n        private up: JQuery;\n        private down: JQuery;\n\n        public ngDisabled: () => boolean;\n        public collapsable: boolean;\n        public pipDocumentIcon: boolean;\n        public documents: Attachment[];\n        public rebind: boolean;\n\n        public showDocuments: boolean;\n        public documentList: Attachment[];\n        public documentListIcon: string = DefaultDocumentIcon;\n\n        constructor(\n            private $element: JQuery,\n            private $attrs: ng.IAttributes,\n            private pipTranslate: pip.services.ITranslateService,\n            private $parse: ng.IParseService,\n            private $scope: angular.IScope,\n            private $timeout: ng.ITimeoutService,\n            private pipDocumentData: IDocumentDataService,\n            private pipRest: pip.rest.IRestService\n        ) {\n            \"ngInject\";\n\n            // Add class\n            this.$element.addClass('pip-document-list');\n        }\n\n        public $postLink() {\n            this.documentsContainer = this.$element.children('.pip-documents-container');\n            this.up = this.$element.find('.icon-up');\n            this.down = this.$element.find('.icon-down');\n            this.documents = this.documents || [];\n            this.showDocuments = this.collapsable;\n\n            if (!this.collapsable) {\n                this.up.hide();\n                this.documentsContainer.hide();\n            } else {\n                this.down.hide();\n            }\n\n            if (this.ngDisabled()) {\n                this.up.hide();\n                this.down.hide();\n            }\n        }\n\n        public onDownload(item): void {\n            let e = document.createEvent('MouseEvents');\n            let a = document.createElement('a');\n\n            a.href = this.pipDocumentData.getDocumentUrl(item.id);;\n            a.dataset['downloadurl'] = ['undefined', a.download, a.href].join(':');\n            e.initMouseEvent('click', true, true, window, 0, 0, 0, 0, 0, true, false, false, false, 0, null);\n            a.dispatchEvent(e);\n        }\n\n        public $onChanges(changes: DocumentListChanges) {\n            if (this.toBoolean(this.rebind)) {\n                if (changes.documents && changes.documents.currentValue) {\n                    if (this.differentDocumentList(changes.documents.currentValue)) {\n                        this.documents = changes.documents.currentValue;\n                    }\n                }\n            }\n        }\n\n        public differentDocumentList(newList: Attachment[]): boolean {\n            let i: number, obj: Attachment;\n\n            if (!this.documents || newList) { return true; }\n            if (this.documents.length !== newList.length) { return true; }\n\n            for (i = 0; i < newList.length; i++) {\n                obj = _.find(this.documents, { id: newList[i].id });\n\n                if (obj === undefined) { return true; }\n            }\n\n            return false;\n        }\n\n        public onTitleClick(event: ng.IAngularEvent): void {\n            if (event) { event.stopPropagation(); }\n\n            if (this.$attrs.disabled) { return; }\n\n            this.showDocuments = !this.showDocuments;\n            this.up[this.showDocuments ? 'show' : 'hide']();\n            this.down[!this.showDocuments ? 'show' : 'hide']();\n            this.documentsContainer[this.showDocuments ? 'show' : 'hide']();\n        }\n\n        private toBoolean(value: any): boolean {\n            if (value == null) return false;\n            if (!value) return false;\n            value = value.toString().toLowerCase();\n\n            return value == '1' || value == 'true';\n        }\n\n    }\n\n    const documentList: ng.IComponentOptions = {\n        bindings: DocumentListBindings,\n        templateUrl: 'document_list/DocumentList.html',\n        controller: DocumentListController,\n    }\n\n    angular\n        .module(\"pipDocumentList\", ['pipFocused', 'pipDocuments.Templates'])\n        .run(ConfigTranslations)\n        .component('pipDocumentList', documentList);\n}","export let DefaultDocumentIcon: string = 'document';\nimport { Attachment, BlobInfo } from '../data';\nimport { IDocumentDataService } from '../data/IDocumentDataService';\n\nlet async = require('async');\n\nconst ConfigTranslations = (pipTranslate: pip.services.ITranslateService) => {\n    if (pipTranslate) {\n        (pipTranslate).setTranslations('en', {\n            DOCUMENT_LIST_EDIT_TEXT: 'Click here to add a document',\n            ERROR_TRANSACTION_IN_PROGRESS: 'Transaction is in progress. Please, wait until it\\'s finished or abort'\n        });\n        (pipTranslate).setTranslations('ru', {\n            DOCUMENT_LIST_EDIT_TEXT: 'Нажмите сюда, чтобы добавить документ',\n            ERROR_TRANSACTION_IN_PROGRESS: 'Транзакция еще не завершена. Подождите окончания или прервите её'\n        });\n    }\n}\n\nexport class DocumentListEditControl {\n    uploading: number = 0;\n    items: DocumentListEditItem[];\n    reset: () => void;\n    save: (successCallback?: (data: Attachment[]) => void, errorCallback?: (error: any) => void) => void;\n    abort: () => void;\n    error?: any;\n}\n\nexport class DocumentUploadErrors {\n    id: string;\n    uri: string;\n    name: string;\n    error: any;\n}\n\nexport class DocumentListEditItem {\n    pin: number;\n    id: string;\n    name: string;\n    uri?: string;\n    uploading: boolean;\n    uploaded: boolean;\n    upload?: any;\n    progress: number;\n    file: any;\n    state: string;\n    error: any\n}\n\n{\n    interface IDocumentListEditBindings {\n        [key: string]: any;\n\n        ngDisabled: any;\n        pipCreated: any;\n        pipChanged: any;\n        documents: any;\n        addedDocument: any;\n        documentListText: any;\n        documentListIcon: any;\n        cancelDrag: any;\n    }\n\n    const DocumentListEditBindings: IDocumentListEditBindings = {\n        ngDisabled: '&?',\n        pipCreated: '&?',\n        pipChanged: '&?',\n        documents: '=?pipDocuments',\n        addedDocument: '&?pipAddedDocument',\n        documentListText: '<?pipDefaultText',\n        documentListIcon: '<?pipDefaultIcon',\n        cancelDrag: '<?pipCanselDrag'\n    }\n\n    class DocumentListEditChanges implements ng.IOnChangesObject, IDocumentListEditBindings {\n        [key: string]: ng.IChangesObject<any>;\n        // Not one way bindings\n        ngDisabled: ng.IChangesObject<() => ng.IPromise<void>>;\n        pipCreated: ng.IChangesObject<() => ng.IPromise<void>>;\n        pipChanged: ng.IChangesObject<() => ng.IPromise<void>>;\n        documents: ng.IChangesObject<Attachment[]>;\n        addedDocument: ng.IChangesObject<() => boolean>;\n        documentListText: ng.IChangesObject<string>;\n        documentListIcon: ng.IChangesObject<string>;\n        cancelDrag: ng.IChangesObject<() => boolean>;\n    }\n\n    class SenderEvent {\n        sender: DocumentListEditControl;\n    }\n\n    class DocEvent {\n        $event: SenderEvent;\n        $control: DocumentListEditControl;\n    }\n\n    class DocumentStates {\n        static Original: string = 'original';\n        static Copied: string = 'copied';\n        static Added: string = 'added';\n        static Error: string = 'error';\n        static Deleted: string = 'deleted';\n    }\n\n    class DocumentListEditController {\n        private _pipTranslate: pip.services.ITranslateService;\n        private _elementDocumentDrop: JQuery;\n        private _itemPin: number = 0;\n        private documentStartState: string;\n        private loadedFiles: boolean\n\n        private cancelQuery: any;\n\n        public ngDisabled: () => boolean;\n        public pipCreated: (params: DocEvent) => void;\n        public pipChanged: (params: DocEvent) => void;\n        public documents: Attachment[];\n        public addedDocument: () => boolean;\n        public cancelDrag: () => boolean;\n        public documentListText: string;\n        public documentListIcon: string;\n        public iconError: string;\n\n        public control: DocumentListEditControl;\n\n        constructor(\n            private $log: ng.ILogService,\n            private $element: JQuery,\n            private $injector: ng.auto.IInjectorService,\n            private pipRest: pip.rest.IRestService,\n            private $timeout: ng.ITimeoutService,\n            private pipDocumentData: IDocumentDataService,\n            private pipFileUpload: pip.files.IFileUploadService\n\n        ) {\n            \"ngInject\";\n\n            this._pipTranslate = this.$injector.has('pipTranslate') ? <pip.services.ITranslateService>this.$injector.get('pipTranslate') : null;\n\n            this._elementDocumentDrop = $element.children('.pip-document-drop');\n\n            if (!this.documentListText) {\n                this.documentListText = 'DOCUMENT_LIST_EDIT_TEXT';\n            }\n            if (!this.documentListIcon) {\n                this.documentListIcon = 'document';\n            }\n            this.iconError = 'warn-circle';\n            this.documentStartState = this.toBoolean(this.addedDocument) ? DocumentStates.Copied : DocumentStates.Original;\n\n            this.control = {\n                uploading: 0,\n                items: this.getItems(),\n                reset: () => {\n                    this.resetDocument();\n                },\n                save: (successCallback?: (data: Attachment[]) => void, errorCallback?: (error: any) => void) => {\n                    this.saveDocument(successCallback, errorCallback);\n                },\n                abort: () => {\n                    this.onAbort();\n                },\n                error: null\n            };\n\n            this.control.reset();\n            this.executeCallback();\n            // Add class\n            this.$element.addClass('pip-document-list-edit');\n        }\n\n        public $onChanges(changes: DocumentListEditChanges): void {\n            if (changes.documents && changes.documents.currentValue) {\n                if (!_.isEqual(this.documents, changes.documents.currentValue)) {\n                    this.control.reset();\n                }\n            }\n        }\n\n        private toBoolean(value: any): boolean {\n            if (value == null) {\n                return false;\n            }\n            if (!value) {\n                return false;\n            }\n            value = value.toString().toLowerCase();\n\n            return value == '1' || value == 'true';\n        }\n\n        private getItems(): DocumentListEditItem[] {\n            let items: DocumentListEditItem[] = [];\n            let i: number;\n\n            if (this.documents === null || this.documents.length === 0) {\n                return items;\n            }\n\n            for (i = 0; i < this.documents.length; i++) {\n                let item: DocumentListEditItem = {\n                    pin: this._itemPin++,\n                    id: this.documents[i].id,\n                    name: this.documents[i].name,\n                    uri: this.documents[i].uri,\n                    uploading: false,\n                    uploaded: false,\n                    progress: 50,\n                    file: null,\n                    state: this.documentStartState,\n                    error: null\n                }\n                items.push(item);\n            }\n\n            return items;\n        }\n\n        private setItems(): void {\n            let item: DocumentListEditItem;\n            let i: number;\n\n            // Clean the array\n            if (this.documents && this.documents.length > 0) {\n                this.documents.splice(0, this.documents.length);\n            }\n            for (i = 0; i < this.control.items.length; i++) {\n                item = this.control.items[i];\n\n                if ((item.id || item.uri) && item.state != DocumentStates.Deleted) {\n                    let newDoc: Attachment = {\n                        id: item.id,\n                        name: item.name,\n                        uri: item.uri\n                    };\n                    this.documents.push(newDoc);\n                }\n            }\n        }\n\n        private getUploadErors(): DocumentUploadErrors[] {\n            let errors: DocumentUploadErrors[] = [];\n\n            _.each(this.control.items, (item: DocumentListEditItem) => {\n                if (item.state == DocumentStates.Error || item.error) {\n                    errors.push({\n                        id: item.id,\n                        uri: item.uri,\n                        name: item.name,\n                        error: item.error\n                    })\n                }\n            });\n\n            return errors;\n        }\n\n        public isDisabled(): boolean {\n            if (this.control.uploading) {\n                return true;\n            }\n\n            if (this.ngDisabled) {\n                return this.ngDisabled();\n            }\n\n            return false;;\n        }\n\n        private resetDocument(): void {\n            this.control.uploading = 0;\n            this.control.items = this.getItems();\n        }\n\n        private deleteItem(item: DocumentListEditItem, callback: (error?: any) => void): void {\n            // Avoid double transactions\n            if (item.upload) {\n                item.upload.abort();\n                item.upload = null;\n            }\n\n            if (item.state !== DocumentStates.Deleted) { return; }\n\n            // if attachment by uri\n            this.removeItem(item);\n            callback();\n        }\n\n        private saveDocument(successCallback?: (data: Attachment[]) => void, errorCallback?: (error: any) => void): void {\n            let item: DocumentListEditItem;\n            let onItemCallback: (error: any) => void;\n            let i: number;\n\n            if (this.control.uploading) {\n                if (errorCallback) {\n                    errorCallback('ERROR_TRANSACTION_IN_PROGRESS');\n                }\n\n                return;\n            }\n\n            this.cancelQuery = null;\n            this.control.error = null;\n            this.control.uploading = 0;\n\n            let addedBlobCollection = [];\n            let addedUrlCollection = [];\n\n            _.each(this.control.items, (item) => {\n                if (item.state == 'added') {\n                    if (!item.uri) {\n                        addedBlobCollection.push(item);\n                    } else {\n                        addedUrlCollection.push(item);\n                    }\n                }\n            });\n\n\n            let deletedCollection = _.filter(this.control.items, { state: 'deleted' });\n\n            // process addedUrlCollection\n            _.each(addedUrlCollection, (item) => {\n                item.uploaded = true;\n                item.uploading = false;\n                item.progress = 0;\n                item.upload = null;\n                item.file = null;\n                item.state = DocumentStates.Original;\n            });\n\n            if (!addedBlobCollection.length && !deletedCollection.length) {\n                // do nothing\n                if (addedUrlCollection.length > 0) {\n                    this.setItems();\n                }\n                this.control.uploading = 0;\n                if (successCallback) {\n                    successCallback(this.documents);\n                }\n\n                return;\n            }\n\n            this.control.uploading = addedBlobCollection.length + deletedCollection.length;\n            async.parallel([\n                (callbackAll) => {\n                    // add documents\n                    _.each(addedBlobCollection, (item) => {\n                        item.uploading = true;\n                        item.progress = 0;\n                    });\n                    this.pipFileUpload.multiUpload(\n                        this.pipDocumentData.postDocumentUrl(),\n                        addedBlobCollection,\n                        (index: number, data: BlobInfo, err: any) => {\n                            let item = addedBlobCollection[index];\n                            this.addItem(item, data, err);\n\n                            if (err) {\n                                this.control.error = true;\n                            }\n                        },\n                        (index: number, state: pip.files.FileUploadState, progress: number) => {\n                            // update item progress \n                            let item = addedBlobCollection[index];\n                            item.progress = progress;\n                        },\n                        (error: any, result: any, res: any) => {\n                            // reset upload abort\n                            this.cancelQuery = null;\n                            callbackAll();\n                        },\n                        (cancelQuery: any) => {\n                            this.cancelQuery = cancelQuery;\n                        },\n                        false,\n                        'pin'\n                    );\n                },\n                (callbackAll) => {\n                    // delete documents\n                    if (deletedCollection.length) {\n                        async.each(deletedCollection,\n                            (item, callback) => {\n                                this.deleteItem(item, (error: any) => { callback() });\n                            },\n                            (error, result) => {\n                                callbackAll();\n                            });\n                    } else {\n                        callbackAll();\n                    }\n\n                }\n            ],\n                // optional callback\n                (error, results) => {\n                    if (error && !this.control.error) {\n                        this.control.error = error;\n                    }\n                    if (this.control.error) {\n\n                        this.control.uploading = 0;\n                        let errors = this.getUploadErors();\n                        if (errorCallback) {\n                            errorCallback(errors);\n                        } else {\n                            this.$log.error(this.control.error);\n                        }\n                    } else {\n                        this.setItems();\n                        this.control.uploading = 0;\n                        if (successCallback) {\n                            successCallback(this.documents);\n                        }\n                    }\n\n\n                });\n\n        }\n\n        private addItem(oldItem: DocumentListEditItem, fileInfo: BlobInfo, error: any) {\n            let itemIndex = _.findIndex(this.control.items, { pin: oldItem.pin });\n            if (itemIndex < 0) return;\n            if (error) {\n                this.control.items[itemIndex].uploaded = false;\n                this.control.items[itemIndex].uploading = false;\n                this.control.items[itemIndex].progress = 0;\n                this.control.items[itemIndex].upload = null;\n                this.control.items[itemIndex].state = DocumentStates.Error;\n                this.control.items[itemIndex].error = error;\n\n            } else {\n                if (fileInfo) {\n                    this.control.items[itemIndex].id = fileInfo.id;\n                    this.control.items[itemIndex].name = fileInfo.name;\n                    this.control.items[itemIndex].uploaded = true;\n                    this.control.items[itemIndex].state = DocumentStates.Original;\n                } else {\n                    this.control.items[itemIndex].uploaded = false;\n                }\n                this.control.items[itemIndex].uploading = false;\n                this.control.items[itemIndex].progress = 0;\n                this.control.items[itemIndex].upload = null;\n                this.control.items[itemIndex].file = null;\n                this.control.items[itemIndex].error = null;\n            }\n        }\n\n        public onAbort(): void {\n            let item: DocumentListEditItem;\n            let i: number;\n\n            for (i = 0; i < this.control.items.length; i++) {\n                item = this.control.items[i];\n\n                if (item.uploading) {\n                    if (item.upload) {\n                        item.upload.abort();\n                    }\n\n                    item.uploaded = false;\n                    item.uploading = false;\n                    item.progress = 0;\n                    item.upload = null;\n                }\n            }\n\n            // abort upload\n            if (this.cancelQuery) {\n                this.cancelQuery.resolve();\n            }\n            // Abort transaction\n            this.control.uploading = 0;\n            this.control.error = true;\n        }\n\n        // Visualization functions\n        public filterItem(item: DocumentListEditItem): boolean {\n            return item.state !== DocumentStates.Deleted;\n        }\n\n        // Process user actions\n        public readItemLocally(url: string, file: any): void {\n\n            let item: DocumentListEditItem = {\n                pin: this._itemPin++,\n                id: null,\n                name: file ? file.name : url ? url.split('/').pop() : null,\n                uri: !file && url ? url : null,\n                uploading: false,\n                uploaded: false,\n                progress: 0,\n                file: file ? file : null,\n                state: DocumentStates.Added,\n                error: null\n            };\n\n            this.control.items.push(item);\n\n            this.onChange();\n        }\n\n        private removeItem(item: DocumentListEditItem): void {\n            if (item.state === DocumentStates.Added || item.state === DocumentStates.Copied) {\n                let index = _.findIndex(this.control.items, { pin: item.pin });\n                if (index > -1) {\n                    this.control.items.splice(index, 1);\n                }\n            } else {\n                item.state = DocumentStates.Deleted;\n            }\n        }\n\n        public onDelete(item: DocumentListEditItem): void {\n            this.removeItem(item);\n\n            this.onChange();\n        }\n\n        public onKeyDown($event: JQueryEventObject, item: DocumentListEditItem): void {\n            if (item) {\n                if ($event.keyCode === 46 || $event.keyCode === 8) {\n                    this.removeItem(item);\n\n                    this.onChange();\n                }\n            } else if ($event.keyCode === 13 || $event.keyCode === 32) {\n                // !! Avoid clash with $apply()\n                setTimeout(() => {\n                    this._elementDocumentDrop.trigger('click');\n                }, 0);\n            }\n        }\n\n        // On change event\n        public onChange() {\n            if (this.pipChanged) {\n                this.pipChanged({\n                    $event: { sender: this.control },\n                    $control: this.control\n                });\n            }\n        }\n\n        private executeCallback() {\n            // Execute callback\n            if (this.pipCreated) {\n                this.pipCreated({\n                    $event: { sender: this.control },\n                    $control: this.control\n                });\n            }\n        }\n    }\n\n    const documentListEdit: ng.IComponentOptions = {\n        bindings: DocumentListEditBindings,\n        templateUrl: 'document_list_edit/DocumentListEdit.html',\n        controller: DocumentListEditController\n    }\n\n    angular\n        .module(\"pipDocumentListEdit\", ['ui.event', 'pipFocused', 'pipDocuments.Templates', 'pipFiles', 'DocumentUrlDialog'])\n        .run(ConfigTranslations)\n        .component('pipDocumentListEdit', documentListEdit);\n}\n\n","import { IDocumentUrlDialogService } from './IDocumentUrlDialogService';\n\nclass DocumentUrlDialogService implements IDocumentUrlDialogService {\n    private _mdDialog: angular.material.IDialogService;\n\n    constructor($mdDialog: angular.material.IDialogService) {\n        this._mdDialog = $mdDialog;\n    }\n\n    public show(successCallback?: (result) => void, cancelCallback?: () => void) {\n        this._mdDialog.show({\n            templateUrl: 'document_url_dialog/DocumentUrlDialog.html',\n            clickOutsideToClose: true,\n            controller: DocumentUrlDialogController,\n            controllerAs: '$ctrl'\n        })\n            .then(\n            (result) => {\n                if (successCallback) {\n                    successCallback(result);\n                }\n            });\n    }\n}\n\n\nconst ConfigDocumentUrlDialogTranslations = (pipTranslateProvider: pip.services.ITranslateProvider) => {\n    pipTranslateProvider.translations('en', {\n        'DOCUMENT_FROM_WEBLINK': 'Add web link',\n        'LINK_DOCUMENT': 'Link to the document...'\n    });\n    pipTranslateProvider.translations('ru', {\n        'DOCUMENT_FROM_WEBLINK': 'Добавить веб ссылку',\n        'LINK_DOCUMENT': 'Ссылка на документ...'\n    });\n}\n\nclass DocumentUrlDialogController {\n    public url: string = '';\n    public invalid: boolean = true;\n    public theme: string;\n    private ExpressionURI: any;\n    private regexURI: any;\n    public matchURI: boolean;\n\n    constructor(\n        private $log: ng.ILogService,\n        private $scope: ng.IScope,\n        private $mdDialog: angular.material.IDialogService,\n        private $rootScope: ng.IRootScopeService,\n        private $timeout: ng.ITimeoutService,\n        private $mdMenu\n    ) {\n        \"ngInject\";\n\n        this.theme = this.$rootScope[pip.themes.ThemeRootVar];\n\n        this.ExpressionURI = /^([a-z][a-z0-9+.-]*):(?:\\/\\/((?:(?=((?:[a-z0-9-._~!$&'()*+,;=:]|%[0-9A-F]{2})*))(\\3)@)?(?=(\\[[0-9A-F:.]{2,}\\]|(?:[a-z0-9-._~!$&'()*+,;=]|%[0-9A-F]{2})*))\\5(?::(?=(\\d*))\\6)?)(\\/(?=((?:[a-z0-9-._~!$&'()*+,;=:@\\/]|%[0-9A-F]{2})*))\\8)?|(\\/?(?!\\/)(?=((?:[a-z0-9-._~!$&'()*+,;=:@\\/]|%[0-9A-F]{2})*))\\10)?)(?:\\?(?=((?:[a-z0-9-._~!$&'()*+,;=:@\\/?]|%[0-9A-F]{2})*))\\11)?(?:#(?=((?:[a-z0-9-._~!$&'()*+,;=:@\\/?]|%[0-9A-F]{2})*))\\12)?$/i;\n        this.regexURI = new RegExp(this.ExpressionURI);\n        this.matchURI = false;\n    }\n\n    public checkUrl(): void {\n        if (this.url.match(this.regexURI)) {\n            this.matchURI = true;\n        } else {\n            this.matchURI = false;\n        }\n\n    };\n\n    public onCancelClick(): void {\n        this.$mdDialog.cancel();\n    };\n\n    public onAddClick(): void {\n        this.$mdDialog.hide(this.url);\n    };\n\n}\n\nangular\n    .module('DocumentUrlDialog', ['ngMaterial', 'pipDocuments.Templates'])\n    .service('pipDocumentUrlDialog', DocumentUrlDialogService)\n    .config(ConfigDocumentUrlDialogTranslations);","// configured Rest resource\nfunction configDocumentResources(pipRestProvider: pip.rest.IRestProvider) {\n    pipRestProvider.registerPagedCollection('documents', '/api/1.0/blobs/:document_id',\n        { blob_id: '@document_id' },\n        {\n            page: { method: 'GET', isArray: false },\n            update: { method: 'PUT' }\n        });\n    pipRestProvider.registerResource('documentInfo', '/api/1.0/blobs/:document_id/info');\n}\n\nangular\n    .module('pipDocuments.Rest')\n    .config(configDocumentResources);\n\n\n","function configFileResources(pipRestProvider: pip.rest.IRestProvider) {\n    pipRestProvider.registerPagedCollection('files', '/api/1.0/files/:file_id');\n}\n// this.registerRoute('get', '/files', this.getFiles);\n// this.registerRoute('get', '/files/:file_id', this.getFile);\n// this.registerRouteWithAuth('post', '/files', this._auth.admin(), this.createFile);\n// this.registerRouteWithAuth('put', '/files/:file_id', this._auth.admin(), this.updateFile);\n// this.registerRouteWithAuth('del', '/files/:file_id', this._auth.admin(), this.deleteFile);\n\nangular\n    .module('pipDocuments.Rest')\n    .config(configFileResources);\n","(function(module) {\ntry {\n  module = angular.module('pipDocuments.Templates');\n} catch (e) {\n  module = angular.module('pipDocuments.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('add_documents/AddDocument.html',\n    '<md-menu><ng-transclude class=\"pip-add-image-open-button\" ng-click=\"vm.openMenu($mdOpenMenu)\" xxxng-click=\"vm.ngDisabled() ? \\'\\' : $mdOpenMenu()\"></ng-transclude><md-menu-content width=\"4\"><md-menu-item><md-button class=\"layout-row layout-align-start-center\" accept=\"image/*\" ng-keydown=\"vm.onKeyDown($event)\" ng-multiple=\"vm.isMulti()\" ng-file-select=\"\" ng-file-change=\"vm.onFileChange($files)\" ng-click=\"vm.hideMenu()\" ng-file-drop=\"\"><md-icon class=\"text-headline text-grey rm24-flex\" md-svg-icon=\"icons:folder\"></md-icon><span class=\"text-grey\">{{ ::\\'FILE_DOCUMENTS\\' | translate }}</span></md-button></md-menu-item><md-menu-item><md-button class=\"layout-row layout-align-start-center\" ng-click=\"vm.onWebLinkClick()\"><md-icon class=\"text-headline text-grey rm24-flex\" md-svg-icon=\"icons:weblink\"></md-icon><span class=\"text-grey\">{{ ::\\'WEB_LINK\\' | translate }}</span></md-button></md-menu-item></md-menu-content></md-menu>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDocuments.Templates');\n} catch (e) {\n  module = angular.module('pipDocuments.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('document_list/DocumentList.html',\n    '<md-button class=\"pip-documents-name\" ng-class=\"{\\'lp24-flex rp16\\': $ctrl.pipDocumentIcon }\" ng-click=\"$ctrl.onTitleClick($event); $ctrl.onResize()\" aria-label=\"RESIZE\"><div class=\"layout-align-start-center layout-row w-stretch\"><md-icon md-svg-icon=\"icons:document\" ng-class=\"{\\'pip-icon\\': $ctrl.pipDocumentIcon}\" ng-if=\"$ctrl.pipDocumentIcon\"></md-icon><span class=\"pip-documents-text\">{{ $ctrl.documents.length }} {{ ::\\'DOCUMENTS_ATTACHED\\' | translate }}</span><md-icon class=\"icon-up\" md-svg-icon=\"icons:triangle-up\"></md-icon><md-icon class=\"icon-down\" md-svg-icon=\"icons:triangle-down\"></md-icon></div></md-button><div pip-focused=\"\" class=\"pip-documents-container bm8\" ng-class=\"{ \\'lp24-flex rp24-flex\\': $ctrl.pipDocumentIcon }\"><md-button class=\"pip-document-download md-primary\" ng-if=\"document.uri\" ng-class=\"{\\'pip-focusable\\' : !$ctrl.ngDisabled()}\" href=\"{{ document.uri }}\" target=\"_blank\" ng-disabled=\"$ctrl.ngDisabled() || $ctrl.document.error\" ng-repeat=\"document in $ctrl.documents track by $index\" aria-label=\"DOCUMENT\"><div class=\"pip-default-icon\"><md-icon md-svg-icon=\"icons:{{::$ctrl.documentListIcon}}\"></md-icon></div><div class=\"pip-document-title\">{{ ::document.name }}</div></md-button><md-button class=\"pip-document-download md-primary\" ng-if=\"!document.uri\" ng-class=\"{\\'pip-focusable\\' : !$ctrl.ngDisabled()}\" ng-click=\"$ctrl.onDownload(document)\" target=\"_blank\" ng-disabled=\"$ctrl.ngDisabled() || $ctrl.document.error\" ng-repeat=\"document in $ctrl.documents track by $index\" aria-label=\"DOCUMENT\"><div class=\"pip-default-icon\"><md-icon md-svg-icon=\"icons:{{::$ctrl.documentListIcon}}\"></md-icon></div><div class=\"pip-document-title\">{{ ::document.name }}</div></md-button></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDocuments.Templates');\n} catch (e) {\n  module = angular.module('pipDocuments.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('document_list/DocumentListCollapse.html',\n    '<div class=\"pip-documents-name\" ng-click=\"$ctrl.onTitleClick($event); $ctrl.onResize()\"><span class=\"pip-documents-text\">{{ documents.length }} {{ ::\\'DOCUMENTS_ATTACHED\\' | translate }}</span><md-icon class=\"icon-up\" md-svg-icon=\"icons:triangle-up\"></md-icon><md-icon class=\"icon-down\" md-svg-icon=\"icons:triangle-down\"></md-icon></div><div pip-focused=\"\" class=\"pip-documents-container bm8\"><md-button class=\"pip-document-download pip-focusable md-primary\" href=\"{{::$ctrl.document.url}}\" target=\"_blank\" ng-repeat=\"document in $ctrl.documents track by document.id\" aria-label=\"DOCUMENT\"><div class=\"pip-default-icon\"><md-icon md-svg-icon=\"icons:{{::$ctrl.icon}}\"></md-icon></div><div class=\"pip-document-title\">{{ ::$ctrl.document.name }}</div></md-button></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDocuments.Templates');\n} catch (e) {\n  module = angular.module('pipDocuments.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('document_list_edit/DocumentListEdit.html',\n    '<div pip-focusable=\"\"><div class=\"pip-document-upload pointer md-primary\" ng-class=\"{\\'pip-focusable\\' : !$ctrl.ngDisabled(), \\'pip-item-error\\' : item.state == \\'error\\'}\" ng-keydown=\"$ctrl.onKeyDown($event, item)\" tabindex=\"{{ $ctrl.ngDisabled() ? -1 : 0 }}\" ng-repeat=\"item in $ctrl.control.items | filter: $ctrl.filterItem track by $index\"><div class=\"pip-default-icon\" ng-class=\"{ \\'pip-document-new\\': item.state == \\'added\\' || item.state == \\'copied\\' }\"><md-icon pip-cancel-drag=\"true\" class=\"md-primary\" ng-if=\"item.state == \\'original\\' || item.state == \\'added\\'\" md-svg-icon=\"icons:{{::$ctrl.documentListIcon}}\"></md-icon><md-icon pip-cancel-drag=\"true\" class=\"md-warn\" ng-if=\"item.state == \\'error\\'\" md-svg-icon=\"icons:{{::$ctrl.iconError}}\"></md-icon></div><div class=\"pip-document-title\" pip-cancel-drag=\"true\">{{ item.name }}</div><md-button ng-click=\"$ctrl.onDelete(item)\" ng-disabled=\"$ctrl.isDisabled()\" tabindex=\"-1\" ng-hide=\"$ctrl.ngDisabled()\" class=\"md-icon-button\" aria-label=\"DELETE\"><md-icon md-svg-icon=\"icons:cross\" pip-cancel-drag=\"true\"></md-icon></md-button><md-progress-linear md-mode=\"determinate\" ng-show=\"item.uploading\" ng-value=\"item.progress\"></md-progress-linear></div><button class=\"pip-document-upload pip-document-drop\" ng-class=\"{\\'pip-focusable\\' : !$ctrl.ngDisabled()}\" ng-keydown=\"$ctrl.onKeyDown($event)\" tabindex=\"0\" xxxng-file-drop=\"\" xxxng-file-select=\"\" xxxng-file-change=\"$ctrl.onSelect($files)\" pip-changed=\"$ctrl.readItemLocally(url, file)\" xxng-multiple=\"true\" pip-multi=\"true\" ng-disabled=\"$ctrl.ngDisabled()\" aria-label=\"UPLOAD\" pip-add-document=\"\"><div class=\"pip-default-icon\"><md-icon pip-cancel-drag=\"true\" md-svg-icon=\"icons:{{ ::$ctrl.documentListIcon }}\"></md-icon></div><div class=\"pip-default-text\"><span>{{ $ctrl.documentListText | translate }}</span></div></button><div class=\"clearfix\"></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDocuments.Templates');\n} catch (e) {\n  module = angular.module('pipDocuments.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('document_url_dialog/DocumentUrlDialog.html',\n    '<md-dialog class=\"pip-dialog pip-document-url-dialog pip-document-dialog layout-column\" md-theme=\"{{ $ctrl.theme }}\"><md-dialog-content class=\"pip-body lp0 rp0 tp0 pip-scroll\"><div class=\"pip-header bm16 layout-row layout-align-start-center\"><md-button ng-click=\"$ctrl.onCancelClick()\" class=\"md-icon-button lm0\" aria-label=\"{{ ::\\'CANCEL\\' | translate }}\"><md-icon class=\"text-grey\" md-svg-icon=\"icons:arrow-left\"></md-icon></md-button><h3 class=\"text-title m0\">{{ ::\\'DOCUMENT_FROM_WEBLINK\\' | translate}}</h3></div><div class=\"pip-content lp16 rp16\"><md-input-container md-no-float=\"\" class=\"w-stretch text-subhead1\"><input type=\"text\" ng-model=\"$ctrl.url\" ng-change=\"$ctrl.checkUrl()\" placeholder=\"{{ ::\\'LINK_DOCUMENT\\' | translate }}\"></md-input-container></div></md-dialog-content><div class=\"pip-footer\"><md-button ng-click=\"$ctrl.onCancelClick()\" aria-label=\"{{ ::\\'CANCEL\\' | translate }}\">{{ ::\\'CANCEL\\' | translate }}</md-button><md-button class=\"md-accent\" ng-click=\"$ctrl.onAddClick()\" aria-label=\"{{ ::\\'ADD\\' | translate }}\" ng-disabled=\"!$ctrl.matchURI\">{{ ::\\'ADD\\' | translate }}</md-button></div></md-dialog>');\n}]);\n})();\n\n//# sourceMappingURL=pip-suite-documents-html.min.js.map\n","import { ChecklistItem } from '../data';\nexport const ChecklistDraggEvent: string = 'onChecklistDrag';\n\n{\n\n    class ChecklistSelected {\n        public index: number = 0;\n        public drag: boolean;\n        public dragInit: boolean;\n        public dragId: number = 0;\n        public id: number;\n        public isChanged: boolean = false;\n    }\n\n    interface IChecklistEditBindings {\n        [key: string]: any;\n\n        ngDisabled: any;\n        pipChanged: any;\n        pipDraggable: any;\n        pipOptions: any;\n        pipScrollContainer: any;\n        pipRebind: any;\n    }\n\n    const ChecklistEditBindings: IChecklistEditBindings = {\n        ngDisabled: '<?',\n        pipChanged: '=?',\n        pipDraggable: '<?',\n        pipOptions: '=',\n        pipScrollContainer: '<?',\n        pipRebind: '<?'\n    }\n\n    class ChecklistEditBindingsChanges implements ng.IOnChangesObject, IChecklistEditBindings {\n        [key: string]: ng.IChangesObject<any>;\n\n        ngDisabled: ng.IChangesObject<boolean>;\n        pipChanged: ng.IChangesObject<() => ng.IPromise<void>>;\n        pipDraggable: ng.IChangesObject<boolean>;\n        pipOptions: ng.IChangesObject<ChecklistItem[]>;\n        pipScrollContainer: ng.IChangesObject<string>;\n        pipRebind: ng.IChangesObject<boolean>;\n    }\n\n    class ChecklistEditController {\n        public ngDisabled: boolean;\n        public pipChanged: Function;\n        public pipDraggable: boolean;\n        public pipScrollContainer: string;\n        public pipOptions: ChecklistItem[];\n        public pipRebind: boolean;\n\n        private _debounceChange: any;\n\n        public selected: ChecklistSelected;\n\n        public checklistContent: ChecklistItem[];\n        public isWidth: boolean;\n\n\n        constructor(\n            private $element: JQuery,\n            private $timeout: ng.ITimeoutService,\n            private $document,\n            private $rootScope: ng.IRootScopeService\n        ) {\n            \"ngInject\";\n\n            $element.addClass('pip-checklist-edit');\n\n            if (!this.pipOptions || !_.isArray(this.pipOptions)) {\n                this.pipOptions = [];\n            }\n\n            this.selected = new ChecklistSelected();\n            this.selected.drag = this.pipDraggable;\n            this.selected.dragInit = this.pipDraggable;\n            this.selected.id = this.now();\n\n            this.generateList(this.pipOptions);\n\n            this._debounceChange = _.debounce(() => {\n                this.onChecklistChange();\n            }, 200);\n\n        }\n\n        public $onChanges(changes: ChecklistEditBindingsChanges): void {\n            if (this.toBoolean(this.pipRebind)) {\n                if (changes.pipOptions && changes.pipOptions.currentValue) {\n                    if (!angular.equals(this.pipOptions, changes.pipOptions.currentValue)) {\n                        if (!this.selected.isChanged) {\n                            this.generateList(changes.pipOptions.currentValue);\n                            // this.pipOptions = changes.pipOptions.currentValue;\n                        } else {\n                            this.selected.isChanged = false;\n                        }\n                    }\n                }\n                if (changes.pipDraggable && changes.pipDraggable.currentValue) {\n                    this.pipDraggable = changes.pipDraggable.currentValue;\n                }\n            }\n        }\n\n        private toBoolean(value: any): boolean {\n            if (value == null) { return false; }\n            if (!value) { return false; }\n            value = value.toString().toLowerCase();\n\n            return value == '1' || value == 'true';\n        }\n\n        private getCaret(el: any): number {\n            if (el.selectionStart) {\n                return el.selectionStart;\n            } else if (this.$document.selection) {\n                el.focus();\n\n                let r = this.$document.selection.createRange();\n                if (r == null) {\n                    return 0;\n                }\n\n                var re = el.createTextRange(),\n                    rc = re.duplicate();\n                re.moveToBookmark(r.getBookmark());\n                rc.setEndPoint('EndToStart', re);\n\n                return rc.text.length;\n            }\n\n            return 0;\n        }\n\n        private setSelectionRange(input, selectionStart, selectionEnd): void {\n            if (input.setSelectionRange) {\n                input.focus();\n                input.setSelectionRange(selectionStart, selectionEnd);\n            } else if (input.createTextRange) {\n                var range = input.createTextRange();\n                range.collapse(true);\n                range.moveEnd('character', selectionEnd);\n                range.moveStart('character', selectionStart);\n                range.select();\n            }\n        }\n\n        private setCaretToPos(input, pos): void {\n            this.setSelectionRange(input, pos, pos);\n        }\n\n        private addItem(text: string, index: number): void {\n            let newItem: ChecklistItem = this.getNewItem(text, false);\n            if (index > -1) {\n                this.selected.index = index;\n            }\n\n            if (this.checklistContent.length < 2) {\n                this.checklistContent.unshift(newItem);\n            } else {\n                this.checklistContent.splice(this.selected.index + 1, 0, newItem);\n            }\n            this.selected.index += 1;\n            this.setFocus(this.selected.index);\n\n            this._debounceChange();\n        }\n\n        private updateContents(): void {\n            this.selected.isChanged = true;\n            let content: ChecklistItem[] = [];\n            _.each(this.checklistContent, (item: ChecklistItem) => {\n                if (!item.empty) {\n                    content.push({\n                        checked: item.checked,\n                        text: item.text\n                    })\n                }\n            })\n\n            this.pipOptions = content;\n        }\n\n        private setFocus(index: number, toPos?: any): void {\n            if (index > -1) {\n                setTimeout(() => {\n                    let nextElement = angular.element('#check-item-text-' + this.selected.id + '-' + index);\n                    if (nextElement) {\n                        nextElement.focus();\n                        if (toPos !== undefined && nextElement[0]) {\n                            this.setCaretToPos(nextElement[0], toPos);\n                        }\n                    }\n                }, 50);\n            }\n        }\n\n        private getNewItem(text?: string, isEmpty?: boolean): ChecklistItem {\n            let newItem: ChecklistItem = {\n                checked: false,\n                text: text || '',\n                empty: isEmpty\n            };\n\n            return newItem;\n        }\n\n        private now(): number {\n            return +new Date;\n        }\n\n        private clearList(): void {\n            this.selected.index = 0;\n            this.checklistContent = [];\n            // push empty item\n            this.checklistContent.push(this.getNewItem('', true));\n        }\n\n        private generateList(content: ChecklistItem[]): void {\n            if (!content || content.length < 1) {\n                this.clearList();\n            } else {\n                this.checklistContent = [];\n                _.each(content, (item) => {\n                    this.checklistContent.push(item);\n                });\n                // push empty item\n                this.checklistContent.push(this.getNewItem('', true));\n            }\n        }\n\n        private setWidth100(): void {\n            let element = angular.element('#check-item-' + + this.selected.id + '-' + this.selected.index);\n            element.css(\"width\", 'none');\n            element.css(\"max-width\", 'none');\n        }\n\n        private setWidth(): void {\n            if (this.isWidth) return;\n\n            let elementEtalon = angular.element('#check-item-empty-' + this.selected.id);\n            let value: number = elementEtalon.width();\n            let element = angular.element('#check-item-' + this.selected.id + '-' + this.selected.index);\n            if (element) {\n                element.css(\"width\", value + 'px');\n                element.css(\"max-width\", value + 'px');\n            }\n        }\n\n        // public functions\n\n        public onItemFocus(index: number): void {\n            if (this.ngDisabled) return;\n            this.selected.index = index;\n        }\n\n        public isSelectedItem(index: number): boolean {\n            let empty: boolean;\n            try {\n                empty = this.checklistContent[index].empty;\n            } catch (err) {\n                empty = true;\n            }\n\n            return this.selected.index == index && this.pipDraggable && !empty;\n        }\n\n        public onAddItem(): void {\n            this.addItem('', this.selected.index - 1);\n        }\n\n        public onChangeItem(index: number): void {\n            if (index > -1 && this.checklistContent[index] && this.checklistContent[index].empty) {\n                if (this.checklistContent[index].empty) {\n                    this.checklistContent[index].empty = false;\n                    this.checklistContent.push(this.getNewItem('', true));\n                }\n            }\n            this._debounceChange();\n        }\n\n        public onClick($event: JQueryEventObject, index: number): void {\n            if (this.ngDisabled) { return; }\n\n            this.selected.index = index;\n        }\n\n        public onTextAreaClick($event: JQueryEventObject, index: number) {\n            if (this.ngDisabled) { return; }\n\n            this.selected.index = index;\n        }\n\n        public onDropComplete(placeIndex: number, obj: ChecklistItem, $event: JQueryEventObject, componentId: number) {\n            if (this.selected.id != componentId) { return; }\n            if (!this.selected.drag) { return; }\n\n            let index: number = placeIndex;\n            let tmpIndex: number = this.selected.index;\n            let checklist: ChecklistItem[] = _.cloneDeep(this.checklistContent);\n\n            if (!(tmpIndex == 0 && placeIndex == 1)) {\n                if (tmpIndex > index) {\n                    if (index > checklist.length - 1) {\n                        index = checklist.length - 1;\n                    }\n                    // move up\n                    for (let i = 0; i < tmpIndex - index; i++) {\n                        checklist[tmpIndex - i] = checklist[tmpIndex - i - 1];\n                    }\n                    checklist[index] = obj;\n                }\n                if (tmpIndex < index) {\n                    index -= 1;\n                    //move down\n                    for (var i = 0; i < index - tmpIndex; i++) {\n                        checklist[tmpIndex + i] = checklist[tmpIndex + i + 1];\n                    }\n                    checklist[index] = obj;\n                }\n\n                this.selected.index = index;\n            }\n\n            this.checklistContent = checklist;\n            this._debounceChange();\n        }\n\n        public onMove(): void {\n            this.setWidth();\n            this.isWidth = true;\n        }\n\n\n        public onStop(id: number): void {\n            this.$timeout(() => {\n                this.selected.drag = this.selected.dragInit;\n                this.selected.dragId = 0;\n            }, 50);\n\n            if (this.isWidth) {\n                this.setWidth100();\n                this.isWidth = false;\n            }\n        }\n\n        public onStart(id: number): void {\n            this.selected.isChanged = true;\n            if (id && id != this.selected.dragId) {\n                this.selected.drag = false;\n            }\n        }\n\n        public onDownDragg(item: ChecklistItem): void {\n            if (this.pipDraggable && this.checklistContent.length > 2 && !item.empty) {\n                this.$rootScope.$broadcast(ChecklistDraggEvent);\n                this.selected.dragId = this.selected.id;\n            }\n        }\n\n        public onDeleteItem(index: number, item: ChecklistItem): void {\n            if (this.checklistContent.length == 1) {\n                this.checklistContent[0].text = '';\n                this.checklistContent[0].checked = false;\n                this.checklistContent[0].empty = true;\n                this.selected.index = 0;\n            } else {\n                if (index >= 0 && index <= this.checklistContent.length) {\n                    this.checklistContent.splice(index, 1);\n                } else {\n                    return;\n                }\n            }\n\n            if (this.selected.index >= this.checklistContent.length) {\n                this.selected.index = this.checklistContent.length - 1;\n            }\n\n            this.setFocus(this.selected.index, 0);\n            this._debounceChange();\n        }\n\n        public onChecked(item: ChecklistItem): void {\n            this._debounceChange();\n        }\n\n        public onChecklistChange(): void {\n            this.updateContents();\n\n            if (this.pipChanged) {\n                this.$timeout(() => {\n                    this.pipChanged(this.pipOptions);\n                }, 0);\n            }\n        }\n\n\n        public onTextareaKeyDown($event: KeyboardEvent, index: number, item: ChecklistItem) {\n            if (this.ngDisabled) return;\n            if (this.selected.index == -1) return;\n            let textareaLength: number;\n            let posCaret: any;\n            if ($event && $event.target) {\n                // calculate caret position\n                posCaret = this.getCaret($event.target);\n                // calculate textarea length\n                if ($event.target['value'] !== undefined) {\n                    textareaLength = $event.target['value'].length;\n                }\n\n            }\n\n            // delete empty item after backspace or del\n            if (this.selected.index > 0 && item.text != '' && posCaret == 0 && $event.keyCode == 8 && !$event.ctrlKey && !$event.shiftKey) {\n                if (!item.empty) {\n                    var position = this.checklistContent[this.selected.index - 1].text.length;\n                    this.checklistContent[this.selected.index - 1].text = this.checklistContent[this.selected.index - 1].text + item.text;\n                    this.selected.index -= 1;\n                    this.checklistContent.splice(this.selected.index + 1, 1);\n                    this._debounceChange();\n\n                    this.setFocus(this.selected.index, position);\n                }\n                if ($event) { $event.stopPropagation(); }\n\n                return false;\n            }\n\n            if (item.text == '' && ($event.keyCode == 8 || $event.keyCode == 46) && !$event.ctrlKey && !$event.shiftKey) {\n                if (!item.empty) {\n                    this.onDeleteItem(index, item);\n                }\n                if ($event) { $event.stopPropagation(); }\n\n                return false;\n            }\n\n            //press enter - create new item\n            if (($event.keyCode == 13 || $event.keyCode == 45) && !$event.ctrlKey && !$event.shiftKey) {  // insert\n                if (posCaret !== undefined && posCaret == 0) {\n                    // add item before current item\n                    if (this.selected.index > 0) {\n                        this.addItem('', this.selected.index - 1);\n                    } else {\n                        this.selected.index = -1;\n                        this.addItem('', -1);\n                    }\n                    if ($event) { $event.stopPropagation(); }\n                    if ($event) { $event.preventDefault(); }\n\n                    return false;\n                }\n\n                if (textareaLength && posCaret && textareaLength == posCaret) {\n                    // add item after current item\n                    if (!item.empty) {\n                        this.addItem('', this.selected.index);\n                    }\n                    if ($event) { $event.stopPropagation(); }\n                    if ($event) { $event.preventDefault(); }\n\n                    return false;\n                }\n\n                if (textareaLength && posCaret && textareaLength > posCaret) {\n                    // divide current item \n                    if (!item.empty) {\n                        let valueCurrent: string;\n                        let newItem: string;\n                        valueCurrent = item.text.substring(0, posCaret);\n                        newItem = item.text.substring(posCaret);\n                        item.text = valueCurrent;\n                        this.addItem(newItem, this.selected.index);\n\n                        this.setFocus(this.selected.index, 0);\n                    }\n                    if ($event) { $event.stopPropagation(); }\n                    if ($event) { $event.preventDefault(); }\n\n                    return false;\n                }\n\n                if ($event) { $event.preventDefault(); }\n\n                return false;\n            }\n\n            // move cursor up\n            if ((posCaret === 0 || posCaret == textareaLength) && this.checklistContent.length > 1 && $event.keyCode == 38 && !$event.ctrlKey && !$event.shiftKey) {  // insert\n                if ($event) { $event.stopPropagation(); }\n                if ($event) { $event.preventDefault(); }\n\n                if (posCaret !== undefined && textareaLength !== undefined && posCaret == 0) {\n                    // move to new item\n                    if (this.selected.index == 0) {\n                        this.selected.index = this.checklistContent.length - 1;\n                        var position = this.checklistContent[this.selected.index].text.length;\n                        this.setFocus(this.selected.index, position);\n                    } else {\n                        this.selected.index -= 1;\n                        var position = this.checklistContent[this.selected.index].text.length;\n                        this.setFocus(this.selected.index, position);\n                    }\n                } else {\n                    // move caret to text end\n                    this.setFocus(this.selected.index, 0);\n                }\n\n                return false;\n            }\n\n            // move cursor down\n            if ((posCaret === 0 || posCaret == textareaLength) && this.checklistContent.length > 1 && $event.keyCode == 40 && !$event.ctrlKey && !$event.shiftKey) {  // insert\n                if ($event) { $event.stopPropagation(); }\n                if ($event) { $event.preventDefault(); }\n\n                if (posCaret !== undefined && textareaLength !== undefined && posCaret == textareaLength) {\n                    // move to new item\n                    if (this.selected.index >= this.checklistContent.length - 1) {\n                        this.selected.index = 0;\n                        this.setFocus(this.selected.index, 0);\n                    } else {\n                        this.selected.index += 1;\n                        this.setFocus(this.selected.index, 0);\n                    }\n                } else {\n                    // move caret to text end\n                    this.setFocus(this.selected.index, textareaLength);\n                }\n\n                return false;\n            }\n\n            // delete item\n            if (!item.empty && $event.keyCode == 46 && $event.ctrlKey && !$event.shiftKey) {\n                if ($event) { $event.stopPropagation(); }\n                if ($event) { $event.preventDefault(); }\n                this.onDeleteItem(index, item);\n\n                return false;\n            }\n\n            // check/uncheck item\n            if ($event.keyCode == 32 && $event.ctrlKey && !$event.shiftKey) {\n                if ($event) { $event.stopPropagation(); }\n                if ($event) { $event.preventDefault(); }\n                if (item) {\n                    item.checked = !item.checked\n                    this._debounceChange();\n                }\n\n                return false;\n            }\n        }\n    }\n\n    const ChecklistEdit: ng.IComponentOptions = {\n        bindings: ChecklistEditBindings,\n        templateUrl: 'checklist_edit/ChecklistEdit.html',\n        controller: ChecklistEditController\n    }\n\n    angular.module(\"pipChecklistEdit\", ['pipComposite.Templates', 'pipBehaviors'])\n        .component('pipChecklistEdit', ChecklistEdit);\n\n}\n","import { ChecklistItem } from '../data';\n{\n\n    interface IChecklistViewBindings {\n        [key: string]: any;\n\n        ngDisabled: any;\n        pipChanged: any;\n        pipOptions: any;\n        pipRebind: any;\n    }\n\n    const ChecklistViewBindings: IChecklistViewBindings = {\n        ngDisabled: '<?',\n        pipChanged: '=?',\n        pipOptions: '=',\n        pipRebind: '<?'\n    }\n\n    class ChecklistViewBindingsChanges implements ng.IOnChangesObject, IChecklistViewBindings {\n        [key: string]: ng.IChangesObject<any>;\n\n        ngDisabled: ng.IChangesObject<boolean>;\n        pipChanged: ng.IChangesObject<(data: ChecklistItem[]) => ng.IPromise<void>>;\n        pipOptions: ng.IChangesObject<ChecklistItem[]>;\n        pipRebind: ng.IChangesObject<boolean>;\n    }\n\n    class ChecklistViewController {\n        public ngDisabled: boolean;\n        public pipChanged: Function;\n        public pipOptions: ChecklistItem[]; \n        public pipRebind: boolean;\n\n        private isChanged: boolean = false;\n\n        constructor(\n            private $element: JQuery\n        ) {\n            \"ngInject\";\n\n            if (!this.pipOptions || !_.isArray(this.pipOptions)) {\n                this.pipOptions = [];\n            }\n\n            $element.addClass('pip-checklist-view');\n\n        }\n\n        public $onChanges(changes: ChecklistViewBindingsChanges) {\n            if (this.toBoolean(this.pipRebind)) {\n                if (changes.pipOptions && changes.pipOptions.currentValue) {\n                    if (!angular.equals(this.pipOptions, changes.pipOptions.currentValue)) {\n                        if (!this.isChanged) {\n                            this.pipOptions = changes.pipOptions.currentValue;\n                        } else {\n                            this.isChanged = false;\n                        }\n                    }\n                }\n            }\n        }\n\n        private toBoolean(value: any): boolean {\n            if (value == null) return false;\n            if (!value) return false;\n            value = value.toString().toLowerCase();\n\n            return value == '1' || value == 'true';\n        }\n\n        public onChecklistChange(): void {\n            this.isChanged = true;\n            if (this.pipChanged) {\n                this.pipChanged(this.pipOptions);\n            }\n        }\n\n        public onClick($event: JQueryEventObject, item: ChecklistItem): void { \n            if ($event) {\n                $event.stopPropagation();\n            }\n            if (this.ngDisabled) {\n                return;\n            }\n\n            this.onChecklistChange();\n        }\n    }\n\n    const ChecklistView: ng.IComponentOptions = {\n        bindings: ChecklistViewBindings,\n        templateUrl: 'checklist_view/ChecklistView.html',\n        controller: ChecklistViewController\n    }\n\n    angular.module(\"pipChecklistView\", ['pipComposite.Templates'])\n        .component('pipChecklistView', ChecklistView);\n\n}\n","import { ChecklistDraggEvent } from '../checklist_edit/ChecklistEdit';\nimport { CompositeFocusedEvent } from '../utilities/CompositeFocused';\nimport { ContentBlock } from '../data';\n\nlet async = require('async');\n\nexport const CompositeEmptyEvent: string = 'pipCompositeNotEmpty';\nexport const CompositeAddItemEvent: string = 'pipAddContent';\nexport const CompositeNotEmptyEvent: string = 'pipCompositeNotEmpty';\n\nexport class CompositeAddItem {\n    public id: number;\n    public type: string;\n}\n\n\nconst ConfigTranslations = (pipTranslate: pip.services.ITranslateService) => {\n    if (pipTranslate) {\n        (pipTranslate).setTranslations('en', {\n            'COMPOSITE_TITLE': 'What\\'s on your mind?',\n            'COMPOSITE_PLACEHOLDER': 'Type text ...',\n            'COMPOSITE_START_TIME': 'Start time',\n            'COMPOSITE_END_TIME': 'End time'\n        });\n        (pipTranslate).setTranslations('ru', {\n            'COMPOSITE_TITLE': 'Что у вас на уме?',\n            'COMPOSITE_PLACEHOLDER': 'Введите текст ...',\n            'COMPOSITE_START_TIME': 'Время начала',\n            'COMPOSITE_END_TIME': 'Время окончания'\n        });\n    }\n}\n\nexport class CompositeControl {\n    save: (successCallback?: (data: CompositeContent[]) => void, errorCallback?: (error: any) => void) => void;\n    abort: () => void;\n    error?: any;\n}\n\nclass SenderEvent {\n    event: CompositeControl;\n}\n\nexport class CompositeContent extends ContentBlock {\n    public empty?: boolean;\n    public documents?: pip.documents.DocumentListEditControl;\n    public pictures?: pip.pictures.PictureListEditControl;\n}\n\nexport class CompositeBlockTypes {\n    static Text: string = 'text';\n    static Pictures: string = 'pictures';\n    static Checklist: string = 'checklist';\n    static Documents: string = 'documents';\n    static Location: string = 'location';\n    static Time: string = 'time';\n    static SecondaryBlock = ['checklist', 'documents', 'location', 'time']\n    static PrimaryBlock = ['text', 'pictures']\n    static All = ['text', 'pictures', 'checklist', 'documents', 'location', 'time']\n}\n\n{\n\n    class CompositeSelected {\n        public index: number = 0;\n        public drag: boolean = true;\n        public dragId: number = 0;\n        public id: number;\n        public isChanged: boolean = false;\n        public event?: string;\n    }\n\n    interface ICompositeEditBindings {\n        [key: string]: any;\n\n        ngDisabled: any;\n        pipChanged: any;\n        pipContents: any;\n        pipCreated: any;\n        compositeId: any;\n        pipCompositePlaceholder: any;\n        pipScrollContainer: any;\n        addedContent: any;\n        pipRebind: any;\n    }\n\n    const CompositeEditBindings: ICompositeEditBindings = {\n        ngDisabled: '<?',\n        pipChanged: '=?',\n        pipCreated: '&?',\n        pipContents: '=?',\n        compositeId: '<?pipCompositeId',\n        pipCompositePlaceholder: '<?',\n        pipScrollContainer: '<?',\n        addedContent: '<?pipAddedContent',\n        pipRebind: '<?'\n    }\n\n    class CompositeEditBindingsChanges implements ng.IOnChangesObject, ICompositeEditBindings {\n        [key: string]: ng.IChangesObject<any>;\n\n        ngDisabled: ng.IChangesObject<boolean>;\n        pipChanged: ng.IChangesObject<() => ng.IPromise<void>>;\n        pipCreated: ng.IChangesObject<(event: SenderEvent) => ng.IPromise<void>>;\n        pipContents: ng.IChangesObject<CompositeContent[]>;\n        compositeId: ng.IChangesObject<number>;\n        pipCompositePlaceholder: ng.IChangesObject<string>;\n        pipScrollContainer: ng.IChangesObject<string>;\n        addedContent: ng.IChangesObject<boolean>;\n        pipRebind: ng.IChangesObject<boolean>;\n    }\n\n    class CompositeEditController implements ICompositeEditBindings {\n        private defaultPlaceholder: string = 'COMPOSITE_PLACEHOLDER';\n        private CONTENT_TYPES: string[] = CompositeBlockTypes.All;\n        private cleanupCompositeEvent: any;\n        private cleanupCompositeFocusedEvent: any;\n        private cleanupChecklistDraggEvent: any;\n        private _debounceChange: any;\n\n        public ngDisabled: boolean;\n        public pipChanged: Function;\n        public pipCreated: (event: SenderEvent) => void;\n        public pipContents: CompositeContent[];\n        public compositeId: number;\n        public pipCompositePlaceholder: string;\n        public pipScrollContainer: string;\n        public addedContent: string;\n        public pipRebind: boolean;\n\n        public compositeContent: CompositeContent[];\n        public selected: CompositeSelected;\n        public isFirst: boolean;\n        public compositePlaceholder: string;\n\n        public control: CompositeControl;\n\n        constructor(\n            private $q,\n            private $element: JQuery,\n            private $timeout: ng.ITimeoutService,\n            private $document,\n            private $rootScope: ng.IRootScopeService,\n            private pipTranslate: pip.services.ITranslateService\n\n        ) {\n            \"ngInject\";\n\n            this.selected = new CompositeSelected();\n            this.selected.id = this.now();\n\n            $element.addClass('pip-composite-edit');\n\n            this.generateList(this.pipContents);\n            this.setPlaceholder();\n            this.control = {\n                save: (successCallback?: (data: CompositeContent[]) => void, errorCallback?: (error: any) => void) => {\n                    this.saveContent(successCallback, errorCallback);\n                },\n                abort: () => {\n                    this.abortContent();\n                },\n                error: null\n            };\n            this.executeCallback();\n\n            this.cleanupCompositeEvent = this.$rootScope.$on(CompositeAddItemEvent,\n                (event: ng.IAngularEvent, args: CompositeAddItem) => {\n                    if (this.compositeId) {\n                        if (args.id && args.id == this.compositeId) {\n                            this.addItem(args.type);\n                        }\n                    } else {\n                        this.addItem(args.type);\n                    }\n                });\n\n            this.cleanupChecklistDraggEvent = this.$rootScope.$on(ChecklistDraggEvent, () => {\n                this.selected.drag = false;\n                this.$timeout(() => {\n                    this.selected.drag = false;\n                }, 0);\n            });\n\n            this.cleanupCompositeFocusedEvent = this.$rootScope.$on(CompositeFocusedEvent, () => {\n                if (this.isFirst) {\n                    this.$timeout(() => {\n                        let nextElement = angular.element('#composite-item-text-' + this.selected.id + '-0');\n                        if (nextElement && !nextElement.is(':focus')) {\n                            nextElement.focus();\n                        }\n                    }, 50);\n                }\n            });\n\n            this._debounceChange = _.debounce(() => {\n                this.onCompositeChange();\n            }, 200);\n        }\n\n        private abortContent(): void {\n            _.each(this.compositeContent, (item: CompositeContent) => {\n                if (item.pictures && item.pictures.abort) {\n                    item.pictures.abort();\n                } else if (item.documents && item.documents.abort) {\n                    item.documents.abort();\n                }\n            });\n        }\n\n        private getPicIdsArray(data: pip.pictures.Attachment[]): string[] {\n            let result: string[] = [];\n\n            _.each(data, (item: pip.pictures.Attachment) => {\n                if (item.id) {\n                    result.push(item.id);\n                }\n            });\n\n            return result;\n        }\n\n        private saveContent(successCallback?: (data: CompositeContent[]) => void, errorCallback?: (error: any) => void, abortFirstError?: boolean): void {\n            let content: CompositeContent[];\n            content = _.cloneDeep(this.compositeContent);\n            let saveFirstError: any = null;\n\n            async.eachOf(this.compositeContent,\n                (item, index, callback) => {\n                    if (item.pictures && item.pictures.save) {\n                        item.pictures.save(\n                            (data: pip.pictures.Attachment[]) => {\n                                delete item.picIds;\n                                item.pic_ids = this.getPicIdsArray(data);\n                                callback();\n                            },\n                            (error: any) => {\n                                saveFirstError = saveFirstError ? saveFirstError : error;\n                                if (abortFirstError) {\n                                    callback(error);\n                                } else {\n                                    callback();\n                                }\n                            }\n                        );\n                    } else if (item.documents && item.documents.save) {\n                        item.documents.save(\n                            (data: pip.documents.Attachment[]) => {\n                                item.docs = data;\n                                callback();\n                            },\n                            (error: any) => {\n                                saveFirstError = saveFirstError ? saveFirstError : error;\n                                if (abortFirstError) {\n                                    callback(error);\n                                } else {\n                                    callback();\n                                }\n                            }\n                        );\n                    } else {\n                        callback();\n                    }\n                },\n                (error, result) => {\n                    if (error || saveFirstError) {\n                        if (abortFirstError) {\n                            this.abortContent();\n                        } \n                        this.compositeContent = content;\n                        if (errorCallback) errorCallback(error);\n                    } else {\n                        this.onCompositeChange();\n                        if (successCallback) successCallback(this.pipContents);\n                    }\n                });\n        }\n\n        public $onDestroy() {\n            if (angular.isFunction(this.cleanupCompositeEvent)) {\n                this.cleanupCompositeEvent();\n            }\n            if (angular.isFunction(this.cleanupChecklistDraggEvent)) {\n                this.cleanupChecklistDraggEvent();\n            }\n            if (angular.isFunction(this.cleanupCompositeFocusedEvent)) {\n                this.cleanupCompositeFocusedEvent();\n            }\n        }\n\n        public $onChanges(changes: CompositeEditBindingsChanges): void {\n            if (changes.pipRebind && changes.pipRebind.currentValue !== changes.pipRebind.previousValue) {\n                this.pipRebind = changes.pipRebind.currentValue;\n                if (this.pipRebind && changes.pipContents && _.isArray(changes.pipContents.currentValue)) {\n                    if (!this.selected.isChanged || (this.pipContents\n                        && this.pipContents.length != this.compositeContent.length)) {\n                        this.generateList(this.pipContents);\n                        this.selected.isChanged = false;\n                    }\n                }\n            }\n\n            if (changes.ngDisabled && changes.ngDisabled.currentValue !== changes.ngDisabled.previousValue) {\n                this.ngDisabled = changes.ngDisabled.currentValue;\n            }\n\n            if (changes.pipCompositePlaceholder && changes.pipCompositePlaceholder.currentValue !== changes.pipCompositePlaceholder.previousValue) {\n                this.pipCompositePlaceholder = changes.pipCompositePlaceholder.currentValue;\n                this.setPlaceholder();\n            }\n        }\n\n        private executeCallback() {\n            // Execute callback\n            if (this.pipCreated) {\n                this.pipCreated({\n                    event: this.control\n                });\n            }\n        }\n\n        private toBoolean(value: any): boolean {\n            if (value == null) { return false; }\n            if (!value) { return false; }\n            value = value.toString().toLowerCase();\n\n            return value == '1' || value == 'true';\n        }\n\n        private getEmptyItem(): CompositeContent {\n            let emptyItem: CompositeContent = {\n                empty: true,\n                id: this.getId(),\n                type: 'text',\n                text: '', docs: [], pic_ids: [], loc_pos: null, loc_name: '',\n                start: null, end: null, checklist: []\n            }\n\n            return emptyItem;\n        }\n\n\n        private setPlaceholder(): void {\n            this.compositePlaceholder =\n                (this.pipCompositePlaceholder === undefined || this.pipCompositePlaceholder === null) ?\n                    this.pipTranslate.translate(this.defaultPlaceholder) :\n                    this.pipTranslate.translate(this.pipCompositePlaceholder);\n        }\n\n        private addItem(contentType: string, value?: any): void {\n            if (_.indexOf(this.CONTENT_TYPES, contentType) < 0) return;\n\n            // generate new item\n            var newItem: CompositeContent = {\n                id: this.getId(),\n                type: contentType,\n                text: contentType == 'text' ? value : '',\n                docs: contentType == 'documents' && value ? value : [],\n                pic_ids: contentType == 'pictures' && value ? value : [],\n                loc_pos: contentType == 'location' && value ? value.loc_pos : null,\n                loc_name: contentType == 'location' && value ? value.loc_name : '',\n                start: contentType == 'time' && value ? value.start : null,\n                end: contentType == 'time' && value ? value.end : null,\n                checklist: contentType == 'checklist' && value ? value : []\n            };\n\n            // calculate current index\n            let index: number = _.findIndex(this.compositeContent, { id: this.selected.index });\n            index = index < 0 ? 0 : index;\n\n            // insert new element and select it\n            if (this.compositeContent.length == 1 && this.compositeContent[0].empty) {\n                this.compositeContent[0] = newItem;\n            } else {\n                this.compositeContent.splice(index + 1, 0, newItem);\n                index += 1;\n            }\n\n            // insert new element and select it\n            this.selected.index = newItem.id;\n            this.onSelect();\n\n            // focus to new element\n            setTimeout(this.scrollTo(this.pipScrollContainer, '#composite-item-' + this.selected.id + '-' + index), 1000);\n\n            // set toolbar\n            this.isFirst = false;\n            this.setToolbar();\n            this._debounceChange();\n        }\n\n        private getId(): number {\n            let id: number = -1;\n            _.each(this.compositeContent, (item: CompositeContent) => {\n                if (id < item.id) id = item.id;\n            });\n\n            return id + 1;\n        }\n\n        private scrollTo(parentElement: any, childElement: any): void {\n            if (!parentElement || !childElement) { return; }\n\n            setTimeout(() => {\n                if (!$(childElement).position()) { return; }\n\n                let modDiff: number = Math.abs($(parentElement).scrollTop() - $(childElement).position().top);\n                if (modDiff < 20) { return; }\n\n                let scrollTo: number = $(parentElement).scrollTop() + ($(childElement).position().top - 20);\n                $(parentElement).animate({\n                    scrollTop: scrollTo + 'px'\n                }, 300);\n            }, 100);\n        }\n\n        private getPicIds(ids: string[]): pip.pictures.Attachment[] {\n            let result: pip.pictures.Attachment[] = [];\n\n            _.each(ids, (id: string) => {\n                let item: pip.pictures.Attachment = {\n                    id: id\n                }\n\n                result.push(item);\n            })\n\n            return result;\n        }\n\n        private generateList(content: CompositeContent[]): void {\n            if (!content || content.length < 1) {\n                this.clearList();\n\n                return;\n            } else {\n                this.compositeContent = [];\n                _.each(content, (item: CompositeContent) => {\n                    item.id = this.getId();\n                    item.picIds = item.pic_ids ? this.getPicIds(item.pic_ids) : null;\n                    this.compositeContent.push(item);\n                });\n                this.isFirst = false;\n            }\n\n            this.setToolbar();\n        }\n\n        private setToolbar(): void {\n            if (this.compositeContent.length > 2) { return; }\n\n            this.$rootScope.$emit(CompositeNotEmptyEvent, !this.isFirst);\n        }\n\n        private clearList(): void {\n            this.compositeContent = [];\n\n            this.compositeContent.push(this.getEmptyItem());\n            this.isFirst = true;\n        }\n\n        private now(): number {\n            return +new Date;\n        }\n\n        private updateContents(): void {\n            this.selected.isChanged = true;\n            this.pipContents = this.compositeContent;\n        }\n\n        private getParentIndex(el: any): number {\n            if (el.length < 1) return null;\n            let elParent = el.parent();\n            if (elParent[0] && elParent[0].id && elParent[0].id.indexOf('composite-item-' + this.selected.id) > -1) {\n                let strs = elParent[0].id.split('-');\n\n                let parentIndex: number = parseInt(strs[strs.length - 1], 10);\n                return parentIndex;\n            } else {\n                return this.getParentIndex(elParent);\n            }\n        }\n\n        // ---------------- public\n\n        public isActiveChecklist(obj: CompositeContent): boolean {\n            // return obj.id == this.selected.index;\n            return obj.id == this.selected.id;\n        }\n\n        public onKeyUp($event: KeyboardEvent): void {\n            if ($event.keyCode == 9) {\n                this.$timeout(() => {\n                    let focusedElement = angular.element(this.$document[0].activeElement);\n                    let parentIndex: number = this.getParentIndex(focusedElement);\n                    if (parentIndex != null) {\n                        this.selected.index = parentIndex;\n                    }\n                    // ??? index = id\n                    this.selected.index = this.compositeContent[parentIndex].id;\n                }, 50);\n            }\n        }\n\n        public onKeyDown($event: KeyboardEvent, index: number, item: CompositeContent): void {\n            if (this.ngDisabled) { return; }\n            // delete item\n            if (item && !item.empty && $event.keyCode == 46 && !$event.ctrlKey && $event.shiftKey) {\n                if ($event) {\n                    $event.stopPropagation();\n                    $event.preventDefault();\n                }\n                if (index > -1) {\n                    this.onDeleteItem(index);\n                }\n            }\n        }\n\n        public onCompositeChange(): void {\n            this.updateContents();\n            if (this.pipChanged) {\n                this.pipChanged(this.pipContents);\n            }\n        }\n\n        public onDeleteItem(index: number): void {\n            if (index < 0 || this.compositeContent.length == 0) return;\n\n            // delete last element in composite\n            if (this.compositeContent.length == 1) {\n                this.compositeContent[0] = this.getEmptyItem();\n                this.selected.index = this.compositeContent[0].id;\n                this.onSelect(0);\n                this.isFirst = true;\n                this.setToolbar();\n            } else {\n                if (index >= 0 && index < this.compositeContent.length) {\n                    this.compositeContent.splice(index, 1);\n                }\n                if (index == this.compositeContent.length) {\n                    this.selected.index = this.compositeContent[this.compositeContent.length - 1].id;\n                } else {\n                    this.selected.index = this.compositeContent[index].id;\n                }\n                this.onSelect();\n            }\n\n            this.setToolbar();\n            this._debounceChange();\n        }\n\n        public onContentChange(obj: any): void { //CompositeContent\n            if (obj && obj.empty && obj.text) {\n                obj.empty = false;\n                this.isFirst = false;\n                this.setToolbar();\n            }\n            if (!this.ngDisabled) {\n                this._debounceChange();\n            }\n        }\n\n        public isSelectedSection(index: number, obj: CompositeContent): boolean {\n            return this.selected.index == obj.id && !obj.empty;\n        }\n\n        public onDraggEnd(): void {\n            this.selected.drag = true;\n        }\n\n        public onStart(id: number): void {\n            if (id && id != this.selected.dragId) {\n                this.selected.drag = false;\n            }\n        }\n\n        public onStop(id: number): void {\n            this.$timeout(() => {\n                this.selected.drag = true;\n                this.selected.dragId = 0;\n            }, 500);\n        }\n\n        public onDownDragg($event: ng.IAngularEvent, obj: CompositeContent) {\n            if (this.ngDisabled) return;\n            this.selected.dragId = this.selected.id;\n            this.selected.drag = true;\n            this.selected.index = obj.id;\n        }\n\n        public onClick($event: JQueryEventObject, index: number, obj: CompositeContent): void {\n            if (this.ngDisabled) { return; }\n\n            this.selected.event = 'onClick';\n            if ($event && $event.target && $event.target.tagName &&\n                ($event.target.tagName == 'INPUT' || $event.target.tagName == 'TEXTAREA')) {\n                this.selected.index = obj.id;\n\n                return;\n            }\n\n            if ((this.selected.index == obj.id && obj.type == 'checklist' && obj.checklist.length > 0) ||\n                (this.selected.index == obj.id && obj.type == 'location')) { return; }\n\n            this.selected.index = obj.id;\n            this.onSelect();\n        }\n\n        public onDropComplete(placeIndex: number, obj: CompositeContent, event: JQueryEventObject, componentId: number): void {\n            if (componentId != this.selected.id || !obj || !obj.type) {\n                this.compositeContent = _.cloneDeep(this.pipContents);\n\n                return;\n            }\n\n            let index: number = placeIndex;\n            let tmpIndex: number = _.findIndex(this.compositeContent, { id: obj.id }); //this.selected.index});\n            let i: number;\n\n            if (!(tmpIndex == 0 && placeIndex == 1)) {\n                if (tmpIndex > index) {\n                    if (index > this.compositeContent.length - 1) index = this.compositeContent.length - 1;\n                    // move up\n                    for (i = 0; i < tmpIndex - index; i++) {\n                        this.compositeContent[tmpIndex - i] = this.compositeContent[tmpIndex - i - 1];\n                    }\n                    this.compositeContent[index] = obj;\n                }\n                if (tmpIndex < index) {\n                    index -= 1;\n                    //move down\n                    for (i = 0; i < index - tmpIndex; i++) {\n                        this.compositeContent[tmpIndex + i] = this.compositeContent[tmpIndex + i + 1];\n                    }\n                    this.compositeContent[index] = obj;\n                }\n                this.selected.index = this.compositeContent[index].id;\n            }\n\n            this.onSelect();\n            this._debounceChange();\n        }\n\n        public onSelect(index?: number): void {\n            if (!index) {\n                index = _.findIndex(this.compositeContent, { id: this.selected.index });\n            }\n            if (index < 0) { return; }\n\n            let item: CompositeContent = this.compositeContent[index];\n            if (_.isEmpty(item)) { return; }\n\n            let nextElement;\n            switch (item.type) {\n                //case 'text':\n                //        setTimeout(() => {\n                //            var nextElement = angular.element('#composite-item-text-' + this.selected.id + '-' + index);\n                //            //var nextElement = angular.element('#composite-item-text-' + this.selected.id + '-' + this.selected.index);\n                //            if (nextElement && !nextElement.is(':focus')) nextElement.focus();\n                //            //this.selected.stopKey = false;\n                //        },  50);\n                //    break;\n                case 'pictures':\n                    setTimeout(() => {\n                        nextElement = angular.element(\n                            '#composite-item-' + this.selected.id + '-' + index + ' button.pip-picture-upload');\n                        if (nextElement && !nextElement.is(':focus')) {\n                            nextElement.focus();\n                        }\n                    }, 50);\n                    break;\n                case 'documents':\n                    setTimeout(() => {\n                        nextElement = angular.element(\n                            '#composite-item-' + this.selected.id + '-' + index + ' button.pip-document-upload');\n                        if (nextElement && !nextElement.is(':focus')) {\n                            nextElement.focus();\n                        }\n                    }, 50);\n                    break;\n                //case 'checklist':\n                //        setTimeout(() => {\n                //            var nextElement = angular.element(\n                //                '#composite-item-' + this.selected.id + '-' + index + ' textarea[id^=\\'empty-item-\\'');\n                //            if (nextElement && !nextElement.is(':focus')) nextElement.focus();\n                //            //this.selected.stopKey = false;\n                //        },  50);\n                //    break;\n                case 'location':\n                    setTimeout(() => {\n                        nextElement = angular.element(\n                            '#composite-item-' + this.selected.id + '-' + index + ' .pip-location-empty  button');\n                        if (nextElement && !nextElement.is(':focus')) {\n                            nextElement.focus();\n                        }\n                    }, 50);\n                    break;\n                case 'time':\n                    break;\n            }\n        }\n\n        // set element responsive width when element places\n        //public setWidth100(index: number): void {\n        //    let element = angular.element('#composite-item-' + this.selected.id + '-' + index);\n        //    element.css( \"width\", 'none');\n        //    element.css( \"max-width\", 'none');\n        //};\n        //\n        //// set draggable element width when your dragg\n        //public setWidth(index: number): void {\n        //    if (this.selected.isWidth) return;\n        //    let elementEtalon = angular.element('#pip-composite-last-' + + this.selected.id);\n        //    let value = elementEtalon.width();\n        //    let element = angular.element('#composite-item-' + this.selected.id + '-' + index);\n        //    if (element) {\n        //        element.css(\"width\", value + 'px');\n        //        element.css(\"max-width\", value + 'px');\n        //    }\n        //};\n\n    }\n\n    const CompositeEdit: ng.IComponentOptions = {\n        bindings: CompositeEditBindings,\n        templateUrl: 'composite_edit/CompositeEdit.html',\n        controller: CompositeEditController\n    }\n\n    angular.module(\"pipCompositeEdit\", ['pipDocuments', 'pipLocations', 'pipPictures', 'pipDates', 'pipComposite.Templates'])\n        .run(ConfigTranslations)\n        .component('pipCompositeEdit', CompositeEdit);\n\n}\n\n\n","import { CompositeBlockTypes } from '../composite_edit/CompositeEdit';\nimport { ContentBlock, ChecklistItem } from '../data';\n{\n\n    interface ICompositeSummaryBindings {\n        [key: string]: any;\n\n        pipContents: any;\n        pipChecklistSize: any;\n        pipTextSize: any;\n        pipPrimaryBlockLimit: any;\n        pipSecondaryBlockLimit: any;\n        pipSecondaryBlockTypes: any;\n        pipRebind: any;\n    }\n\n    const CompositeSummaryBindings: ICompositeSummaryBindings = {\n\n        pipContents: '<?',\n        pipChecklistSize: '<?',\n        pipTextSize: '<?',\n        pipPrimaryBlockLimit: '<?',\n        pipSecondaryBlockLimit: '<?',\n        pipSecondaryBlockTypes: '<?',\n        pipRebind: '<?'\n    }\n\n    class CompositeSummaryBindingsChanges implements ng.IOnChangesObject, ICompositeSummaryBindings {\n        [key: string]: ng.IChangesObject<any>;\n\n        pipContents: ng.IChangesObject<ContentBlock[]>;\n        pipChecklistSize: ng.IChangesObject<number>;\n        pipTextSize: ng.IChangesObject<number>;\n        pipPrimaryBlockLimit: ng.IChangesObject<number>;\n        pipSecondaryBlockLimit: ng.IChangesObject<number>;\n        pipSecondaryBlockTypes: ng.IChangesObject<string[]>;\n        pipRebind: ng.IChangesObject<boolean>;\n    }\n\n    class CompositeSummaryController {\n        public pipContents: ContentBlock[];\n        public pipChecklistSize: number;\n        public pipTextSize: number;\n        public pipPrimaryBlockLimit: number;\n        public pipSecondaryBlockLimit: number;\n        public pipSecondaryBlockTypes: string[];\n        public pipRebind: boolean;\n\n        public compositeContent: ContentBlock[];\n\n        public disableControl: boolean = true;\n        public disabledChecklist: boolean = true;\n\n        constructor(\n            private $element: JQuery\n        ) {\n            \"ngInject\";\n\n            $element.addClass('pip-composite-summary');\n\n            this.pipChecklistSize = this.pipChecklistSize ? this.pipChecklistSize : 0;\n            this.pipTextSize = this.pipTextSize ? this.pipTextSize : 0;\n            this.pipPrimaryBlockLimit = this.pipPrimaryBlockLimit === undefined || this.pipPrimaryBlockLimit === null ? -1 : this.pipPrimaryBlockLimit;\n            this.pipSecondaryBlockLimit = this.pipSecondaryBlockLimit === undefined || this.pipSecondaryBlockLimit === null ? -1 : this.pipSecondaryBlockLimit;\n            this.pipSecondaryBlockTypes = this.pipSecondaryBlockTypes && _.isArray(this.pipSecondaryBlockTypes) ? this.pipSecondaryBlockTypes : CompositeBlockTypes.SecondaryBlock;\n\n            this.generateList(this.pipContents);\n        }\n\n        public $onChanges(changes: CompositeSummaryBindingsChanges) {\n            if (this.toBoolean(this.pipRebind)) {\n                if (changes.pipContents && changes.pipContents.currentValue) {\n                    if (!angular.equals(this.pipContents, changes.pipContents.currentValue)) {\n                        this.generateList(this.pipContents);\n                    }\n                }\n            }\n        }\n\n        private getPicIds(ids: string[]): pip.pictures.Attachment[] {\n            let result: pip.pictures.Attachment[] = [];\n\n            _.each(ids, (id: string) => {\n                let item: pip.pictures.Attachment = {\n                    id: id\n                }\n\n                result.push(item);\n            })\n\n            return result;\n        }\n\n        private toBoolean(value: any): boolean {\n            if (value == null) return false;\n            if (!value) return false;\n            value = value.toString().toLowerCase();\n\n            return value == '1' || value == 'true';\n        }\n\n\n        // limit cacklist position\n        public limitChecklist(content: ContentBlock[], val: number): void {\n            if (!val) return;\n            let ellapsed: ChecklistItem = {\n                text: '...',\n                checked: false\n            };\n            _.each(content, (item: ContentBlock) => {\n                if (item && item.type == CompositeBlockTypes.Checklist) {\n                    let checklistLength: number = item.checklist.length;\n                    item.checklist = _.take(item.checklist, val);\n                    if (checklistLength > val) {\n                        item.checklist.push(ellapsed);\n                    }\n                }\n            });\n        };\n\n        // choose primary blocks (text and picture)\n        public selectSummary(content: ContentBlock[]): ContentBlock[] {\n            let result: ContentBlock[] = [];\n            let i: number;\n\n            _.each(content, (item: ContentBlock) => {\n                if (this.pipPrimaryBlockLimit >= 0 && i >= this.pipPrimaryBlockLimit) {\n                    return result;\n                }\n                //if (item.type == 'text' || item.type == 'pictures' ) {\n                if (this.pipSecondaryBlockTypes.indexOf(item.type) < 0) {\n                    result.push(item);\n                    i += 1;\n                }\n            });\n\n            return result;\n        }\n\n        // отбираем остальные блоки если они есть\n        public selectSummarySecondary(content: ContentBlock[], types: string[]): ContentBlock[] {\n            let i: number;\n            let limit: number = this.pipSecondaryBlockLimit < 0 ? content.length : this.pipSecondaryBlockLimit;\n            let result: ContentBlock[] = [];\n\n            for (i; i < content.length; i++) {\n                if (types.indexOf(content[i].type) > -1) {\n                    result.push(content[i]);\n                    if (result.length >= limit) {\n                        break;\n                    }\n                }\n            }\n\n            return result;\n        }\n\n        public generateList(content: ContentBlock[]): void {\n            if (!content || content.length < 1) {\n                this.clearList();\n\n                return;\n            } else {\n                let summaryContent: ContentBlock[] = _.cloneDeep(content);\n                let result: ContentBlock[] = this.selectSummary(summaryContent);\n                if (result.length == 0) {\n                    result = this.selectSummarySecondary(summaryContent, this.pipSecondaryBlockTypes);\n                }\n\n                this.limitChecklist(result, this.pipChecklistSize);\n\n                let id: number;\n                _.each(result, (item: ContentBlock) => {\n                    item.id = id;\n                    item.picIds = item.pic_ids ? this.getPicIds(item.pic_ids) : null;\n                    id++;\n                });\n                this.compositeContent = result;\n            }\n        }\n\n        public clearList() {\n            this.compositeContent = [];\n        }\n    }\n\n    const CompositeSummary: ng.IComponentOptions = {\n        bindings: CompositeSummaryBindings,\n        templateUrl: 'composite_summary/CompositeSummary.html',\n        controller: CompositeSummaryController\n    }\n\n    angular.module(\"pipCompositeSummary\", ['pipDocuments', 'pipLocations', 'pipPictures', 'pipDates', 'pipComposite.Templates'])\n        .component('pipCompositeSummary', CompositeSummary);\n\n}\n\n","import { CompositeEmptyEvent, CompositeAddItemEvent } from '../composite_edit/CompositeEdit';\n\nexport class CompositeAddItemEventParams {\n    public type: string;\n    public id: string;\n}\n\nexport class CompositeToolbarButton {\n    public picture: boolean = true;\n    public document: boolean = true;\n    public location: boolean = true;\n    public event: boolean = true;\n    public checklist: boolean = true;\n    public text: boolean = true;\n}\n\n{\n    const translateConfig = function (pipTranslateProvider) {\n        pipTranslateProvider.translations('en', {\n            'TEXT': 'Text',\n            'CHECKLIST': 'Checklist',\n            'LOCATION': 'Location',\n            'PICTURE': 'Picture',\n            'TIME': 'Time',\n            'DOCUMENT': 'Document'\n        });\n\n        pipTranslateProvider.translations('ru', {\n            'TEXT': 'Текст',\n            'CHECKLIST': 'Список',\n            'LOCATION': 'Локация',\n            'PICTURE': 'Изображение',\n            'TIME': 'Время',\n            'DOCUMENT': 'Document'\n        });\n    }\n\n    interface ICompositeToolbarBindings {\n        [key: string]: any;\n\n        ngDisabled: any;\n        emptyState: any;\n        pipToolbarButton: any;\n        compositeId: any;\n    }\n\n    const CompositeToolbarBindings: ICompositeToolbarBindings = {\n        ngDisabled: '<?',\n        emptyState: '<?pipCompositeEmpty', // Set init state of toolbar\n        pipToolbarButton: '=?', // Set visibility of toolbar button, true by default\n        compositeId: '=?pipCompositeId', // Set pip-composite-id, for several composite components in one scope\n    }\n\n    class CompositeToolbarBindingsChanges implements ng.IOnChangesObject, ICompositeToolbarBindings {\n        [key: string]: ng.IChangesObject<any>;\n\n        ngDisabled: ng.IChangesObject< boolean >;\n        emptyState: ng.IChangesObject< boolean >;\n        pipToolbarButton: ng.IChangesObject<CompositeToolbarButton>;;\n        compositeId: ng.IChangesObject<string>;\n    }\n\n    class CompositeToolbarController {\n        private cleanupCompositeEvent: any;\n\n        public toolbarButton: CompositeToolbarButton;\n\n        public ngDisabled: boolean;\n        public emptyState: boolean;\n        public pipToolbarButton: CompositeToolbarButton;\n        public compositeId: string;\n\n        constructor(\n            private $rootScope: ng.IRootScopeService,\n            private $element: JQuery\n        ) {\n\"ngInject\";\n\n            this.toolbarButton = new CompositeToolbarButton();\n\n            this.setOption();\n\n            $element.addClass('pip-composite-toolbar');\n\n            this.cleanupCompositeEvent = this.$rootScope.$on(CompositeEmptyEvent, (event: ng.IAngularEvent, value: boolean) => {\n                this.emptyState = !value;\n            });\n        }\n\n        public $onDestroy() {\n            if (angular.isFunction(this.cleanupCompositeEvent)) {\n                this.cleanupCompositeEvent();\n            }\n        }\n\n        public $onChanges(changes: CompositeToolbarBindingsChanges) {\n            if (changes.pipToolbarButton && changes.pipToolbarButton.currentValue) {\n                this.setOption();\n            }\n        }\n\n        public toBoolean(value: any): boolean {\n            if (value == null) return false;\n            if (!value) return false;\n            value = value.toString().toLowerCase();\n\n            return value == '1' || value == 'true';\n        }\n\n        public onAddItem(contentType: string): void {\n            let params: CompositeAddItemEventParams = {\n                type: contentType,\n                id: this.compositeId\n            };\n\n            this.$rootScope.$emit(CompositeAddItemEvent, params);\n        };\n\n        public setOption(): void {\n            _.assign(this.pipToolbarButton, this.pipToolbarButton);\n            this.toolbarButton.text = true;\n            // if (this.pipToolbarButton !== null && this.pipToolbarButton !== undefined) {\n            //     this.toolbarButton.picture = this.pipToolbarButton.picture === false ? this.pipToolbarButton.picture : true;\n            //     this.toolbarButton.document = this.pipToolbarButton.document === false ? this.pipToolbarButton.document : true;\n            //     this.toolbarButton.location = this.pipToolbarButton.location === false ? this.pipToolbarButton.location : true;\n            //     this.toolbarButton.event = this.pipToolbarButton.event === false ? this.pipToolbarButton.event : true;\n            //     this.toolbarButton.checklist = this.pipToolbarButton.checklist === false ? this.pipToolbarButton.checklist : true;\n            // } else {\n            //     this.toolbarButton.picture = true;\n            //     this.toolbarButton.document = true;\n            //     this.toolbarButton.location = true;\n            //     this.toolbarButton.event = true;\n            //     this.toolbarButton.checklist = true;\n            // }\n            // this.toolbarButton.text = true;\n        };\n    }\n\n\n    const CompositeToolbar: ng.IComponentOptions = {\n        bindings: CompositeToolbarBindings,\n        templateUrl: 'composite_toolbar/CompositeToolbar.html',\n        controller: CompositeToolbarController\n    }\n\n    angular.module(\"pipCompositeToolbar\", ['pipComposite.Templates'])\n        .config(translateConfig)\n        .component('pipCompositeToolbar', CompositeToolbar);\n\n}","import { ContentBlock } from '../data';\n{\n    interface ICompositeViewBindings {\n        [key: string]: any;\n\n        ngDisabled: any;\n        pipDisabledChecklist: any;\n        pipChanged: any;\n        pipContents: any;\n        pipRebind: any;\n    }\n\n    const CompositeViewBindings: ICompositeViewBindings = {\n        ngDisabled: '<?',\n        pipDisabledChecklist: '<?',\n        pipChanged: '=?',\n        pipContents: '=?',\n        pipRebind: '<?'\n    }\n\n    class CompositeViewBindingsChanges implements ng.IOnChangesObject, ICompositeViewBindings {\n        [key: string]: ng.IChangesObject<any>;\n\n        ngDisabled: ng.IChangesObject<boolean>;\n        pipDisabledChecklist: ng.IChangesObject<boolean>;\n        pipChanged: ng.IChangesObject<() => ng.IPromise<void>>;\n        pipContents: ng.IChangesObject<ContentBlock[]>;\n        pipRebind: ng.IChangesObject<boolean>;\n    }\n\n    class CompositeViewController implements ICompositeViewBindings {\n        public ngDisabled: boolean;\n        public pipDisabledChecklist: boolean;\n        public pipChanged: Function;\n        public pipContents: ContentBlock[];\n        public pipRebind: boolean;\n\n        public compositeContent: ContentBlock[];\n\n        private selected: any = {};\n\n        constructor(\n            private $element: JQuery,\n            private $attrs: ng.IAttributes\n        ) {\n            \"ngInject\";\n\n            $element.addClass('pip-composite-view');\n            this.selected.isChanged = false;\n            this.pipContents = _.isArray(this.pipContents) ? this.pipContents : [];\n\n            this.generateList(this.pipContents);\n        }\n\n        public $onChanges(changes: CompositeViewBindingsChanges): void {\n            if (changes.pipRebind && changes.pipRebind.currentValue !== changes.pipRebind.previousValue) {\n                this.pipRebind = changes.pipRebind.currentValue;\n                if (this.pipRebind && changes.pipContents && _.isArray(changes.pipContents.currentValue)) {\n                    this.selected.isChanged === true ? this.selected.isChanged = false : this.generateList(changes.pipContents.currentValue);\n                }\n            }\n\n            if (changes.ngDisabled && changes.ngDisabled.currentValue !== changes.ngDisabled.previousValue) {\n                this.ngDisabled = changes.ngDisabled.currentValue;\n            }\n\n            if (changes.pipDisabledChecklist && changes.pipDisabledChecklist.currentValue !== changes.pipDisabledChecklist.previousValue) {\n                this.pipDisabledChecklist = changes.pipDisabledChecklist.currentValue;\n            }\n        }\n        \n        private getPicIds(ids: string[]): pip.pictures.Attachment[] {\n            let result: pip.pictures.Attachment[] = [];\n\n            _.each(ids, (id: string) => {\n                let item: pip.pictures.Attachment = {\n                    id: id\n                }\n\n                result.push(item);\n            })\n\n            return result;\n        }\n\n        private updateContents(): void {\n            this.selected.isChanged = true;\n            this.pipContents = this.compositeContent;\n        }\n\n        public isDisabled(): boolean {\n            return this.pipDisabledChecklist === true || this.ngDisabled === true;\n        }\n\n        public onContentChange(): void {\n            this.updateContents();\n            if (this.pipChanged) {\n                this.pipChanged(this.pipContents);\n            }\n        }\n\n        public onCompositeChange(): void {\n            this.updateContents();\n            if (this.pipChanged)\n                this.pipChanged(this.pipContents);\n        }\n\n        private generateList(content: ContentBlock[]): void {\n            if (!content || content.length < 1) {\n                this.clearList();\n                return;\n            } else {\n                this.compositeContent = [];\n                let id: number = 0;\n                _.each(content, (item: ContentBlock) => {\n                    if (typeof (item) != 'object' || item == null) {\n                        throw new Error('Error: content error!');\n                    }\n                    item.id = id;\n                    item.picIds = item.pic_ids ? this.getPicIds(item.pic_ids) : null;\n                    id++;\n                    this.compositeContent.push(item);\n                });\n            }\n        }\n\n        private clearList(): void {\n            this.compositeContent = [];\n        }\n    }\n\n    const CompositeView: ng.IComponentOptions = {\n        bindings: CompositeViewBindings,\n        templateUrl: 'composite_view/CompositeView.html',\n        controller: CompositeViewController\n    }\n\n    angular.module(\"pipCompositeView\", ['pipDocuments', 'pipLocations', 'pipPictures', 'pipDates', 'pipComposite.Templates', 'pipEmbeddedView'])\n        .component('pipCompositeView', CompositeView);\n\n}","{\n    interface IContentSwitchAttributes extends angular.IAttributes {\n        pipParentElementName: any;\n    }\n\n    interface IContentSwitchScope extends angular.IScope {\n        onButtonClick: any;\n        contentSwitchOption: any;\n        showIconPicture: any;\n        showIconDocument: any;\n        showIconEvent: any;\n        showIconLocation: any;\n        showEvent: any;\n        showDocuments: any;\n        showLocation: any;\n        showPictures: any;\n    }\n\n    class ContentSwitchLink {\n        private parentElementNameGetter: any;\n        private parentElement: any;\n\n        constructor(\n            private $parse: ng.IParseService,\n            private $scope: IContentSwitchScope,\n            private $element: JQuery,\n            private $attrs: IContentSwitchAttributes\n        ) {\n            \"ngInject\";\n            \n            this.parentElementNameGetter = $parse($attrs.pipParentElementName);\n            this.parentElement = this.parentElementNameGetter($scope);\n            this.setOption();\n        }\n\n        private scrollTo(childElement): void {\n            setTimeout(() => {\n                let modDiff: number = Math.abs($(this.parentElement).scrollTop() - $(childElement).position().top);\n                if (modDiff < 20) {\n                    return;\n                }\n                let scrollTo = $(this.parentElement).scrollTop() + ($(childElement).position().top - 20);\n                $(this.parentElement).animate({\n                    scrollTop: scrollTo + 'px'\n                }, 300);\n            }, 100);\n        };\n\n        private setOption(): void {\n            // todo\n            if (this.$scope.contentSwitchOption !== null && this.$scope.contentSwitchOption !== undefined) {\n                this.$scope.showIconPicture = this.$scope.contentSwitchOption.picture ? this.$scope.contentSwitchOption.picture : this.$scope.showIconPicture;\n                this.$scope.showIconDocument = this.$scope.contentSwitchOption.document ? this.$scope.contentSwitchOption.document : this.$scope.showIconDocument;\n                this.$scope.showIconLocation = this.$scope.contentSwitchOption.location ? this.$scope.contentSwitchOption.location : this.$scope.showIconLocation;\n                this.$scope.showIconEvent = this.$scope.contentSwitchOption.event ? this.$scope.contentSwitchOption.event : this.$scope.showIconEvent;\n            } else {\n                this.$scope.showIconPicture = true;\n                this.$scope.showIconDocument = true;\n                this.$scope.showIconLocation = true;\n                this.$scope.showIconEvent = true;\n            }\n        };\n\n        public onButtonClick(type: string): void {\n            if (!this.parentElement) return;\n\n            switch (type) {\n                case 'event':\n                    // On Event click action\n                    if (this.$scope.showEvent)\n                        scrollTo('.event-edit');\n                    break;\n                case 'documents':\n                    // On Documents click action\n                    if (this.$scope.showDocuments)\n                        scrollTo('.pip-document-list-edit');\n                    break;\n                case 'pictures':\n                    // On Pictures click action\n                    if (this.$scope.showPictures)\n                        scrollTo('.pip-picture-list-edit');\n                    break;\n                case 'location':\n                    // On Location click action\n                    if (this.$scope.showLocation)\n                        scrollTo('.pip-location-edit');\n                    break;\n            };\n        };\n\n\n    }\n\n    const ContentSwitch = function ($parse: ng.IParseService) {\n        return {\n            restrict: 'EA',\n            scope: false,\n            templateUrl: 'content_switch/ContentSwitch.html',\n            link: function (\n                $scope: IContentSwitchScope,\n                $element: JQuery,\n                $attrs: IContentSwitchAttributes\n            ) {\n                new ContentSwitchLink($parse, $scope, $element, $attrs);\n            }\n        }\n    }\n\n    angular.module(\"pipContentSwitch\", ['pipComposite.Templates'])\n        .directive('pipContentSwitch', ContentSwitch);\n\n}","export class ChecklistItem {\n    checked: boolean;\n    text: string;\n    empty?: boolean;\n}","import { ChecklistItem } from './ChecklistItem';\n\nexport class ContentBlock {\n    public id?: number;\n    public type: string;\n    public text?: string;\n    public docs?: pip.documents.Attachment[];\n    public picIds?: pip.documents.Attachment[];\n    public pic_ids?: string[];\n    public loc_pos?: any; \n    public loc_name?: string;\n    public start?: string;\n    public end?: string;\n    public all_day?: boolean;\n    public checklist?: ChecklistItem[];\n    public embed_type?: string;\n    public embed_uri?: string;\n    public custom?: any;\n}","export class ContentBlockType {\n    public static readonly Text: string = \"text\";\n    public static readonly Checklist: string = \"checklist\";\n    public static readonly Location: string = \"location\";\n    public static readonly Time: string = \"time\";\n    public static readonly Pictures: string = \"pictures\";\n    public static readonly Documents: string = \"documents\";\n    public static readonly Embedded: string = \"embedded\";\n    public static readonly Custom: string = \"custom\";\n}","export class EmbeddedType {\n    public static readonly Youtube: string = \"youtube\";\n    public static readonly Custom: string = \"custom\";\n}","import { EmbeddedType } from '../data/EmbeddedType';\n\ninterface IEmbeddedEditBindings {\n    [key: string]: any;\n\n    embed_type: any;\n    embed_uri: any;\n    onChange: any;\n    ngDisabled: any;\n}\n\nconst EmbeddedEditBindings: IEmbeddedEditBindings = {\n    embed_type: '=?pipEmbeddedType',\n    embed_uri: '=?pipEmbeddedUri',\n    onChange: '=pipChanged',\n    ngDisabled: '&?ngDisabled'\n}\n\nclass EmbeddedEditChanges implements ng.IOnChangesObject, IEmbeddedEditBindings {\n    [key: string]: ng.IChangesObject<any>;\n\n    embed_type: ng.IChangesObject<string>;\n    embed_uri: ng.IChangesObject<string>;\n    ngDisabled: ng.IChangesObject<() => ng.IPromise<void>>;\n    onChange: ng.IChangesObject<() => ng.IPromise<void>>;\n}\n\n// class EmbeddeObj {\n//     public embed_type: string;\n//     public embed_uri: string;\n// }\n\nclass EmbeddedEditController implements ng.IController {          public $onInit() {}\n    public form: any;\n    public touchedErrorsWithHint: Function;\n\n    public embed_type: string;\n    public embed_uri: string;\n    // public onChange: (params: EmbeddeObj) => void;\n    public onChange: (embedType: string, embedUri: string) => void;\n    public ngDisabled: () => boolean;\n\n    public embeddedTypeCollection = [\n        { title: 'EMBEDDED_TYPE_CUSTOM', shortTitle: 'EMBEDDED_TYPE_CUSTOM_SHORT',id: EmbeddedType.Custom },\n        { title: 'EMBEDDED_TYPE_YOUTUBE', shortTitle: 'EMBEDDED_TYPE_YOUTUBE_SHORT',id: EmbeddedType.Youtube }\n    ];\n\n    constructor(\n        private $element: JQuery,\n        private $scope: ng.IScope,\n        private $state: ng.ui.IStateService,\n        public pipMedia: pip.layouts.IMediaService\n    ) {\n        $element.addClass('pip-embedded-edit');\n\n        this.init();\n    }\n\n    public $onChanges(changes: EmbeddedEditChanges): void {\n        console.log('$onChanges');\n        this.init();\n    }\n\n    public $postLink() {\n        console.log('postlink', this.$scope)\n        this.form = this.$scope.embedded;\n    }\n\n    private init(): void {\n        if (!this.embed_type) {\n            this.embed_type = EmbeddedType.Custom;\n        }\n    }\n\n    public onChangeType(): void {\n        console.log('onChangeType');\n        if (!this.form.url.$error)\n            this.onChange(this.embed_type, this.embed_uri);\n    }\n\n    public onChangeUrl(): void {\n        console.log('onChangeUrl');\n        this.onChange(this.embed_type, this.embed_uri);\n    }\n\n    public isDisabled() {\n        if (this.ngDisabled) {\n            return this.ngDisabled();\n        }\n\n        return false;\n    };\n}\n\n(() => {\n\n    function declaredEmbeddedEditResources(pipTranslateProvider: pip.services.ITranslateProvider) {\n        pipTranslateProvider.translations('en', {\n            EMBEDDED_TYPE_LABEL: 'Embedded type',\n            EMBEDDED_URL_LABEL: 'Embedded uri',\n            EMBEDDED_TYPE_HINT: 'Enter uri of embedded resource',\n            EMBEDDED_URL_ERROR: 'Uri error',\n            EMBEDDED_TYPE_CUSTOM: 'Custom',\n            EMBEDDED_TYPE_YOUTUBE: 'Youtube',\n            EMBEDDED_TYPE_CUSTOM_SHORT: 'Custom',\n            EMBEDDED_TYPE_YOUTUBE_SHORT: 'Youtube'\n        });\n        pipTranslateProvider.translations('ru', {\n            EMBEDDED_TYPE_LABEL: 'Тип встроенного ресурса',\n            EMBEDDED_URL_LABEL: 'Uri встроенного ресурса',\n            EMBEDDED_TYPE_HINT: 'Введите uri встроенного ресурса',\n            EMBEDDED_URL_ERROR: 'Неверный uri',\n            EMBEDDED_TYPE_CUSTOM: 'Другой',\n            EMBEDDED_TYPE_YOUTUBE: 'Youtube',\n            EMBEDDED_TYPE_CUSTOM_SHORT: 'Другой',\n            EMBEDDED_TYPE_YOUTUBE_SHORT: 'Youtube'\n        });\n    }\n\n    angular\n        .module('pipEmbeddedEdit', [])\n        .component('pipEmbeddedEdit', {\n            bindings: EmbeddedEditBindings,\n            templateUrl: 'embedded_edit/EmbeddedEdit.html',\n            controller: EmbeddedEditController,\n            controllerAs: '$ctrl'\n        })\n        .config(declaredEmbeddedEditResources);\n})();\n","import { EmbeddedType } from '../data/EmbeddedType';\n\ninterface IEmbeddedViewBindings {\n    [key: string]: any;\n\n    embed_type: any;\n    embed_uri: any;\n}\n\nconst EmbeddedViewBindings: IEmbeddedViewBindings = {\n    embed_type: '=?pipEmbeddedType',\n    embed_uri: '=?pipEmbeddedUri',\n}\n\nclass EmbeddedViewChanges implements ng.IOnChangesObject, IEmbeddedViewBindings {\n    [key: string]: ng.IChangesObject<any>;\n\n    embed_type: ng.IChangesObject<string>;\n    embed_uri: ng.IChangesObject<string>;\n}\n\nclass EmbeddedViewController implements ng.IController {\n    public $onInit() { }\n    public embed_type: string;\n    public embed_uri: string;\n\n    constructor(\n        private $element: JQuery,\n        public pipMedia: pip.layouts.IMediaService\n    ) {\n        $element.addClass('pip-embedded-view');\n\n        this.init();\n    }\n\n    public $onChanges(changes: EmbeddedViewChanges): void {\n        console.log('$onChanges');\n        this.init();\n    }\n\n    private init(): void {\n\n    }\n\n}\n\n(() => {\n\n    function declaredEmbeddedViewResources(pipTranslateProvider: pip.services.ITranslateProvider) {\n        pipTranslateProvider.translations('en', {\n\n        });\n        pipTranslateProvider.translations('ru', {\n\n        });\n    }\n\n    function resourceYoutubeConfig($sceDelegateProvider) {\n        $sceDelegateProvider.resourceUrlWhitelist([\n            'self',\n            'https://www.youtube.com/**'\n        ]);\n    }\n\n    angular\n        .module('pipEmbeddedView', [])\n        .component('pipEmbeddedView', {\n            bindings: EmbeddedViewBindings,\n            templateUrl: 'embedded_view/EmbeddedView.html',\n            controller: EmbeddedViewController,\n            controllerAs: '$ctrl'\n        })\n        .config(resourceYoutubeConfig)\n        .config(declaredEmbeddedViewResources);\n})();\n","{\n    interface IMobileMousedownAttributes extends ng.IAttributes {\n        pipMobileMousedown: any;\n    }\n\n    const MobileMousedown = (scope: ng.IScope, elem: JQuery, attrs: IMobileMousedownAttributes) => {\n        elem.bind(\"touchstart mousedown\", (e) => {\n            scope.$apply(attrs.pipMobileMousedown);\n        });\n    }\n\n    angular.module(\"pipMobileMouse\")\n        .directive('pipMobileMousedown', () => {\n            return MobileMousedown;\n        });\n}","{\n    interface IMobileMouseupAttributes extends ng.IAttributes {\n        pipMobileMouseup: any;\n    }\n\n    const MobileMouseup = (scope: ng.IScope, elem: JQuery, attrs: IMobileMouseupAttributes) => {\n        elem.bind(\"touchend mouseup\", (e) => {\n            scope.$apply(attrs.pipMobileMouseup);\n        });\n    }\n\n    angular.module(\"pipMobileMouse\")\n        .directive('pipMobileMouseup', () => {\n            return MobileMouseup;\n        });\n}","angular.module('pipMobileMouse', []);\n\nimport './MobileMousedown';\nimport './MobileMouseup';","export const CompositeFocusedEvent: string = 'focusedComposite'; \n\n{\n    class CompositeFocusedController {\n        constructor(\n            $element: JQuery,\n            $rootScope: angular.IRootScopeService\n        ) {\n            $element.bind(\"touchstart mousedown\", (e) => {\n                $rootScope.$broadcast(CompositeFocusedEvent);\n            });\n        }\n    }\n\n    const CompositeFocused = function () {\n        return {\n            restrict: 'A',\n            scope: false,\n            controller: CompositeFocusedController\n        }\n    }\n\n    angular.module(\"pipCompositeFocused\", [])\n        .directive('pipCompositeFocused', CompositeFocused);\n\n}","(function(module) {\ntry {\n  module = angular.module('pipComposite.Templates');\n} catch (e) {\n  module = angular.module('pipComposite.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('checklist_edit/ChecklistEdit.html',\n    '<div ng-class=\"{\\'pip-checklist-draggable\\': $ctrl.selected.drag}\" id=\"{{\\'checklist-\\' + $ctrl.selected.id}}\"><div ng-repeat=\"item in $ctrl.checklistContent\" ng-mousedown=\"$ctrl.onClick($event, $index)\" class=\"pip-checklist-item\" id=\"{{\\'check-item-\\' + $ctrl.selected.id + \\'-\\' + $index}}\" pip-drag=\"$ctrl.checklistContent.length > 1 && $ctrl.selected.drag && !item.empty\" pip-drag-data=\"item\" pip-force-touch=\"true\" pip-touch-delay=\"30\" pip-drop=\"true\" pip-drag-stop=\"$ctrl.onStop(selected.id)\" pip-drag-start=\"$ctrl.onStart(selected.id)\" pip-scroll-container=\"$ctrl.pipScrollContainer\" pip-drop-success=\"$ctrl.onDropComplete($index, $data, $event, $ctrl.selected.id)\"><div ng-class=\"{\\'put_place\\': $ctrl.selected.drag}\"></div><div class=\"pip-checklist-item-body layout-row layout-align-start-start\" pip-cancel-drag=\"true\" ng-class=\"{ \\'select-active-item\\': $ctrl.isSelectedItem($index) }\"><div class=\"pip-checklist-button\" pip-cancel-drag=\"true\"><md-button pip-drag-handle=\"\" class=\"pip-icon-checklist-button md-icon-button no-ripple-container\" aria-label=\"REARRANGE\" tabindex=\"-1\" pip-mobile-mousedown=\"$ctrl.onDownDragg(item)\" pip-mobile-mouseup=\"$ctrl.onDraggEnd()\" ng-if=\"$ctrl.pipDraggable && $ctrl.checklistContent.length > 2 && !item.empty\" ng-class=\"$ctrl.checklistContent.length > 1 ? \\'cursor-move\\' : \\'cursor-default\\'\" ng-disabled=\"$ctrl.ngDisabled\"><md-icon class=\"text-grey\" md-svg-icon=\"icons:vhandle\"></md-icon></md-button></div><div class=\"pip-checklist-button\" style=\"overflow: hidden\" pip-cancel-drag=\"true\"><div class=\"pip-checklist-button-container\"><md-button class=\"pip-icon-checklist-button md-icon-button\" ng-show=\"item.empty\" ng-disabled=\"$ctrl.ngDisabled\" md-ink-ripple=\"\" ng-click=\"$ctrl.onAddItem()\" tabindex=\"-1\" aria-label=\"PLUS\"><md-icon class=\"text-grey\" md-svg-icon=\"icons:plus\"></md-icon></md-button><md-checkbox ng-model=\"item.checked\" ng-show=\"!item.empty\" aria-label=\"COMPLETE\" pip-cancel-drag=\"true\" ng-focus=\"$ctrl.onItemFocus($index)\" ng-change=\"$ctrl.onChecked(item)\" ng-disabled=\"$ctrl.ngDisabled\"></md-checkbox></div></div><div class=\"pip-checklist-text flex\" pip-cancel-drag=\"true\"><md-input-container md-no-float=\"\" class=\"flex\"><textarea ng-model=\"item.text\" name=\"{{\\'text\\' + $index}}\" aria-label=\"TEXT\" class=\"pip-text-checkbox\" ng-focus=\"$ctrl.onItemFocus($index)\" ng-change=\"$ctrl.onChangeItem($index)\" ng-keydown=\"$ctrl.onTextareaKeyDown($event, $index, item)\" placeholder=\"{{::\\'TEXT\\' | translate}}\" id=\"{{\\'check-item-text-\\' + selected.id + \\'-\\' + $index}}\" ng-disabled=\"$ctrl.ngDisabled\">\\n' +\n    '                    </textarea></md-input-container></div><div class=\"pip-checklist-button\" pip-cancel-drag=\"true\"><md-button class=\"pip-icon-checklist-button md-icon-button\" md-ink-ripple=\"\" ng-click=\"$ctrl.onDeleteItem($index, item)\" ng-disabled=\"$ctrl.ngDisabled\" tabindex=\"-1\" ng-focus=\"$ctrl.onItemFocus($index)\" ng-show=\"$ctrl.isSelectedItem($index)\" aria-label=\"DELETE-ITEM\"><md-icon class=\"text-grey\" md-svg-icon=\"icons:cross-circle\"></md-icon></md-button></div></div></div><div id=\"{{\\'check-item-empty-\\' + $ctrl.selected.id}}\" class=\"pip-empty-text\" pip-drag=\"false\" pip-drop=\"true\" pip-drop-success=\"$ctrl.onDropComplete($ctrl.checklistContent.length, $data, $event, $ctrl.selected.id)\"><div ng-class=\"{\\'put_place\\': $ctrl.selected.drag}\"></div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipComposite.Templates');\n} catch (e) {\n  module = angular.module('pipComposite.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('checklist_view/ChecklistView.html',\n    '<div ng-repeat=\"item in $ctrl.pipOptions track by $index\"><div class=\"pip-checklist-item layout-row layout-align-start-start\"><div class=\"pip-checklist-icon\"><md-checkbox ng-model=\"item.checked\" ng-click=\"$ctrl.onClick($event, item)\" aria-label=\"COMPLETE\" ng-disabled=\"$ctrl.ngDisabled\"></md-checkbox></div><div class=\"pip-checklist-text flex\"><pip-markdown pip-text=\"item.text\" pip-rebind=\"true\" ng-disabled=\"true\"></pip-markdown></div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipComposite.Templates');\n} catch (e) {\n  module = angular.module('pipComposite.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('composite_edit/CompositeEdit.html',\n    '<div class=\"divider-top\"><div class=\"pip-composite-body\" ng-show=\"$ctrl.compositeContent.length != 0\" ng-class=\"{\\'drag-active\\': $ctrl.selected.drag}\"><div class=\"pip-composite-item\" ng-repeat=\"obj in $ctrl.compositeContent track by obj.id\" ng-mousedown=\"$ctrl.onClick($event, $index, obj)\" ng-class=\"{\\'selected-content\\': $ctrl.isSelectedSection($index, obj), \\'composite-animate\\': !obj.empty && $ctrl.compositeContent.length > 1}\" ng-keyup=\"$ctrl.onKeyUp($event)\" ng-keydown=\"$ctrl.onKeyDown($event, $index, obj)\" pip-drag=\"$ctrl.compositeContent.length > 1 && $ctrl.selected.drag\" pip-touch-delay=\"10\" pip-drag-data=\"obj\" pip-scroll-container=\"$ctrl.pipScrollContainer\" pip-drop=\"true\" pip-force-touch=\"true\" pip-drag-stop=\"$ctrl.onStop($ctrl.selected.id)\" pip-drag-start=\"$ctrl.onStart($ctrl.selected.id)\" pip-drop-success=\"$ctrl.onDropComplete($index, $data, $event, $ctrl.selected.id)\" id=\"{{\\'composite-item-\\' + $ctrl.selected.id + \\'-\\' + $index}}\"><div class=\"putt_box\"></div><div class=\"pip-section-header layout-row layout-align-start-center\" ng-if=\"!obj.empty\"><div class=\"w38\"></div><md-button class=\"md-icon-button md-icon-button-little icon-rearrange-btn no-ripple-container rm8 cursor-move\" ng-if=\"!$ctrl.ngDisabled && $ctrl.compositeContent.length > 1\" pip-drag-handle=\"\" pip-mobile-mousedown=\"$ctrl.onDownDragg($event, obj)\" pip-mobile-mouseup=\"$ctrl.onDraggEnd()\" tabindex=\"-1\" aria-label=\"COMPOSITE-DRAGG\" ng-hide=\"$ctrl.compositeContent.length == 1\"><md-icon class=\"composite-icon cursor-move\" md-svg-icon=\"icons:handle\"></md-icon></md-button><div><md-button class=\"md-icon-button md-icon-button-little rm8\" ng-click=\"$ctrl.onDeleteItem($index)\" ng-disabled=\"$ctrl.ngDisabled\" aria-label=\"COMPOSITE-DELETE\"><md-icon class=\"composite-icon\" md-svg-icon=\"icons:cross\"></md-icon></md-button></div></div><div class=\"pip-section-content rp24-flex lp24-flex tp16 bp16\" ng-if=\"obj.type == \\'text\\'\" pip-cancel-drag=\"true\"><md-input-container class=\"p0 m0 w-stretch\" md-no-float=\"\"><textarea ng-model=\"obj.text\" aria-label=\"text\" placeholder=\"{{ $ctrl.isFirst ? $ctrl.compositePlaceholder : \\'TEXT\\' | translate}}\" id=\"{{\\'composite-item-text-\\' + $ctrl.selected.id + \\'-\\' + $index}}\" ng-change=\"$ctrl.onContentChange(obj)\" pip-cancel-drag=\"true\" ng-disabled=\"$ctrl.ngDisabled\">\\n' +\n    '                            </textarea></md-input-container></div><div class=\"pip-section-content rp24-flex lp24-flex vp20\" ng-if=\"obj.type == \\'pictures\\'\" pip-cancel-drag=\"true\"><pip-picture-list-edit class=\"w-stretch\" pip-cancel-drag=\"true\" pip-pictures=\"obj.picIds\" pip-changed=\"$ctrl.onContentChange(obj)\" pip-created=\"obj.pictures = $event.sender\" pip-added-picture=\"$ctrl.addedContent\" ng-disabled=\"$ctrl.ngDisabled\"></pip-picture-list-edit></div><div class=\"pip-section-content rp24-flex lp24-flex vp20\" ng-if=\"obj.type == \\'documents\\'\" pip-cancel-drag=\"true\"><pip-document-list-edit class=\"w-stretch\" pip-documents=\"obj.docs\" pip-cancel-drag=\"true\" pip-changed=\"$ctrl.onContentChange(obj)\" pip-created=\"obj.documents = $event.sender\" pip-added-document=\"$ctrl.addedContent\" ng-disabled=\"$ctrl.ngDisabled\"></pip-document-list-edit></div><div class=\"pip-section-embedded rp24-flex lp24-flex vp20\" ng-if=\"obj.type == \\'embedded\\'\" pip-cancel-drag=\"true\"><pip-embedded-edit pip-embedded-type=\"obj.embed_type\" pip-embedded_uri=\"obj.embed_uri\" pip-cancel-drag=\"true\" pip-changed=\"$ctrl.onContentChange(obj)\" ng-disabled=\"$ctrl.ngDisabled\"></pip-embedded-edit></div><div class=\"pip-section-content layout-row layout-align-start-center\" ng-if=\"obj.type == \\'checklist\\'\" pip-cancel-drag=\"true\"><pip-checklist-edit pip-options=\"obj.checklist\" pip-draggable=\"$ctrl.isActiveChecklist(obj)\" pip-changed=\"$ctrl.onContentChange(obj)\" ng-disabled=\"$ctrl.ngDisabled\" pip-scroll-container=\"$ctrl.pipScrollContainer\" pip-rebind=\"true\"></pip-checklist-edit></div><div class=\"pip-section-content vp20 rp24-flex lp24-flex\" ng-if=\"obj.type == \\'location\\'\" pip-cancel-drag=\"true\"><pip-location-edit class=\"pip-location-attachments w-stretch\" pip-location-name=\"obj.loc_name\" pip-location-pos=\"obj.loc_pos\" pip-cancel-drag=\"true\" xxxpip-location-holder=\"$ctrl.pipLocationHolder\" pip-changed=\"$ctrl.onContentChange(obj)\" ng-disabled=\"$ctrl.ngDisabled\"></pip-location-edit></div><div class=\"pip-section-content bp16-flex rp24-flex lp24-flex tp20\" ng-if=\"obj.type == \\'time\\'\" pip-cancel-drag=\"true\"><pip-time-range-edit class=\"w-stretch\" pip-start-date=\"obj.start\" pip-end-date=\"obj.end\" xxxpip-size=\"$sizeGtSmall\" pip-changed=\"$ctrl.onContentChange(obj)\" ng-disabled=\"$ctrl.ngDisabled\" pip-start-label=\"{{ \\'COMPOSITE_START_TIME\\' | translate }}\" pip-end-label=\"{{ \\'COMPOSITE_END_TIME\\' | translate }}\"></pip-time-range-edit></div></div><div class=\"pip-composite-item w-stretch\" pip-drag=\"false\" pip-drop=\"true\" pip-drop-success=\"$ctrl.onDropComplete($ctrl.compositeContent.length, $data, $event, $ctrl.selected.id)\" pip-drag-stop=\"$ctrl.onStop($ctrl.selected.id)\" pip-drag-start=\"$ctrl.onStart($ctrl.selected.id)\" id=\"{{\\'pip-composite-last-\\' + $ctrl.selected.id}}\"><div class=\"putt_box\"></div><div class=\"pip-section-content h24\" style=\"border: 0px!important;\"></div></div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipComposite.Templates');\n} catch (e) {\n  module = angular.module('pipComposite.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('composite_summary/CompositeSummary.html',\n    '<div ng-repeat=\"item in $ctrl.compositeContent track by $index\"><div class=\"pip-composite-text\" ng-if=\"item.type == \\'text\\' && item.text\"><pip-markdown pip-text=\"item.text\" pip-line-count=\"$ctrl.textSize\" pip-rebind=\"true\" ng-disabled=\"true\"></pip-markdown></div><div ng-if=\"item.type == \\'pictures\\' && item.picIds && item.picIds.length > 0\" ng-class=\"$ctrl.compositeContent[$index - 1].type != \\'pictures\\' ? $ctrl.compositeContent[$index + 1].type != \\'pictures\\' ? \\'tm16 bm16\\' : \\'tm16 bm0\\' : $ctrl.compositeContent[$index + 1].type != \\'pictures\\' ? \\'tm8 bm16\\' : \\'tm8 bm0\\'\" class=\"pip-composite-pictures\"><pip-collage pip-pictures=\"item.picIds\" pip-unique-code=\"item.id\" pip-multiple=\"true\" pip-open=\"$ctrl.disableControl\" pip-rebind=\"true\" ng-disabled=\"$ctrl.disableControl\"></pip-collage></div><div ng-if=\"item.type == \\'documents\\' && item.docs && item.docs.length > 0\" class=\"pip-composite-documents layout-row flex\"><pip-document-list class=\"flex\" pip-documents=\"item.docs\" pip-rebind=\"true\" pip-document-icon=\"true\" pip-collapse=\"true\" ng-disabled=\"$ctrl.disableControl\"></pip-document-list></div><div ng-if=\"item.type == \\'checklist\\' && item.checklist && item.checklist.length > 0\" class=\"pip-composite-checklist\"><pip-checklist-view pip-options=\"item.checklist\" pip-changed=\"$ctrl.onContentChange()\" pip-rebind=\"true\" pip-collapse=\"true\" ng-disabled=\"$ctrl.disabledChecklist\"></pip-checklist-view></div><div class=\"pip-composite-location layout-row layout-align-start-center flex\" ng-if=\"item.type == \\'location\\' && (item.loc_pos || item.loc_name)\"><pip-location class=\"flex\" pip-location-name=\"item.loc_name\" pip-location-pos=\"item.loc_pos\" pip-collapse=\"true\" pip-show-location-icon=\"true\" ng-disabled=\"$ctrl.disableControl\" pip-rebind=\"true\"></pip-location></div><div class=\"pip-composite-time layout-row layout-align-start-center flex\" ng-if=\"item.type == \\'time\\' && (item.start || item.end)\"><md-icon md-svg-icon=\"icons:time\" class=\"rm24 lm0\"></md-icon><pip-time-range pip-start-date=\"item.start\" pip-end-date=\"item.end\" pip-rebind=\"true\" ng-disabled=\"$ctrl.disableControl\"></pip-time-range></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipComposite.Templates');\n} catch (e) {\n  module = angular.module('pipComposite.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('composite_toolbar/CompositeToolbar.html',\n    '<div class=\"layout-row layout-align-start-start flex\"><md-button class=\"pip-composite-button\" ng-if=\"!$ctrl.emptyState\" ng-class=\"{ \\'remove-item\\': !$ctrl.emptyState , \\'new-item\\': !$ctrl.emptyState }\" ng-click=\"$ctrl.onAddItem(\\'text\\');\" aria-label=\"COMPOSITE-BUTTON-TEXT\" ng-disabled=\"$ctrl.ngDisabled\"><md-icon class=\"icon-text-block\" md-svg-icon=\"icons:text\"></md-icon><md-tooltip>{{::\\'TEXT\\'| translate}}</md-tooltip></md-button><md-button ng-if=\"$ctrl.toolbarButton.checklist\" ng-click=\"$ctrl.onAddItem(\\'checklist\\')\" ng-disabled=\"$ctrl.ngDisabled\" class=\"pip-composite-button\" aria-label=\"COMPOSITE-BUTTON-CHECKLIST\"><md-icon class=\"icon-checkbox-on\" md-svg-icon=\"icons:checkbox-on\"></md-icon><md-tooltip>{{::\\'CHECKLIST\\'| translate}}</md-tooltip></md-button><md-button ng-if=\"$ctrl.toolbarButton.picture\" ng-click=\"$ctrl.onAddItem(\\'pictures\\')\" ng-disabled=\"$ctrl.ngDisabled\" class=\"pip-composite-button\" aria-label=\"COMPOSITE-BUTTON-PICTURES\"><md-icon class=\"icon-camera\" md-svg-icon=\"icons:camera\"></md-icon><md-tooltip>{{::\\'PICTURE\\'| translate}}</md-tooltip></md-button><md-button ng-click=\"$ctrl.onAddItem(\\'documents\\')\" ng-if=\"$ctrl.toolbarButton.document\" ng-disabled=\"$ctrl.ngDisabled\" class=\"pip-composite-button\" aria-label=\"COMPOSITE-BUTTON-DOCUMENTS\"><md-icon class=\"icon-document\" md-svg-icon=\"icons:document\"></md-icon><md-tooltip>{{::\\'DOCUMENT\\'| translate}}</md-tooltip></md-button><md-button ng-click=\"$ctrl.onAddItem(\\'location\\')\" ng-if=\"$ctrl.toolbarButton.location\" ng-disabled=\"$ctrl.ngDisabled\" class=\"pip-composite-button\" aria-label=\"COMPOSITE-BUTTON-LOCATIONS\"><md-icon class=\"icon-location\" md-svg-icon=\"icons:location\"></md-icon><md-tooltip>{{::\\'LOCATION\\'| translate}}</md-tooltip></md-button><md-button ng-click=\"$ctrl.onAddItem(\\'time\\')\" ng-if=\"$ctrl.toolbarButton.event\" ng-disabled=\"$ctrl.ngDisabled\" class=\"pip-composite-button\" aria-label=\"COMPOSITE-BUTTON-TIME\"><md-icon class=\"icon-time\" md-svg-icon=\"icons:time\"></md-icon><md-tooltip>{{::\\'TIME\\'| translate}}</md-tooltip></md-button></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipComposite.Templates');\n} catch (e) {\n  module = angular.module('pipComposite.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('composite_view/CompositeView.html',\n    '<div ng-repeat=\"item in $ctrl.compositeContent track by $index\"><div class=\"pip-composite-text lp24-flex rp24-flex\" ng-if=\"item.type == \\'text\\' && item.text\" ng-class=\"{\\'bm16\\': $last}\"><pip-markdown pip-text=\"item.text\" pip-rebind=\"true\" ng-disabled=\"true\"></pip-markdown></div><div ng-if=\"item.type == \\'pictures\\' && item.picIds && item.picIds.length > 0\" ng-class=\"$ctrl.compositeContent[$index - 1].type != \\'pictures\\' ? $ctrl.compositeContent[$index + 1].type != \\'pictures\\' ? \\'tm16 bm16\\' : \\'tm16 bm0\\' : $ctrl.compositeContent[$index + 1].type != \\'pictures\\' ? \\'tm8 bm16\\' : \\'tm8 bm0\\'\" class=\"pip-composite-pictures lp24-flex rp24-flex\"><pip-collage pip-pictures=\"item.picIds\" pip-unique-code=\"item.id\" pip-multiple=\"true\" pip-open=\"true\" pip-rebind=\"true\" ng-disabled=\"$ctrl.ngDisabled\"></pip-collage></div><div ng-if=\"item.type == \\'documents\\' && item.docs && item.docs.length > 0\" class=\"pip-composite-documents layout-row layout-align-start-start flex\"><pip-document-list pip-documents=\"item.docs\" pip-document-icon=\"true\" pip-rebind=\"true\" ng-disabled=\"$ctrl.ngDisabled\"></pip-document-list></div><div ng-if=\"item.type == \\'checklist\\' && item.checklist && item.checklist.length > 0\" class=\"pip-composite-checklist lp24-flex rp24-flex\"><pip-checklist-view pip-options=\"item.checklist\" pip-changed=\"$ctrl.onContentChange()\" pip-rebind=\"true\" ng-disabled=\"$ctrl.isDisabled()\"></pip-checklist-view></div><div class=\"pip-composite-location layout-row layout-align-start-start flex\" ng-if=\"item.type == \\'location\\' && (item.loc_pos || item.loc_name)\"><pip-location class=\"flex\" pip-location-name=\"item.loc_name\" pip-location-pos=\"item.loc_pos\" pip-show-location-icon=\"true\" pip-collapse=\"false\" ng-disabled=\"$ctrl.ngDisabled\" pip-rebind=\"true\"></pip-location></div><div class=\"pip-composite-time lp24-flex rp24-flex layout-row layout-align-start-center flex\" ng-if=\"item.type == \\'time\\'\"><md-icon md-svg-icon=\"icons:time\" class=\"lm0\"></md-icon><pip-time-range pip-start-date=\"item.start\" pip-end-date=\"item.end\" pip-rebind=\"true\" ng-disabled=\"ngDisabled()\"></pip-time-range></div><div class=\"pip-composite-embedded lp24-flex rp24-flex layout-row layout-align-start-center flex\" ng-if=\"item.type == \\'embedded\\' && item.embed_uri\"><pip-embedded-view class=\"bm8\" pip-embedded-type=\"item.embed_type\" pip-embedded-uri=\"item.embed_uri\"></pip-embedded-view></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipComposite.Templates');\n} catch (e) {\n  module = angular.module('pipComposite.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('content_switch/ContentSwitch.html',\n    '<md-button ng-click=\"showPictures = !showPictures; onButtonClick(\\'pictures\\')\" aria-label=\"showPictures\" class=\"md-icon-button\" ng-show=\"showIconPicture\" ng-disabled=\"transaction.busy()\"><md-icon class=\"active-camera\" ng-class=\"{ \\'active-camera\\': showPictures }\" md-svg-icon=\"icons:camera\"></md-icon></md-button><md-button ng-click=\"showDocuments = !showDocuments; onButtonClick(\\'documents\\')\" aria-label=\"showDocuments\" class=\"md-icon-button\" ng-show=\"showIconDocument\" ng-disabled=\"transaction.busy()\"><md-icon ng-class=\"{ \\'active-document\\': showDocuments }\" md-svg-icon=\"icons:document\"></md-icon></md-button><md-button ng-click=\"showEvent = !showEvent; onButtonClick(\\'event\\')\" aria-label=\"showEvent\" class=\"md-icon-button\" ng-show=\"showIconEvent\" ng-disabled=\"transaction.busy()\"><md-icon ng-class=\"{ \\'active-time\\': showEvent }\" md-svg-icon=\"icons:time\"></md-icon></md-button><md-button ng-click=\"showLocation = !showLocation; onButtonClick(\\'location\\')\" aria-label=\"showLocation\" class=\"md-icon-button\" ng-show=\"showIconLocation\" ng-disabled=\"transaction.busy()\"><md-icon ng-class=\"{ \\'active-location\\': showLocation }\" md-svg-icon=\"icons:location\"></md-icon></md-button>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipComposite.Templates');\n} catch (e) {\n  module = angular.module('pipComposite.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('embedded_edit/EmbeddedEdit.html',\n    '<form name=\"embedded\"><md-input-container class=\"md-block flex bm24\"><label>{{ ::\\'EMBEDDED_TYPE_LABEL\\'| translate }}</label><md-select ng-model=\"$ctrl.embed_type\" ng-change=\"$ctrl.onChangeType()\" ng-disabled=\"$ctrl.isDisabled()\"><md-option ng-repeat=\"t in $ctrl.embeddedTypeCollection track by $index\" ng-value=\"t.id\">{{ ::t.title | translate }}</md-option></md-select></md-input-container><md-input-container class=\"md-block flex\"><label>{{::\\'EMBEDDED_URL_LABEL\\' | translate}}</label> <input ng-model=\"$ctrl.embed_uri\" ng-required=\"$ctrl.embed_uri\" type=\"url\" name=\"url\" ng-change=\"$ctrl.onChangeUrl()\" ng-disabled=\"$ctrl.isDisabled()\" ng-model-options=\"{ delay: 500 }\"><div class=\"hint\" ng-if=\"!embedded.url.$error\">{{::\\'EMBEDDED_TYPE_HINT\\' | translate}}</div><div ng-messages=\"embedded.url.$error\" role=\"alert\"><div ng-message=\"url\">{{ \\'EMBEDDED_URL_ERROR\\' | translate }}</div></div></md-input-container></form>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipComposite.Templates');\n} catch (e) {\n  module = angular.module('pipComposite.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('embedded_view/EmbeddedView.html',\n    '<iframe width=\"100%\" height=\"170\" frameborder=\"0\" allowfullscreen=\"\" ng-if=\"$ctrl.embed_type == \\'youtube\\'\" ng-src=\"{{ $ctrl.embed_uri }}\" style=\"margin: 0 auto;\"></iframe><iframe width=\"100%\" height=\"170\" frameborder=\"0\" allowfullscreen=\"\" style=\"margin: 0 auto;\" ng-src=\"{{ $ctrl.embed_uri }}\" ng-if=\"$ctrl.embed_type == \\'custom\\'\"><p><a href=\"{{ $ctrl.embed_uri }}\">{{ $ctrl.embed_uri }}</a></p></iframe>');\n}]);\n})();\n\n//# sourceMappingURL=pip-suite-composite-html.min.js.map\n","import { GuidePage } from './GuidePage';\n\n\nexport class Guide {\n\n    /* Identification */\n    public id: string;\n    public name?: string;\n    public type: string;\n    public app?: string;\n    public min_ver?: number;\n    public max_ver?: number;\n\n    /* Automatically managed fields */\n    public create_time: Date;\n\n    /* Content */\n    public pages: GuidePage[];\n\n    /* Search */\n    public tags?: string[];\n    public all_tags?: string[];\n\n    /* Status */\n    public status?: string;\n\n    /* Custom fields */\n    public custom_hdr?: any;\n    public custom_dat?: any;\n}\n","import { IGuideDataService } from './IGuideDataService';\nimport { Guide } from './Guide';\nimport { GuideType } from './GuideType';\nimport { GuideStatus } from './GuideStatus';\nimport { PageData } from './PageData';\n\nclass GuideData implements IGuideDataService {\n    private RESOURCE: string = 'guides';\n    private RESOURCE_RANDOM: string = 'guidesRandom'; \n\n    private PAGE_SIZE: number = 100;\n    private PAGE_START: number = 0;\n    private PAGE_TOTAL: boolean = true;\n\n    constructor(\n        private pipRest: pip.rest.IRestService,\n        private pipFormat: pip.services.IFormat\n    ) {\n        \"ngInject\";\n\n    }\n\n    public readGuides(params: any, successCallback?: (data: PageData) => void, errorCallback?: (error: any) => void): angular.IPromise<any> {\n        params = params || {};\n        if (params.filter) {\n            params.filer = this.pipFormat.filterToString(params.filer);\n        }\n\n        return this.pipRest.getResource(this.RESOURCE).page(params, successCallback, errorCallback);\n    }\n\n    public readRandomGuide(params: any, successCallback?: (data: Guide) => void, errorCallback?: (error: any) => void): angular.IPromise<any> {\n        params = params || {};\n        if (params.filter) {\n            params.filer = this.pipFormat.filterToString(params.filer);\n        }\n\n        return this.pipRest.getResource(this.RESOURCE_RANDOM).get(params, successCallback, errorCallback);\n    }\n\n    public readIntroGuides(params: any, successCallback?: (data: PageData) => void, errorCallback?: (error: any) => void): angular.IPromise<any> {\n        params = params || {};\n        let filter = params.filter || {};\n        filter.type = GuideType.Introduction;\n        filter.status = GuideStatus.Completed; \n        params.filer = this.pipFormat.filterToString(filter);\n\n        return this.pipRest.getResource(this.RESOURCE).page(\n            params,\n            successCallback,\n            errorCallback\n        );\n    }\n\n    public readGuide(id: string, successCallback?: (data: Guide) => void, errorCallback?: (error: any) => void): angular.IPromise<any> {\n        return this.pipRest.getResource(this.RESOURCE).get(\n            { guide_id: id },\n            successCallback,\n            errorCallback\n        );\n    }\n\n    public createGuide(data: Guide, successCallback?: (data: Guide) => void, errorCallback?: (error: any) => void): void {\n        this.pipRest.getResource(this.RESOURCE).save(\n            null,\n            data,\n            successCallback,\n            errorCallback\n        );\n    }\n\n    public updateGuide(id: string, data: Guide, successCallback?: (data: Guide) => void, errorCallback?: (error: any) => void): void {\n        this.pipRest.getResource(this.RESOURCE).update(\n            { guide_id: id },\n            data,\n            successCallback,\n            errorCallback\n        );\n    }\n\n    public deleteGuide(id: string, successCallback?: () => void, errorCallback?: (error: any) => void): void {\n        this.pipRest.getResource(this.RESOURCE).remove(\n            { guide_id: id },\n            null,\n            successCallback,\n            errorCallback\n        );\n    }\n}\n\n\nangular\n    .module('pipGuideData', ['pipRest', 'pipServices'])\n    .service('pipGuideData', GuideData);\n\n\n","import { MultiString } from './MultiString';\n\nexport class GuidePage {\n    public title: MultiString;\n    public content?: MultiString;\n    public more_url?: string;\n    public color?: string;\n    public pic_id?: string;\n    public pic_uri?: string;\n}","export class GuideStatus {\n    public static readonly New = \"new\";\n    public static readonly Writing = \"writing\";\n    public static readonly Translating = \"translating\";\n    public static readonly Verifying = \"verifying\";\n    public static readonly Completed = \"completed\";\n}","export class GuideType {\n    public static readonly Introduction = \"introduction\";\n    public static readonly NewRelease = \"new release\";\n}","export class MultiString {\n    [language: string]: string;\n}","export class PageData {\n    data: any[];\n    total: number;\n} ","export class PartyReference {\n\n    public constructor(id: string, name?: string, email?: string) {\n        this.id = id;\n        this.name = name;\n        this.email = email;\n    }\n\n    public id: string;\n    public name?: string;\n    public email?: string;\n}","import { MultiString } from './MultiString';\nimport { QuoteStatus } from './QuoteStatus';\n\nexport class Quote {\n    public id: string;\n    public text: MultiString;\n    public author: MultiString;\n    public status: string;\n    public tags: string[];\n    public all_tags: string[];\n}\n","import { IQuoteDataService } from './IQuoteDataService';\nimport { Quote } from './Quote';\nimport { PageData } from './PageData';\n\nclass QuoteData implements IQuoteDataService {\n    private RESOURCE: string = 'quotes';\n    private RESOURCE_RANDOM: string = 'quotesRandom'; \n\n    private PAGE_SIZE: number = 100;\n    private PAGE_START: number = 0;\n    private PAGE_TOTAL: boolean = true;\n\n    constructor(\n        private pipRest: pip.rest.IRestService,\n        private pipFormat: pip.services.IFormat\n    ) {\n        \"ngInject\";\n\n    }\n\n    public readQuotes(params: any, successCallback?: (data: PageData) => void, errorCallback?: (error: any) => void): angular.IPromise<any> {\n        params = params || {};\n        if (params.filter) {\n            params.filer = this.pipFormat.filterToString(params.filer);\n        }\n\n        return this.pipRest.getResource(this.RESOURCE).page(params, successCallback, errorCallback);\n    }\n\n    public readRandomQuote(params: any, successCallback?: (data: Quote) => void, errorCallback?: (error: any) => void): angular.IPromise<any> {\n        params = params || {};\n        if (params.filter) {\n            params.filer = this.pipFormat.filterToString(params.filer);\n        }\n\n        return this.pipRest.getResource(this.RESOURCE_RANDOM).get(params, successCallback, errorCallback);\n    }\n\n    public readQuote(id: string, successCallback?: (data: Quote) => void, errorCallback?: (error: any) => void): angular.IPromise<any> {\n        return this.pipRest.getResource(this.RESOURCE).get(\n            { quote_id: id },\n            successCallback,\n            errorCallback\n        );\n    }\n\n    public createQuote(data: Quote, successCallback?: (data: Quote) => void, errorCallback?: (error: any) => void): void {\n        this.pipRest.getResource(this.RESOURCE).save(\n            null,\n            data,\n            successCallback,\n            errorCallback\n        );\n    }\n\n    public updateQuote(id: string, data: Quote, successCallback?: (data: Quote) => void, errorCallback?: (error: any) => void): void {\n        this.pipRest.getResource(this.RESOURCE).update(\n            { quote_id: id },\n            data,\n            successCallback,\n            errorCallback\n        );\n    }\n\n    public deleteQuote(id: string, successCallback?: () => void, errorCallback?: (error: any) => void): void {\n        this.pipRest.getResource(this.RESOURCE).remove(\n            { quote_id: id },\n            null,\n            successCallback,\n            errorCallback\n        );\n    }\n\n}\n\n\nangular\n    .module('pipQuoteData', ['pipRest', 'pipServices'])\n    .service('pipQuoteData', QuoteData);\n\n","export class QuoteStatus {\n    public static readonly New = \"new\";\n    public static readonly Writing = \"writing\";\n    public static readonly Translating = \"translating\";\n    public static readonly Verifying = \"verifying\";\n    public static readonly Completed = \"completed\";\n}","import { MultiString } from './MultiString';\nimport { PartyReference } from './PartyReference';\nimport { Attachment } from './Attachment';\n\nexport class Tip {\n    public id: string;\n    public topics: string[];\n\n    /* Automatically managed fields */\n    public creator: PartyReference;\n    public create_time: Date;\n\n    /* Content */\n    public title?: MultiString;\n    public content?: MultiString;\n    public more_url?: string;\n    public pics?: Attachment[];\n    public docs?: Attachment[];\n\n    /* Search */\n    public tags?: string[];\n    public all_tags?: string[];\n\n    /* Status */\n    public status?: string;\n\n    /* Custom fields */\n    public custom_hdr?: any;\n    public custom_dat?: any;\n}","import { ITipDataService } from './ITipDataService';\nimport { Tip } from './Tip';\nimport { PageData } from './PageData';\n\nclass TipData implements ITipDataService {\n    private RESOURCE: string = 'tips';\n    private RESOURCE_RANDOM: string = 'tipsRandom'; \n\n    private PAGE_SIZE: number = 100;\n    private PAGE_START: number = 0;\n    private PAGE_TOTAL: boolean = true;\n\n    constructor(\n        private pipRest: pip.rest.IRestService,\n        private pipFormat: pip.services.IFormat\n    ) {\n        \"ngInject\";\n\n    }\n\n    public readTips(params: any, successCallback?: (data: PageData) => void, errorCallback?: (error: any) => void): angular.IPromise<any> {\n        params = params || {};\n        if (params.filter) {\n            params.filer = this.pipFormat.filterToString(params.filer);\n        }\n\n        return this.pipRest.getResource(this.RESOURCE).page(params, successCallback, errorCallback);\n    }\n\n    public readRandomTip(params: any, successCallback?: (data: Tip) => void, errorCallback?: (error: any) => void): angular.IPromise<any> {\n        params = params || {};\n        if (params.filter) {\n            params.filer = this.pipFormat.filterToString(params.filer);\n        }\n\n        return this.pipRest.getResource(this.RESOURCE_RANDOM).get(params, successCallback, errorCallback);\n    }\n\n    public readTip(id: string, successCallback?: (data: Tip) => void, errorCallback?: (error: any) => void): angular.IPromise<any> {\n        return this.pipRest.getResource(this.RESOURCE).get(\n            { tip_id: id },\n            successCallback,\n            errorCallback\n        );\n    }\n\n    public createTip(data: Tip, successCallback?: (data: Tip) => void, errorCallback?: (error: any) => void): void {\n        this.pipRest.getResource(this.RESOURCE).save(\n            null,\n            data,\n            successCallback,\n            errorCallback\n        );\n    }\n\n    public updateTip(id: string, data: Tip, successCallback?: (data: Tip) => void, errorCallback?: (error: any) => void): void {\n        this.pipRest.getResource(this.RESOURCE).update(\n            { tip_id: id },\n            data,\n            successCallback,\n            errorCallback\n        );\n    }\n\n    public deleteTip(id: string, successCallback?: () => void, errorCallback?: (error: any) => void): void {\n        this.pipRest.getResource(this.RESOURCE).remove(\n            { tip_id: id },\n            null,\n            successCallback,\n            errorCallback\n        );\n    }\n\n}\n\n\nangular\n    .module('pipTipData', ['pipRest', 'pipServices'])\n    .service('pipTipData', TipData);\n\n","export class TipStatus {\n    public static readonly New = \"new\";\n    public static readonly Writing = \"writing\";\n    public static readonly Translating = \"translating\";\n    public static readonly Verifying = \"verifying\";\n    public static readonly Completed = \"completed\";\n}","{\n\n    /**\n     * @ngdoc service\n     * @name pipGuidance.Dialog:pipGuidanceDialog\n     *\n     * @description\n     * Reproduced API to show guidance dialog stretched out on a whole screen.\n     * It is included a navigation and allows users to go back through guide.\n     */\n    class GuidanceDialog {\n        constructor(private $mdDialog: angular.material.IDialogService) {}\n        /**\n         * @ngdoc method\n         * @methodOf pipGuidance.Dialog:pipGuidanceDialog\n         * @name pipGuidance.Dialog.pipGuidanceDialog:show\n         *\n         * @description\n         * Shows guidance panel. Shown guidance can be close by click on backdrop space. Into callback function is\n         * passed nothing data.\n         *\n         * {@link https://github.com/pip-webui/pip-webui-guidance/blob/master/src/guidance/guidance_dialog.js#L50 View source}\n         *\n         * @param {Object} params   Options for dialog panel.\n         * @param {Function=} successCallback   Callback function is invoked on success dialog close.\n         * @param {Function=} cancelCallback    Callback function is invoked on error event.\n         */\n        public show(params, successCallback, cancelCallback) {\n            this.$mdDialog.show({\n                    targetEvent: params.event,\n                    templateUrl: 'guidance/GuidanceDialog.html',\n                    controller: GuidanceDialogController,\n                    controllerAs: '$ctrl',\n                    locals: {\n                        params: params\n                    },\n                    clickOutsideToClose: true\n                })\n                .then(() => {\n                    if (successCallback) {\n                        successCallback();\n                    }\n                }, () => {\n                    if (cancelCallback) {\n                        cancelCallback();\n                    }\n                });\n        }\n    }\n\n    const config = (pipTranslateProvider: pip.services.ITranslateProvider) => {\n        pipTranslateProvider.translations('en', {\n            GUIDANCE_TITLE: 'What should you do here?',\n            GUIDANCE_ACTION: 'Do it now!',\n            GUIDANCE_DO_NOT_SHOW: \"Don't show it again\"\n        });\n        pipTranslateProvider.translations('ru', {\n            GUIDANCE_TITLE: 'Что здесь делать?',\n            GUIDANCE_ACTION: 'Сделать это сейчас!',\n            GUIDANCE_DO_NOT_SHOW: 'Не показывать это снова'\n        });\n    };\n\n    class GuidanceDialogController {\n        public theme: string;\n        public title: string;\n        public imageUrl: string;\n        public imageWidth: string;\n        public imageHeight: string;\n        public action: string;\n        public content: any;\n        public hideToggle: any;\n        public showHideToggle: any;\n        \n\n        constructor(\n            $scope: ng.IScope, \n            $rootScope: ng.IRootScopeService, \n            private $mdDialog: angular.material.IDialogService, \n            private pipTranslate: pip.services.ITranslateService,\n            private params: any\n        ) {\n            this.theme = $rootScope[pip.themes.ThemeRootVar];\n            this.title = params.title || 'GUIDANCE_TITLE';\n\n            this.imageUrl = params.imageUrl || '';\n            this.imageWidth = params.imageWidth || '100%';\n            this.imageHeight = params.imageHeight || '150px';\n\n            this.content = params.content;\n            this.action = params.action || 'GUIDANCE_ACTION';\n            this.hideToggle = params.hideToggle;\n            this.showHideToggle = params.hideToggleCallback != null;\n        }\n\n        public onCancel() {\n            this.$mdDialog.cancel();\n        }\n\n        public onAction() {\n            this.$mdDialog.hide();\n        }\n\n        public onHideToggle() {\n            if (this.params.hideToggleCallback) {\n                this.params.hideToggleCallback(this.hideToggle);\n            }\n        }\n\n        public getContent(content) {\n            let language = this.pipTranslate.language || 'en';\n            return content && content[language] ? content[language] : '';\n        }\n\n    }\n\n    angular.module('pipGuidance.Dialog', ['ngMaterial', 'pipTranslate', 'pipGuidance.Templates'])\n        .config(config)\n        .service('pipGuidanceDialog', GuidanceDialog);\n\n}","/// <reference path=\"../../typings/tsd.d.ts\" />\n\n{\n    /**\n     * @ngdoc service\n     * @name pipReleaseIntroDialog.pipReleaseIntroDialog\n     *\n     * @description\n     * Provides API to show intro dialog.\n     */\n    class ReleaseIntroDialog {\n        constructor(\n            private $mdDialog: angular.material.IDialogService\n        ) {}\n\n        /**\n         * @ngdoc method\n         * @methodOf pipReleaseIntroDialog.pipReleaseIntroDialog\n         * @name pipReleaseIntroDialog.pipReleaseIntroDialog:show\n         *\n         * @description\n         * Shows dialog panel. Shown dialog can be close by click on backdrop space. Into callback function is\n         * passed nothing data.\n         *\n         * {@link https://github.com/pip-webui/pip-webui-guidance/blob/master/src/intro_guidance/intro_guidance_dialog.js#L50 View source}\n         * \n         * @param {Object} params   Options for dialog panel.\n         * @param {Function=} successCallback   Callback function is invoked on success dialog close.\n         * @param {Function=} cancelCallback    Callback function is invoked on error event.\n         *\n         */\n        public show(params, successCallback, cancelCallback) {\n            this.$mdDialog.show({\n                    targetEvent: params.event,\n                    templateUrl: 'intro_guidance/IntroGuidanceDialog.html',\n                    controller: ReleaseIntroDialogController,\n                    controllerAs: '$ctrl',\n                    locals: {\n                        params: params // todo params class\n                    },\n                    clickOutsideToClose: true\n                })\n                .then(() => {\n                    if (successCallback) {\n                        successCallback();\n                    }\n                }, () => {\n                    if (cancelCallback) {\n                        cancelCallback();\n                    }\n                });\n        }\n    }\n\n    const config = (pipTranslateProvider: pip.services.ITranslateProvider) => {\n        pipTranslateProvider.translations('en', {\n            GUIDANCE_TITLE: 'What should you do here?',\n            GUIDANCE_ACTION: 'Do it now!',\n            GUIDANCE_DO_NOT_SHOW: \"Don't show it again\",\n            GUIDE_COMPLETE_BUTTON: 'GOT IT !'\n        });\n        pipTranslateProvider.translations('ru', {\n            GUIDANCE_TITLE: 'Что здесь делать?',\n            GUIDANCE_ACTION: 'Сделать это сейчас!',\n            GUIDANCE_DO_NOT_SHOW: 'Не показывать это снова',\n            GUIDE_COMPLETE_BUTTON: 'Закончить просмотр'\n        });\n    };\n\n    class ReleaseIntroDialogController {\n        public theme: string;\n        public number: number;\n        public ln: string;\n        public data: any;\n        public isOpen: boolean = true;\n\n        constructor(\n            private $scope: ng.IScope,\n            private $rootScope: ng.IRootScopeService,\n            private pipTranslate: pip.services.ITranslateService,\n            private $mdDialog: angular.material.IDialogService,\n            public pipMedia: pip.layouts.IMediaService,\n            private pipPictureData: pip.pictures.IPictureDataService,\n            private params: any\n        ) {\n            this.theme = $rootScope[pip.themes.ThemeRootVar];\n\n            const guide = this.params.guide;\n            this.number = 0;\n            this.ln = this.params.ln || this.pipTranslate.language || 'en';\n            this.data = guide;\n\n            _.each(this.data.pages, function (page) {\n                if (page.pic_id) {\n                    var picId = page.pic_id;\n\n                    page.picIds = [];\n                    page.picIds.push(picId);\n\n                    page.pic_id_url = pipPictureData.getPictureUrl(page.pic_id);\n                }\n                if (page.pic_uri) {\n                    var picUri = page.pic_uri;\n\n                    page.picUris = [];\n                    page.picUris.push(picUri);\n                }\n            });\n\n        }\n\n        // Process user actions\n        // --------------------\n\n        public onChangePage(newNumber) {\n            this.number = newNumber;\n            this.isOpen = false;\n        };\n\n        public onBackPage() {\n            if (this.number !== 0) {\n                this.number -= 1;\n            }\n            this.isOpen = false;\n        };\n        \n        public onNextPage() {\n            if (this.number !== this.data.pages.length - 1) {\n                this.number += 1;\n            }\n            this.isOpen = false;\n        };\n\n        public onKeyDown($event: KeyboardEvent): void {\n            if (!$event) return\n            if ($event.key == 'ArrowRight') {\n                this.onNextPage();\n            }\n            if ($event.key == 'ArrowLeft') {\n                this.onBackPage();\n            }\n            if ($event.keyCode == 32) {\n                this.onNextPage();\n            }\n            this.isOpen = false;\n        }\n\n\n        public onClose() {\n            // if intro show\n            this.$mdDialog.hide();\n        };\n    }\n\n    angular.module('pipReleaseIntroDialog')\n        .config(config)\n        .service('pipReleaseIntroDialog', ReleaseIntroDialog);\n\n}","import { IGuideDataService } from '../data';\nimport { GuideType } from '../data';\nimport { GuideStatus } from '../data';\nimport { Guide } from '../data';\nimport { IIntroGuidanceService } from './IIntroGuidanceService';\n\n{\n    /**\n     * @ngdoc service\n     * @name pipIntroGuidance.Service.pipGuidance\n     *\n     * @description\n     * Service provides an interface to show introduction guide.\n     *\n     * @requires pipReleaseIntroDialog\n     */\n\n    class IntroGuidanceService implements IIntroGuidanceService {\n        constructor(\n            private pipReleaseIntroDialog: any, \n            private pipGuideData: IGuideDataService,\n            private pipTranslate: pip.services.ITranslateService,\n            private $rootScope: ng.IRootScopeService\n        ) { }\n\n        public showReleaseGuidance(filter: string, successCallback?: () => void, errorCallback?: () => void): void {\n            this.pipGuideData.readGuides(\n                {\n                    filter: filter\n                },\n                (guides: any) => {\n                    guides = _.filter(guides.data, (guide: any) => {\n                        return guide.type = GuideType.NewRelease && guide.status === GuideStatus.Completed;\n                    });\n                    if (guides.length > 0) {\n                        this.pipReleaseIntroDialog.show({\n                            guide: guides[0],\n                            ln: this.pipTranslate.language\n                        }, successCallback, errorCallback);\n                    }\n                }, errorCallback);\n        }\n\n        public showIntroGuidance(filter: string, successCallback?: () => void, errorCallback?: () => void): void {\n            this.pipGuideData.readIntroGuides(\n                {\n                    filter: filter\n                },\n                (guides: any) => {\n                    guides = _.filter(guides.data, function (guide: any) {\n                        return guide.type = GuideType.Introduction && guide.status === GuideStatus.Completed;\n                    });\n                    if (guides.length > 0) {\n                        this.pipReleaseIntroDialog.show({\n                            guide: guides[0],\n                            ln: this.pipTranslate.language\n                        }, successCallback, errorCallback);\n                    }\n                }, errorCallback);\n        }\n\n        /**\n         * @ngdoc method\n         * @methodOf pipIntroGuidance.Service.pipGuidance\n         * @name pipIntroGuidance.Service.pipGuidance:showIntroReleaseGuide\n         *\n         * @description\n         * Shows introduction guide\n         *\n         * {@link https://github.com/pip-webui/pip-webui-guidance/blob/master/src/intro_guidance/intro_guidance_service.js#L51 View source}\n         *\n         * @param {Object} guide    Collection with intro information\n         * @param {string} ln       Tips content language\n         *\n         * @example\n         * <pre>\n         *     pipGuidance.showIntroReleaseGuide($scope.guide, 'en');\n         * </pre>\n         */\n        public showGuide(guide: Guide, ln: string, successCallback?: () => void, errorCallback?: () => void): void {\n            if (guide) {\n                this.pipReleaseIntroDialog.show({\n                    guide: guide,\n                    ln: ln\n                }, successCallback, errorCallback);\n            }\n        }\n\n        /**\n         * @ngdoc method\n         * @methodOf pipIntroGuidance.Service.pipGuidance\n         * @name  pipIntroGuidance.Service.pipGuidance:findIntroReleaseGuide\n         *\n         * @description\n         * Finds guideline due to passed settings options.\n         *\n         * {@link https://github.com/pip-webui/pip-webui-guidance/blob/master/src/intro_guidance/intro_guidance_service.js#80 View source}\n         *\n         * @param {Object} guides   Collection of guides\n         *\n         * @return {Object} Sorted guideline. Result is dependece on 'settings.intro' field. If it is existed than it returns\n         * intro guide with 'completed' status.\n         */\n        public findIntroReleaseGuide(guides: Guide[], settings: any, appName: string): Guide {\n            let guidesSort;\n            // TODO intro and release - key constant\n            const app = appName;\n            if (!settings && !settings[app] || !settings[app].intro || !settings[app].intro.lastId) {\n                // TODO [apidhirnyi] Make chaining for filter and sortBy\n                guidesSort = _.filter(guides, (guide: Guide) => {\n                    return guide.type === GuideType.Introduction && guide.status === GuideStatus.Completed && guide.app === app;\n                });\n\n                guidesSort = _.sortBy(guidesSort, (guide: Guide) => {\n                    return -moment(guide.create_time).valueOf();\n                });\n\n                return guidesSort[0];\n            }\n\n            guidesSort = _.filter(guides, (guide: Guide) => {\n                return guide.type === GuideType.NewRelease && guide.status === GuideStatus.Completed && guide.app === app;\n            });\n\n            guidesSort = _.sortBy(guidesSort, (guide: Guide) => {\n                return -moment(guide.create_time).valueOf();\n            });\n\n            if (!settings[app].intro.create_time || (guidesSort.length > 0 &&\n                new Date(settings[app].intro.create_time) < new Date(guidesSort[0].create_time) &&\n                guidesSort[0].id != settings.release.lastId)) {\n\n                return guidesSort[0];\n            }\n\n            return null;\n        }\n\n    }\n\n    angular.module('pipIntroGuidance.Service', ['pipReleaseIntroDialog', 'pipGuideData', 'pipPictures.Data'])\n        .service('pipGuidance', IntroGuidanceService);\n}"," angular.module('pipReleaseIntroDialog', ['ngMaterial', 'pipTranslate', 'pipGuidance.Templates']);\n\n import './IntroGuidanceDialog';\n import './IntroGuidanceService';\n\n export * from './IIntroGuidanceService';","import { ITipsService } from '../tips/ITipsService';\nimport { IQuotesService } from './IQuotesService';\nimport { Quote } from '../data/Quote';\n{\n    class QuotesService implements IQuotesService {\n        private quotes: any[];\n\n        constructor(\n            private pipPopoverService: pip.controls.IPopoverService,\n            private $timeout: angular.ITimeoutService,\n            private $rootScope: angular.IRootScopeService,\n            private pipTips: ITipsService\n        ) { }\n\n        private checkStatus(item): boolean {\n            return item.status == 'completed' ? true : false;\n        }\n\n        private compareRandom(a, b): number {\n            return Math.random() - 0.5;\n        }\n\n        public filterQuotes(data: any[], topic: string): any {\n            let quotes: any[];\n            let quotesCollection: any[] = _.filter(data, this.checkStatus);\n            if (topic) {\n                quotes = [];\n                for (let index = 0; index < quotesCollection.length; index++) {\n                    const topic = _.find(quotesCollection[index].tags, function (t) {\n                        return t == topic\n                    });\n                    if (topic) {\n                        quotes.push(quotesCollection[index]);\n                    }\n                }\n            } else {\n                quotes = quotesCollection;\n            }\n\n            quotes.sort(this.compareRandom);\n\n            return quotes;\n        }\n\n        public quoteController($scope, pipMedia): void {\n            const init = () => {\n                if ($scope.locals.quotes[$scope.index].author)\n                    $scope.author = $scope.locals.quotes[$scope.index].author[$scope.locals.ln] ?\n                    $scope.locals.quotes[$scope.index].author[$scope.locals.ln] : $scope.locals.quotes[$scope.index].author['en'];\n                if ($scope.locals.quotes[$scope.index].text)\n                    $scope.content = $scope.locals.quotes[$scope.index].text[$scope.locals.ln] ? $scope.locals.quotes[$scope.index].text[$scope.locals.ln] :\n                    $scope.locals.quotes[$scope.index].text['en'];\n\n                $scope.link = $scope.locals.quotes[$scope.index].more_url;\n            }\n\n            $scope.index = 0;\n            $scope.pipMedia = pipMedia;\n\n            init();\n\n            $scope.onNextClick = function () {\n                $scope.index++;\n                if ($scope.index == $scope.locals.quotes.length)\n                    this.pipPopoverService.hide();\n                else {\n                    init();\n                    this.pipPopoverService.resize();\n                }\n\n            };\n\n            $scope.$on('pipWindowResized', init);\n        }\n\n        public showQuotes(quotes: any[], ln: string, $event? : any): void {\n            if (quotes && quotes.length > 0) {\n                this.pipPopoverService.hide();\n\n                this.pipPopoverService.show({\n                    element: $event ? $event.currentTarget : null,\n                    class: 'pip-quote',\n                    cancelCallback: () => {\n                        return false;\n                    },\n                    locals: {\n                        quotes: quotes,\n                        ln: ln || 'en'\n                    },\n                    controller: ['$scope', 'pipMedia', this.quoteController],\n                    templateUrl: 'quotes/QuoteTemplate.html'\n                });\n            }\n        }\n\n        public waitUserTipsQuotes(tips: any[], quotes: any[], ln: string): void {\n            let idleTimer = null;\n            let idleState = false;\n            let idleWait = 180000;\n\n            $(document).ready(() => {\n                $(document).bind('click keydown scroll', () => {\n                    this.$timeout.cancel(idleTimer);\n\n                    idleState = false;\n                    idleTimer = this.$timeout(() => {\n                        this.pipPopoverService.hide();\n                        if (!quotes) {\n                            this.pipTips.showTips(tips, ln);\n                        } else {\n                            if (!tips) {\n                                this.showQuotes(quotes, ln, null);\n                            } else {\n                                Math.random() < 0.5 ? this.pipTips.showTips(tips, ln) : this.showQuotes(quotes, ln, null);\n                            }\n                        }\n                        idleState = true;\n                    }, idleWait);\n                });\n\n                $(\"body\").trigger(\"click\");\n            });\n        }\n\n    }\n\n    angular.module('pipQuotes.Service', ['pipGuidance.Templates', 'pipGuidance', 'pipControls', 'pipQuoteData'])\n        .service('pipQuotes', QuotesService);\n}","// configured Rest resource\nfunction pipGuideDataConfig(pipRestProvider: pip.rest.IRestProvider) {\n    pipRestProvider.registerPagedCollection('guides', '/api/v1/guides/:guide_id');\n    pipRestProvider.registerResource('guidesRandom', '/api/v1/guides/random');\n}\n        // this.registerRoute('get', '/guides', this.getGuides);\n        // this.registerRoute('get', '/guides/random', this.getRandomGuide);\n        // this.registerRoute('get', '/guides/:guide_id', this.getGuide);\n        // this.registerRouteWithAuth('post', '/guides', this._auth.admin(), this.createGuide);\n        // this.registerRouteWithAuth('put', '/guides/:guide_id', this._auth.admin(), this.updateGuide);\n        // this.registerRouteWithAuth('del', '/guides/:guide_id', this._auth.admin(), this.deleteGuide);\nangular\n    .module('pipGuidance.Rest')\n    .config(pipGuideDataConfig);\n\n\n","function configQuoteResources(pipRestProvider: pip.rest.IRestProvider) {\n    pipRestProvider.registerPagedCollection('quotes', '/api/v1/quotes/:quote_id');\n    pipRestProvider.registerResource('quotesRandom', '/api/v1/quotes/random');\n}\n        // this.registerRoute('get', '/quotes', this.getQuotes);\n        // this.registerRoute('get', '/quotes/random', this.getRandomQuote);\n        // this.registerRoute('get', '/quotes/:quote_id', this.getQuote);\n        // this.registerRouteWithAuth('post', '/quotes', this._auth.admin(), this.createQuote);\n        // this.registerRouteWithAuth('put', '/quotes/:quote_id', this._auth.admin(), this.updateQuote);\n        // this.registerRouteWithAuth('del', '/quotes/:quote_id', this._auth.admin(), this.deleteQuote);\n\nangular\n    .module('pipGuidance.Rest')\n    .config(configQuoteResources);\n","// configured Rest resource\nfunction pipTipDataConfig(pipRestProvider: pip.rest.IRestProvider) {\n    pipRestProvider.registerPagedCollection('tips', '/api/v1/tips/:tip_id');\n    pipRestProvider.registerResource('tipsRandom', '/api/v1/tips/random');\n}\n        // this.registerRoute('get', '/tips', this.getTips);\n        // this.registerRoute('get', '/tips/random', this.getRandomTip);\n        // this.registerRoute('get', '/tips/:tip_id', this.getTip);\n        // this.registerRouteWithAuth('post', '/tips', this._auth.admin(), this.createTip);\n        // this.registerRouteWithAuth('put', '/tips/:tip_id', this._auth.admin(), this.updateTip);\n        // this.registerRouteWithAuth('del', '/tips/:tip_id', this._auth.admin(), this.deleteTip);\nangular\n    .module('pipGuidance.Rest')\n    .config(pipTipDataConfig);\n\n","import { ITipsService } from './ITipsService';\nimport { ITipDataService } from '../data';\n\n\n{\n    /**\n     * @ngdoc service\n     * @name pipTips.Service.pipTips\n     *\n     * @description\n     * Service provides an interface to manage tips state.\n     * The service is available only on run phase.\n     */\n    class TipsService implements ITipsService {\n        private tips: any[]; // todo\n\n        constructor(\n            private $rootScope: ng.IRootScopeService,\n            private pipPopoverService: pip.controls.IPopoverService,\n            private pipTipData: ITipDataService\n            // private pipRest: pip.rest.IRestService,\n            // private pipSettingsData: any\n        ) {}\n\n        private checkStatus = (item) => {\n            return item.status === 'completed';\n        }\n\n        private compareRandom = () => {\n            return Math.random() - 0.5;\n        }\n\n        /**\n         * @ngdoc method\n         * @methodOf pipTips.Service.pipTips\n         * @name pipTips.Service.pipTips:filterTips\n         *\n         * @description\n         * Filters passed tips by passed topic and sorts result collection.\n         *\n         * {@link https://github.com/pip-webui/pip-webui-guidance/blob/master/src/tips/tips_service.js#L63 View source}\n         *\n         * @param {Array} data  Source array of tips entities\n         * @param {string} topic    Name of topic to filter by it\n         *\n         * @returns {Array} Filtered and sorted collection.\n         *\n         * @example\n         * <pre>\n         *     pipTips.filterTips(tips, 'goals');\n         * </pre>\n         */\n        public filterTips(data: any[], topic: string) {\n            this.tips = [];\n            let tipsCollection = _.filter(data, this.checkStatus);\n\n            for (let index = 0; index < tipsCollection.length; index++) {\n                const t = _.find(tipsCollection[index].topics, (t) => {\n                    return t == topic;\n                });\n\n                if (t) {\n                    this.tips.push(tipsCollection[index]);\n                }\n            }\n\n            this.tips.sort(this.compareRandom);\n\n            return this.tips;\n        }\n\n        public tipController($scope, $timeout, pipMedia) {\n            const init = () => {\n                $scope.title = $scope.locals.tips[$scope.index].title[$scope.locals.ln];\n                $scope.content = $scope.locals.tips[$scope.index].content[$scope.locals.ln];\n                // todo grab pictures\n                // if ($scope.locals.tips[$scope.index].pic_id) {\n                //     $scope.image = this.pipRest.serverUrl + '/api/parties/' + $scope.locals.tips[$scope.index].creator_id +\n                //         '/files/' + $scope.locals.tips[$scope.index].pic_id + '/content';\n                // }\n\n                $scope.link = $scope.locals.tips[$scope.index].more_url;\n\n                if ($scope.image) {\n                    $timeout(() => {\n                        const backdropElement = $('.pip-popover-backdrop'),\n                            popover = backdropElement.find('.pip-popover');\n\n                        popover.find('.pip-pic').css('background-image', 'url(' + $scope.image + ')');\n                    }, 100);\n                }\n            }\n\n            $scope.index = 0;\n            $scope.pipMedia = pipMedia;\n\n            init();\n\n            $scope.onNextClick = () => {\n                $scope.index++;\n\n                if ($scope.index === $scope.locals.tips.length) {\n                    this.pipPopoverService.hide();\n                } else {\n                    init();\n                    this.pipPopoverService.resize();\n                }\n            };\n\n            $scope.$on('pipWindowResized', init);\n        }\n\n        /**\n         * @ngdoc method\n         * @methodOf pipTips.Service.pipTips\n         * @name pipTips.Service.pipTips:showTips\n         *\n         * @description\n         * Shows tip to user.\n         *\n         * {@link https://github.com/pip-webui/pip-webui-guidance/blob/master/src/tips/tips_service.js#L144 View source}\n         *\n         * @param {Array} tips  Array of tips\n         * @param {string} ln   Chosen language\n         * @param {Object=} [$event=null]    Event object\n         *\n         * @example\n         * <pre>\n         *      pipTips.showTips(tips, 'en');\n         * </pre>\n         */\n        public showTips(tips: any[], ln: string, $event ? : any) {\n            if (tips && tips.length > 0) {\n                this.pipPopoverService.hide();\n                this.pipPopoverService.show({\n                    element: $event ? $event.currentTarget : null,\n                    class: 'pip-tip',\n                    cancelCallback: function () {\n                        return false;\n                    },\n                    locals: {\n                        tips: tips,\n                        ln: ln || 'en'\n                    },\n                    controller: ['$scope', '$timeout', 'pipMedia', this.tipController],\n                    templateUrl: 'tips/TipTemplate.html'\n                });\n            }\n        }\n\n        /**\n         * @ngdoc method\n         * @methodOf pipTips.Service.pipTips\n         * @name pipTips.Service.pipTips:firstShowTips\n         *\n         * @description\n         * Shows a tip\n         *\n         * {@link https://github.com/pip-webui/pip-webui-guidance/blob/master/src/tips/tips_service.js#L181 View source}\n         *\n         * @param {Array} tips  Collection of tips\n         * @param {string} [ln='en']   Language for tip content\n         * @param {string} topic    Name of needed topic\n         * @param {Object} settings Settings object\n         * @param {Object} [dayC=2]   Days amount throughout tips should be shown\n         */\n        public firstShowTips(tips: any[], language: string, topic: string, settings: any, dayC: number) {\n            // let ln = language || 'en',\n            //     dayCount = dayC || 2,\n            //     now = new Date(),\n            //     show;\n\n            // if (settings && settings[topic].tips) {\n            //     show = (now.getTime() - new Date(settings[topic].tips).getTime()) / (1000 * 60 * 60 * 24);\n\n            //     // TODO [apidhirnyi] Extract the same code part into the function\n            //     if (show > dayCount) {\n            //         this.pipPopoverService.hide();\n            //         this.showTips(tips, ln);\n            //         settings[topic].tips = new Date();\n            //         this.pipSettingsData.saveSettings(settings, topic);\n            //     }\n            // } else if (settings[topic]) {\n            //     this.pipPopoverService.hide();\n            //     this.showTips(tips, ln);\n            //     settings[topic].tips = new Date();\n            //     this.pipSettingsData.saveSettings(settings, topic);\n            // }\n        }\n\n        /**\n         * @ngdoc method\n         * @methodOf pipTips.Service.pipTips\n         * @name pipTips.Service.pipTips:getTips\n         *\n         * @description\n         * Returns tips collection according to topic.\n         *\n         * {@link https://github.com/pip-webui/pip-webui-guidance/blob/master/src/tips/tips_service.js#L220 View source}\n         *\n         * @param {Object} party    User's party object\n         * @param {string} ln       Language for tip content\n         * @param {string} topic    Name of needed topic\n         * @param {Function} callback   Callback function. It gets tips collection as argument.\n         */\n        public getTips(party: any, ln: string, topic: string, callback ?: (...args) => void) {\n\n            this.pipTipData.readTips({},\n                (result) => {\n                    this.filterTips(result.data, topic);\n\n                    if (callback) {\n                        callback(this.tips);\n                    }\n\n                    return this.tips;\n                },\n                () => {\n                    return null;\n                }\n            );\n        }\n    }\n\n    angular.module('pipTips.Service', ['pipGuidance.Templates', 'pipControls', 'pipTipData'])\n        .service('pipTips', TipsService);\n}","(function(module) {\ntry {\n  module = angular.module('pipGuidance.Templates');\n} catch (e) {\n  module = angular.module('pipGuidance.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('guidance/GuidanceDialog.html',\n    '<md-dialog class=\"pip-dialog pip-guidance-dialog layout-column\" width=\"768\" md-theme=\"{{$ctrl.theme}}\"><div class=\"pip-header layout-row\"><h3 class=\"rm16 flex\">{{$ctrl.title | translate}}</h3><md-button class=\"pip-dialog-close\" ng-click=\"$ctrl.onCancel()\" aria-label=\"{{::\\'CLOSE\\' | translate}}\"><span class=\"icon-cross\"></span></md-button></div><div class=\"pip-body\"><div class=\"pip-content\"><pip-picture pip-src=\"$ctrl.imageUrl\" ng-hide=\"!$ctrl.imageUrl || $ctrl.imageUrl == \\'\\'\" class=\"bm16 center-block\" ng-style=\"{ width: $ctrl.imageWidth, height: $ctrl.imageHeight, display: \\'block\\' }\"></pip-picture><div class=\"bm16\" ng-bind-html=\"{{$ctrl.getContent($ctrl.content)}}\"></div><md-button class=\"md-raised md-accent w-stretch\" ng-click=\"$ctrl.onAction()\" ng-hide=\"!$ctrl.action || $ctrl.action==\\'\\'\" arial-label=\"{{$ctrl.action | translate}}\">{{::action | translate}}</md-button><md-checkbox aria-label=\"{{\\'DO_NOT_SHOW\\' | translate}}\" class=\"w-stretch m0 tm16 regular_14\" ng-model=\"$ctrl.hideToggle\" ng-change=\"$ctrl.onHideToggle()\" ng-show=\"$ctrl.showHideToggle\">{{::\\'GUIDANCE_DO_NOT_SHOW\\' | translate}}</md-checkbox></div></div></md-dialog>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipGuidance.Templates');\n} catch (e) {\n  module = angular.module('pipGuidance.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('intro_guidance/IntroGuidanceDialog.html',\n    '<md-dialog class=\"pip-dialog pip-guidance-dialog pip-guide-preview layout-column\" md-theme=\"{{$ctrl.theme}}\" ng-keydown=\"$ctrl.onKeyDown($event)\"><div ng-if=\"!$ctrl.$routing\" ng-swipe-left=\"$ctrl.onNextPage()\" ng-swipe-right=\"$ctrl.onBackPage()\" class=\"h-stretch flex layout layout-column\" ng-style=\"{\\'background-color\\':$ctrl.data.pages[$ctrl.number].color}\"><div class=\"layout layout-row layout-align-space-between-center layout-align-xs-center-center w-stretch pip-guide-page pip-scroll-y\"><md-button ng-click=\"$ctrl.onBackPage()\" class=\"md-icon-button lm8 flex-fixed hide-xs\" aria-label=\"BACK\" ng-disabled=\"$ctrl.transaction.busy() || $ctrl.number == 0\"><md-icon md-svg-icon=\"icons:arrow-left\" class=\"pip-arrow-button\" ng-class=\"{\\'opacity-disabled\\' :$ctrl.number == 0}\"></md-icon></md-button><div style=\"visibility: hidden; position: fixed; width:0px; height: 0px;\" ng-if=\"$ctrl.isOpen\"><div ng-repeat=\"page in $ctrl.data.pages\"><img style=\"visibility: hidden; position: absolute\" ng-if=\"page.pic_uri\" src=\"{{page.pic_uri}}\" aria-hidden=\"true\" alt=\"\"> <img style=\"visibility: hidden; position: absolute\" ng-if=\"page.pic_id_url\" src=\"{{page.pic_id_url}}\" aria-hidden=\"true\" alt=\"\"></div></div><div class=\"layout layout-column layout-align-center-center bm16\"><div class=\"pip-pic\" ng-if=\"$ctrl.data.pages[$ctrl.number].pic_uri\" ng-style=\"{\\'background-image\\':\\'url(\\' + $ctrl.data.pages[$ctrl.number].pic_uri + \\')\\'}\"></div><div class=\"pip-pic\" ng-if=\"$ctrl.data.pages[$ctrl.number].pic_id_url\" ng-style=\"{\\'background-image\\':\\'url(\\' + $ctrl.data.pages[$ctrl.number].pic_id_url + \\')\\'}\"></div><div class=\"layout layout-column layout-align-center-center pip-text\"><p class=\"pip-preview-title\" ng-if=\"$ctrl.data.pages[$ctrl.number].title[$ctrl.ln]\" ng-bind-html=\"$ctrl.data.pages[$ctrl.number].title[$ctrl.ln]\"></p><p class=\"pip-preview-content\" ng-if=\"$ctrl.data.pages[$ctrl.number].content[$ctrl.ln]\" ng-bind-html=\"$ctrl.data.pages[$ctrl.number].content[$ctrl.ln]\"></p></div></div><md-button ng-click=\"$ctrl.onNextPage()\" class=\"rm8 flex-fixed hide-xs md-icon-button\" aria-label=\"DOWN\" ng-disabled=\"$ctrl.transaction.busy() || $ctrl.number == $ctrl.data.pages.length - 1\"><md-icon md-svg-icon=\"icons:arrow-right\" class=\"pip-arrow-button\" ng-class=\"{\\'opacity-disabled\\' : $ctrl.number == $ctrl.data.pages.length - 1}\"></md-icon></md-button></div><div class=\"flex-fixed flex w-stretch pip-guide-page-footer bp16\" ng-style=\"{\\'background-color\\':$ctrl.data.pages[$ctrl.number].color}\"><div class=\"layout-row layout-align-center-center\" ng-if=\"$ctrl.data.pages.length > 1\"><md-icon ng-repeat=\"radio in $ctrl.data.pages\" ng-click=\"$ctrl.onChangePage($index)\" class=\"pip-radio-button\" md-svg-icon=\"{{radio != $ctrl.data.pages[$ctrl.number] ? \\'icons:radio-off\\' : \\'icons:circle\\'}}\"></md-icon></div><div class=\"h64 layout-row layout-align-xs-space-between-center layout-align-center-center\"><md-button ng-click=\"$ctrl.onBackPage()\" class=\"lm8 flex-fixed md-icon-button\" ng-if=\"$ctrl.pipMedia(\\'xs\\')\" aria-label=\"BACK\" ng-disabled=\"$ctrl.transaction.busy() || $ctrl.number == 0\"><md-icon md-svg-icon=\"icons:arrow-left\" class=\"pip-arrow-button\" ng-class=\"{\\'opacity-disabled\\' :$ctrl.number == 0}\"></md-icon></md-button><md-button ng-click=\"$ctrl.onClose()\" ng-if=\"$ctrl.number == $ctrl.data.pages.length - 1\" class=\"pip-button-got rm8 lm8 md-raised\" ng-style=\"{ \\'color\\':$ctrl.data.pages[$ctrl.number].color }\" aria-label=\"NEXT\" ng-disabled=\"$ctrl.transaction.busy()\">{{ :: \\'GUIDE_COMPLETE_BUTTON\\' | translate }}</md-button><md-button ng-click=\"$ctrl.onClose()\" ng-if=\"$ctrl.number != $ctrl.data.pages.length - 1\" class=\"pip-button-got rm8 lm8 pip-button-got-not-raised\" ng-style=\"{ \\'background-color\\':$ctrl.data.pages[$ctrl.number].color}\" aria-label=\"NEXT\" ng-disabled=\"$ctrl.transaction.busy()\">{{ :: \\'GUIDE_COMPLETE_BUTTON\\' | translate }}</md-button><md-button ng-click=\"$ctrl.onNextPage()\" class=\"rm8 flex-fixed md-icon-button\" ng-if=\"$ctrl.pipMedia(\\'xs\\')\" aria-label=\"DOWN\" ng-disabled=\"$ctrl.transaction.busy() || $ctrl.number == $ctrl.data.pages.length - 1\"><md-icon md-svg-icon=\"icons:arrow-right\" class=\"pip-arrow-button\" ng-class=\"{\\'opacity-disabled\\' : $ctrl.number == $ctrl.data.pages.length - 1}\"></md-icon></md-button></div></div></div></md-dialog>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipGuidance.Templates');\n} catch (e) {\n  module = angular.module('pipGuidance.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('quotes/QuoteTemplate.html',\n    '<img src=\"images/quotes.svg\" class=\"pip-bg\"><div class=\"pip-content pip-popover-content lp24-flex rp24-flex pip-scroll\"><div>{{ ::content | translate }}</div></div><div class=\"pip-footer lm24-flex rm24-flex position-bottom layout-row layout-align-start-center\"><div class=\"pip-author flex color-secondary-text\">{{ ::author | translate }}</div><md-button ng-click=\"onNextClick()\" class=\"tm0 bm0 rm0\">{{ ::\\'NEXT\\' | translate }}</md-button></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipGuidance.Templates');\n} catch (e) {\n  module = angular.module('pipGuidance.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('tips/TipTemplate.html',\n    '<div ng-if=\"title\" class=\"pip-title p24-flex flex-fixed bp16\">{{ title | translate }}</div><div class=\"pip-content pip-popover-content lp24-flex rp24-flex text-body1 bm64 pip-scroll\" ng-class=\"{\\'tm24\\' : !title }\"><div ng-if=\"image && pipMedia(\\'gt-xs\\')\" class=\"pip-pic\"></div><pip-markdown pip-text=\"content\" pip-rebind=\"true\"></pip-markdown></div><div class=\"pip-footer lm24-flex rm24-flex position-bottom layout-row layout-align-start-center\"><a ng-if=\"link\" target=\"_blank\" href=\"{{ link }}\" class=\"text-body2 flex\">{{:: \\'MORE_URL\\' | translate }}</a><div ng-if=\"!link\" class=\"flex\"></div><md-button ng-click=\"onNextClick()\" class=\"rm0\">{{:: \\'NEXT\\' | translate }}</md-button></div>');\n}]);\n})();\n\n//# sourceMappingURL=pip-suite-guidance-html.min.js.map\n","import { IAnalyticsProvider } from './IAnalyticsProvider';\n\nclass AnalyticsProvider implements IAnalyticsProvider {\n    public enabled: boolean = false;\n    public trackingId: string = null;\n    public window: any;\n\n    public enable(newTrackingId: string): boolean {\n        if (newTrackingId) {\n            this.trackingId = newTrackingId;\n            this.enabled = true;\n\n            let wnd: any = window;\n            wnd['GoogleAnalyticsObject'] = 'ga';\n            wnd.ga = wnd.ga || function () {\n                (wnd.ga.q = wnd.ga.q || []).push(arguments)\n            };\n            wnd.ga.l = 1 * new Date().getTime();\n\n            wnd.ga('create', newTrackingId, 'auto');\n            var script = document.createElement('script');\n            var prevScript = document.getElementsByTagName('script')[0];\n            script.async = true;\n            script.src = '//www.google-analytics.com/analytics.js';\n            prevScript.parentNode.insertBefore(script, prevScript);\n        }\n        return this.enabled;\n    };\n\n    public pageView(url: string, user: any, language: string): void {\n        let wnd: any = window;\n\n        if (this.enabled && wnd.ga) {\n            wnd.ga('send', 'pageview', {\n                page: url,\n                userId: user,\n                language: language\n            });\n        }\n    };\n\n    public event(category: string, action: string, value: string, user: any, language: string) {\n        let wnd: any = window;\n       \n        if (this.enabled && wnd.ga) {\n            wnd.ga('send', 'event', {\n                eventCategory: category,\n                eventAction: action,\n                eventValue: value,\n                userId: user,\n                language: language\n            });\n        }\n    };\n\n    public $get() {\n        \"ngInject\";\n        return {\n            enabled: this.enabled,\n            trackingId: this.trackingId,\n            pageView: this.pageView,\n            event: this.event\n        };\n    }\n}\n\n\n(() => {\n    function AnalyticsRun(\n        $rootScope: ng.IRootScopeService,\n        $location: ng.ILocationService,\n        pipAnalytics: AnalyticsProvider) {\n        $rootScope.$on('$stateChangeSuccess',\n            function (event, toState, toParams, fromState, fromParams) {\n                let url: string = $location.url(),\n                    user = $rootScope['$session'] && $rootScope['$session'].userId ? $rootScope['$session'].userId : ($rootScope['$identity'] || {}).id, \n                    language: string = ($rootScope['$language'] || 'en');\n\n                // Remove query parameters from URL\n                let pos: number = url.indexOf('?');\n                if (pos > 0) url = url.substring(0, pos);\n\n                // Record web analytics (if enabled)\n                pipAnalytics.pageView(url, user, language);\n            }\n        );\n    }\n    angular.module('pipAnalytics', [])\n        .run(AnalyticsRun)\n        .provider('pipAnalytics', AnalyticsProvider);\n})();","import { PartyReference } from './PartyReference';\nimport { Attachment } from './Attachment';\n\nexport class Feedback {\n\n    public constructor(id: string, category: string, app?: string,\n        sender?: PartyReference, title?: string, content?: string, sent_time?: Date) {\n        this.id = id;\n        this.category = category;\n        this.app = app;\n        this.sender = sender;\n        this.title = title;\n        this.content = content;\n\n        this.pics = [];\n        this.docs = [];\n        this.sent_time = sent_time;\n    }\n\n    /* Identification */\n    public id: string;\n    public category: string;\n    public app?: string;\n\n    /* Generic request properties */\n    public sender: PartyReference;\n    public sent_time: Date;\n\n    /* Common properties */\n    public title?: string;\n    public content?: string;\n    public pics: Attachment[];\n    public docs: Attachment[];\n\n    /* Copyright/Trademark Violation */\n    public company_name?: string;\n    public company_addr?: string;\n    public copyright_holder?: string;\n    public original_loc?: string;\n    public copyrighted_work?: string;\n    public unauth_loc?: string;\n\n    /* Generic reply properties */\n    public reply_time?: Date;\n    public replier?: PartyReference;\n    public reply?: string;\n\n    /* Custom fields */\n    public custom_hdr?: any;\n    public custom_dat?: any;\n}\n","import { IFeedbackDataService } from './IFeedbackDataService';\nimport { Feedback } from './Feedback';\nimport { PageData } from './PageData';\n\nclass FeedbackData implements IFeedbackDataService {\n    private RESOURCE: string = 'feedbacks'; \n\n    private PAGE_SIZE: number = 100;\n    private PAGE_START: number = 0;\n    private PAGE_TOTAL: boolean = true;\n\n    constructor(\n        private pipRest: pip.rest.IRestService,\n        private pipFormat: pip.services.IFormat\n    ) { \n         \"ngInject\";\n    }\n\n    public readFeedbacks(params: any, successCallback?: (data: PageData) => void, errorCallback?: (error: any) => void): angular.IPromise<any> {\n        params = params || {};\n        if (params.filter) {\n            params.filer = this.pipFormat.filterToString(params.filer);\n        }\n\n        return this.pipRest.getResource(this.RESOURCE).page(params, successCallback, errorCallback);\n    }\n\n    public readFeedback(id: string, successCallback?: (data: Feedback) => void, errorCallback?: (error: any) => void): angular.IPromise<any> {\n        return this.pipRest.getResource(this.RESOURCE).get(\n            { Feedback_id: id },\n            successCallback,\n            errorCallback\n        );\n    }\n\n    public createFeedback(data: Feedback, successCallback?: (data: Feedback) => void, errorCallback?: (error: any) => void): void {\n        this.pipRest.getResource(this.RESOURCE).save(\n            data,\n            successCallback,\n            errorCallback\n        );\n    }\n\n    public updateFeedback(id: string, data: Feedback, successCallback?: (data: Feedback) => void, errorCallback?: (error: any) => void): void {\n        this.pipRest.getResource(this.RESOURCE).update(\n            { Feedback_id: id },\n            data,\n            successCallback,\n            errorCallback\n        );\n    }\n\n    public deleteFeedback(id: string, successCallback?: () => void, errorCallback?: (error: any) => void): void {\n        this.pipRest.getResource(this.RESOURCE).remove(\n            { Feedback_id: id },\n            null,\n            successCallback,\n            errorCallback\n        );\n    }\n\n}\n\n\nangular\n    .module('pipFeedbackData', ['pipRest', 'pipServices'])\n    .service('pipFeedbackData', FeedbackData);\n\n","class FeedbackController {\n    public data: any;\n    public contentSwitchOption = {\n        picture: true,\n        document: true,\n        location: false,\n        event: false\n    };\n    public $panel: any;\n    public callback: Function;\n    constructor(\n        $rootScope: ng.IRootScopeService,\n        $state: ng.ui.IStateService,\n        pipAppBar: pip.nav.IAppBarService,\n        private pipToasts: pip.controls.IToastService,\n        private pipTranslate: pip.services.ITranslateService) {\n        \n        this.callback = () => { this.saveCallback(); }\n    }\n\n    public showAppBar() {\n    }\n\n    public onSave() {\n        if (this.$panel) this.$panel.onSave();\n    }\n    public onTypeChange() {\n        if (this.$panel) this.$panel.onTypeChange(this.data);\n    }\n\n    public saveCallback() {\n        this.pipToasts.showNotification(this.pipTranslate.translate('FEEDBACK_SUCCESS'), null, null, null, null);\n    }\n}\n\n(() => {\n    function FeedbackConfig(pipAuthStateProvider) {\n        // Configure module routes\n        pipAuthStateProvider\n            .state('feedback', {\n                url: '/feedback',\n                controller: FeedbackController,\n                controllerAs: '$ctrl',\n                templateUrl: 'feedback/Feedback.html',\n                auth: true\n            });\n    }\n\n    angular.module('pipFeedback', [\n        'pipAppBar', 'pipServices', 'pipCommonRest', 'pipFeedbackData', 'pipDropdown',\n        'ngMaterial', 'pipTranslate', 'pipFeedbackData', 'pipToasts',\n        'pipFeedback.Strings', \"pipFeedbackPanel\", 'pipSupport.Templates'\n    ])\n        .config(FeedbackConfig)\n\n})();","import { IFeedbackDialogService } from './IFeedbackDialogService';\n\n{\n    class FeedbackDialogController {\n        public $panel: any;\n        public data: any;\n        public callback: Function;\n        public contentSwitchOption = {\n            picture: true,\n            document: true,\n            location: false,\n            event: false\n        };\n        constructor(\n            $rootScope: ng.IRootScopeService,\n            $state: ng.ui.IState,\n            party,\n            private $mdDialog: angular.material.IDialogService,\n            private pipToasts: pip.controls.IToastService,\n            private pipTranslate: pip.services.ITranslateService) {\n            this.callback = () => {\n                this.saveCallback();\n            }\n        }\n\n        public onSave() {\n            if (this.$panel) {\n                this.$panel.onSave();\n\n            }\n        }\n\n        public onTypeChange() {\n            if (this.$panel) {\n                this.$panel.onTypeChange(this.data);\n            }\n        }\n\n        public saveCallback() {\n            this.$mdDialog.cancel();\n            this.pipToasts.showNotification(this.pipTranslate.translate('FEEDBACK_SUCCESS'), null, null, null, null);\n        }\n\n        public goBack() {\n            this.$mdDialog.cancel();\n        }\n    }\n\n    class FeedbackDialogService implements IFeedbackDialogService {\n        constructor(private $mdDialog: angular.material.IDialogService) { };\n\n        public show(params: any, successCallback?: (result) => void, cancelCallback?: () => void) {\n\n            this.$mdDialog.show({\n                targetEvent: params.event,\n                controller: FeedbackDialogController,\n                templateUrl: 'feedback/FeedbackDialog.html',\n                clickOutsideToClose: true,\n                controllerAs: '$ctrl',\n                locals: {\n                    party: params.party\n                }\n            })\n                .then((result) => {\n\n                    if (successCallback) {\n                        successCallback(result);\n                    }\n                }, () => {\n\n                    if (cancelCallback) {\n                        cancelCallback();\n                    }\n                });\n        }\n    }\n\n\n    angular.module('pipFeedbackDialog', [\n        'pipAppBar', 'pipCommonRest', 'pipDropdown',\n        'ngMaterial', 'pipTranslate', 'pipFeedbackData', 'pipToasts',\n        'pipFeedback.Strings', 'pipFeedbackPanel', 'pipSupport.Templates'\n    ])\n        .service('pipFeedbackDialog', FeedbackDialogService)\n\n\n}\n","interface IFeedbackPanelBindings {\n    [key: string]: any;\n\n    data: any;\n    created: any;\n    showPictures: any;\n    showDocuments: any;\n    typeCollection: any;\n    saveCallback: any;\n}\n\nconst FeedbackPanelBindings: IFeedbackPanelBindings = {\n\n    data: '=',\n    created: '&pipCreated',\n    showPictures: '=',\n    showDocuments: '=',\n    typeCollection: '<typeCollection',\n    saveCallback: '='\n}\n\nclass FeedbackPanelChanges implements ng.IOnChangesObject, IFeedbackPanelBindings {\n    [key: string]: ng.IChangesObject<any>;\n\n    data: ng.IChangesObject<FeedbackPanelEntity>;\n    created: ng.IChangesObject<any>;\n    showPictures: ng.IChangesObject<boolean>;\n    showDocuments: ng.IChangesObject<boolean>;\n    typeCollection: ng.IChangesObject<FeedbackPanelTypeCollection[]>;\n    saveCallback: ng.IChangesObject<Function>;\n\n}\n\n\nclass FeedbackPanelEntity {\n    public sender_id: string;\n    public sender_name: string;\n    public sender_email: string;\n    public pic_ids: any[] = [];\n    public docs: any[] = [];\n    public type: string;\n    public signature?: string;\n    public request_conc?: boolean;\n    public copyright_conc?: boolean;\n    public unauth_loc?: string;\n    public copyrighted_work?: string;\n    public original_loc?: string;\n    public copyright_holder?: string;\n    public company_addr?: string;\n    public company_name?: string;\n    public content?: string;\n    public title?: string;\n}\n\nclass FeedbackPanelTypeCollection {\n    public id: string;\n    public name: string;\n}\n\nclass FeedbackPanelController {\n    public form: any;\n    // todo from enums\n    public typeCollection: FeedbackPanelTypeCollection[] = [\n        { id: 'support', name: 'SUPPORT' },\n        { id: 'feedback', name: 'FEEDBACK' },\n        { id: 'copyright', name: 'COPYRIGHT' },\n        { id: 'business', name: 'BUSINESS' },\n        { id: 'advertising', name: 'ADVERTISING' }\n    ];\n    public type: string;\n    public data: FeedbackPanelEntity = new FeedbackPanelEntity();\n    public showPictures: boolean;\n    public showDocuments: boolean;\n    public saveCallback: Function;\n    public $control: any = {};  // todo type\n    public typeIndex: number; // todo type\n    public pictures: any[] = [];  // todo type\n    public docs: any[] = []; // todo type\n    public errorsWithHint: Function;\n    public $party;\n    public created: any;\n    constructor(\n        $rootScope: ng.IRootScopeService,\n        private pipFeedbackData,\n        pipTranslate: pip.services.ITranslateService,\n        pipFormErrors) {\n\n        pipTranslate.translateObjects(this.typeCollection, 'name', 'name');\n        // todo use rootscope variable\n        this.$party = $rootScope['$party'];\n        this.type = pipTranslate.translate('FEEDBACK');\n        this.data.sender_id = this.$party.id;\n        this.data.sender_name = this.$party.name;\n        this.data.sender_email = this.$party.email;\n        this.data.pic_ids = [];\n        this.data.docs = [];\n        this.data.type = this.typeCollection[0].id;\n\n        this.$control.onSave = () => { this.onSave(); };\n        this.$control.onTypeChange = this.onTypeChange;\n        this.errorsWithHint = pipFormErrors.errorsWithHint;\n        if (this.created) {\n            this.created({\n                $control: this.$control\n            });\n        }\n\n    }\n\n    public onSave() {\n\n        this.pipFeedbackData.createFeedbackWithFiles(\n            {\n                transaction: null,//$scope.transaction,\n                pictures: this.pictures,\n                documents: this.docs,\n                item: this.data\n            },\n            (data) => {\n                if (this.saveCallback) {\n                    this.saveCallback(data);\n                }\n            }\n\n        );\n    }\n\n    public onTypeChange(type: FeedbackPanelTypeCollection) {\n        this.data.type = this.typeCollection[this.typeIndex].id;\n        this.type = type.name;\n    }\n}\n\n(() => {\n    angular\n        .module('pipFeedbackPanel', [\n            'pipFocused',\n            'pipCommonRest',\n            'pipFeedbackData',\n            'pipServices',\n            'pipSupport.Templates'\n        ])\n        .component('pipFeedbackPanel', {\n            bindings: FeedbackPanelBindings,\n            templateUrl: 'feedback/FeedbackPanel.html',\n            controller: FeedbackPanelController\n        })\n\n})();\n","(() => {\n    function FeedbackStringsConfig (pipTranslateProvider: pip.services.ITranslateProvider) {\n\n        // Set translation strings for the module\n        pipTranslateProvider.translations('en', {\n            'FEEDBACK_TITLE': 'Contact us',\n            'FEEDBACK_HINT_FEEDBACK': 'If you need help or you have some ideas or suggestions to improve Pip.Life just use form below',\n            'FEEDBACK_HINT_COPYRIGHT': 'If you believe that content available on Pip.Life infringes one or more of your copyrights, you can use the form below to submit a DMCA notice. Upon receipt of a valid notice, we are required by law to respond to it by disabling access to the allegedly infringing content. Your Infringement Notice may be forwarded to the party that made the content available, or to third parties such as ChillingEffects.org.',\n            'FEEDBACK_HINT_COPYRIGHT2': 'If you choose to request removal of content by submitting an infringement notification, please remember that you are initiating a legal process. Do not make false claims. Please be advised that under 17 U.S.C. § 512(f), you may be liable for damages (including costs and attorneys’ fees) if you knowingly misrepresent that a product or activity is infringing your copyrights. Thus, if you are not sure content located on or linked-to by Dribbble infringes your copyright, you should consider first contacting an attorney.',\n            'FEEDBACK_COMPANY': 'Company name',\n            'FEEDBACK_MESSAGE': 'Message',\n            'FEEDBACK_ADDRESS': 'Address',\n            'FEEDBACK_COPYRIGHT_HOLDER': 'Copyright holder you represent',\n            'FEEDBACK_COPYRIGHT_HOLDER_HINT': 'If representing someone other than yourself',\n            'FEEDBACK_ORIGINAL_LOCATION': 'Location of original copyrighted work',\n            'FEEDBACK_DESCRIBE_COPYRIGHTED': 'Describe the copyrighted work',\n            'FEEDBACK_DESCRIBE_COPYRIGHTED_HINT': 'Helps us identify the specific referenced work',\n            'FEEDBACK_UNAUTHORIZE_LOCATION': 'Location of unauthorized material',\n            'FEEDBACK_UNAUTHORIZE_LOCATION_HINT': 'Please provide specific page URLs, one per line',\n            'FEEDBACK_COPYRIGHT_CONC': 'I have a good faith belief that use of the copyrighted materials described above as allegedly infringing is not authorized by the copyright owner, its agent, or the law',\n            'FEEDBACK_REGUEST_CONC': 'I swear, under penalty of perjury, that the information in the notification is accurate and that I am the copyright owner or am authorized to act on behalf of the owner of an exclusive right that is allegedly infringed.',\n            'FEEDBACK_SIGNATURE': 'You first and last name',\n            'FEEDBACK_SIGNATURE_HINT': 'Signature',\n            'FEEDBACK_SUBJECT':'Subject',\n            'FEEDBACK_SUCCESS': 'Your message was sent to Pip.Life support team. They will contact you via personal messaging soon. Thanks for your interest in PipLife!'\n        });\n\n        pipTranslateProvider.translations('ru', {\n            'FEEDBACK_TITLE': 'Обратная связь',\n            'FEEDBACK_HINT_FEEDBACK': 'Если Вам нужна помощь или у вас есть идеи или предложения по улучшению Pip.Life используйте рассположенную ниже форму',\n            'FEEDBACK_HINT_COPYRIGHT': 'Если вы считаете, что контент, доступный на Pip.Life нарушает одно или более ваших авторских прав, вы можете использовать форму ниже, чтобы представить уведомление DMCA. После получения уведомления, мы по закону обязаны ответить на него, отключив доступ к контенту, который предположительно нарушает авторские права. Уведомление может быть направлено со стороны, представившей контент или третьих сторон, таких как ChillingEffects.org.',\n            'FEEDBACK_HINT_COPYRIGHT2': 'Если вы решите запросить удаление содержания, подав уведомление о нарушении, пожалуйста, помните, что вы инициируете судебный процесс. Пожалуйста, обратите внимание, что исодя из статьи 17 U.S.C. § 512 (F), вы можете нести ответственность за убытки (включая расходы и гонорары адвокатам), если вы сознательно искажаете действительность, что продукт или деятельность нарушает ваши авторские права. Таким образом, если вы не уверены, что содержание, расположенное на PipLife нарушает Ваши авторские права посоветуйтесь с адвокатом.',\n            'FEEDBACK_COMPANY': 'Название компании',\n            'FEEDBACK_MESSAGE': 'Сообщение',\n            'FEEDBACK_ADDRESS': 'Адрес',\n            'FEEDBACK_COPYRIGHT_HOLDER': 'Владелец авторского права',\n            'FEEDBACK_COPYRIGHT_HOLDER_HINT': 'Заполните поле, если Вы  представляете кого-то кроме себя',\n            'FEEDBACK_ORIGINAL_LOCATION': 'Расположение оригинальной авторской работы',\n            'FEEDBACK_DESCRIBE_COPYRIGHTED': 'Опишите авторские права на произведение',\n            'FEEDBACK_DESCRIBE_COPYRIGHTED_HINT': 'Это поможет нам идентифицировать ссылки на работу',\n            'FEEDBACK_UNAUTHORIZE_LOCATION': 'Расположение несанкционированного материала',\n            'FEEDBACK_UNAUTHORIZE_LOCATION_HINT': 'Пожалуйста, укажите конкретную страницу URL, по одной в строке',\n            'FEEDBACK_COPYRIGHT_CONC': 'У меня есть добросовестное предположение, что использование защищенных авторским правом материалов, описанных выше, в качестве якобы нарушает авторские права, не разрешено владельцем авторского права, его агентом или законом',\n            'FEEDBACK_REGUEST_CONC': 'Я клянусь под страхом наказания за лжесвидетельство, что содержащаяся в уведомлении информация верна и что я являюсь владельцем авторского права или имею право действовать от имени владельца эксклюзивных прав, которые якобы нарушены.',\n            'FEEDBACK_SIGNATURE': 'Ваше имя и фамилия',\n            'FEEDBACK_SIGNATURE_HINT': 'Подпись',\n            'FEEDBACK_SUBJECT':'Заголовок',\n            'FEEDBACK_SUCCESS': 'Ваш запрос передан команде технической поддержки Pip.Life. C вами свяжутся в ближайшее время по электронной почте. Спасибо за ваш интерес и поддержку PipLife.'\n        });\n\n    }\n    angular.module('pipFeedback.Strings', ['pipTranslate'])\n        .config(FeedbackStringsConfig);\n\n})();","import './IFeedbackDialogService';\nimport './Feedback';\nimport './FeedbackDialog';\nimport './FeedbackPanel';\nimport './FeedbackStrings';\n\nexport * from './IFeedbackDialogService';","\n// configured Rest resource\nfunction pipFeedbackDataConfig(pipRestProvider: pip.rest.IRestProvider) {\n    pipRestProvider.registerPartyCollection('feedbacks', '/api/1.0/feedbacks/:id');\n}\n\n        // this.registerRoute('get', '/feedbacks', this.getFeedbacks);\n        // this.registerRoute('get', '/feedbacks/:feedback_id', this.getFeedback);\n        // this.registerRouteWithAuth('post', '/feedbacks', this._auth.signed(), this.sendFeedback);\n        // this.registerRouteWithAuth('put', '/feedbacks/:feedback_id', this._auth.admin(), this.replyFeedback);\n        // this.registerRouteWithAuth('del', '/feedbacks/:feedback_id', this._auth.admin(), this.deleteFeedback);\n\n\nangular\n    .module('pipFeedbackData')\n    .config(pipFeedbackDataConfig);","(function(module) {\ntry {\n  module = angular.module('pipSupport.Templates');\n} catch (e) {\n  module = angular.module('pipSupport.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('feedback/Feedback.html',\n    '<md-toolbar class=\"pip-appbar-ext\"></md-toolbar><pip-document width=\"800\"><pip-feedback-panel data=\"$ctrl.data\" pip-created=\"$ctrl.$panel = $control\" show-pictures=\"$ctrl.showPictures\" show-documents=\"$ctrl.showDocuments\" save-callback=\"$ctrl.callback\" type-collection=\"$ctrl.typeCollection\"></pip-feedback-panel><div class=\"pip-footer\"><pip-content-switch class=\"hide-xs\"></pip-content-switch><div class=\"flex\"></div><div class=\"flex-fixed layout-row\"><md-button ng-show=\"$ctrl.transaction.busy()\" ng-click=\"$ctrl.transaction.abort()\" class=\"md-raised md-warn\">{{::\\'CANCEL\\' | translate}}</md-button><md-button ng-hide=\"$ctrl.transaction.busy()\" ng-click=\"$ctrl.goBack()\">{{::\\'CANCEL\\' | translate}}</md-button><md-button class=\"md-accent\" ng-hide=\"$ctrl.transaction.busy()\" ng-click=\"$ctrl.onSave()\" ng-disabled=\"$ctrl.data.content == \\'\\' && $ctrl.data.title == \\'\\'\">{{::\\'SEND\\' | translate}}</md-button></div></div></pip-document>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipSupport.Templates');\n} catch (e) {\n  module = angular.module('pipSupport.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('feedback/FeedbackDialog.html',\n    '<md-dialog width=\"800\" class=\"pip-feedback-dialog\"><md-dialog-content class=\"lp24-flex rp24-flex\"><pip-feedback-panel data=\"$ctrl.data\" pip-created=\"$ctrl.$panel = $control\" show-pictures=\"$ctrl.showPictures\" show-documents=\"$ctrl.showDocuments\" save-callback=\"$ctrl.callback\" type-collection=\"$ctrl.typeCollection\"></pip-feedback-panel></md-dialog-content><md-dialog-actions class=\"layout-row\"><pip-content-switch class=\"show-gt-sm\"></pip-content-switch><div class=\"flex\"></div><div class=\"layout-row flex-fixed\"><md-button ng-show=\"$ctrl.transaction.busy()\" ng-click=\"$ctrl.transaction.abort()\" class=\"md-raised md-warn\">{{::\\'CANCEL\\' | translate}}</md-button><md-button ng-hide=\"$ctrl.transaction.busy()\" ng-click=\"$ctrl.goBack()\">{{::\\'CANCEL\\' | translate}}</md-button><md-button class=\"md-accent rm8\" ng-hide=\"$ctrl.transaction.busy()\" ng-click=\"$ctrl.onSave()\" ng-disabled=\"$ctrl.data.content == \\'\\' && $ctrl.data.title == \\'\\'\">{{::\\'SEND\\' | translate}}</md-button></div></md-dialog-actions></md-dialog>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipSupport.Templates');\n} catch (e) {\n  module = angular.module('pipSupport.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('feedback/FeedbackPanel.html',\n    '<div class=\"pip-body tp24-flex\"><div class=\"pip-content layout-column\"><md-progress-linear ng-show=\"$ctrl.transaction.busy()\" md-mode=\"indeterminate\" class=\"pip-progress-ontop\"></md-progress-linear><form name=\"form\" novalidate=\"\"><md-input-container class=\"md-block hide-gt-xs\"><md-select ng-model=\"typeIndex\" ng-disabled=\"$ctrl.transaction.busy()\" aria-label=\"DROPDOWN\"><md-option ng-repeat=\"action in $ctrl.typeCollection\" value=\"{{ ::$index }}\">{{ (action.title || action.name) | translate }}</md-option></md-select></md-input-container><pip-toggle-buttons ng-model=\"$ctrl.data.type\" pip-buttons=\"$ctrl.typeCollection\" class=\"bm16 hide-xs\"></pip-toggle-buttons><p class=\"tm0 bm16 text-small text-grey line-height-string\" ng-if=\"$ctrl.data.type == \\'feedback\\' || $ctrl.data.type == \\'support\\'\">{{::\\'FEEDBACK_HINT_FEEDBACK\\' | translate}}</p><div ng-if=\"$ctrl.data.type == \\'copyright\\'\"><p class=\"tm0 bm16 text-small text-grey line-height-string\">{{::\\'FEEDBACK_HINT_COPYRIGHT\\' | translate}}</p><p class=\"tm0 bm16 text-small text-grey line-height-string\">{{::\\'FEEDBACK_HINT_COPYRIGHT2\\' | translate }}</p></div><div class=\"pip-ref-item\"><pip-avatar pip-party-id=\"$ctrl.$party.id\" pip-party-name=\"$ctrl.$party.name\" class=\"pip-pic pip-face\"></pip-avatar><div class=\"pip-content\"><p class=\"pip-title\">{{$ctrl.$party.name}}</p><p class=\"pip-subtitle\">{{$ctrl.$party.email}}</p></div></div><div ng-if=\"$ctrl.data.type!=\\'copyright\\'\"><md-input-container class=\"md-block\" md-no-float=\"\"><input type=\"text\" ng-model=\"$ctrl.data.title\" ng-disabled=\"$ctrl.transaction.busy()\" placeholder=\"{{:: \\'SUBJECT\\' | translate}}\"></md-input-container><md-input-container class=\"md-block\" md-no-float=\"\"><textarea ng-model=\"$ctrl.data.content\" ng-disabled=\"$ctrl.transaction.busy()\" placeholder=\"{{::\\'FEEDBACK_MESSAGE\\'|translate}}\">\\n' +\n    '                        </textarea></md-input-container></div><div ng-if=\"$ctrl.data.type==\\'copyright\\'\"><md-input-container class=\"md-block\"><label>{{::\\'FEEDBACK_COMPANY\\'|translate}}</label> <input type=\"text\" ng-model=\"$ctrl.data.company_name\" ng-disabled=\"$ctrl.transaction.busy()\" placeholder=\"Company Name\"></md-input-container><md-input-container class=\"md-block\"><label>{{::\\'FEEDBACK_ADDRESS\\'|translate}}</label> <input type=\"text\" ng-model=\"$ctrl.data.company_addr\" ng-disabled=\"$ctrl.transaction.busy()\"></md-input-container><md-input-container class=\"md-block\"><label>{{::\\'FEEDBACK_COPYRIGHT_HOLDER\\' | translate}}</label> <input name=\"$ctrl.data.copyright_holder\" ng-model=\"$ctrl.data.copyright_holder\" ng-disabled=\"$ctrl.transaction.busy()\" step=\"any\" type=\"text\" tabindex=\"0\" required=\"\"><div ng-messages=\"$ctrl.errorsWithHint($ctrl.form.data.copyright_holder)\"><div ng-message=\"hint\">{{::\\'FEEDBACK_COPYRIGHT_HOLDER_HINT\\' | translate}}</div></div></md-input-container><md-input-container class=\"md-block flex\"><label>{{::\\'FEEDBACK_ORIGINAL_LOCATION\\'|translate}}</label> <input type=\"text\" ng-model=\"$ctrl.data.original_loc\" ng-disabled=\"$ctrl.transaction.busy()\"></md-input-container><md-input-container class=\"md-block\"><label>{{::\\'FEEDBACK_DESCRIBE_COPYRIGHTED\\' | translate}}</label> <input name=\"$ctrl.data.copyrighted_work\" ng-model=\"$ctrl.data.copyrighted_work\" ng-disabled=\"$ctrl.transaction.busy()\" step=\"any\" type=\"text\" tabindex=\"0\" required=\"\"><div ng-messages=\"$ctrl.errorsWithHint($ctrl.form.data.copyrighted_work)\"><div ng-message=\"hint\">{{::\\'FEEDBACK_DESCRIBE_COPYRIGHTED_HINT\\'| translate}}</div></div></md-input-container><md-input-container class=\"md-block\"><label>{{::\\'FEEDBACK_UNAUTHORIZE_LOCATION\\' | translate}}</label> <textarea name=\"$ctrl.data.unauth_loc\" ng-model=\"$ctrl.data.unauth_loc\" ng-disabled=\"$ctrl.transaction.busy()\" step=\"any\" type=\"text\" tabindex=\"0\" required=\"\"></textarea><div ng-messages=\"$ctrl.errorsWithHint(form.data.unauth_loc)\"><div ng-message=\"hint\">{{::\\'FEEDBACK_UNAUTHORIZE_LOCATION_HINT\\' | translate}}</div></div></md-input-container><div class=\"bm16 layout-row\"><md-checkbox ng-model=\"$ctrl.data.copyright_conc\" class=\"lm0 bm0 flex-fixed\" aria-label=\"FEEDBACK_COPYRIGHT_CONC\" style=\"min-width: 24px; margin-top: -2px\"></md-checkbox><p class=\"m0 text-small text-grey line-height-string\">{{::\\'FEEDBACK_COPYRIGHT_CONC\\'|translate}}</p></div><div class=\"bm16 layout-row\"><md-checkbox ng-model=\"$ctrl.data.request_conc\" class=\"lm0 bm0 flex-fixed\" aria-label=\"FEEDBACK_REGUEST_CONC\" style=\"min-width: 24px; margin-top: -2px\"></md-checkbox><p class=\"m0 text-small text-grey line-height-string\">{{::\\'FEEDBACK_REGUEST_CONC\\'|translate}}</p></div><md-input-container class=\"md-block\"><label>{{::\\'FEEDBACK_SIGNATURE\\' | translate}}</label> <input name=\"$ctrl.data.signature\" ng-model=\"$ctrl.data.signature\" ng-disabled=\"$ctrl.transaction.busy()\" step=\"any\" type=\"text\" tabindex=\"0\" required=\"\"><div ng-messages=\"$ctrl.errorsWithHint($ctrl.form.data.signature)\"><div ng-message=\"hint\">{{::\\'FEEDBACK_SIGNATURE_HINT\\' | translate}}</div></div></md-input-container></div><pip-picture-list-edit class=\"bm8\" ng-show=\"$ctrl.showPictures\" pip-picture-ids=\"$ctrl.data.pic_ids\" pip-created=\"$ctrl.pictures = $event.sender\" ng-disabled=\"$ctrl.transaction.busy()\"></pip-picture-list-edit><pip-document-list-edit ng-show=\"$ctrl.showDocuments\" pip-documents=\"$ctrl.data.docs\" pip-created=\"$ctrl.docs = $event.sender\" ng-disabled=\"$ctrl.transaction.busy()\"></pip-document-list-edit></form></div></div>');\n}]);\n})();\n\n//# sourceMappingURL=pip-suite-support-html.min.js.map\n","declare let google: any;\n\n(() => {\n    'use strict';\n\n    /**\n     * @ngdoc module\n     * @name pipGoogleMaps\n     *\n     * @description\n     * Module with common helper functionality for Google Maps\n     */\n\n    /**\n     * @ngdoc provider\n     * @name pipGoogleMaps\n     */\n    function GoogleMapsProvider() {\n\n        var mapOptions = {\n            mapTypeId: google.maps.MapTypeId.SATELLITE,\n            disableDefaultUI: true,\n            panControl: false,\n            zoomControl: false\n        };\n\n        /**\n         * Getter/setter for Google Maps options.\n         * @param {Object} options @link https://developers.google.com/maps/documentation/javascript/reference#MapOptions\n         * @returns {Object}\n         */\n        this.mapOptions = function (options) {\n            mapOptions = _.defaults({}, options, mapOptions);\n\n            return _.cloneDeep(mapOptions);\n        };\n\n        this.$get = function ($rootScope) {\n            return {\n                /**\n                 * Getter for Google Maps options.\n                 * @returns {Object} @link https://developers.google.com/maps/documentation/javascript/reference#MapOptions\n                 */\n                mapOptions: function () {\n                    return _.cloneDeep(mapOptions);\n                },\n\n                /**\n                 * Helper function to create new Angular Google Maps object. @link http://angular-ui.github.io/angular-google-maps/#!/api/google-map\n                 * @param {Object} (options={}) - additional map options\n                 * @param {Number} (options.maxZoom) - max map zoom level\n                 * @param {Number} (options.minZoom) - min map zoom level\n                 * @param {Object} (geoRegion) - object with coordinates of map bounds. Has specific format.\n                 * @param {Object} geoRegion.boundary - map bounds object\n                 * @param {Number} geoRegion.boundary.nw_lat - North-West latitude\n                 * @param {Number} geoRegion.boundary.nw_lob - North-West longitude\n                 * @param {Number} geoRegion.boundary.se_lat - South-East latitude\n                 * @param {Number} geoRegion.boundary.se_lon - South-East longitude\n                 * @param {Function} (onMapClickCallback) - function to call when map itself is clicked\n                 * @returns {Object}\n                 */\n                map: function (options, geoRegion, onMapClickCallback) {\n                    options || (options = {});\n\n                    var onTilesLoaded = _.once(function (map) {\n                        google.maps.event.trigger(map, 'resize');  // fix map is not fully loaded issue\n                    });\n\n                  var boundary = geoRegion && geoRegion.boundary || {};\n\n                    return {\n                        center: {\n                            latitude:  (boundary.nw_lat + boundary.se_lat) / 2 || 0,\n                            longitude: (boundary.nw_lon + boundary.se_lon) / 2 || 0\n                        },\n                        zoom: 16,\n                        control: {},\n                        options: _.assign({}, options, mapOptions),\n                        bounds: {},\n                        events: {\n                            click: onMapClickCallback || function () {},\n                            tilesloaded: onTilesLoaded,\n                            zoom_changed: onZoomChanged\n                        }\n                    };\n\n                    function onZoomChanged(map) {\n                        var directiveSpecificMaxZoomLevel = options.maxZoomLevel,\n                            directiveSpecificMinZoomLevel = options.minZoomLevel,\n                            maxZoomLevel = directiveSpecificMaxZoomLevel == null ? mapOptions['maxZoom'] : directiveSpecificMaxZoomLevel,\n                            minZoomLevel = directiveSpecificMinZoomLevel == null ? mapOptions['minZoom'] : directiveSpecificMinZoomLevel,\n                            currentZoomLevel = map.getZoom();\n\n                        if (currentZoomLevel > maxZoomLevel) {\n                            map.setZoom(maxZoomLevel);\n                        } else if (currentZoomLevel < minZoomLevel) {\n                            map.setZoom(minZoomLevel);\n                        }\n                    }\n                },\n\n                /**\n                 * Helper function to create new info window object. @link http://angular-ui.github.io/angular-google-maps/#!/api/window\n                 * @param {String} (additionalClass=\"\") - additional classes to append to info window along with default \"pip-map-info-window\"\n                 * @param {google.maps.Size} (offset=new google.maps.Size(-175, -210, 'px', 'px')) - offset of info window from marker\n                 * @returns {Object}\n                 */\n                infoWindow: function (additionalClass, offset) {\n                    return {\n                        show: false,\n                        control: {},\n                        options: {\n                            boxClass: 'pip-map-info-window ' + additionalClass,\n                            closeBoxURL: '',\n                            pixelOffset: offset || new google.maps.Size(-175, -210, 'px', 'px')\n                        }\n                    };\n                },\n\n                /**\n                 * Set map bounds\n                 * @param {Object} map - Angular Google Maps object\n                 * @param {Object} geoRegion - object with coordinates of map bounds. Has specific format.\n                 * @param {Object} geoRegion.boundary - map bounds object\n                 * @param {Number} geoRegion.boundary.nw_lat - North-West latitude\n                 * @param {Number} geoRegion.boundary.nw_lob - North-West longitude\n                 * @param {Number} geoRegion.boundary.se_lat - South-East latitude\n                 * @param {Number} geoRegion.boundary.se_lon - South-East longitude\n                 */\n                setMapBounds: function (map, geoRegion) {\n                    var unwatchBoundsChange = $rootScope.$watch(function() {\n                        return map.bounds;\n                    }, function (newVal) {\n                        if (newVal.northeast && newVal.southwest) {\n                            map.bounds = {\n                                northeast: {\n                                    latitude: geoRegion.boundary.nw_lat,\n                                    longitude: geoRegion.boundary.se_lon\n                                },\n                                southwest: {\n                                    latitude: geoRegion.boundary.se_lat,\n                                    longitude: geoRegion.boundary.nw_lon\n                                }\n                            };\n\n                            unwatchBoundsChange();\n                        }\n                    }, true);\n                },\n\n                /**\n                 * Fit map to specified bounds\n                 * @param {Object} map - Angular Google Maps object\n                 * @param {google.maps.LatLngBounds} bounds - bounds, @link https://developers.google.com/maps/documentation/javascript/reference#LatLngBounds\n                 */\n                fitMapToBounds: function (map, bounds) {\n                    if (!bounds.isEmpty()) {\n                        var currentMapBounds = map.getBounds();\n\n                        if (_.isEmpty(currentMapBounds)\n                            || (!_.isEmpty(currentMapBounds)\n                            && currentMapBounds.contains\n                            && (!currentMapBounds.contains(bounds.getNorthEast())\n                            || !currentMapBounds.contains(bounds.getSouthWest())))) {\n                            map.fitBounds(bounds);\n                        }\n                    }\n                }\n            };\n        };\n    }\n\n    angular\n        .module('pipMaps')\n        .provider('pipGoogleMaps', <any>GoogleMapsProvider);\n})();\n","(() => {\n  'use strict';\n\n  function uiGmapModelKeyDecorator($delegate) {\n    /**\n     * This is a hot fix to the setChildScope problem\n     * @see https://github.com/angular-ui/angular-google-maps/issues/1562\n     * The issue is that ModelKey.prototype.setChildScope sets childScope.model = model;\n     * where model is always for some reason is undefined\n     * then in BasePolysParentModel.prototype.pieceMeal it extends\n     * _.extend(obj.child.scope, obj.model);\n     *\n     * in scope we have childScope with model: {} and in obj.model we have model: undefined\n     * then we will have undefined as a model and crashes.\n     * For some reason it is not working this way anytime, because sometimes payload.updates is empty\n     * and it works as expected but we should remove this undefined property to avoid this issues\n     *\n     * TODO: Remove this hot-fix when it is resolved inside angular-google-maps\n     */\n\n\n    var setChildScope = $delegate.prototype.setChildScope;\n\n    $delegate.prototype.setChildScope = function (keys, childScope) {\n      var result = setChildScope.apply(this, arguments);\n\n      if (childScope && childScope.hasOwnProperty('model') && !childScope.model) {\n        delete childScope.model;\n      }\n\n      return result;\n    };\n\n    return $delegate;\n  }\n\n\n  /**\n   * @typedef {Object} Map~GeoRegion\n   * @property {Object} boundary Map bounds object\n   * @property {Number} boundary.nw_lat North-West latitude\n   * @property {Number} boundary.nw_lon North-West longitude\n   * @property {Number} boundary.se_lat South-East latitude\n   * @property {Number} boundary.se_lon South-East longitude\n   */\n\n\n  /**\n   * @typedef {Object} Map~position\n   * @property {*} latitude Latitude\n   * @property {*} longitude Longitude\n   */\n\n\n  /**\n   * @ngdoc service\n   * @name pipMapComponent.pipMapHelperSrvProvider\n   *\n   * @description Helper for map. Contains methods to work with icons, map constants, etc.\n   */\n  function /*@ngInject*/ pipMapHelperSrv() {\n    var defaultIconParameters = {\n      iconBaseSize: 96,\n      iconNormalScaleFactor: 0.5,\n      iconActiveScaleFactor: 1,\n      iconsPerSprite: 1\n    };\n\n    var directions = [{\n        name: 'North',\n        numberInSprite: 0,\n        scope: [-22.5, 22.5]\n      },\n      {\n        name: 'Northeast',\n        numberInSprite: 1,\n        scope: [22.5, 67.5]\n      },\n      {\n        name: 'East',\n        numberInSprite: 2,\n        scope: [67.5, 112.5]\n      },\n      {\n        name: 'Southeast',\n        numberInSprite: 3,\n        scope: [112.5, 157.5]\n      },\n      {\n        name: 'South',\n        numberInSprite: 4,\n        scope: [157.5, -157.5]\n      },\n      {\n        name: 'SouthWest',\n        numberInSprite: 5,\n        scope: [-157.5, -112.5]\n      },\n      {\n        name: 'West',\n        numberInSprite: 6,\n        scope: [-112.5, -67.5]\n      },\n      {\n        name: 'Northwest',\n        numberInSprite: 7,\n        scope: [-67.5, -22.5]\n      },\n      {\n        name: 'Stop',\n        numberInSprite: 8,\n        scope: []\n      }\n    ];\n\n    /**\n     * @ngdoc method\n     * @methodOf pipMapComponent.pipMapHelperSrvProvider\n     * @name pipMapComponent.pipMapHelperSrvProvider#setIconSettings\n     * @param {Object} sizes Object with new sizes\n     * @param {number} [sizes.baseSize] Base icon size\n     * @param {number} [sizes.normalFactor] Scale factor for normal icon state\n     * @param {number} [sizes.activeFactor] Scale facor for active icon state\n     * @param {number} [sizes.perSprite] ??\n     *\n     * @description Override service defaults\n     */\n    this.setIconSettings = function (sizes) {\n      angular.extend(defaultIconParameters, sizes);\n    };\n\n\n    this.$get = (uiGmapGoogleMapApi, $timeout) => {\n      /**\n       * @ngdoc service\n       * @name pipMapComponent.pipMapHelperSrv\n       *\n       * @description Helper for map. Contains methods to work with icons, map constants, etc.\n       */\n      var service = {\n        isReady: false,\n        whenReady: uiGmapGoogleMapApi,\n        maps: {},\n        getIconDimensions: null,\n        setIcon: null,\n        triggerEvent: null,\n        createSize: null,\n        createPoint: null,\n        createKML: null,\n        getCenterFromRegion: null,\n        fitMapToRegion: null,\n        getBoundsFromRegion: null,\n        getBoundsFromCoordinates: null,\n        fitMapToBounds: null,\n        forceMapToFitBounds: null,\n        shouldFitBound: null,\n        setModelOptions: null,\n        getDegreesBetweenTwoPoints: null,\n        getDirection: null,\n        getDirectionByAngle: null,\n        getIconOriginByDirection: null\n      };\n\n\n      uiGmapGoogleMapApi.then(onInit.bind(service));\n\n\n      /**\n       * @ngdocs method\n       * @methodOf pipMapComponent.pipMapHelperSrv\n       * @name pipMapComponent.pipMapHelperSrv#getIconDimensions\n       * @private\n       *\n       * @param {Object} icon Icon set dimensions to\n       * @param {number} [icon.numberInSprite] Icon position in sprite\n       * @param {boolean} [isActive = false] Whether to set active scale or normal\n       *\n       * @returns {Object} Icon dimensions\n       * @see http://blog.mridey.com/2010/03/using-markerimage-in-maps-javascript.html for more details\n       * Including method name\n       * 1. It is used only in this service\n       * 2. It seems to count position of an arrow near the icon, which shows it's movement direction\n       */\n      service.getIconDimensions = function (icon, isActive) {\n        var parameters = angular.extend({}, defaultIconParameters, icon);\n        var scaleFactor = isActive ? parameters.iconActiveScaleFactor : parameters.iconNormalScaleFactor;\n        var size = parameters.iconBaseSize * scaleFactor;\n\n        return {\n          origin: this.createPoint(0, size * icon.numberInSprite || 1),\n          anchor: this.createPoint(size / 2, size / 2),\n          size: this.createSize(size, size),\n          scaledSize: this.createSize(size, parameters.iconsPerSprite * size),\n          isActive: isActive\n        };\n      };\n\n\n      /**\n       * @ngdocs method\n       * @methodOf pipMapComponent.pipMapHelperSrv\n       * @name pipMapComponent.pipMapHelperSrv#setIcon\n       *\n       * @param {Object} icon Icon to set position for\n       * @param {boolean} [icon.isActive] True if icon currently is active\n       * @param {number} [icon.numberInSprite] Icon position in sprite\n       * @param {?boolean} isActive True if marker is active. If not boolean - it will leave old value of active\n       *\n       * @description Adds to an icon size properties\n       */\n      service.setIcon = function (icon, isActive) {\n        isActive = typeof isActive === 'boolean' ? isActive : icon.isActive;\n\n        service.whenReady.then(function () {\n          var iconDimensions = this.getIconDimensions(icon, isActive);\n          _.extend(icon, iconDimensions);\n        }.bind(this));\n      };\n\n\n      /**\n       * @ngdocs method\n       * @methodOf pipMapComponent.pipMapHelperSrv\n       * @name pipMapComponent.pipMapHelperSrv#triggerEvent\n       *\n       * @description Triggers event with provided arguments\n       */\n      service.triggerEvent = function () {\n        var event = this.maps.event;\n\n        if (!event) {\n          return null;\n        }\n\n        return event.trigger.apply(event, arguments);\n      };\n\n\n      /**\n       * @ngdocs method\n       * @methodOf pipMapComponent.pipMapHelperSrv\n       * @name pipMapComponent.pipMapHelperSrv#createSize\n       * @param {number} width Width property for the size object\n       * @param {number} height Height property for the size object\n       * @returns {Object} New size instance or empty object\n       *\n       * @description Creates new size object of a given width and height in pixels\n       */\n      service.createSize = function (width, height) {\n        var Size = this.maps.Size;\n\n        if (!Size) {\n          return {};\n        }\n\n        return new Size(width, height, 'px', 'px');\n      };\n\n\n      /**\n       * @ngdocs method\n       * @methodOf pipMapComponent.pipMapHelperSrv\n       * @name pipMapComponent.pipMapHelperSrv#createPoint\n       * @param {number} x X coordinate for the point object\n       * @param {number} y Y coordinate for the point object\n       * @returns {Object} New point instance or empty object\n       *\n       * @description Creates new point object of a given coordinates\n       */\n      service.createPoint = function (x, y) {\n        var Point = this.maps.Point;\n\n        if (!Point) {\n          return {};\n        }\n\n        return new Point(x, y);\n      };\n\n\n      /**\n       * @ngdocs method\n       * @methodOf pipMapComponent.pipMapHelperSrv\n       * @name pipMapComponent.pipMapHelperSrv#createPoint\n       * @param {Object} options Settings for KML layer\n       * @param {google.maps.Map} options.map Map instance to create kml layer for\n       * @param {string} options.url Url of KML file\n       *\n       * @description Creates new point object of a given coordinates\n       */\n      service.createKML = function (options) {\n        var Layer = this.maps.KmlLayer;\n\n        if (!Layer) {\n          return {};\n        }\n\n        return new Layer(options);\n      };\n\n      /**\n       * @ngdoc method\n       * @methodOf pipMapComponent.pipMapHelperSrv\n       * @name pipMapComponent.pipMapHelperSrv#getCenterFromRegion\n       *\n       * @param {Map~GeoRegion} geoRegion - object with coordinates of map bounds. Has specific format.\n       * @return {Map~position} Map center\n       *\n       * @description Get map center from geo region\n       */\n      service.getCenterFromRegion = function (geoRegion) {\n        if (!geoRegion || !geoRegion.boundary) {\n          return {\n            latitude: 0,\n            longitude: 0\n          };\n        }\n\n        return {\n          latitude: (geoRegion.boundary.nw_lat + geoRegion.boundary.se_lat) / 2,\n          longitude: (geoRegion.boundary.nw_lon + geoRegion.boundary.se_lon) / 2\n        };\n      };\n\n\n      /**\n       * @ngdoc method\n       * @methodOf pipMapComponent.pipMapHelperSrv\n       * @name pipMapComponent.pipMapHelperSrv#fitMapToRegion\n       *\n       * @param {google.maps.Map} map Map to fit bounds\n       * @param {Map~GeoRegion} geoRegion bounds\n       * @link https://developers.google.com/maps/documentation/javascript/reference#LatLngBounds\n       *\n       * @description Fit map to specified geo region\n       */\n      service.fitMapToRegion = function (map, geoRegion) {\n        var bounds = this.getBoundsFromRegion(geoRegion);\n\n        // without timeout it sometimes is not working\n        $timeout(this.forceMapToFitBounds.bind(this, map, bounds));\n      };\n\n\n      /**\n       * @ngdoc method\n       * @methodOf pipMapComponent.pipMapHelperSrv\n       * @name pipMapComponent.pipMapHelperSrv#getBoundsFromRegion\n       *\n       * @param {Map~GeoRegion} geoRegion - object with coordinates of map bounds. Has specific format\n       * @returns {google.maps.LatLngBounds|Object} New boundary or\n       * empty object if no geoRegion is not provided or empty\n       *\n       * @description Get map bounds from geo region\n       */\n      service.getBoundsFromRegion = function (geoRegion) {\n        if (!geoRegion || !geoRegion.boundary) {\n          return {};\n        }\n\n        return this.getBoundsFromCoordinates([{\n            latitude: geoRegion.boundary.se_lat,\n            longitude: geoRegion.boundary.se_lon\n          },\n          {\n            latitude: geoRegion.boundary.nw_lat,\n            longitude: geoRegion.boundary.nw_lon\n          }\n        ]);\n      };\n\n\n      /**\n       * @ngdocs method\n       * @methodOf pipMapComponent.pipMapHelperSrv\n       * @name pipMapComponent.pipMapHelperSrv#getBoundsFromCoordinates\n       *\n       * @param {Array<Map~position>} coordinates Coordinates to get bounds from\n       * @returns {google.maps.LatLngBounds|Object} Bounds fit coordinates\n       *\n       * @description Creates google bounds instance from given coordinates\n       */\n      service.getBoundsFromCoordinates = function (coordinates) {\n        var LatLngBounds = this.maps.LatLngBounds;\n        var LatLng = this.maps.LatLng;\n\n        if (!LatLng || !LatLngBounds) {\n          return {};\n        }\n\n        var bounds = new LatLngBounds();\n\n        coordinates.forEach(function (coordinate) {\n          if (!coordinate.latitude || !coordinate.longitude) {\n            return;\n          }\n\n          bounds.extend(new LatLng(coordinate.latitude, coordinate.longitude));\n        });\n\n        return bounds;\n      };\n\n\n      /**\n       * @ngdoc method\n       * @methodOf pipMapComponent.pipMapHelperSrv\n       * @name pipMapComponent.pipMapHelperSrv#fitMapToBounds\n       *\n       * @param {google.maps.Map} map Map to fit bounds\n       * @param {google.maps.LatLngBounds} bounds bounds\n       * @param {boolean} [force = false] force If true - forces setting of the bounds\n       * @link https://developers.google.com/maps/documentation/javascript/reference#LatLngBounds\n       *\n       * @description Checks whether given bounds is larger then current\n       * and fit map to specified bounds if so\n       */\n      service.fitMapToBounds = function (map, bounds, force) {\n        if (bounds.isEmpty()) {\n          return;\n        }\n\n        if (force || this.shouldFitBound(map, bounds)) {\n          map.fitBounds(bounds);\n        }\n      };\n\n\n      /**\n       * @ngdoc method\n       * @methodOf pipMapComponent.pipMapHelperSrv\n       * @name pipMapComponent.pipMapHelperSrv#forceMapToFitBounds\n       *\n       * @param {google.maps.Map} map Map to fit bounds\n       * @param {google.maps.LatLngBounds} bounds bounds\n       * @link https://developers.google.com/maps/documentation/javascript/reference#LatLngBounds\n       *\n       * @description Fit map to specified bounds\n       */\n      service.forceMapToFitBounds = function (map, bounds) {\n        this.fitMapToBounds(map, bounds, true);\n      };\n\n\n      /**\n       * @ngdoc method\n       * @methodOf pipMapComponent.pipMapHelperSrv\n       * @name pipMapComponent.pipMapHelperSrv#shouldFitBound\n       *\n       * @param {google.maps.Map} map Map to fit bounds\n       * @param {google.maps.LatLngBounds} bounds bounds\n       *\n       * @private\n       * @description Checks if map should fit bounds\n       */\n      service.shouldFitBound = function (map, bounds) {\n        var northEast = bounds.getNorthEast();\n        var southWest = bounds.getSouthWest();\n\n        var currentMapBounds = map.getBounds();\n        var mapContainsBounds = currentMapBounds.contains &&\n          (!currentMapBounds.contains(northEast) || !currentMapBounds.contains(southWest));\n\n        return _.isEmpty(currentMapBounds) || mapContainsBounds;\n      };\n\n\n      /**\n       * @ngdoc method\n       * @methodOf pipMapComponent.pipMapHelperSrv\n       * @name pipMapComponent.pipMapHelperSrv#setModelOptions\n       *\n       * @param {Object} pluralModel Plural model to set options for\n       * @param {Object} [pluralModel.gObject] Google object\n       * @param {Object} options New options\n       *\n       * @description Sets options for plural model if it is possible\n       */\n      service.setModelOptions = function (pluralModel, options) {\n        var plainObject = pluralModel && pluralModel.gObject;\n\n        if (plainObject && angular.isFunction(plainObject.setOptions)) {\n          plainObject.setOptions(options);\n        }\n      };\n\n\n      service.getDegreesBetweenTwoPoints = function (point1, point2) {\n        let p1 = {\n          lat: () => {\n            return point1.lat || point1.latitude\n          },\n          lng: () => {\n            return point1.lng || point1.longitude\n          }\n        };\n        let p2 = {\n          lat: () => {\n            return point2.lat || point2.latitude\n          },\n          lng: () => {\n            return point2.lng || point2.longitude\n          }\n        };\n\n        return google.maps.geometry.spherical.computeHeading(p1, p2);\n      }\n\n\n      service.getDirection = function (point1, point2) {\n        const degree = this.getDegreesBetweenTwoPoints(point1, point2);\n\n          if (\n            (point1.lat || point1.latitude) === (point2.lat || point2.latitude) &&\n            (point1.lng || point1.longitude) === (point2.lng || point2.longitude)\n          ) {\n            return directions[8];\n          }\n\n        for (let i = 0; i < 8; i++) {\n          if (degree >= directions[i].scope[0] && degree <= directions[i].scope[1]) {\n            return directions[i];\n          }\n        }\n\n        return directions[8];\n      }\n\n      service.getDirectionByAngle = function(degree) {\n        for (let i = 0; i < 8; i++) {\n          if (degree >= directions[i].scope[0] && degree <= directions[i].scope[1]) {\n            return directions[i];\n          }\n        }\n\n        return directions[8];\n      }\n\n      service.getIconOriginByDirection = function (point1, point2, iconSize: number = 82, gutter: number = 15) {\n        const direction = this.getDirection(point1, point2);\n\n        return new google.maps.Point(0, direction.numberInSprite * iconSize + direction.numberInSprite * gutter);\n      }\n\n\n      function onInit(maps) {\n        var mapTypeId = maps.MapTypeId || {};\n        var mapTypes = {\n          roadMap: mapTypeId.ROADMAP,\n          satellite: mapTypeId.SATELLITE,\n          hybrid: mapTypeId.HYBRID,\n          terrain: mapTypeId.TERRAIN\n        };\n\n\n        var symbolPath = maps.SymbolPath || {};\n        var symbols = {\n          circle: symbolPath.CIRCLE,\n          backwardClosed: symbolPath.BACKWARD_CLOSED_ARROW,\n          forwardClosed: symbolPath.FORWARD_CLOSED_ARROW,\n          backwardOpened: symbolPath.BACKWARD_OPEN_ARROW,\n          forwardCOpened: symbolPath.FORWARD_OPEN_ARROW\n        };\n\n        this.isReady = true;\n\n        angular.extend(this, {\n          mapTypes: mapTypes,\n          symbols: symbols,\n          maps: maps\n        });\n      }\n\n\n      return service;\n    };\n  }\n\n  angular.module('pipMaps')\n    .provider('pipMapHelperSrv', < any > pipMapHelperSrv)\n    .decorator('uiGmapModelKey', uiGmapModelKeyDecorator);\n})();","(() => {\n  'use strict';\n  USGSOverlay.prototype = new google.maps.OverlayView();\n\n  /** @constructor */\n  function USGSOverlay(bounds, image, map, opacity) {\n\n    // Initialize all properties.\n    this.bounds_ = bounds;\n    this.image_ = image;\n    this.map_ = map;\n\n    this.opacity = opacity ? opacity : null;\n    // Define a property to hold the image's div. We'll\n    // actually create this div upon receipt of the onAdd()\n    // method so we'll leave it null for now.\n    this.div_ = null;\n\n    // Explicitly call setMap on this overlay.\n    this.setMap(map);\n  }\n\n  USGSOverlay.prototype.onAdd = function () {\n\n    var div = document.createElement('div');\n    div.style.borderStyle = 'none';\n    div.style.borderWidth = '0px';\n    div.style.position = 'absolute';\n    if (this.opacity) div.style.opacity = this.opacity;\n\n    // Create the img element and attach it to the div.\n    var img = document.createElement('img');\n    img.src = this.image_;\n    img.style.width = '100%';\n    img.style.height = '100%';\n    img.style.position = 'absolute';\n    div.appendChild(img);\n\n    this.div_ = div;\n\n    // Add the element to the \"overlayLayer\" pane.\n    var panes = this.getPanes();\n    panes.overlayLayer.appendChild(div);\n  };\n\n  USGSOverlay.prototype.draw = function (bounds) {\n\n    // We use the south-west and north-east\n    // coordinates of the overlay to peg it to the correct position and size.\n    // To do this, we need to retrieve the projection from the overlay.\n    var overlayProjection = this.getProjection();\n    if (!overlayProjection) return;\n\n    // Retrieve the south-west and north-east coordinates of this overlay\n    // in LatLngs and convert them to pixel coordinates.\n    // We'll use these coordinates to resize the div.\n    if (bounds) {\n      this.bounds_ = bounds\n    }\n    var sw = overlayProjection.fromLatLngToDivPixel(this.bounds_.getSouthWest());\n    var ne = overlayProjection.fromLatLngToDivPixel(this.bounds_.getNorthEast());\n\n\n    // Resize the image's div to fit the indicated dimensions.\n    var div = this.div_;\n\n    if (!div) return;\n\n    // div.style.left = sw.x + 'px';\n    // div.style.top = ne.y + 'px';\n    // div.style.width = (ne.x - sw.x) + 'px';\n    // div.style.height = (sw.y - ne.y) + 'px';\n    div.style.left = sw.x + 'px';\n    div.style.top = sw.y + 'px';\n    div.style.width = (ne.x - sw.x) + 'px';\n    div.style.height = (ne.y - sw.y) + 'px';\n    if (this.opacity) div.style.opacity = this.opacity;\n  };\n\n  // The onRemove() method will be called automatically from the API if\n  // we ever set the overlay's map property to 'null'.\n  USGSOverlay.prototype.onRemove = function () {\n    if (this.div_ && this.div_.parentNode) this.div_.parentNode.removeChild(this.div_);\n    this.div_ = null;\n  };\n\n  /**\n   * @ngdoc directive\n   * @name pipMapComponent.pipMap\n   * @restrict AE\n   *\n   * @scope\n   * @property {Object} pipOptions Options for a map (including options for map provider)\n   *\n   * @property {Map~GeoRegion} pipOptions.geoRegion Geo region to set map center and bounds\n   * @see https://developers.google.com/maps/documentation/javascript/reference#MapOptions\n   * @property {Object} [pipOptions.map] Options for map provider\n   * @property {boolean} [pipOptions.map.mapTypeId = satellite] Map view\n   * @property {boolean} [pipOptions.map.disableDefaultUI = true] Disabling default UI controls\n   * @property {boolean} [pipOptions.map.panControl = false] Allows pan control\n   * @property {boolean} [pipOptions.map.zoomControl = false] Allows zoom control\n   * @property {boolean} [pipOptions.setInitBounds = false] True if need to set bounds on init from geoRegion\n   *\n   * @property {Object} pipInstance Instance of the directive's controller to be able to use it's methods manually\n   *\n   * @description Directive to create map. It is an abstraction between a map provider and the framework\n   * Also it provides methods with controller to zoom, fit map, etc\n   */\n\n  function MapComponentCtrl($injector, $scope, $element) {\n    var mapEventHandlerMixinFct = $injector.get('mapEventHandlerMixinFct');\n    mapEventHandlerMixinFct.mixTo(this, $scope.$applyAsync.bind($scope));\n    this.sidePanel = {};\n\n    this.embededMap = null;\n\n    this.pipMapHelperSrv = $injector.get('pipMapHelperSrv');\n    this.uiGmapIsReady = $injector.get('uiGmapIsReady');\n    this.$timeout = $injector.get('$timeout');\n    this.$rootScope = $injector.get('$rootScope');\n    this.MapPopupFct = $injector.get('MapPopupFct');\n\n    this.pipMapHelperSrv.whenReady.then(this.init.bind(this));\n\n    $element.addClass('pip-map flex layout-row');\n\n    $scope.$watch('ctrl.componentOptions.center', (newVal) => {\n      if (this.justResized == true) {\n        //this.justResized = false;\n        return;\n      }\n\n      if (this.gMap && newVal) {\n        let newCenter = { lat: newVal.latitude || newVal.lat, lng: newVal.longitude || newVal.lng };\n\n        if (_.isNumber(newCenter.lat) && _.isNumber(newCenter.lng)) {\n          this.gMap.panTo(newCenter);\n        }\n      }\n    }, true);\n\n    $scope.$watch('ctrl.componentOptions.zoom', (newVal) => {\n      if (this.map) this.map.zoom = newVal;\n    });\n\n    $scope.$watch('ctrl.componentOptions.embededMap', (newVal, oldVal) => {\n      if (newVal && oldVal && newVal.embededSrc && oldVal.embededSrc && newVal.embededSrc == oldVal.embededSrc) {\n        if (this.embededOverlay) {\n          var bounds = new google.maps.LatLngBounds(new google.maps.LatLng(newVal.map_north, newVal.map_west), new google.maps.LatLng(newVal.map_south, newVal.map_east));\n          this.embededOverlay.draw(bounds)\n          return;\n        }\n      }\n      this.setEmbededBounds();\n    });\n\n    this.$rootScope.$on('pipMainResized', () => {\n      //this.$timeout(this.updateMapTiles(true));\n      this.throttleResize();\n    });\n  }\n\n\n  /**\n   * @ngdoc property\n   * @propertyOf pipMapComponent.MapComponentCtrl\n   * @name pipMapComponent.MapComponentCtrl#defaultOptions\n   * @type {{mapTypeId: *, disableDefaultUI: boolean, panControl: boolean, zoomControl: boolean}}\n   *\n   * @description Default map components\n   */\n  MapComponentCtrl.prototype.defaultOptions = {\n    map: {\n      disableDefaultUI: true,\n      panControl: false,\n      zoomControl: false,\n      disableDoubleClickZoom: true\n    },\n\n    setInitBounds: false,\n\n    popup: {}\n  };\n\n\n  /**\n   * @ngdoc method\n   * @methodOf pipMapComponent.MapComponentCtrl\n   * @name pipMapComponent.MapComponentCtrl#init\n   *\n   * @description Init map\n   */\n  MapComponentCtrl.prototype.init = function () {\n    /**\n     * @ngdoc property\n     * @propertyOf pipMapComponent.MapComponentCtrl\n     * @name pipMapComponent.MapComponentCtrl#componentOptions\n     * @type {Object}\n     *\n     * @description Options from outer scope\n     */\n    this.options = angular.merge({\n      map: {\n        mapTypeId: this.pipMapHelperSrv.mapTypes.satellite\n      }\n    }, this.defaultOptions, this.componentOptions);\n\n    if (!this.componentOptions.control) this.componentOptions.control = {};\n    this.map = this.getMap();\n    this.map.zoom = this.componentOptions.zoom;\n    this.map.center = this.componentOptions.center;\n\n    if (this.options.sidePanel && this.options.sidePanel.templateUrl) {\n      this.showSidePanel(this.options.sidePanel.templateUrl);\n    }\n\n    this.uiGmapIsReady.promise()\n      .finally(this.onMapReady.bind(this));\n  };\n\n\n  /**\n   * @ngdoc method\n   * @methodOf pipMapComponent.MapComponentCtrl\n   * @name pipMapComponent.MapComponentCtrl#onMapReady\n   *\n   * @description On map ready handler\n   */\n  MapComponentCtrl.prototype.onMapReady = function () {\n    this.setInitBounds();\n    this.setEmbededBounds();\n  };\n\n\n  /**\n   * @ngdoc method\n   * @methodOf pipMapComponent.MapComponentCtrl\n   * @name pipMapComponent.MapComponentCtrl#setInitBounds\n   *\n   * @description On map ready handler\n   */\n  MapComponentCtrl.prototype.setInitBounds = function () {\n    var map = this.getMapInstance();\n\n    if (this.options.setInitBounds && map) {\n      this.pipMapHelperSrv.fitMapToRegion(map, this.options.geoRegion);\n    }\n  };\n\n  MapComponentCtrl.prototype.setEmbededBounds = function () {\n    var map = this.getMapInstance();\n    if (this.componentOptions.embededMap && this.componentOptions.embededMap.embededSrc) {\n      var bounds = new google.maps.LatLngBounds(new google.maps.LatLng(this.componentOptions.embededMap.map_north, this.componentOptions.embededMap.map_west), new google.maps.LatLng(this.componentOptions.embededMap.map_south, this.componentOptions.embededMap.map_east));\n      var srcImage = this.componentOptions.embededMap.embededSrc;\n      this.embededOverlay = new USGSOverlay(bounds, srcImage, map, this.componentOptions.embededMap.opacity);\n    } else {\n      if (this.embededOverlay) this.embededOverlay.onRemove();\n      this.embededOverlay = null;\n    }\n  };\n\n  /**\n   * @ngdoc method\n   * @methodOf pipMapComponent.MapComponentCtrl\n   * @name pipMapComponent.MapComponentCtrl#getMapInstance\n   * @returns {google.maps.Map} Google map instance\n   *\n   * @protected\n   * @description Returns Google map object\n   */\n  MapComponentCtrl.prototype.getMapInstance = function () {\n    if (!this.gMap && this.componentOptions && this.componentOptions.control && this.componentOptions.control.getGMap) {\n      this.gMap = this.componentOptions.control.getGMap();\n    }\n\n    return this.gMap;\n  };\n\n\n  /**\n   * @ngdoc method\n   * @methodOf pipMapComponent.MapComponentCtrl\n   * @name pipMapComponent.MapComponentCtrl#getMap\n   *\n   * @link http://angular-ui.github.io/angular-google-maps/#!/api/google-map\n   * @description Helper function to create new Angular Google Maps object.\n   */\n  MapComponentCtrl.prototype.getMap = function () {\n    let externalClick = this.options.events && this.options.events.click ? this.options.events.click : angular.noop;\n    let externalZoom = this.options.events && this.options.events.zoom_changed ? this.options.events.zoom_changed : angular.noop;\n    let externalCenter = this.options.events && this.options.events.center_changed ? this.options.events.center_changed : angular.noop;\n    var debounceCenterChange = _.debounce(function (event) {\n      externalCenter(event);\n    }, 500)\n    // var debounceZoomChange = _.debounce(function (event) {\n    //   externalZoom(event);\n    // }, 50)\n    return {\n      control: {},\n      options: this.options.map,\n      bounds: this.options.bounds || {},\n      events: _.extend(this.options.events, {\n        click: (event) => {\n          this.onClick(event);\n          externalClick();\n        },\n        zoom_changed: (event) => {\n          if (event && this.componentOptions && this.componentOptions.mapId) {\n            event.mapId = this.componentOptions.mapId;\n            externalZoom(event);\n            // debounceZoomChange(event);\n          }\n        },\n        center_changed: (event) => {\n          if (event && this.componentOptions && this.componentOptions.mapId) {\n            event.mapId = this.componentOptions.mapId;\n            // externalCenter(event);\n            debounceCenterChange(event);\n          }\n        },\n        dblclick: this.onEventHandler.bind(this),\n        tilesloaded: this.updateMapTiles.bind(this)\n      })\n    };\n  };\n\n\n  /**\n   * @ngdoc method\n   * @methodOf pipMapComponent.MapComponentCtrl\n   * @name pipMapComponent.MapComponentCtrl#updateMapTiles\n   *\n   * @description Updates map tiles. It is fix for all problems related to not fully loaded tiles\n   */\n  MapComponentCtrl.prototype.updateMapTiles = function (updateCenter = false) {\n    var gMap = this.getMapInstance();\n    if (!gMap) return;\n    this.pipMapHelperSrv.triggerEvent(gMap, 'resize'); // fix map is not fully loaded issue\n  };\n\n  var throttleUpdatingCenter = _.throttle((gMap, center) => {\n    if (!center) return;\n\n    gMap.panTo(center);\n    gMap.setCenter(center);\n  }, 400);\n\n  MapComponentCtrl.prototype.throttleResize = function () {\n    var gMap = this.getMapInstance();\n    if (!gMap)\n      return;\n    if (this.justResized != true) {\n      this.justResized = true;\n      var center = gMap.getCenter();\n      this.$timeout(() => {\n        throttleUpdatingCenter(gMap, center);\n      });\n      this.$timeout(() => {\n        this.justResized = false;\n      }, 400)\n    }\n\n    this.pipMapHelperSrv.triggerEvent(gMap, 'resize');\n  };\n\n  /**\n   * @ngdoc method\n   * @methodOf pipMapComponent.MapComponentCtrl\n   * @name pipMapComponent.MapComponentCtrl#fitMapToBounds\n   *\n   * @param {google.maps.LatLngBounds} bounds bounds\n   * @link https://developers.google.com/maps/documentation/javascript/reference#LatLngBounds\n   *\n   * @description Fit map to specified bounds\n   */\n  MapComponentCtrl.prototype.fitMapToBounds = function (bounds) {\n    this.pipMapHelperSrv.fitMapToBounds(this.getMapInstance(), bounds);\n  };\n\n\n  /**\n   * @ngdoc method\n   * @methodOf pipMapComponent.MapComponentCtrl\n   * @name pipMapComponent.MapComponentCtrl#showSidePanel\n   * @param {string} template Template url to pass to ng-include directive\n   *\n   * @description Shows side panel\n   */\n  MapComponentCtrl.prototype.showSidePanel = function (template) {\n    this.sidePanel.template = template;\n    this.sidePanel.show = true;\n    this.$timeout(this.updateMapTiles.bind(this));\n  };\n\n\n  /**\n   * @ngdoc method\n   * @methodOf pipMapComponent.MapComponentCtrl\n   * @name pipMapComponent.MapComponentCtrl#hideSidePanel\n   *\n   * @description Hides side panel\n   */\n  MapComponentCtrl.prototype.hideSidePanel = function () {\n    this.sidePanel.template = null;\n    this.sidePanel.show = false;\n    this.$timeout(this.updateMapTiles.bind(this));\n  };\n\n\n  /**\n   * @ngdoc method\n   * @methodOf pipMapComponent.MapComponentCtrl\n   * @name pipMapComponent.MapComponentCtrl#onClick\n   *\n   * @description On click default handler\n   */\n  MapComponentCtrl.prototype.onClick = function () {\n    this.closePopup();\n  };\n\n\n  /**\n   * @ngdoc method\n   * @methodOf pipMapComponent.MapComponentCtrl\n   * @name pipMapComponent.MapComponentCtrl#freeze\n   *\n   * @description Freezes map's pan and zoom with mouse\n   */\n  MapComponentCtrl.prototype.freeze = function () {\n    if (this.isFrozen) {\n      return;\n    }\n\n    this.setMapOptions({\n      draggable: false,\n      disableDoubleClickZoom: true,\n      scrollwheel: false\n    });\n    this.isFrozen = true;\n  };\n\n\n  /**\n   * @ngdoc method\n   * @methodOf pipMapComponent.MapComponentCtrl\n   * @name pipMapComponent.MapComponentCtrl#unfreeze\n   *\n   * @description Unfreezes map's pan and zoom with mouse\n   */\n  MapComponentCtrl.prototype.unfreeze = function () {\n    if (!this.isFrozen) {\n      return;\n    }\n\n    this.setMapOptions({\n      draggable: true,\n      disableDoubleClickZoom: true,\n      scrollwheel: true\n    });\n    this.isFrozen = false;\n  };\n\n\n  /**\n   * @ngdoc method\n   * @methodOf pipMapComponent.MapComponentCtrl\n   * @name pipMapComponent.MapComponentCtrl#setCursor\n   * @param {string} [cursor] Cursor code. If empty - the default behaviour is restored\n   *\n   * @description Overrides cursor for the map or set back default behaviour if cursor is not provided\n   * @todo: I couldn't find any possibility to set a cursor for a map.\n   * We can only set cursor for draggableMap and map dragging.\n   * Also it is possible to set cursors for markers (not polys)\n   */\n  MapComponentCtrl.prototype.setCursor = function (cursor) {\n    this.cursor = cursor;\n  };\n\n\n  /**\n   * @ngdoc method\n   * @methodOf pipMapComponent.MapComponentCtrl\n   * @name pipMapComponent.MapComponentCtrl#setMapOptions\n   * @param {google.maps.MapOptions} options Options to set\n   *\n   * @description Sets map options from given options object\n   */\n  MapComponentCtrl.prototype.setMapOptions = function (options) {\n    var mapInstance = this.getMapInstance();\n    mapInstance.setOptions(options);\n  };\n\n\n  /**\n   * @ngdoc method\n   * @methodOf pipMapComponent.MapComponentCtrl\n   * @name pipMapComponent.MapComponentCtrl#createElementPopup\n   * @param {Object} options Popup options\n   * @returns {Object} Popup instance\n   *\n   * @description Creates popup instance and returns it\n   */\n  MapComponentCtrl.prototype.createElementPopup = function (options) {\n    this.createPopupInstance();\n\n    return this.popup.add(options);\n  };\n\n\n  /**\n   * @ngdoc method\n   * @methodOf pipMapComponent.MapComponentCtrl\n   * @name pipMapComponent.MapComponentCtrl#createPopupInstance\n   *\n   * @description Creates popup instance\n   */\n  MapComponentCtrl.prototype.createPopupInstance = function () {\n    if (this.popup) {\n      return;\n    }\n\n    this.popup = this.MapPopupFct.create();\n  };\n\n\n  /**\n   * @ngdoc method\n   * @methodOf pipMapComponent.MapComponentCtrl\n   * @name pipMapComponent.MapComponentCtrl#closePopup\n   *\n   * @description Closes popup\n   */\n  MapComponentCtrl.prototype.closePopup = function () {\n    if (!this.popup) {\n      return;\n    }\n    console.log('this.popup', this.popup);\n    this.popup.close();\n  };\n\n  function pipMapComponent() {\n    return {\n      strict: 'AE',\n      scope: true,\n      transclude: true,\n      bindToController: {\n        componentOptions: '=pipOptions'\n      },\n      controller: 'MapComponentCtrl',\n      controllerAs: 'ctrl',\n      templateUrl: 'map.html'\n    };\n  }\n\n  angular.module('pipMaps')\n    .controller('MapComponentCtrl', MapComponentCtrl)\n    .directive('pipMap', pipMapComponent);\n})();","\n(() => {\n  'use strict';\n\n  /**\n   * @typedef {Object} Map~eventObj\n   * @property {Object} gModel Google native model passed to event handler\n   * @property {string} eventName Event name\n   * @property {Array} args Arguments passed to the original handler\n   * @property {Object} [model] Model related to an element, fired an event\n   * @property {Object} [position] Clicked position coordinates\n   * @property {Object} [position.latitude] Clicked position latitude\n   * @property {Object} [position.longitude] Clicked position longitude\n   */\n\n\n  /**\n   * @ngdoc service\n   * @name pipMapComponent.mapEventHandlerMixinFct\n   * @description Provides methods for types conversion\n   * @mixin\n   */\n  function mapEventHandlerMixinFct() {\n    /**\n     *  @param {Object} gModel Google element class instance\n     * @param {string} eventName Fired event name\n     * @param {Object|Array} model Element model (settings object like we create here) or 'args'\n     * @param {Array} [args] Arguments passed to google native handler\n     * @returns {Map~eventObj}\n     *\n     * @private\n     * @description Creates event object from arguments\n     * Can be used for both map and model clickers\n     */\n\n    var createEventObjFromHandlerArguments = function (gModel, eventName, model, args) {\n      if (!args || !args.length) {\n        args  = model;\n        model = null;\n      }\n\n      var position = args[0] && args[0].latLng && getPositionFromLatLng(args[0].latLng);\n\n      return {\n        gModel   : gModel,\n        eventName: eventName,\n        args     : args,\n        model    : model,\n        position : position\n      };\n    };\n\n    /**\n     * @param {Object} latLng Google longitude-latitude class instance\n     * @returns {Map~position}\n     *\n     * @private\n     * @description Gets latitude and longitude from latLng instance\n     */\n    var getPositionFromLatLng = function (latLng) {\n      return {\n        latitude : latLng.lat(),\n        longitude: latLng.lng()\n      };\n    };\n\n\n    var mixin = function (postHandler) {\n      postHandler = postHandler || angular.noop;\n\n      return {\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.mapEventHandlerMixinFct\n         * @name pipMapComponent.mapEventHandlerMixinFct#addEventHandler\n         * @param {string} eventName Event name\n         * @param {Function} callback Callback to call\n         *\n         * @returns {Function} Remove handler method\n         * @description Add event handler for given event name\n         */\n        addEventHandler: function (eventName, callback) {\n          var handlerName   = '__onEventOverridden_' + eventName;\n          this[handlerName] = callback;\n\n          return function () {\n            this[handlerName] = null;\n          }.bind(this);\n        },\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.mapEventHandlerMixinFct\n         * @name pipMapComponent.mapEventHandlerMixinFct#onEventHandler\n         * @param {Object} gObject Google map class instance\n         * @param {string} eventName Fired event name\n         * @param {Object|Array} args Model on which event was fired or args\n         * @param {Array} [model] Arguments passed to google native handler\n         *\n         * @description Event handler\n         */\n        onEventHandler: function (gObject, eventName) {\n          var handlerName = '__onEventOverridden_' + eventName;\n          var eventObj    = createEventObjFromHandlerArguments.apply(null, arguments);\n\n          if (angular.isFunction(this[handlerName])) {\n            this[handlerName](eventObj);\n            postHandler();\n\n            return;\n          }\n\n          var defaultHandlerName = 'on' + eventName.charAt(0).toUpperCase() + eventName.slice(1);\n\n          if (angular.isFunction(this[defaultHandlerName])) {\n            this[defaultHandlerName](eventObj);\n            postHandler();\n          }\n        }\n      };\n    };\n\n    return {\n      mixTo: function (obj, $scope) {\n        angular.extend(obj, mixin($scope));\n      }\n    };\n  }\n\n  angular.module('pipMaps')\n    .factory('mapEventHandlerMixinFct', mapEventHandlerMixinFct);\n})();\n","{\n    const config = function (uiGmapGoogleMapApiProvider) {\n        uiGmapGoogleMapApiProvider.configure({\n            key: 'AIzaSyBg6cm-FDBFPWzRcn39AuSHGQSrdtVIjEo',\n            v: '3.23',\n            libraries: 'geometry'\n        });\n    };\n\n    angular.module('pipMaps')\n        .config(config);\n}","interface IMapEditBindings {\n    [key: string]: any;\n\n    overlay: any;\n    onEdit: any;\n    mapOptions: any;\n    showActionPanel: any;\n    actionTypes: any;\n    control: any;\n    disabled: any;\n}\n\nconst MapEditBindings: IMapEditBindings = {\n    overlay: '<pipOverlay',\n    onEdit: '&?pipOnEdit',\n    mapOptions: '=?pipMapOptions',\n    showActionPanel: '<?pipShowActionPanel',\n    actionTypes: '<?pipActionTypes',\n    control: '&?pipControl',\n    disabled: '<?pipDisabled',\n    disabledPolygons: '<?pipDisabledPolygons',\n    disabledPolygonsOptions: '<?pipDisabledPolygonsOptions',\n    disabledPolylines: '<?pipDisabledPolylines',\n    disabledPolylinesOptions: '<?pipDisabledPolylinesOptions',\n    disabledCircles: '<?pipDisabledCircles',\n    disabledCirclesOptions: '<?pipDisabledCirclesOptions'\n}\n\nclass actionTypes {\n    public static clearMap: string = 'clear';\n    public static addCircle: string = 'circle';\n    public static addRectangle: string = 'rectangle';\n    public static addPolygon: string = 'polygon';\n    public static addLine: string = 'line';\n}\n\nclass MapEditChanges implements ng.IOnChangesObject, IMapEditBindings {\n    [key: string]: ng.IChangesObject<any>;\n\n    overlay: ng.IChangesObject<any>;\n    mapOptions: ng.IChangesObject<any>;\n    showActionPanel: ng.IChangesObject<boolean>;\n    actionTypes: ng.IChangesObject<any>;\n    disabled: ng.IChangesObject<boolean>;\n    control: any;\n    onEdit: any;\n}\n\n\nclass MapEditController {\n    public map = {\n        control: {},\n        options: {\n            disableDefaultUI: true,\n            mapTypeId: \"satellite\",\n            panControl: false,\n            zoomControl: false,\n            mapTypeControl: false,\n            streetViewControl: false\n        }\n    };\n    public drawingManagerControl: any = {};\n    public drawingManagerOptions: any = {};\n    public currentOverlay: any = {};\n    public actionTypes: any[];\n\n    public showActionPanel: boolean;\n    public overlay: any;\n    public mapOptions: any;\n    public onEdit: Function;\n    public control: Function;\n    public disabled: boolean;\n\n    private _circleOptions = {\n        fillColor: '#F8E81C',\n        fillOpacity: 0.2,\n        strokeWeight: 3,\n        strokeColor: '#F8E81C',\n        clickable: false,\n        editable: !this.disabled,\n        zIndex: 1\n    };\n    private _polygonOptions = {\n        fillColor: '#F8E81C',\n        fillOpacity: 0.2,\n        strokeWeight: 3,\n        strokeColor: '#F8E81C',\n        clickable: false,\n        editable: !this.disabled,\n        draggable: !this.disabled,\n        zIndex: 1\n    };\n    private _polylineOptions = {\n        strokeWeight: 6,\n        strokeColor: '#F8E81C',\n        clickable: false,\n        editable: !this.disabled,\n        zIndex: 1\n    };\n    private _markerOptions = {\n        icon: {\n            path: 0,\n            scale: 4,\n            strokeWeight: 8,\n            fillColor: '#F8E81C',\n            strokeColor: '#F8E81C',\n            strokeOpacity: 0.9,\n            draggable: !this.disabled\n        }\n    };\n\n    private _rectangleOptions = {\n        fillColor: '#F8E81C',\n        fillOpacity: 0.2,\n        strokeWeight: 3,\n        strokeColor: '#F8E81C',\n        clickable: false,\n        editable: !this.disabled,\n        draggable: !this.disabled,\n        zIndex: 1\n    };\n\n    constructor(\n        private $element: JQuery,\n        private $scope: ng.IScope,\n        private $mdConstant: any,\n        private $document: ng.IDocumentService,\n        private $timeout: ng.ITimeoutService,\n        private uiGmapGoogleMapApi: any\n    ) {\n        $element.addClass('pip-map-edit');\n\n        uiGmapGoogleMapApi.then((maps) => {\n            this.drawingManagerOptions = {\n                drawingControl: false,\n                drawingControlOptions: {\n                    position: google.maps.ControlPosition.TOP_CENTER,\n                    drawingModes: [\n                        google.maps.drawing.OverlayType.CIRCLE,\n                        google.maps.drawing.OverlayType.POLYGON,\n                        google.maps.drawing.OverlayType.POLYLINE\n                    ]\n                },\n                circleOptions: this._circleOptions,\n                polygonOptions: this._polygonOptions,\n                polylineOptions: this._polylineOptions,\n                markerOptions: this._markerOptions,\n                rectangleOptions: this._rectangleOptions\n                \n            };\n        });\n\n        $scope.$watch('$ctrl.map.control.getGMap', () => {\n            if (this.currentOverlay && this.currentOverlay.setMap && _.isFunction(this.map.control['getGMap'])) {\n                this.currentOverlay.setMap(this.map.control['getGMap']());\n                this.fitBounds();\n            }\n        });\n\n        $scope.$watch('$ctrl.mapOptions.embededMap', () => {\n            _.assign(this.map, this.mapOptions);\n        }, true);\n\n        $scope.$watch('$ctrl.mapOptions.isEmbeded', () => {\n            _.assign(this.map, this.mapOptions);\n        });\n\n\n        $scope.$watch('$ctrl.drawingManagerControl.getDrawingManager', (val) => {\n            if (!this.drawingManagerControl.getDrawingManager) {\n                return;\n            }\n\n            google.maps.event.addListener(this.drawingManagerControl.getDrawingManager(), 'overlaycomplete', (e) => {\n                this.drawingManagerControl.getDrawingManager().setDrawingMode(null);\n                this.setOverlay(e.overlay, e.type, false);\n                this.onEditOverlay();\n            });\n\n            google.maps.event.addListener(this.drawingManagerControl.getDrawingManager(), 'drawingmode_changed', () => {\n                if (this.drawingManagerControl.getDrawingManager().getDrawingMode() !== null) {\n                    if (this.currentOverlay && this.currentOverlay.map) this.currentOverlay.setMap(null);\n                }\n            });\n\n            google.maps.event.addDomListener(document, 'keyup', (e) => {\n                const code = (e.keyCode ? e.keyCode : e.which);\n\n                if (code === 27) {\n                    this.drawingManagerControl.getDrawingManager().setDrawingMode(null);\n                }\n\n                if (code === 46) {\n                    this.clearMap();\n                }\n            });\n\n        });\n    }\n\n    public $onDestroy(): void {\n\n    }\n\n    public $onChanges(changes: MapEditChanges): void {\n        if (changes.overlay && changes.overlay.currentValue) {\n            this.setOverlay(this.convertToGoogleMapOverlay(changes.overlay.currentValue), changes.overlay.currentValue.type);\n        }\n\n        if (changes.disabled) {\n            if (this.currentOverlay) {\n                this.currentOverlay.setDraggable(!changes.disabled.currentValue);\n                if (this.currentOverlay.setEditable) this.currentOverlay.setEditable(!changes.disabled.currentValue);\n            }\n        }\n    }\n\n    public $onInit() {\n        angular.extend(this.map, this.mapOptions);\n\n        if (this.control) {\n            this.control({ control: this });\n        }\n    }\n\n    private fitBounds() {\n        if (!this.map.control['getGMap'] || !this.currentOverlay) return;\n\n        switch (this.overlay.type) {\n            case 'circle': {\n                this.map.control['getGMap']().fitBounds(this.currentOverlay.getBounds());\n                break;\n            }\n\n            case 'marker': {\n                if (this.currentOverlay.getPosition) {\n                    this.map.control['getGMap']().panTo(this.currentOverlay.getPosition());\n                }\n                break;\n            }\n\n            case 'rectangle': {\n                this.map.control['getGMap']().fitBounds(this.currentOverlay.getBounds());\n                break;\n            }\n\n            default: {\n                if (this.currentOverlay.getPath().getArray().length > 0) {\n                    var bounds = new google.maps.LatLngBounds();\n                    _.each(this.currentOverlay.getPath().getArray(), (coor) => {\n                        bounds.extend(coor);\n                    });\n                    this.map.control['getGMap']().fitBounds(bounds);\n                }\n            }\n        }\n    }\n\n    private convertToGoogleMapOverlay(overlay) {\n        if (overlay.type === 'polygon') {\n            return this.createPolygon(overlay);\n        }\n\n        if (overlay.type === 'line' || overlay.type === 'polyline') {\n            return this.createPolyline(overlay);\n        }\n\n        if (overlay.type === 'circle') {\n            return this.createCircle(overlay);\n        }\n\n        if (overlay.type === 'marker') {\n            return this.createMarker(overlay);\n        }\n\n        if (overlay.type === 'rectangle') {\n            return this.createRectangle(overlay);\n        }\n    }\n\n    private createMarker(overlay: any) {\n        if ((overlay.pos && overlay.pos.coordinates) || (overlay.latitude && overlay.longitude)) {\n            let centerCoords = {};\n            centerCoords = {\n                lat: overlay.pos.coordinates ? overlay.pos.coordinates[1] : overlay.latitude,\n                lng: overlay.pos.coordinates ? overlay.pos.coordinates[0] : overlay.longitude\n            };\n\n            const marker = new google.maps.Marker(angular.extend(\n                this.getOptionsByType('marker'),\n                { position: centerCoords }\n            ));\n\n            if (this.map.control['getGMap']) marker.setMap(this.map.control['getGMap']());\n\n            return marker;\n        }\n\n        return new google.maps.Circle(this.getOptionsByType('circle'));\n    }\n\n    private createCircle(overlay: any) {\n        if (overlay.center && (overlay.center.coordinates || (overlay.center.latitude && overlay.center.longitude)) && overlay.distance) {\n            let centerCoords = {};\n            centerCoords = {\n                lat: overlay.center.coordinates ? overlay.center.coordinates[1] : overlay.center.latitude,\n                lng: overlay.center.coordinates ? overlay.center.coordinates[0] : overlay.center.longitude\n            };\n\n            const circle = new google.maps.Circle(angular.extend(\n                this.getOptionsByType('circle'),\n                { center: centerCoords, radius: overlay.distance }\n            ));\n\n            if (this.map.control['getGMap']) circle.setMap(this.map.control['getGMap']());\n\n            return circle;\n        }\n\n        return new google.maps.Circle(this.getOptionsByType('circle'));\n    }\n\n    private createPolygon(overlay) {\n        if (overlay.geometry && overlay.geometry.coordinates) {\n            const polygonCoords = [];\n\n            _.each(overlay.geometry.coordinates[0], (coor) => {\n                polygonCoords.push({ lat: coor[1], lng: coor[0] });\n            });\n\n            const polygon = new google.maps.Polygon(angular.extend(\n                this.getOptionsByType('polygon'),\n                { paths: polygonCoords }\n            ));\n\n            if (this.map.control['getGMap']) polygon.setMap(this.map.control['getGMap']());\n\n            return polygon;\n        }\n\n        return new google.maps.Polygon(this.getOptionsByType('polygon'));;\n    }\n\n    private createPolyline(overlay) {\n        if (overlay.geometry && overlay.geometry.coordinates) {\n            const polylineCoords = [];\n\n            _.each(overlay.geometry.coordinates, (coor) => {\n                polylineCoords.push({ lat: coor[1], lng: coor[0] });\n            });\n\n            const polyline = new google.maps.Polyline(angular.extend(\n                this.getOptionsByType('line'),\n                { path: polylineCoords }\n            ));\n\n            if (this.map.control['getGMap']) polyline.setMap(this.map.control['getGMap']());\n\n            return polyline;\n        }\n\n        return new google.maps.Polyline(this.getOptionsByType('line'));\n    }\n\n    private createRectangle(overlay) {\n        if (overlay.bounds) {\n            var rectangleBounds = overlay.bounds;\n            var rectangle = new google.maps.Rectangle(angular.extend(this.getOptionsByType('rectangle'), { bounds: rectangleBounds }));\n\n            if (this.map.control['getGMap'])\n                rectangle.setMap(this.map.control['getGMap']());\n            \n            return rectangle;\n        }\n        return new google.maps.Rectangle(this.getOptionsByType('rectangle'));\n    };\n\n    private getOptionsByType(type: string): any {\n        switch (type) {\n            case 'polygon':\n                return _.cloneDeep(angular.extend(this._polygonOptions, this.getDisableOptions()));\n            case 'circle':\n                return _.cloneDeep(angular.extend(this._circleOptions, this.getDisableOptions()));\n            case 'line':\n                return _.cloneDeep(angular.extend(this._polylineOptions, this.getDisableOptions()));\n            case 'polyline':\n                return _.cloneDeep(angular.extend(this._polylineOptions, this.getDisableOptions()));\n            case 'marker':\n                return _.cloneDeep(angular.extend(this._markerOptions, this.getDisableOptions()));\n            case 'rectangle':\n                return _.cloneDeep(angular.extend(this._rectangleOptions, this.getDisableOptions()));\n        }\n    }\n\n    private getDisableOptions() {\n        return {\n            editable: !this.disabled,\n            draggable: !this.disabled\n        }\n    }\n\n    private setOverlay(overlay, type, fitBounds = true) {\n        if (!overlay) return;\n\n        this.clearMap();\n        this.currentOverlay = overlay || {};\n        this.currentOverlay.type = type;\n        switch (type) {\n            case 'circle': {\n                this.currentOverlay.center_changed = () => {\n                    this.onEditOverlay();\n                };\n\n                this.currentOverlay.radius_changed = () => {\n                    this.onEditOverlay();\n                };\n                break;\n            }\n\n            case 'marker': {\n                if (!this.currentOverlay.addListener) return;\n\n                this.currentOverlay.addListener('position_changed', () => {\n                    this.onEditOverlay();\n                });\n                break;\n            }\n\n            case 'rectangle': {\n                if (!this.currentOverlay.addListener)\n                    return;\n                this.currentOverlay.addListener('bounds_changed', () => {\n                    this.onEditOverlay();\n                });\n                break;\n            }\n\n            default: {\n                if (!this.currentOverlay.getPath) return;\n\n                google.maps.event.addListener(this.currentOverlay.getPath(), 'set_at', () => {\n                    this.onEditOverlay();\n                });\n\n                google.maps.event.addListener(this.currentOverlay.getPath(), 'insert_at', () => {\n                    this.onEditOverlay();\n                });\n            }\n        }\n\n        if (fitBounds) this.fitBounds();\n    }\n\n    private onEditOverlay() {\n        if (this.onEdit) this.onEdit({\n            overlay: this.currentOverlay,\n            bounds: this.currentOverlay && this.currentOverlay.type === 'rectangle' ? {\n                north: this.currentOverlay.getBounds().getNorthEast().lat(),\n                east: this.currentOverlay.getBounds().getNorthEast().lng(),\n                south: this.currentOverlay.getBounds().getSouthWest().lat(),\n                west: this.currentOverlay.getBounds().getSouthWest().lng(),\n            } : {},\n            type: this.currentOverlay ? this.currentOverlay.type : null,\n            path: this.currentOverlay && (this.currentOverlay.type === 'polygon' || this.currentOverlay.type === 'polyline') ? this.currentOverlay.getPath() : [],\n            center: this.currentOverlay && this.currentOverlay.type === 'circle' ?\n                this.currentOverlay.getCenter() : this.currentOverlay && this.currentOverlay.getPosition && this.currentOverlay.type === 'marker' ? this.currentOverlay.getPosition() : {},\n            radius: this.currentOverlay && this.currentOverlay.type === 'circle' ? this.currentOverlay.getRadius() : {}\n        });\n    }\n\n    public showAction(action) {\n        return !this.actionTypes ? true : this.actionTypes.includes(action);\n    }\n\n    public get showPanel() {\n        return this.showActionPanel === false ? false : true;\n    }\n\n    public addCircle() {\n        this.drawingManagerOptions.drawingMode = google.maps.drawing.OverlayType.CIRCLE;\n    }\n\n    public addPolygon() {\n        this.drawingManagerOptions.drawingMode = google.maps.drawing.OverlayType.POLYGON;\n    }\n    \n    public addRectangle() {\n        this.drawingManagerOptions.drawingMode = google.maps.drawing.OverlayType.RECTANGLE;\n    }\n\n    public addLine() {\n        this.drawingManagerOptions.drawingMode = google.maps.drawing.OverlayType.POLYLINE;\n    }\n\n    public addMarker() {\n        this.drawingManagerOptions.drawingMode = google.maps.drawing.OverlayType.MARKER;\n    }\n\n    public clearMap() {\n        this.drawingManagerOptions.drawingMode = null;\n        if (this.currentOverlay && this.currentOverlay.map) {\n            this.currentOverlay.setMap(null);\n            this.currentOverlay = null;\n            this.onEditOverlay();\n        }\n    }\n\n}\n\nlet config = function (uiGmapGoogleMapApiProvider) {\n    uiGmapGoogleMapApiProvider.configure({\n        libraries: 'drawing'\n    });\n};\n\n(() => {\n    angular.module('pipMapsEdit')\n        .component('pipMapEdit', {\n            bindings: MapEditBindings,\n            templateUrl: 'edit/MapEdit.html',\n            controller: MapEditController,\n            controllerAs: '$ctrl'\n        })\n        .config(config);\n})();\n","angular.module('pipMapsEdit', []);\n\nimport './MapEdit';","(function () {\n    'use strict';\n\n    function MapElementsCtrlFct() {\n        /*@ngInject*/\n        /**\n         * @ngdoc Controller\n         * @name pipMapComponent.MapElementsCtrl\n         * @mixes pipMapComponent.mapEventHandlerMixinFct\n         * @constructor\n         *\n         * @description Controller for a map component (directive)\n         */\n        function MapElementsCtrl($injector, $scope) {\n            var mapEventHandlerMixinFct = $injector.get('mapEventHandlerMixinFct');\n            mapEventHandlerMixinFct.mixTo(this, $scope.$applyAsync.bind($scope));\n\n            this.control = {};\n            this.popUpOpened = null;\n            this.pipMapHelperSrv = $injector.get('pipMapHelperSrv');\n            this.uiGmapIsReady = $injector.get('uiGmapIsReady');\n            this.$q = $injector.get('$q');\n        }\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapElementsCtrl\n         * @name pipMapComponent.MapElementsCtrl#$onInit\n         *\n         * @description Init component\n         */\n        MapElementsCtrl.prototype.$onInit = function () {\n            /**\n             * @ngdoc property\n             * @propertyOf pipMapComponent.MapElementsCtrl\n             * @name pipMapComponent.MapElementsCtrl#componentOptions\n             * @type {Object}\n             *\n             * @description Options from outer scope\n             */\n            this.options = angular.merge({}, this.defaultOptions, this.componentOptions);\n            this.models = this.models || [];\n\n            this.externalDblclick = this.options.events && this.options.events.dblclick ? this.options.events.dblclick : angular.noop;\n            this.externalClick = this.options.events && this.options.events.click ? this.options.events.click : angular.noop;\n            this.externalRightclick = this.options.events && this.options.events.rightclick ? this.options.events.rightclick : angular.noop;\n\n            this.events = _.extend(this.options.events,\n                {\n                    dblclick: this.onEventHandler.bind(this),\n                    mousedown: this.onEventHandler.bind(this),\n                    mouseup: this.onEventHandler.bind(this),\n                    rightclick: this.onEventHandler.bind(this),\n                    click: this.onEventHandler.bind(this),\n                    position_changed: (objEvent) => {\n                        this.updatePopupPosition(objEvent);\n                    }\n                });\n        };\n        \n        MapElementsCtrl.prototype.$onDestroy = function () { \n            this.closePopup();\n        };\n\n\n        /**\n         * @ngdoc property\n         * @propertyOf pipMapComponent.MapElementsCtrl\n         * @name pipMapComponent.MapElementsCtrl#defaultOptions\n         * @type {Object}\n         *\n         * @description Default map components\n         */\n        MapElementsCtrl.prototype.defaultOptions = {\n            popup: false,\n            fitBounds: false\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapElementsCtrl\n         * @name pipMapComponent.MapElementsCtrl#init\n         * @param {Object} mapCtrl Instance of the map controller\n         *\n         * @description Init edition\n         */\n        MapElementsCtrl.prototype.init = function (mapCtrl) {\n            this.mapCtrl = mapCtrl;\n            this.initPopup();\n        };\n\n        MapElementsCtrl.prototype.setNewOptions = function (popupOptions) {\n            if (this.popup) this.popup.setNewOptions(popupOptions);\n        };\n\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapElementsCtrl\n         * @name pipMapComponent.MapElementsCtrl#initPopup\n         *\n         * @description Init popup for an element\n         */\n        MapElementsCtrl.prototype.initPopup = function () {\n            if (!this.options.popup) {\n                return;\n            }\n\n            this.options.popup = angular.merge({}, this.options.popup, {\n                onShow: this.onShowPopup.bind(this),\n                onClose: this.onClosePopup.bind(this)\n            });\n\n            this.pipMapHelperSrv.whenReady.then(function () {\n                this.popup = this.mapCtrl.createElementPopup(this.options.popup);\n            }.bind(this));\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapElementsCtrl\n         * @name pipMapComponent.MapElementsCtrl#onShowPopup\n         * @param {Object} model Model to which popup is shown\n         * @param {Object} options Options of the popup\n         *\n         * @description On popup show handler\n         */\n        MapElementsCtrl.prototype.onShowPopup = function () {\n            this.popUpOpened = true;\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapElementsCtrl\n         * @name pipMapComponent.MapElementsCtrl#onClosePopup\n         *\n         * @description On popup close handler\n         */\n        MapElementsCtrl.prototype.onClosePopup = function () {\n            this.popUpOpened = false;\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapElementsCtrl\n         * @name pipMapComponent.MapElementsCtrl#getBoundsToFitAsync\n         * @return {Promise} Promise for getting bounds\n         *\n         * @description Gets bounds from model positions to fit them. Does so async, after map is ready\n         * If options for fitting is switched off - it rejects the promise\n         */\n        MapElementsCtrl.prototype.getBoundsToFitAsync = function () {\n            if (!this.options.fitBounds) {\n                return this.$q.reject('Fit is switched off');\n            }\n\n            return this.uiGmapIsReady.promise()\n                .then(function () {\n                    return this.getBounds();\n                }.bind(this));\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapElementsCtrl\n         * @name pipMapComponent.MapElementsCtrl#getBounds\n         * @return {Object} Bounds for the models\n         *\n         * @description Gets bounds from model positions to fit them\n         */\n        MapElementsCtrl.prototype.getBounds = function () {\n            return this.pipMapHelperSrv.getBoundsFromCoordinates(this.getAllPositions());\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapElementsCtrl\n         * @name pipMapComponent.MapElementsCtrl#getAllPositions\n         * @returns {Array<Object>} Positions for given model or an empty array\n         *\n         * @description Gets model positions array.\n         */\n        MapElementsCtrl.prototype.getAllPositions = function () {\n            if (!angular.isArray(this.models)) {\n                return [];\n            }\n\n            return this.models.map(function (model) {\n                return this.getPosition(model);\n            }, this);\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapElementsCtrl\n         * @name pipMapComponent.MapElementsCtrl#getPosition\n         * @param {Object} model Model to get position for\n         * @returns {Array<Map~position>|<Map~position>} Position for a model\n         *\n         * @description Default maker position getter. We use it if coords is set to 'self'\n         */\n        MapElementsCtrl.prototype.getPosition = function (model) {\n            return {\n                latitude: model.latitude,\n                longitude: model.longitude\n            };\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapElementsCtrl\n         * @name pipMapComponent.MapElementsCtrl#isModelEmpty\n         * @param {Object} model Model to check position for\n         * @returns {boolean} True if current model is empty\n         *\n         * @description Checks whether model is empty\n         */\n        MapElementsCtrl.prototype.isModelEmpty = function (model) {\n            var position = this.getPosition(model);\n            return !position.latitude || !position.longitude;\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapElementsCtrl\n         * @name pipMapComponent.MapElementsCtrl#onClick\n         * @param {Map~eventObj} eventObj Event object\n         *\n         * @description Handler on model click\n         */\n        MapElementsCtrl.prototype.onDblclick = function (eventObj) {\n            this.externalDblclick(eventObj);\n            //this.correctCircleModel(eventObj);\n            //this.togglePopup(eventObj);\n        };\n\n        MapElementsCtrl.prototype.onClick = function (eventObj) {\n            this.externalClick(eventObj);\n            if (this.longClick) {\n                this.correctCircleModel(eventObj);\n                this.togglePopup(eventObj);\n                this.longClick = false;\n            } else {\n                this.closePopup();\n            }\n            \n        };\n\n        MapElementsCtrl.prototype.correctCircleModel = function (eventObj) {\n            if (eventObj.gModel.radius && eventObj.gModel.center) {\n                let model = {};\n\n                _.each(this.models, (m) => {\n                    if (m[this.options.center] && m[this.options.radius]) {\n                        if (m[this.options.center].latitude.toFixed(5) == eventObj.gModel.center.lat().toFixed(5) &&\n                            m[this.options.center].longitude.toFixed(5) == eventObj.gModel.center.lng().toFixed(5) &&\n                            m[this.options.radius].toFixed(5) === eventObj.gModel.radius.toFixed(5)) {\n                            model = m;\n                        }\n                    }\n                });\n\n                eventObj.model = model;\n            }\n        };\n\n        MapElementsCtrl.prototype.onRightclick = function (eventObj) {\n            this.externalRightclick(eventObj);\n            this.correctCircleModel(eventObj);\n            this.togglePopup(eventObj);\n        };\n\n        MapElementsCtrl.prototype.onMousedown = function (eventObj) {\n            this.start = new Date().getTime();\n        };\n\n        MapElementsCtrl.prototype.onMouseup = function (eventObj) {\n            this.end = new Date().getTime();\n            this.longClick = (this.end - this.start > 300);\n        };\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapElementsCtrl\n         * @name pipMapComponent.MapElementsCtrl#togglePopup\n         * @param {Map~eventObj} eventObj Event object\n         *\n         * @description Toggles popup\n         */\n        MapElementsCtrl.prototype.togglePopup = function (eventObj) {\n            if (!this.popup) {\n                return;\n            }\n\n            this.popup.toggle(eventObj);\n        };\n\n        MapElementsCtrl.prototype.closePopup = function (eventObj) {\n            if (!this.popup) {\n                return;\n            }\n\n            this.popup.close();\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapElementsCtrl\n         * @name pipMapComponent.MapElementsCtrl#getModels\n         * @returns {Array<Object>} Array of current models\n         *\n         * @description Returns current models list\n         */\n        MapElementsCtrl.prototype.getModels = function () {\n            return this.models;\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapElementsCtrl\n         * @name pipMapComponent.MapElementsCtrl#checkContainsModel\n         * @param {Object} model Model to check\n         * @returns {boolean} True if contains\n         *\n         * @description Check whether current element contains given model\n         */\n        MapElementsCtrl.prototype.checkContainsModel = function (model) {\n            return this.models.indexOf(model) > -1;\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapElementsCtrl\n         * @name pipMapComponent.MapElementsCtrl#getPlural\n         * @param {*} id Id of the model to get plural for\n         * @returns {Object} Plural model with given id\n         *\n         * @description Returns plural models with given id.\n         */\n        MapElementsCtrl.prototype.getPlural = function (id) {\n            return this.getPlurals().get(id);\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapElementsCtrl\n         * @name pipMapComponent.MapElementsCtrl#getPlurals\n         * @returns {Object} Plural object with methods\n         *\n         * @description Returns plurals models\n         */\n        MapElementsCtrl.prototype.getPlurals = function () {\n            return this.control.getPlurals();\n        };\n\n        MapElementsCtrl.prototype.updatePopupPosition = function (objEvent) {\n            if (this.popUpOpened === objEvent.model.id) {\n                this.popup.setPosition({\n                    latitude: objEvent.position.lat(),\n                    longitude: objEvent.position.lng()\n                });\n            }\n        }\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapElementsCtrl\n         * @name pipMapComponent.MapElementsCtrl#freezeMap\n         *\n         * @description Freezes map\n         */\n        MapElementsCtrl.prototype.freezeMap = function () {\n            return this.mapCtrl.freeze();\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapElementsCtrl\n         * @name pipMapComponent.MapElementsCtrl#unfreezeMap\n         *\n         * @description unfreezes map\n         */\n        MapElementsCtrl.prototype.unfreezeMap = function () {\n            return this.mapCtrl.unfreeze();\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapElementsCtrl\n         * @name pipMapComponent.MapElementsCtrl#setCursor\n         * @param {string} [cursor] Cursor code. If empty - the default behaviour is restored\n         *\n         * @description Overrides cursor for the map or set back default behaviour if cursor is not provided\n         * @todo: This is not used currently. It was developed to able change cursors from actions\n         */\n        MapElementsCtrl.prototype.setCursor = function (cursor) {\n            return this.mapCtrl.setCursor(cursor);\n        };\n\n\n        return MapElementsCtrl;\n    }\n\n    angular.module('pipMapsElements')\n        .factory('MapElementsCtrlFct', MapElementsCtrlFct);\n})();","(function () {\n    'use strict';\n\n    /**\n     * @typedef {Object} Map~PopupBreakpoint\n     * @property {string} name Name of the breakpoint (according to material docs)\n     * @property {number} width Width of the offset\n     * @property {number} height Height of the offset\n     */\n    /**\n     * @ngdoc service\n     * @name pipMapComponent.pipMapElementsFct\n     * @restrict AE\n     *\n     * @scope\n     * @property {Array<Object>} pipModels Models array\n     * @property {Object} pipOptions Options for a map elements\n     * @property {boolean} [pipOptions.fitBounds = true] Whether map fit bounds method should work\n     * @property {boolean|Object} [pipOptions.popup = false] Popup for an element settings.\n     * If set to false - popup is disabled\n     * @property {string} [pipOptions.popup.className] Class name to add to a popup\n     * @property {string} [pipOptions.popup.templateUrl] Template url for a popup\n     * @property {Object} [pipOptions.popup.offset] Offset for a popup from current position\n     * @property {number} [pipOptions.popup.width] Width of the offset\n     * @property {number} [pipOptions.popup.height] Height of the offset\n     * @property {Array.<Map~PopupBreakpoint>} [pipOptions.popup.breakpoints] Breakpoints to change offset for\n     * Array is used for ability to prioritize them. If no breakpoint is matched - default offset is used\n     *\n     * @description\n     * This is a template for a directive.\n     * You SHOULD provide proper 'require', 'controller' and 'template' properties\n     * Also you can decorate anything in it\n     */\n    function pipMapElementsFct($timeout) {\n        return {\n            strict: 'AE',\n            scope: {},\n            require: ['^pipMap', 'pipMapElements'],\n            link: function ($scope, $element, $attrs, $controllers) {\n                var mapCtrl = $controllers[0];\n                var elementController = $controllers[1];\n\n                elementController.init(mapCtrl);\n\n                $scope.$watch('ctrl.models', function (models) {\n                    if (models) {\n                        elementController.getBoundsToFitAsync().then(function (bounds) {\n                            // fix issue with map zooming.\n                            // We need timeout because map is fit bound on this call, but then it fits given zoom and bounds are lost\n                            $timeout(mapCtrl.fitMapToBounds.bind(mapCtrl, bounds), 200);\n                        });\n                    }\n                });\n\n                $scope.$watch('ctrl.componentOptions.popup', (popupOptions) => {\n                    elementController.setNewOptions(popupOptions);\n                }, true);\n            },\n\n            bindToController: {\n                componentOptions: '=pipOptions',\n                models: '=pipModels'\n            },\n\n            controller: 'MapElementsCtrl',\n            controllerAs: 'ctrl',\n            templateUrl: 'elements/map-elements.html'\n        };\n    }\n\n    angular.module('pipMapsElements')\n        .factory('pipMapElementsFct', pipMapElementsFct);\n})();","(function () {\n  'use strict';\n\n  /**\n   * @ngdoc service\n   * @name pipMapComponent.mapElementsRequireFct\n   *\n   * @description Provide methods for requiring elements, detect there controllers and types\n   */\n  function mapElementsRequireFct() {\n    return {\n      /**\n       * @ngdoc property\n       * @propertyOf pipMapComponent.mapElementsRequireFct\n       * @name pipMapComponent.mapElementsRequireFct#elements\n       *\n       * @type {Array<string>}\n       */\n      elements: ['?^pipMapMarkers', '?^pipMapPolylines', '?^pipMapPolygons', '?^pipMapKml'],\n\n\n      /**\n       * @ngdoc method\n       * @methodOf pipMapComponent.mapElementsRequireFct\n       * @name pipMapComponent.mapElementsRequireFct#getType\n       *\n       * @param {Array<Object>} $controllers Controllers instances which were required\n       * @param {number} [startIndex = 0] Index to start searching from\n       * @returns {string} Type of the element on which this directive is used\n       *\n       * @description Detects by controllers names element type on which this directive is being used\n       */\n      getType: function ($controllers, startIndex) {\n        try {\n          return $controllers.slice(startIndex)\n            .map(function (ctrl, index) {\n              return ctrl && this.elements[index];\n            }, this)\n            .filter(function (ctrlName) {\n              return ctrlName;\n            })[0]\n            .replace('?^pipMap', '')\n            .toLowerCase();\n        } catch (e) {\n          throw new Error('pip-map-editable-element can be used only with map elements directives');\n        }\n      },\n\n\n      /**\n       * @ngdoc method\n       * @methodOf pipMapComponent.mapElementsRequireFct\n       * @name pipMapComponent.mapElementsRequireFct#getController\n       *\n       * @param {Array<Object>} $controllers Controllers instances which were required\n       * @param {number} [startIndex = 0] Index to start searching from\n       * @returns {Object} Instance of the controller\n       *\n       * @description Returns element's controllers among other controllers instances\n       */\n      getController: function ($controllers, startIndex) {\n        return $controllers.slice(startIndex)\n          .filter(function (ctrl) {\n            return ctrl;\n          })[0];\n      }\n    };\n  }\n\n  angular.module('pipMapsElements')\n    .factory('mapElementsRequireFct', mapElementsRequireFct);\n})();\n","(function () {\n    'use strict';\n\n    /**\n     * @ngdoc directive\n     * @name pipMapComponent.pipMapCircles\n     * @restrict AE\n     *\n     * @scope\n     * @property {Array<Object>} pipModels Circles array\n     * @property {Object} pipOptions Options for a map circles\n     *\n     * @description  it extends pipMapElementsFct\n     * @see pipMapComponent.pipMapElementsFct\n     */\n\n    function MapCirclesCtrlFct(MapElementsCtrlFct) {\n        /*@ngInject*/\n        /**\n         * @ngdoc Controller\n         * @name pipMapComponent.MapCirclesCtrl\n         * @mixes pipMapComponent.mapEventHandlerMixinFct\n         * @constructor\n         * @extends pipMapComponent.MapElementsCtrl\n         *\n         * @description Controller for a map circles\n         */\n        function MapCirclesCtrl($injector, $scope) {\n            MapElementsCtrlFct.call(this, $injector, $scope);\n            this.$parse = $injector.get('$parse');\n        }\n\n\n        var _super = MapElementsCtrlFct.prototype;\n        MapCirclesCtrl.prototype = Object.create(_super);\n\n\n        /**\n         * @ngdoc property\n         * @propertyOf pipMapComponent.MapCirclesCtrl\n         * @name pipMapComponent.MapCirclesCtrl#defaultOptions\n         * @type {Object}\n         *\n         * @description Default map components\n         */\n        MapCirclesCtrl.prototype.defaultOptions = angular.merge({}, _super.defaultOptions, {\n            stroke: 'stroke',\n            fill: 'fill',\n            radius: 'radius',\n            center: 'center',\n            fitBounds: false\n        });\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapCirclesCtrl\n         * @name pipMapComponent.MapCirclesCtrl#$onInit\n         *\n         * @description Init component\n         */\n        MapCirclesCtrl.prototype.$onInit = function () {\n            _super.$onInit.call(this);\n            this.setPositionGetterSetter();\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapCirclesCtrl\n         * @name pipMapComponent.MapCirclesCtrl#setPositionGetterSetter\n         *\n         * @description Sets getter for coordinates or null if it not needed. Treats options.model.coords\n         */\n        MapCirclesCtrl.prototype.setPositionGetterSetter = function () {\n            var pathProp = this.options.path;\n\n            this.getPosition = this.$parse(pathProp);\n            this.setPosition = this.getPosition.assign;\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapCirclesCtrl\n         * @name pipMapComponent.MapCirclesCtrl#setDefaultPositionsIfNeeded\n         * @param {Object} model Marker to set position for\n         *\n         * @description Checks if current positions is empty and sets default if needed\n         */\n        MapCirclesCtrl.prototype.setDefaultPositionsIfNeeded = function (model) {\n            var positions = this.getPosition(model);\n\n            if (!angular.isArray(positions)) {\n                this.setPosition(model, []);\n            }\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapCirclesCtrl\n         * @name pipMapComponent.MapCirclesCtrl#getAllPositions\n         * @returns {Array<Object>} Positions for given model or an empty array\n         *\n         * @description Gets model positions array.\n         */\n        MapCirclesCtrl.prototype.getAllPositions = function () {\n            var paths = _super.getAllPositions.call(this);\n            return Array.prototype.concat.apply([], paths); //flatten array of arrays\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapCirclesCtrl\n         * @name pipMapComponent.MapCirclesCtrl#setPosition\n         * @param {Object} model Marker to set position for\n         * @param {Array<Map~position>|<Map~position>} position Position to set\n         *\n         * @description Default maker position setter. We use it if coords is set to 'self'\n         */\n        MapCirclesCtrl.prototype.setPosition = function (model, position) {\n            model[this.defaultOptions.center] = position;\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapCirclesCtrl\n         * @name pipMapComponent.MapCirclesCtrl#getPosition\n         * @param {Object} model Marker to get position for\n         * @returns {Array<Map~position>|<Map~position>} Position for a model\n         *\n         * @description Default polygon position getter. We use it if coords is set to 'self'\n         */\n        MapCirclesCtrl.prototype.getPosition = function (model) {\n            return model[this.defaultOptions.center];\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapCirclesCtrl\n         * @name pipMapComponent.MapCirclesCtrl#isModelEmpty\n         * @param {Object} model Model to check position for\n         * @returns {boolean} True if current model is empty\n         *\n         * @description Checks whether model is empty\n         */\n        MapCirclesCtrl.prototype.isModelEmpty = function (model) {\n            var position = this.getPosition(model);\n            return !position;\n        };\n\n\n        return MapCirclesCtrl;\n    }\n\n\n    /**\n     * Create controller\n     */\n    function MapCirclesCtrlBuilder($controller, $scope, MapCirclesCtrlFct) {\n        var instance = $controller(MapCirclesCtrlFct, {\n            $scope: $scope\n        });\n\n        angular.extend(instance, this);\n        instance.$onInit();\n\n        return instance;\n    }\n\n    function pipMapCircles(pipMapElementsFct) {\n        return angular.extend({}, pipMapElementsFct, {\n            require: ['^pipMap', 'pipMapCircles'],\n            controller: 'MapCirclesCtrl',\n            templateUrl: 'elements/circles/map-circles.html'\n        });\n    }\n\n    angular.module('pipMapsElements')\n        .factory('MapCirclesCtrlFct', MapCirclesCtrlFct)\n        .controller('MapCirclesCtrl', MapCirclesCtrlBuilder)\n        .directive('pipMapCircles', pipMapCircles);\n})();","angular.module('pipMapsElements', []);\n\nimport './MapElementControllerService';\nimport './MapElementDirectiveService';\nimport './MapElementRequireService';\n\nimport './kml/MapKml';\nimport './markers/MapMarkers';\nimport './polygons/MapPolygons';\nimport './polylines/MapPolylines';\nimport './circles/MapCircles';","(function () {\n    'use strict';\n\n    /**\n     * @ngdoc directive\n     * @name pipMapComponent.pipMapKml\n     * @restrict AE\n     *\n     * @scope\n     * @property {Array<Object>} pipModels Kml array\n     * @property {Object} pipOptions Options for a map markers\n     * @property {boolean|Object} [pipOptions.connect = false] Connection lines settings\n     * (connect markers or groups together). If set to false - connections are disabled\n     * @property {Object} [pipOptions.connect.stroke] Settings for connections stroke\n     * @property {Object} [pipOptions.connect.icons] Settings for connection icons\n     * @property {Object} [pipOptions.connect.property] Settings for connection data\n     * from which property it should take data to show connections.\n     *\n     * @description  it extends pipMapElementsFct\n     * @see pipMapComponent.pipMapElementsFct\n     */\n\n    function MapKmlCtrlFct(MapElementsCtrlFct) {\n        /*@ngInject*/\n        /**\n         * @ngdoc Controller\n         * @name pipMapComponent.MapKmlCtrl\n         * @mixes pipMapComponent.mapEventHandlerMixinFct\n         * @constructor\n         * @extends pipMapComponent.MapElementsCtrl\n         *\n         * @description Controller for a map KML\n         */\n        function MapKmlCtrl($injector, $scope) {\n            MapElementsCtrlFct.call(this, $injector, $scope);\n\n            this.pipMapHelperSrv = $injector.get('pipMapHelperSrv');\n            this.existingModels = [];\n        }\n\n\n        var _super = MapElementsCtrlFct.prototype;\n        MapKmlCtrl.prototype = Object.create(_super);\n\n\n        /**\n         * @ngdoc property\n         * @propertyOf pipMapComponent.MapKmlCtrl\n         * @name pipMapComponent.MapKmlCtrl#defaultOptions\n         * @type {Object}\n         *\n         * @description Default map components\n         */\n        MapKmlCtrl.prototype.defaultOptions = angular.merge({}, _super.defaultOptions, {\n            layer: {\n                preserveViewport: true,\n                suppressInfoWindows: true\n            }\n        });\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapKmlCtrl\n         * @name pipMapComponent.MapKmlCtrl#getPopupParameters\n         * @returns {Object} Parameters object\n         *\n         * @description Gets parameters object for a popup template\n         * @todo: Check whether this code is actual after moving to one popup instance per map\n         */\n        MapKmlCtrl.prototype.getPopupParameters = function (): any {\n            if (!this.popup.model) {\n                return {};\n            }\n\n            return {\n                model: this.popup.model,\n                position: this.popup.position,\n                meta: this.popup.model.instance.getMetadata()\n            };\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapKmlCtrl\n         * @name pipMapComponent.MapKmlCtrl#update\n         *\n         * @description Updates models\n         */\n        MapKmlCtrl.prototype.update = function () {\n            this.pipMapHelperSrv.whenReady.then(function () {\n                this.removeOldModels();\n                this.addNewModels();\n            }.bind(this));\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapKmlCtrl\n         * @name pipMapComponent.MapKmlCtrl#removeOldModels\n         *\n         * @description Removes old models\n         */\n        MapKmlCtrl.prototype.removeOldModels = function () {\n            this.getOldModels()\n                .forEach(function (model) {\n                    model.instance.setMap(null);\n                    this.deRegisterModel(model);\n                }, this);\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapKmlCtrl\n         * @name pipMapComponent.MapKmlCtrl#getOldModels\n         * @returns {Array<Object>} Old models\n         *\n         * @description Returns old models\n         */\n        MapKmlCtrl.prototype.getOldModels = function () {\n            var newUrls = this.models.map(function (model) {\n                return model.url;\n            });\n\n            return this.existingModels\n                .filter(function (model) {\n                    return newUrls.indexOf(model.url) === -1;\n                });\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapKmlCtrl\n         * @name pipMapComponent.MapKmlCtrl#addNewModels\n         *\n         * @description Adds new models to the map models\n         */\n        MapKmlCtrl.prototype.addNewModels = function () {\n            this.getNewModels()\n                .forEach(function (model) {\n                    var copy = angular.copy(model);\n                    this.addModel(copy);\n                    this.registerModel(copy);\n                    this.addEvents(copy);\n                }, this);\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapKmlCtrl\n         * @name pipMapComponent.MapKmlCtrl#getNewModels\n         * @returns {Array<Object>} New models\n         *\n         * @description Returns array of models to add\n         */\n        MapKmlCtrl.prototype.getNewModels = function () {\n            var existingUrls = this.existingModels.map(function (model) {\n                return model.url;\n            });\n\n            return this.models\n                .filter(function (model) {\n                    return existingUrls.indexOf(model.url) === -1;\n                });\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapKmlCtrl\n         * @name pipMapComponent.MapKmlCtrl#addModel\n         * @param {Object} model Model to add\n         *\n         * @description Adds a model to the map\n         */\n        MapKmlCtrl.prototype.addModel = function (model) {\n            var mapInstance = this.mapCtrl.getMapInstance();\n            var options = angular.merge({\n                map: mapInstance,\n                url: model.url\n            }, this.options.layer);\n\n            model.instance = this.pipMapHelperSrv.createKML(options);\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapKmlCtrl\n         * @name pipMapComponent.MapKmlCtrl#addEvents\n         * @param {Object} model Model to add\n         * @param {Object} model.instance Instance of the model's map element\n         *\n         * @description Adds events to a model\n         */\n        MapKmlCtrl.prototype.addEvents = function (model) {\n            var clickHandler = this.onEvent.bind(this, model, 'click');\n            model.instance.addListener('click', clickHandler);\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapKmlCtrl\n         * @name pipMapComponent.MapKmlCtrl#onEvent\n         * @param {Object} model Model to add\n         * @param {Object} model.instance Instance of the model's map element\n         * @param {string} name Event name\n         *\n         * @description Event handler - adapter between mixin's handler and native events\n         */\n        MapKmlCtrl.prototype.onEvent = function (model, name) {\n            var args = this.copyArguments(arguments, 2);\n            this.onEventHandler(model.instance, name, model, args);\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapKmlCtrl\n         * @name pipMapComponent.MapKmlCtrl#copyArguments\n         *\n         * @param {Arguments} args Arguments array\n         * @param {number} startIndex Starting index for copying\n         * @return {Array} Copied arguments\n         *\n         * @description Copies arguments into an array.\n         * @see https://github.com/petkaantonov/bluebird/wiki/Optimization-killers#3-managing-arguments\n         */\n        MapKmlCtrl.prototype.copyArguments = function (args, startIndex) {\n            var result = [];\n\n            for (var i = 0; i < args.length - startIndex; ++i) {\n                result[i] = args[i + startIndex];\n            }\n\n            return result;\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapKmlCtrl\n         * @name pipMapComponent.MapKmlCtrl#getPopupMetaData\n         * @returns {?Object} Metadata for current model in popup\n         *\n         * @description Returns metadata\n         * @todo: Check whether this code is actual after moving to one popup instance per map\n         */\n        MapKmlCtrl.prototype.getPopupMetaData = function () {\n            return this.popup.model && this.popup.model.instance.getMetadata();\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapKmlCtrl\n         * @name pipMapComponent.MapKmlCtrl#registerModel\n         * @param {Object} model Model to register\n         *\n         * @description Registers model as existing\n         */\n        MapKmlCtrl.prototype.registerModel = function (model) {\n            this.existingModels.push(model);\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapKmlCtrl\n         * @name pipMapComponent.MapKmlCtrl#deRegisterModel\n         * @param {Object} model Model to de-register\n         *\n         * @description De-registers model as existing\n         */\n        MapKmlCtrl.prototype.deRegisterModel = function (model) {\n            var index = this.existingModels.indexOf(model);\n            this.existingModels.splice(index, 1);\n        };\n\n\n        return MapKmlCtrl;\n    }\n\n\n    /**\n     * Create controller\n     */\n    function MapKmlCtrlBuilder($controller, $scope, MapKmlCtrlFct) {\n        var instance = $controller(MapKmlCtrlFct, {\n            $scope: $scope\n        });\n\n        angular.extend(instance, this);\n        instance.$onInit();\n\n        return instance;\n    }\n\n\n    function pipMapKml(pipMapElementsFct) {\n        var definition = angular.extend({}, pipMapElementsFct, {\n            require: ['^pipMap', 'pipMapKml'],\n            controller: 'MapKmlCtrl',\n            templateUrl: 'elements/kml/map-kml.html'\n        });\n\n        var link = definition.link;\n        definition.link = function ($scope, $element, $attrs, $controllers) {\n            link.apply(this, arguments);\n\n            var mapCtrl = $controllers[0];\n            var elementController = $controllers[1];\n\n            elementController.mapCtrl = mapCtrl;\n            $scope.$watchCollection('ctrl.models', function (models) {\n                if (models) {\n                    elementController.update();\n                }\n            });\n        };\n\n        return definition;\n    }\n\n    angular.module('pipMapsElements')\n        .directive('pipMapKml', pipMapKml)\n        .factory('MapKmlCtrlFct', MapKmlCtrlFct)\n        .controller('MapKmlCtrl', MapKmlCtrlBuilder);\n})();","(function () {\n    'use strict';\n\n    /**\n     * @ngdoc directive\n     * @name pipMapComponent.pipMapMarkers\n     * @restrict AE\n     *\n     * @scope\n     * @property {Array<Object>} pipModels Markers array\n     * @property {Object} pipOptions Options for a map markers\n     * @property {boolean|Object} [pipOptions.connect = false] Connection lines settings\n     * (connect markers or groups together). If set to false - connections are disabled\n     * @property {Object} [pipOptions.connect.stroke] Settings for connections stroke\n     * @property {Object} [pipOptions.connect.icons] Settings for connection icons\n     * @property {Object} [pipOptions.connect.property] Settings for connection data\n     * from which property it should take data to show connections.\n     *\n     * @description  it extends pipMapElementsFct\n     * @see pipMapComponent.pipMapElementsFct\n     */\n\n    function MapMarkersCtrlFct(MapElementsCtrlFct) {\n        /*@ngInject*/\n        /**\n         * @ngdoc Controller\n         * @name pipMapComponent.MapMarkersCtrl\n         * @mixes pipMapComponent.mapEventHandlerMixinFct\n         * @constructor\n         * @extends pipMapComponent.MapElementsCtrl\n         *\n         * @description Controller for a map marker\n         */\n        function MapMarkersCtrl($injector, $scope) {\n            MapElementsCtrlFct.call(this, $injector, $scope);\n\n            this.$parse = $injector.get('$parse');\n            this.pipMapHelperSrv = $injector.get('pipMapHelperSrv');\n        }\n\n\n        var _super = MapElementsCtrlFct.prototype;\n        MapMarkersCtrl.prototype = Object.create(_super);\n\n\n        /**\n         * @ngdoc property\n         * @propertyOf pipMapComponent.MapMarkersCtrl\n         * @name pipMapComponent.MapMarkersCtrl#defaultOptions\n         * @type {Object}\n         *\n         * @description Default map components\n         */\n        MapMarkersCtrl.prototype.defaultOptions = angular.merge({}, _super.defaultOptions, {\n            model: {\n                coords: 'self',\n                icon: 'icon'\n            },\n            connect: false\n        });\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapMarkersCtrl\n         * @name pipMapComponent.MapMarkersCtrl#$onInit\n         *\n         * @description Init component\n         */\n        MapMarkersCtrl.prototype.$onInit = function () {\n            _super.$onInit.call(this);\n            this.setPositionGetterSetter();\n            this.initConnect();\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapMarkersCtrl\n         * @name pipMapComponent.MapMarkersCtrl#initConnect\n         *\n         * @description Init polyline configuration for connections\n         */\n        MapMarkersCtrl.prototype.initConnect = function () {\n            if (!this.options.connect) {\n                return;\n            }\n\n            var options = this.options.connect;\n\n            this.connect = angular.merge({\n                show: true\n            }, options);\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapMarkersCtrl\n         * @name pipMapComponent.MapMarkersCtrl#setPositionGetterSetter\n         *\n         * @description Sets getter for coordinates or null if it not needed. Treats options.model.coords\n         */\n        MapMarkersCtrl.prototype.setPositionGetterSetter = function () {\n            var coordsProp = this.options.model.coords;\n\n            if (coordsProp === 'self') { // take object with coordinates\n                return;\n            }\n\n            this.getPosition = this.$parse(coordsProp);\n            this.setPosition = this.getPosition.assign;\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapMarkersCtrl\n         * @name pipMapComponent.MapMarkersCtrl#setPosition\n         * @param {Object} model Marker to set position for\n         * @param {Array<Map~position>|<Map~position>} position Position to set\n         *\n         * @description Default maker position setter. We use it if coords is set to 'self'\n         */\n        MapMarkersCtrl.prototype.setPosition = function (model, position) {\n            angular.extend(model, position);\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapMarkersCtrl\n         * @name pipMapComponent.MapMarkersCtrl#onShowPopup\n         * @param {Object} model Model to which popup is shown\n         *\n         * @description Closes popup window and clears related data\n         */\n        MapMarkersCtrl.prototype.onShowPopup = function (model) {\n            //this.resetIconActive();\n            this.popUpOpened = model.id;\n            if (!this.options.popup.options.setPosition) {\n                return;\n            }\n\n            //this.setIconActive(model);\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapMarkersCtrl\n         * @name pipMapComponent.MapMarkersCtrl#onClosePopup\n         *\n         * @description Closes popup window and clears related data\n         */\n        MapMarkersCtrl.prototype.onClosePopup = function () {\n            //this.resetIconActive();\n            this.popUpOpened = null;\n        };\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapMarkersCtrl\n         * @name pipMapComponent.MapMarkersCtrl#setIconActive\n         * @param {Object} model Model to set icon for\n         *\n         * @description Sets icon for the marker active\n         */\n        MapMarkersCtrl.prototype.setIconActive = function (model) {\n            if (!model || !model.icon) {\n                return;\n            }\n\n            this.popupModel = model;\n            this.pipMapHelperSrv.setIcon(this.popupModel.icon, true);\n        };\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapMarkersCtrl\n         * @name pipMapComponent.MapMarkersCtrl#resetIconActive\n         *\n         * @description Sets icon for the marker inactive\n         */\n        MapMarkersCtrl.prototype.resetIconActive = function () {\n            if (!this.popupModel || !this.popupModel.icon) {\n                return;\n            }\n\n            this.pipMapHelperSrv.setIcon(this.popupModel.icon, false);\n            this.popupModel = null;\n        };\n\n        return MapMarkersCtrl;\n    }\n\n    /**\n     * Create controller\n     */\n    function MapMarkersCtrlBuilder($controller, $scope, MapMarkersCtrlFct) {\n        var instance = $controller(MapMarkersCtrlFct, {\n            $scope: $scope\n        });\n\n        angular.extend(instance, this);\n        instance.$onInit();\n\n        return instance;\n    }\n\n    function pipMapMarkers(pipMapElementsFct) {\n        return angular.extend({}, pipMapElementsFct, {\n            require: ['^pipMap', 'pipMapMarkers'],\n            controller: 'MapMarkersCtrl',\n            templateUrl: 'elements/markers/map-markers.html'\n        });\n    }\n\n    angular.module('pipMapsElements')\n        .factory('MapMarkersCtrlFct', MapMarkersCtrlFct)\n        .controller('MapMarkersCtrl', MapMarkersCtrlBuilder)\n        .directive('pipMapMarkers', pipMapMarkers);\n})();","(function () {\n    'use strict';\n\n    /**\n     * @ngdoc directive\n     * @name pipMapComponent.pipMapPolygons\n     * @restrict AE\n     *\n     * @scope\n     * @property {Array<Object>} pipModels Polygons array\n     * @property {Object} pipOptions Options for a map polygons\n     *\n     * @description  it extends pipMapElementsFct\n     * @see pipMapComponent.pipMapElementsFct\n     */\n\n    function MapPolygonsCtrlFct(MapElementsCtrlFct) {\n        /*@ngInject*/\n        /**\n         * @ngdoc Controller\n         * @name pipMapComponent.MapPolygonsCtrl\n         * @mixes pipMapComponent.mapEventHandlerMixinFct\n         * @constructor\n         * @extends pipMapComponent.MapElementsCtrl\n         *\n         * @description Controller for a map polygons\n         */\n        function MapPolygonsCtrl($injector, $scope) {\n            MapElementsCtrlFct.call(this, $injector, $scope);\n            this.$parse = $injector.get('$parse');\n        }\n\n\n        var _super = MapElementsCtrlFct.prototype;\n        MapPolygonsCtrl.prototype = Object.create(_super);\n\n\n        /**\n         * @ngdoc property\n         * @propertyOf pipMapComponent.MapPolygonsCtrl\n         * @name pipMapComponent.MapPolygonsCtrl#defaultOptions\n         * @type {Object}\n         *\n         * @description Default map components\n         */\n        MapPolygonsCtrl.prototype.defaultOptions = angular.merge({}, _super.defaultOptions, {\n            path: 'path',\n            stroke: {\n                color: '#ff6262',\n                weight: 5\n            },\n            fitBounds: false\n        });\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapPolygonsCtrl\n         * @name pipMapComponent.MapPolygonsCtrl#$onInit\n         *\n         * @description Init component\n         */\n        MapPolygonsCtrl.prototype.$onInit = function () {\n            _super.$onInit.call(this);\n            this.setPositionGetterSetter();\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapPolygonsCtrl\n         * @name pipMapComponent.MapPolygonsCtrl#setPositionGetterSetter\n         *\n         * @description Sets getter for coordinates or null if it not needed. Treats options.model.coords\n         */\n        MapPolygonsCtrl.prototype.setPositionGetterSetter = function () {\n            var pathProp = this.options.path;\n\n            this.getPosition = this.$parse(pathProp);\n            this.setPosition = this.getPosition.assign;\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapPolygonsCtrl\n         * @name pipMapComponent.MapPolygonsCtrl#setDefaultPositionsIfNeeded\n         * @param {Object} model Marker to set position for\n         *\n         * @description Checks if current positions is empty and sets default if needed\n         */\n        MapPolygonsCtrl.prototype.setDefaultPositionsIfNeeded = function (model) {\n            var positions = this.getPosition(model);\n\n            if (!angular.isArray(positions)) {\n                this.setPosition(model, []);\n            }\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapPolygonsCtrl\n         * @name pipMapComponent.MapPolygonsCtrl#getAllPositions\n         * @returns {Array<Object>} Positions for given model or an empty array\n         *\n         * @description Gets model positions array.\n         */\n        MapPolygonsCtrl.prototype.getAllPositions = function () {\n            var paths = _super.getAllPositions.call(this);\n            return Array.prototype.concat.apply([], paths); //flatten array of arrays\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapPolygonsCtrl\n         * @name pipMapComponent.MapPolygonsCtrl#setPosition\n         * @param {Object} model Marker to set position for\n         * @param {Array<Map~position>|<Map~position>} position Position to set\n         *\n         * @description Default maker position setter. We use it if coords is set to 'self'\n         */\n        MapPolygonsCtrl.prototype.setPosition = function (model, position) {\n            model[this.defaultOptions.path] = position;\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapPolygonsCtrl\n         * @name pipMapComponent.MapPolygonsCtrl#getPosition\n         * @param {Object} model Marker to get position for\n         * @returns {Array<Map~position>|<Map~position>} Position for a model\n         *\n         * @description Default polygon position getter. We use it if coords is set to 'self'\n         */\n        MapPolygonsCtrl.prototype.getPosition = function (model) {\n            return model[this.defaultOptions.path];\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapPolygonsCtrl\n         * @name pipMapComponent.MapPolygonsCtrl#isModelEmpty\n         * @param {Object} model Model to check position for\n         * @returns {boolean} True if current model is empty\n         *\n         * @description Checks whether model is empty\n         */\n        MapPolygonsCtrl.prototype.isModelEmpty = function (model) {\n            var position = this.getPosition(model);\n            return !position || !position.length || !position[0].latitude || !position[0].longitude;\n        };\n\n\n        return MapPolygonsCtrl;\n    }\n\n\n    /**\n     * Create controller\n     */\n    function MapPolygonsCtrlBuilder($controller, $scope, MapPolygonsCtrlFct) {\n        var instance = $controller(MapPolygonsCtrlFct, {\n            $scope: $scope\n        });\n\n        angular.extend(instance, this);\n        instance.$onInit();\n\n        return instance;\n    }\n\n    function pipMapPolygons(pipMapElementsFct) {\n        return angular.extend({}, pipMapElementsFct, {\n            require: ['^pipMap', 'pipMapPolygons'],\n            controller: 'MapPolygonsCtrl',\n            templateUrl: 'elements/polygons/map-polygons.html'\n        });\n    }\n\n    angular.module('pipMapsElements')\n        .factory('MapPolygonsCtrlFct', MapPolygonsCtrlFct)\n        .controller('MapPolygonsCtrl', MapPolygonsCtrlBuilder)\n        .directive('pipMapPolygons', pipMapPolygons);\n})();","(function () {\n    'use strict';\n\n    /**\n     * @ngdoc directive\n     * @name pipMapComponent.pipMapPolylines\n     * @restrict AE\n     *\n     * @scope\n     * @property {Array<Object>} pipModels Polylines array\n     * @property {Object} pipOptions Options for a map polylines\n     *\n     * @description  it extends pipMapElementsFct\n     * @see pipMapComponent.pipMapElementsFct\n     */\n\n    function MapPolylinesCtrlFct(MapPolygonsCtrlFct) {\n        /*@ngInject*/\n        /**\n         * @ngdoc Controller\n         * @name pipMapComponent.MapPolylinesCtrl\n         * @mixes pipMapComponent.mapEventHandlerMixinFct\n         * @constructor\n         * @extends pipMapComponent.MapPolygonsCtrl\n         * @description Controller for a map polylines\n         */\n        function MapPolylinesCtrl($injector, $scope) {\n            MapPolygonsCtrlFct.call(this, $injector, $scope);\n        }\n\n\n        var _super = MapPolygonsCtrlFct.prototype;\n        MapPolylinesCtrl.prototype = Object.create(_super);\n\n\n        /**\n         * @ngdoc property\n         * @propertyOf pipMapComponent.MapPolylinesCtrl\n         * @name pipMapComponent.MapPolylinesCtrl#defaultOptions\n         * @type {Object}\n         * @description Default map components\n         */\n        MapPolylinesCtrl.prototype.defaultOptions = angular.merge({}, _super.defaultOptions, {});\n\n\n        return MapPolylinesCtrl;\n    }\n\n    /**\n     * Create controller\n     */\n    function MapPolylinesCtrlBuilder($controller, $scope, MapPolylinesCtrlFct) {\n        var instance = $controller(MapPolylinesCtrlFct, {\n            $scope: $scope\n        });\n\n        angular.extend(instance, this);\n        instance.$onInit();\n\n        return instance;\n    }\n\n    function pipMapPolylines(pipMapElementsFct) {\n        return angular.extend({}, pipMapElementsFct, {\n            require: ['^pipMap', 'pipMapPolylines'],\n            controller: 'MapPolylinesCtrl',\n            templateUrl: 'elements/polylines/map-polylines.html'\n        });\n    }\n\n    angular.module('pipMapsElements')\n        .factory('MapPolylinesCtrlFct', MapPolylinesCtrlFct)\n        .controller('MapPolylinesCtrl', MapPolylinesCtrlBuilder)\n        .directive('pipMapPolylines', pipMapPolylines);\n})();","\n(() => {\n  'use strict';\n\n  function MapElementPopupFct($injector) {\n    var pipMapHelperSrv = $injector.get('pipMapHelperSrv');\n    var $rootScope = $injector.get('$rootScope');\n\n    /**\n     * @ngdoc service\n     * @name pipMapComponent.MapElementPopupFct\n     *\n     * @class\n     * @description Element popup class\n     */\n    function MapElementPopupFct(options) {\n      var er = new Error();\n      var offset = pipMapHelperSrv.createSize(options.offset.width, options.offset.height);\n\n      this.options = angular.merge({\n        boxClass: 'pip-map-info-window ' + options.className,\n        closeBoxURL: '',\n        pixelOffset: offset\n      }, options.options);\n\n      this.templateUrl = options.templateUrl;\n\n      this.onShow = options.onShow;\n      this.onClose = options.onClose;\n\n      this.initBreakpoints(options.offset.breakpoints);\n    }\n\n\n    /**\n     * @ngdoc method\n     * @methodOf pipMapComponent.MapElementPopupFct\n     * @name pipMapComponent.MapElementPopupFct#initBreakpoints\n     * @private\n     *\n     * @param {Array<Object>} breakpoints Array of breakpoint to init\n     *\n     * @description Init popup breakpoints if any\n     */\n    MapElementPopupFct.prototype.initBreakpoints = function (breakpoints) {\n      breakpoints = breakpoints || [];\n\n      this.breakpoints = breakpoints.map(function (breakpoint) {\n        return {\n          name: breakpoint.name,\n          offset: pipMapHelperSrv.createSize(breakpoint.width, breakpoint.height)\n        };\n      }, this);\n\n      this.defaultOffset = this.options.pixelOffset;\n    };\n\n    MapElementPopupFct.prototype.setNewOptions = function (options) {\n      var offset = pipMapHelperSrv.createSize(options.offset.width, options.offset.height);\n\n      this.options = angular.merge({\n        boxClass: 'pip-map-info-window ' + options.className,\n        closeBoxURL: '',\n        pixelOffset: offset\n      }, options.options);\n\n      this.initBreakpoints(options.offset.breakpoints);\n      this.fitOffset();\n    }\n\n\n    /**\n     * @ngdoc method\n     * @methodOf pipMapComponent.MapElementPopupFct\n     * @name pipMapComponent.MapElementPopupFct#close\n     *\n     * @description Closes element popup\n     */\n    MapElementPopupFct.prototype.close = function () {\n      this.onClose();\n    };\n\n\n    /**\n     * @ngdoc method\n     * @methodOf pipMapComponent.MapElementPopupFct\n     * @name pipMapComponent.MapElementPopupFct#show\n     * @param {Object} model to show popup for\n     *\n     * @description Shows element popup\n     */\n    MapElementPopupFct.prototype.show = function (model) {\n      this.onShow(model);\n      this.fitOffset();\n    };\n\n\n    /**\n     * @ngdoc method\n     * @methodOf pipMapComponent.MapElementPopupFct\n     * @name pipMapComponent.MapElementPopupFct#setPosition\n     *\n     * @description Sets position of the element popup\n     */\n    MapElementPopupFct.prototype.setPosition = function () {\n      this.fitOffset();\n    };\n\n\n    /**\n     * @ngdoc method\n     * @methodOf pipMapComponent.MapElementPopupFct\n     * @name pipMapComponent.MapElementPopupFct#fitOffset\n     *\n     * @description\n     */\n    MapElementPopupFct.prototype.fitOffset = function () {\n      var hasBreakpoint = this.breakpoints.some(function (breakpoint) {\n        var isTargetBreakpoint = $rootScope.utils.hasBreakpoint(breakpoint.name);\n\n        if (isTargetBreakpoint) {\n          this.options.pixelOffset = breakpoint.offset;\n          return true;\n        }\n      }, this);\n\n      if (!hasBreakpoint) {\n        this.options.pixelOffset = this.defaultOffset;\n      }\n    };\n\n\n    return {\n      /**\n       * @ngdoc method\n       * @methodOf pipMapComponent.MapElementPopupFct\n       * @name pipMapComponent.MapElementPopupFct#fitOffset\n       * @static\n       *\n       * @description\n       */\n      create: function (options) {\n        return new MapElementPopupFct(options);\n      }\n    };\n  }\n\n  angular.module('pipMapsPopup')\n    .factory('MapElementPopupFct', MapElementPopupFct);\n\n})();\n","(() => {\n    'use strict';\n\n    /**\n     * @ngdoc directive\n     * @name pipMapComponent.mapPopup\n     * @restrict A\n     *\n     * @description Directive for popup for map elements. Also treats editable elements properly\n     */\n    function mapPopup() {\n        return {\n            strict: 'A',\n            scope: {\n                popup: '=pipMapPopup'\n            },\n            templateUrl: 'popup/map-popup.html'\n        };\n    }\n\n    angular.module('pipMapsPopup')\n        .directive('pipMapPopup', mapPopup);\n})();","(() => {\n  'use strict';\n\n  /**\n   * @ngdoc directive\n   * @name pipMapComponent.mapPopupContent\n   * @restrict AE\n   *\n   * @description Directive for basic popup content. Transcluded.\n   */\n  function mapPopupContent() {\n    return {\n      strict     : 'AE',\n      transclude : true,\n      templateUrl: 'popup/map-popup-content.html'\n    };\n  }\n\n  angular.module('pipMapsPopup')\n    .directive('pipMapPopupContent', mapPopupContent);\n})();\n","(() => {\n    'use strict';\n\n    function MapPopupFct($injector) {\n        var MapElementPopup = $injector.get('MapElementPopupFct');\n        var $rootScope = $injector.get('$rootScope');\n        var $timeout = $injector.get('$timeout');\n\n        /**\n         * @ngdoc service\n         * @name pipMapComponent.MapPopupFct\n         *\n         * @description Controller for popup for map elements directive\n         */\n        function MapPopupFct() {\n            this.elements = [];\n        }\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapPopupFct\n         * @name pipMapComponent.MapPopupFct#add\n         *\n         * @param {Object} options Popup options\n         * @returns {Object}\n         *\n         * @description Init popup configuration\n         */\n        MapPopupFct.prototype.add = function (options) {\n            var element = MapElementPopup.create(options);\n            this.elements.push(element);\n\n            return {\n                toggle: this.toggle.bind(this, element),\n                close: this.close.bind(this, element),\n                setPosition: (position) => {\n                    if (this.element.options.updatePosition === false) return;\n\n                    this.position = position;\n                },\n                setNewOptions: (options) => {\n                    element.setNewOptions(options);\n                }\n            };\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapPopupFct\n         * @name pipMapComponent.MapPopupFct#toggle\n         *\n         * @param {pipMapComponent.MapElementPopupFct} element Element popup to show\n         * @param {Map~eventObj} eventObj Event object for popup\n         *\n         * @description Toggles popup\n         */\n        MapPopupFct.prototype.toggle = function (element, eventObj) {\n            if (this.isNewModel(eventObj)) {\n                // if (this.element !== element) {\n                this.close();\n\n                this.element = element;\n                $timeout(function () {\n                    this.show(element);\n                }.bind(this), 10); //magic number to let info-popup-window to be destroyed and init once again\n                // }\n\n                this.setPosition(eventObj);\n                return;\n            }\n\n            this.close();\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapPopupFct\n         * @name pipMapComponent.MapPopupFct#isNewModel\n         *\n         * @param {Map~eventObj} eventObj Event object for popup\n         * @returns {boolean} true if new\n         *\n         * @description Checks whether this is new popup to show\n         */\n        MapPopupFct.prototype.isNewModel = function (eventObj) {\n            return this.model !== eventObj.model;\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapPopupFct\n         * @name pipMapComponent.MapPopupFct#show\n         *\n         * @param {pipMapComponent.MapElementPopupFct} element Element popup to show\n         *\n         * @description Shows popup for an element with given event object\n         */\n        MapPopupFct.prototype.show = function (element) {\n            if (!this.model || !this.position) {\n                return;\n            }\n\n            this.isEnabled = true;\n\n            this.setBreakpointHandler(element);\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapPopupFct\n         * @name pipMapComponent.MapPopupFct#setPosition\n         *\n         * @param {Map~eventObj} eventObj Event for showing popup\n         *\n         * @description Closes popup window and clears related data\n         */\n        MapPopupFct.prototype.setPosition = function (eventObj) {\n            this.position = this.getPosition(eventObj);\n            this.model = eventObj.model;\n            this.element.show(this.model);\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapPopupFct\n         * @name pipMapComponent.MapPopupFct#setBreakpointHandler\n         * @param {pipMapComponent.MapElementPopupFct} element Element popup to show\n         *\n         * @description Sets breakpoint handler\n         */\n        MapPopupFct.prototype.setBreakpointHandler = function (element) {\n            this.removeBreakpointHandler = $rootScope.$on('pipMainLayoutResized', element.setPosition.bind(element));\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapPopupFct\n         * @name pipMapComponent.MapPopupFct#resetBreakpointHandler\n         *\n         * @description Resets breakpoint handler\n         */\n        MapPopupFct.prototype.resetBreakpointHandler = function () {\n            if (this.removeBreakpointHandler) this.removeBreakpointHandler();\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapPopupFct\n         * @name pipMapComponent.MapPopupFct#close\n         *\n         * @description Closes popup window and clears related data\n         */\n        MapPopupFct.prototype.close = function () {\n            if (!this.element) {\n                return;\n            }\n\n            this.element.close();\n\n            this.resetBreakpointHandler();\n\n            this.model = null;\n            this.isEnabled = false;\n            this.position = null;\n            this.element = null;\n        };\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapPopupFct\n         * @name pipMapComponent.MapPopupFct#getPosition\n         * @private\n         *\n         * @param {Map~eventObj} eventObj Event for showing popup\n         *\n         * @description Gets position for a popup\n         */\n        MapPopupFct.prototype.getPosition = function (eventObj) {\n            return eventObj.position;\n        };\n\n\n        return {\n            /**\n             * @ngdoc method\n             * @methodOf pipMapComponent.MapPopupFct\n             * @name pipMapComponent.MapPopupFct#create\n             * @returns {pipMapComponent.MapPopupFct} Popup service instance\n             *\n             * @static\n             * @description Creates popup service instance\n             */\n            create: function () {\n                return new MapPopupFct();\n            }\n        };\n    }\n\n    angular.module('pipMapsPopup')\n        .factory('MapPopupFct', MapPopupFct);\n})();","{\n    angular.module('pipMapsPopup', []);\n}\n\nimport './MapElementPopupService';\nimport './MapPopup';\nimport './MapPopupContent';\nimport './MapPopupService';","(function(module) {\ntry {\n  module = angular.module('pipMaps.Templates');\n} catch (e) {\n  module = angular.module('pipMaps.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('map.html',\n    '<div class=\"pip-map-side-panel flex-fixed flex-order-1\" ng-if=\"ctrl.sidePanel.show\"><ng-include src=\"ctrl.sidePanel.template\"></ng-include></div><ui-gmap-google-map class=\"flex pip-map-provider-wrapper\" control=\"ctrl.componentOptions.control\" center=\"ctrl.map.center\" zoom=\"ctrl.map.zoom\" options=\"ctrl.map.options\" bounds=\"ctrl.map.bounds\" events=\"ctrl.map.events\"><div pip-map-popup=\"ctrl.popup\" ng-if=\"ctrl.popup\"></div><ng-transclude></ng-transclude></ui-gmap-google-map>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipMaps.Templates');\n} catch (e) {\n  module = angular.module('pipMaps.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('edit/MapEdit.html',\n    '<pip-map pip-options=\"$ctrl.map\"><ui-gmap-drawing-manager options=\"$ctrl.drawingManagerOptions\" control=\"$ctrl.drawingManagerControl\"></ui-gmap-drawing-manager><pip-map-polygons pip-models=\"$ctrl.disabledPolygons\" pip-options=\"$ctrl.disabledPolygonsOptions\"></pip-map-polygons><pip-map-polylines pip-models=\"$ctrl.disabledPolylines\" pip-options=\"$ctrl.disabledPolylinesOptions\"></pip-map-polylines><pip-map-circles pip-models=\"$ctrl.disabledCircles\" pip-options=\"$ctrl.disabledCirclesOptions\"></pip-map-circles></pip-map><div class=\"action-panel w-stretch layout-row layout-align-center-center\" ng-if=\"$ctrl.showPanel\"><div class=\"action-buttons color-primary-bg flex-fixed\"><md-button ng-click=\"$ctrl.clearMap()\" ng-if=\"$ctrl.showAction(\\'clear\\')\">{{ \\'CLEAR_MAP\\' | translate }}</md-button><md-button ng-click=\"$ctrl.addCircle()\" ng-if=\"$ctrl.showAction(\\'circle\\')\">{{ \\'ADD_CIRCLE\\' | translate }}</md-button><md-button ng-click=\"$ctrl.addPolygon()\" ng-if=\"$ctrl.showAction(\\'polygon\\')\">{{ \\'ADD_POLYGON\\' | translate }}</md-button><md-button ng-click=\"$ctrl.addLine()\" ng-if=\"$ctrl.showAction(\\'line\\')\">{{ \\'ADD_LINE\\' | translate }}</md-button></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipMaps.Templates');\n} catch (e) {\n  module = angular.module('pipMaps.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('edit_old/map-edit-tool.html',\n    '<div layout=\"column\" class=\"pip-map-edit-tool theme-text-primary\" ng-init=\"currentElement = editCtrl.currentElement; tool = currentElement.tool; model = tool.currentModel\"><header hide-xs=\"\" class=\"pip-map-edit-header\" layout=\"column\" layout-align=\"space-between\"><h2 class=\"md-title\">{{:: currentElement.getEditTitle() }}</h2><div class=\"pip-map-edit-actions\" layout=\"row\"><span class=\"pip-map-edit-actions-block-main\"><md-button ng-click=\"tool.undo()\" ng-disabled=\"tool.isUndoDisabled()\"><md-icon md-svg-icon=\"map:undo\" aria-label=\"Undo\"></md-icon></md-button></span><md-divider></md-divider><span class=\"pip-map-edit-actions-block-tool\"><md-button ng-repeat=\"action in tool.actions\" ng-disabled=\"tool.isActionDisabled(action)\" ng-click=\"tool.setAction(action)\"><md-icon md-svg-icon=\"{{:: action.definition.icon }}\" aria-label=\"{{:: action.definition.name }}\" ng-class=\"{ active: tool.isActionActive(action) }\"></md-icon></md-button></span></div></header><header hide-gt-xs=\"\" class=\"pip-map-edit-header\" layout=\"column\" layout-align=\"space-between\"><form name=\"editCtrl.modelForm\" ng-include=\"editCtrl.currentElement.tool.template\"></form></header><md-divider></md-divider><section flex=\"auto\" class=\"pip-map-edit-content\"><form hide-xs=\"\" name=\"editCtrl.modelForm\" ng-include=\"editCtrl.currentElement.tool.template\"></form></section><md-divider></md-divider><footer hide-xs=\"\" class=\"pip-map-edit-footer\" layout=\"row\" layout-align=\"end center\"><div flex=\"\"><md-button ng-click=\"editCtrl.remove()\">{{:: \\'DELETE\\' | translate }} {{:: currentElement.name }}</md-button></div><md-button ng-click=\"editCtrl.cancel()\">{{:: \\'CANCEL\\' | translate }}</md-button><md-button ng-click=\"editCtrl.save()\" ng-disabled=\"editCtrl.modelForm.$invalid\">{{:: tool.titleSave | translate }}</md-button></footer><footer hide-gt-xs=\"\" class=\"pip-map-edit-footer\" layout=\"row\" layout-align=\"start center\"><div layout=\"row\" layout-align=\"space-around\"><md-button ng-click=\"tool.undo()\" ng-disabled=\"tool.isUndoDisabled()\"><md-icon md-svg-icon=\"map:undo\" aria-label=\"Remove\"></md-icon></md-button></div><md-divider></md-divider><md-menu flex=\"\" layout=\"column\"><md-button class=\"pip-map-edit-actions-trigger\" ng-click=\"$mdOpenMenu($event)\"><md-icon class=\"active\" md-svg-icon=\"{{ tool.currentAction.definition.icon }}\" aria-label=\"Trigger menu\" md-menu-origin=\"\"></md-icon><md-icon md-svg-icon=\"map:tools\" aria-label=\"Triangle down\"></md-icon></md-button><md-menu-content width=\"4\"><md-menu-item ng-repeat=\"action in tool.actions\"><md-button ng-click=\"tool.setAction(action)\" ng-disabled=\"tool.isActionDisabled(action)\"><md-icon md-svg-icon=\"{{:: action.definition.icon }}\" aria-label=\"{{:: action.definition.name }}\" ng-class=\"{ active: tool.isActionActive(action) }\" md-menu-align-target=\"\"></md-icon>{{:: action.definition.name }}</md-button></md-menu-item></md-menu-content></md-menu><md-divider></md-divider><div layout=\"row\" layout-align=\"space-around\"><md-button ng-click=\"editCtrl.cancel()\"><md-icon md-svg-icon=\"map:cross\" aria-label=\"Close\"></md-icon></md-button><md-button ng-click=\"editCtrl.save()\" ng-disabled=\"editCtrl.modelForm.$invalid\"><md-icon md-svg-icon=\"map:check\" aria-label=\"Sumbit\"></md-icon></md-button></div></footer></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipMaps.Templates');\n} catch (e) {\n  module = angular.module('pipMaps.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('edit_old/map-edit-tools-list.html',\n    '<md-fab-speed-dial class=\"pip-floating-button map-add-button md-scale\" md-direction=\"up\" md-open=\"fab.isOpen\"><md-fab-trigger><md-button class=\"md-fab\" ng-class=\"{\\'md-accent md-raised\\': !fab.isOpen, \\'md-warn\\': fab.isOpen}\"><md-icon md-svg-icon=\"map:plus\" aria-label=\"Open\" class=\"md-headline centered-add-icon\" ng-if=\"!fab.isOpen\"></md-icon><md-icon md-svg-icon=\"map:cross\" aria-label=\"Close\" class=\"md-headline centered-add-icon\" ng-if=\"fab.isOpen\"></md-icon></md-button></md-fab-trigger><md-fab-actions class=\"pip-map-edit-tools-list\"><div ng-repeat=\"element in ::editCtrl.elements\"><span class=\"pip-map-edit-tooltip\">{{:: element.name }}</span><md-button class=\"md-fab md-raised md-mini\" ng-click=\"editCtrl.createElement(element)\"><md-icon md-svg-icon=\"{{:: element.icon }}\" aria-label=\"{{:: element.icon }}\"></md-icon></md-button></div></md-fab-actions></md-fab-speed-dial>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipMaps.Templates');\n} catch (e) {\n  module = angular.module('pipMaps.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('edit_old/map-edit.html',\n    '<script type=\"text/ng-template\" id=\"map-icons.svg\"><svg xmlns=\"http://www.w3.org/2000/svg\"> <defs> <g id=\"trash\" transform=\"translate(512,0) scale(-1,1) rotate(180,256,256)\"><path d=\"M128 107c0-24 19-43 43-43l170 0c24 0 43 19 43 43l0 256-256 0z m277 320l-74 0-22 21-106 0-22-21-74 0 0-43 298 0z\"/></g> <g id=\"plus\" transform=\"translate(512,0) scale(-1,1) rotate(180,256,256)\"><path d=\"M405 235l-128 0 0-128-42 0 0 128-128 0 0 42 128 0 0 128 42 0 0-128 128 0z\"/></g> <g id=\"cross\" transform=\"translate(512,0) scale(-1,1) rotate(180,256,256)\"><path d=\"M405 375l-30 30-119-119-119 119-30-30 119-119-119-119 30-30 119 119 119-119 30 30-119 119z\"/></g> <g id=\"undo\" transform=\"translate(512,0) scale(-1,1) rotate(180,256,256)\"><path d=\"M213 320l0 85-149-149 149-149 0 87c107 0 182-34 235-109-21 107-85 214-235 235z\"/></g> <g id=\"check\" transform=\"translate(512,0) scale(-1,1) rotate(180,256,256)\"><path d=\"M192 167l-89 89-30-30 119-119 256 256-30 30z\"/></g> <g id=\"tools\" transform=\"translate(512,0) scale(-1,1) rotate(180,256,256)\"><path d=\"M149 299l107-107 107 107z\"/></g> <g id=\"add-point\" transform=\"translate(0,0) scale(25)\"><path class=\"cls-1\" d=\"M8.46,9l2.81-.17a0.31,0.31,0,0,0,.2-0.53L3.4,0.09A0.31,0.31,0,0,0,2.87.3V11.81a0.31,0.31,0,0,0,.51.23L5.51,10.2l1.9,4.64a0.31,0.31,0,0,0,.4.17l2.37-1a0.31,0.31,0,0,0,.17-0.4Z\"/><polygon class=\"cls-1\" points=\"14.96 15.62 14.96 12.72 13.49 12.72 13.49 15.62 10.59 15.62 10.59 17.1 13.49 17.1 13.49 20 14.96 20 14.96 17.1 17.87 17.1 17.87 15.62 14.96 15.62\"/></g> <g id=\"remove-point\" transform=\"translate(0,0) scale(25)\"><path class=\"cls-1\" d=\"M8.46,9l2.81-.17a0.31,0.31,0,0,0,.2-0.53L3.4,0.09a0.31,0.31,0,0,0-.53.22V11.82a0.31,0.31,0,0,0,.51.23l2.12-1.84,1.9,4.64a0.31,0.31,0,0,0,.4.17l2.37-1a0.31,0.31,0,0,0,.17-0.4Z\"/><rect class=\"cls-1\" x=\"10.58\" y=\"15.63\" width=\"7.28\" height=\"1.48\"/></g> <g id=\"pan\" transform=\"translate(0,0) scale(25)\"><path d=\"M15.28,6.56V9H11V4.74h2.41a0.31,0.31,0,0,0,.24-0.51L10.24,0.13a0.31,0.31,0,0,0-.47,0L6.31,4.23a0.31,0.31,0,0,0,.24.51H9V9H4.72V6.56a0.31,0.31,0,0,0-.51-0.24L0.11,9.78a0.31,0.31,0,0,0,0,.47l4.11,3.46a0.31,0.31,0,0,0,.51-0.24V11.07H9v4.23H6.54a0.31,0.31,0,0,0-.24.51l3.46,4.11a0.31,0.31,0,0,0,.47,0l3.46-4.11a0.31,0.31,0,0,0-.24-0.51H11V11.07h4.23v2.41a0.31,0.31,0,0,0,.51.24l4.11-3.46a0.31,0.31,0,0,0,0-.47L15.78,6.32A0.31,0.31,0,0,0,15.28,6.56Z\"/></g> <g id=\"pen\" transform=\"translate(0,0) scale(25)\"><path d=\"M18.92,1.08a3.27,3.27,0,0,0-2.33-1,3.9,3.9,0,0,0-2.71,1.25,3.47,3.47,0,0,0-.44.54L5.66,10.66l-0.43-.43A0.36,0.36,0,0,0,5,10.12a0.39,0.39,0,0,0-.27.11L3.62,11.31a0.38,0.38,0,0,0,0,.53l0.45,0.45a8,8,0,0,1-2.46,1.09,0.54,0.54,0,0,0-.35.38v0S1,18.13,0,19.43a0.36,0.36,0,0,0,0,.36h0l0.13,0.14h0A0.57,0.57,0,0,0,.43,20a0.27,0.27,0,0,0,.13,0c1.42-.82,5.62-1.22,5.66-1.22h0a0.55,0.55,0,0,0,.38-0.35,9.52,9.52,0,0,1,1.1-2.45l0.44,0.44a0.36,0.36,0,0,0,.26.11,0.38,0.38,0,0,0,.27-0.11l1.07-1.07A0.39,0.39,0,0,0,9.87,15a0.36,0.36,0,0,0-.11-0.27l-0.43-.43,8.83-7.79a3.46,3.46,0,0,0,.54-0.44,4,4,0,0,0,1.24-2.47A3.22,3.22,0,0,0,18.92,1.08ZM4.66,17a1.15,1.15,0,1,1,0-1.63A1.15,1.15,0,0,1,4.66,17Z\"/></g> <g id=\"select\" transform=\"translate(0,0) scale(25)\"><path d=\"M15.66,11.25L4.71,0.09a0.31,0.31,0,0,0-.53.22V15.94a0.31,0.31,0,0,0,.51.23l3-2.57,2.54,6.21a0.31,0.31,0,0,0,.4.17l3.31-1.35a0.31,0.31,0,0,0,.17-0.4L11.54,12l3.92-.24A0.31,0.31,0,0,0,15.66,11.25Z\"/></g> <g id=\"hand\" transform=\"translate(0,0) scale(25)\"><path d=\"M16.9,3.52a0.92,0.92,0,0,0-.92.92v4a0.44,0.44,0,0,1-.88,0V1.76a1.1,1.1,0,0,0-2.21,0V8.44h0a0.42,0.42,0,0,1-.83,0V1.2a1.2,1.2,0,0,0-2.39,0s0,7.19,0,7.27a0.4,0.4,0,0,1-.8,0V2.24a1.2,1.2,0,1,0-2.39,0c0,8.67,0,7.67,0,8.39a2,2,0,0,1-.13,1c-0.11.08-.25,0-0.43-0.26C5.51,10.79,4.13,9,2.79,9.63a1.33,1.33,0,0,0-.33,1.93s3,4.34,4,5.84c0.59,0.88.75,1.16,1,1.45C8.15,20,8.58,20,9.84,20H15c2.79,0,2.79-3.31,2.79-4.73V4.94C17.82,3.93,17.41,3.52,16.9,3.52Z\"/></g> <g id=\"draw\" transform=\"translate(0,0) scale(25)\"><path d=\"M1.94,4.37L0,2.49A2.08,2.08,0,0,1,.19,2.27L0.41,2l0.27-.26A2.84,2.84,0,0,0,1,1.48l0.39-.34A5.66,5.66,0,0,1,2,.68,6.24,6.24,0,0,1,2.92.27,3,3,0,0,1,4,.09a2.72,2.72,0,0,1,.81.15A2.6,2.6,0,0,1,5.7.79a2.85,2.85,0,0,1,.74,1,3.49,3.49,0,0,1,.3,1.54,4.64,4.64,0,0,1-.1,1,4.76,4.76,0,0,1-.28.88Q6.14,5.59,5.88,6t-0.59.88l-0.46.75q-0.28.46-.59,1L3.68,9.75a9.54,9.54,0,0,0-.43,1,4.27,4.27,0,0,0-.15.85,2,2,0,0,0,.05.67,1,1,0,0,0,.19.45,0.42,0.42,0,0,0,.32.17A0.72,0.72,0,0,0,4,12.79a1.59,1.59,0,0,0,.34-0.26,2.42,2.42,0,0,0,.3-0.3L4.9,12l0.4-.48L6,10.65l0.77-.93q0.39-.46.62-0.77T8.26,8A9.38,9.38,0,0,1,9.5,7a8.58,8.58,0,0,1,1.57-.84,4.66,4.66,0,0,1,1.78-.35,4,4,0,0,1,2,.46,4.25,4.25,0,0,1,1.33,1.16A4.89,4.89,0,0,1,17,9a8.61,8.61,0,0,1,.32,1.48H20V13.2H17.29a9.87,9.87,0,0,1-.74,3.25,7.19,7.19,0,0,1-1.33,2.06,4.55,4.55,0,0,1-1.6,1.08,4.31,4.31,0,0,1-1.5.31,3.5,3.5,0,0,1-1.37-.27,3.43,3.43,0,0,1-1.11-.74,3.47,3.47,0,0,1-.77-1.08,3.12,3.12,0,0,1-.28-1.32,4.63,4.63,0,0,1,.35-1.61A6.43,6.43,0,0,1,10,13.1a7.75,7.75,0,0,1,1.85-1.55,7.63,7.63,0,0,1,2.67-1q-0.05-.31-0.1-0.66a1.6,1.6,0,0,0-.23-0.63,1.25,1.25,0,0,0-.55-0.49,2.45,2.45,0,0,0-1-.18A2.09,2.09,0,0,0,11.5,9a8.11,8.11,0,0,0-1.17.9q-0.57.57-1.15,1.24T8.1,12.4L7.23,13.46a10.26,10.26,0,0,1-.83.88,6.4,6.4,0,0,1-.81.7,2.76,2.76,0,0,1-.86.41,3.09,3.09,0,0,1-.75.12,4.28,4.28,0,0,1-.75,0,4,4,0,0,1-.74-0.22,3,3,0,0,1-.66-0.37A3.32,3.32,0,0,1,.72,13.56a5.4,5.4,0,0,1-.28-0.92,4.69,4.69,0,0,1-.1-1A5.76,5.76,0,0,1,.8,9.5a21.73,21.73,0,0,1,1-2.15q0.57-1,1.07-1.74l0.61-.89,0.27-.46A3,3,0,0,0,4,3.75,0.91,0.91,0,0,0,4.05,3.3,0.38,0.38,0,0,0,3.82,3a0.42,0.42,0,0,0-.34.05A2.67,2.67,0,0,0,3,3.34L2.5,3.81Q2.22,4.06,1.94,4.37ZM12.15,17.23A1.36,1.36,0,0,0,12.81,17a2.31,2.31,0,0,0,.68-0.63,4.77,4.77,0,0,0,.62-1.17,7.65,7.65,0,0,0,.41-1.85A4.78,4.78,0,0,0,13,14a4.59,4.59,0,0,0-1,.85,3.77,3.77,0,0,0-.53.88,1.89,1.89,0,0,0-.17.67,0.74,0.74,0,0,0,.08.34,0.76,0.76,0,0,0,.21.26,0.66,0.66,0,0,0,.25.15A0.79,0.79,0,0,0,12.15,17.23Z\"/></g> <g id=\"point\" transform=\"translate(0,0) scale(25)\"><path d=\"M10,0a6.88,6.88,0,0,1,4.94,2.06A6.88,6.88,0,0,1,17,7q0,3.93-7,13Q3,10.94,3,7A6.88,6.88,0,0,1,5.06,2.06,6.88,6.88,0,0,1,10,0Zm0,9.51a2.41,2.41,0,0,0,1-.2,2.34,2.34,0,0,0,.78-0.55A2.34,2.34,0,0,0,12.31,8a2.47,2.47,0,0,0,0-1.94,2.34,2.34,0,0,0-.55-0.78A2.34,2.34,0,0,0,11,4.7,2.47,2.47,0,0,0,9,4.7a2.34,2.34,0,0,0-.78.55A2.34,2.34,0,0,0,7.69,6,2.47,2.47,0,0,0,7.69,8a2.34,2.34,0,0,0,.55.78A2.34,2.34,0,0,0,9,9.31,2.41,2.41,0,0,0,10,9.51Z\"/></g> </defs></svg></script>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipMaps.Templates');\n} catch (e) {\n  module = angular.module('pipMaps.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('popup/map-popup-content.html',\n    '<div class=\"map-popup-content\"><md-content md-theme=\"{{:: $root.$theme || \\'blue\\' }}\" flex=\"\"><md-button class=\"md-icon-button pip-map-info-window-close-button\" ng-click=\"closeClick(); $event.stopPropagation()\" tabindex=\"-1\" aria-label=\"close\"><md-icon class=\"theme-icon-active\" md-svg-icon=\"icons:cross\"></md-icon></md-button><ng-transclude></ng-transclude></md-content><div class=\"pip-map-info-window-arrow-wrapper\"><div><div></div></div><div><div></div></div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipMaps.Templates');\n} catch (e) {\n  module = angular.module('pipMaps.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('popup/map-popup.html',\n    '<ui-gmap-window ng-if=\"popup.isEnabled\" show=\"popup.isEnabled\" coords=\"popup.position\" templateurl=\":: popup.element.templateUrl\" templateparameter=\":: popup\" options=\":: popup.element.options\" closeclick=\"popup.close()\"></ui-gmap-window>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipMaps.Templates');\n} catch (e) {\n  module = angular.module('pipMaps.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('elements/circles/map-circles.html',\n    '<ui-gmap-circle ng-repeat=\"c in ctrl.models\" center=\"c[ctrl.options.center]\" stroke=\"c[ctrl.options.stroke]\" fill=\"c[ctrl.options.fill]\" radius=\"c[ctrl.options.radius]\" geodesic=\"c.geodesic\" events=\"ctrl.events\" visible=\"true\"></ui-gmap-circle>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipMaps.Templates');\n} catch (e) {\n  module = angular.module('pipMaps.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('elements/kml/map-kml.html',\n    '');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipMaps.Templates');\n} catch (e) {\n  module = angular.module('pipMaps.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('elements/markers/map-markers.html',\n    '<ui-gmap-markers models=\"ctrl.models\" coords=\":: ctrl.options.model.coords\" icon=\":: ctrl.options.model.icon\" options=\"\\'options\\'\" control=\":: ctrl.control\" events=\":: ctrl.events\" fit=\":: ctrl.options.fitBounds\"></ui-gmap-markers><ui-gmap-polylines ng-if=\":: ctrl.connect\" models=\"ctrl.models\" path=\":: ctrl.connect.property\" stroke=\":: ctrl.connect.stroke\" icons=\":: ctrl.connect.icons\"></ui-gmap-polylines>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipMaps.Templates');\n} catch (e) {\n  module = angular.module('pipMaps.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('elements/polygons/map-polygons.html',\n    '<ui-gmap-polygons models=\"ctrl.models\" path=\"ctrl.options.path\" stroke=\"ctrl.options.stroke\" fill=\"ctrl.options.fill\" control=\"ctrl.control\" events=\"ctrl.events\" visible=\"\\'visible\\'\" geodesic=\"\\'geodesic\\'\" editable=\"\\'editable\\'\" draggable=\"\\'draggable\\'\" fit=\":: ctrl.options.fitBounds\"></ui-gmap-polygons>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipMaps.Templates');\n} catch (e) {\n  module = angular.module('pipMaps.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('elements/polylines/map-polylines.html',\n    '<ui-gmap-polylines models=\"ctrl.models\" path=\"ctrl.options.path\" stroke=\"ctrl.options.stroke\" icons=\"ctrl.options.icons\" control=\"ctrl.control\" events=\"ctrl.events\" visible=\"\\'visible\\'\" geodesic=\"\\'geodesic\\'\" editable=\"\\'editable\\'\" draggable=\"\\'draggable\\'\" static=\"ctrl.options.static\" fit=\"ctrl.options.fitBounds\"></ui-gmap-polylines>');\n}]);\n})();\n\n//# sourceMappingURL=pip-suite-map-html.min.js.map\n","import { ITagDataService, ITagDataProvider } from './ITagDataService';\nimport { PartyTags } from './PartyTags';\nimport { Tag } from './Tag';\n\nclass TagData implements ITagDataService {\n    private RESOURCE: string = 'tags';\n\n    constructor(\n        private pipRest: pip.rest.IRestService,\n        private pipSession: pip.services.ISessionService\n    ) {\n        \"ngInject\";\n    }\n\n    public getUserId(): string {\n        let userId: string;\n        userId = this.pipSession.session ? this.pipSession.session.userId : null;\n\n        return userId;\n    }\n\n    public readTags(params: any, successCallback?: (data: PartyTags) => void, errorCallback?: (error: any) => void): angular.IPromise<any> {\n        params = params || {};\n        params.party_id = params.party_id ? params.party_id : this.getUserId();\n        return this.pipRest.getResource(this.RESOURCE).get(params, successCallback, errorCallback);\n    }\n\n    public createTags(params: any, data: any, successCallback?: (item: any) => void, errorCallback?: (error: any) => void): void {\n        params.party_id = params.party_id ? params.party_id : this.getUserId();\n        this.pipRest.getResource(this.RESOURCE).save(params, data, successCallback, errorCallback);\n    }\n\n    public updateTags(params: any, data: any, successCallback?: (item: any) => void, errorCallback?: (error: any) => void): void {\n        params.party_id = params.party_id ? params.party_id : this.getUserId();\n        this.pipRest.getResource(this.RESOURCE).update(params, data, successCallback, errorCallback);\n    }\n\n}\n\nclass TagDataProvider implements ITagDataProvider {\n    private _service: ITagDataService;\n\n    constructor() { }\n\n    public $get(\n        pipRest: pip.rest.IRestService,\n        pipSession: pip.services.ISessionService\n    ) {\n        \"ngInject\";\n\n        if (this._service == null) {\n            this._service = new TagData(pipRest, pipSession);\n        }\n\n        return this._service;\n    }\n\n}\n\nangular\n    .module('pipTagData', ['pipCommonRest'])\n    .provider('pipTagData', TagDataProvider);\n\n","function configTagResources(pipRestProvider: pip.rest.IRestProvider) {\n    pipRestProvider.registerResource('tags', '/api/1.0/tags/:party_id',\n        { party_id: '@party_id' },\n        {\n            update: { method: 'PUT' }\n        }\n    );\n}\n\nangular\n    .module('pipTag.Rest', [])\n    .config(configTagResources);\n\n","{\n    interface ITagList {\n        tags: string[];\n        type: string;\n        typeLocal: string;\n    }\n\n    class TagListController implements ITagList {\n        public rebind: string;\n\n        public tags: string[];\n        public type: string;\n        public typeLocal: string;\n\n        constructor(\n            $scope: ng.IScope,\n            $element: ng.IRootElementService\n        ) {\n\n            // Set tags\n            $element.css('display', 'block');\n            $element.addClass('pip-tag-list');\n        }\n\n        private toBoolean(value: string): boolean {\n            if (_.isNull(value) || _.isUndefined(value)) return false;\n            if (!value) return false;\n            value = value.toString().toLowerCase();\n            return value == '1' || value == 'true';\n        }\n\n        public $onChanges(changes: TagListChanges) {\n            if (this.rebind && changes.tags) {\n                this.tags = changes.tags.currentValue;\n            }\n\n        }\n\n    }\n\n    interface ITagListBindings {\n        [key: string]: any;\n\n        tags: any,\n        type: any,\n        typeLocal: any,\n        rebuid: any\n    }\n\n    const TagListBindings: ITagListBindings = {\n        tags: '<pipTags',\n        type: '<pipType',\n        typeLocal: '<pipTypeLocal',\n        rebuid: '<pipRebind'\n    }\n\n    class TagListChanges implements ng.IOnChangesObject, ITagListBindings {\n        [key: string]: ng.IChangesObject<any>;\n\n        tags: ng.IChangesObject<string[]>;\n        type: ng.IChangesObject<string>;\n        typeLocal: ng.IChangesObject<string>;\n        rebuid: ng.IChangesObject<boolean>\n    }\n\n    const TagList = {\n        bindings: TagListBindings,\n        templateUrl: 'tag_list/TagList.html',\n        controller: TagListController\n    }\n\n    angular\n        .module('pipTagList', ['pipTranslate'])\n        .component('pipTagList', TagList)\n\n}","(function(module) {\ntry {\n  module = angular.module('pipTags.Templates');\n} catch (e) {\n  module = angular.module('pipTags.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('tag_list/TagList.html',\n    '<div class=\"pip-chip rm4 pip-type-chip pip-type-chip-left {{\\'bg-\\' + $ctrl.type + \\'-chips\\'}}\" ng-if=\"$ctrl.type && !$ctrl.typeLocal\"><span>{{$ctrl.type.toUpperCase() | translate | uppercase}}</span></div><div class=\"pip-chip rm4 pip-type-chip pip-type-chip-left {{\\'bg-\\' + $ctrl.type + \\'-chips\\'}}\" ng-if=\"$ctrl.type && $ctrl.typeLocal\"><span>{{$ctrl.typeLocal.toUpperCase() | translate | uppercase}}</span></div><div class=\"pip-chip rm4\" ng-repeat=\"tag in $ctrl.tags\"><span>{{::tag}}</span></div>');\n}]);\n})();\n\n//# sourceMappingURL=pip-suite-tags-html.min.js.map\n"]}