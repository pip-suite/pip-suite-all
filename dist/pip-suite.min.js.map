{"version":3,"sources":["../node_modules/browser-pack/_prelude.js","src/auth_state/AuthHttpResponseInterceptor.ts","src/auth_state/AuthStateDecorator.ts","src/auth_state/AuthStateInit.ts","src/auth_state/AuthStateService.ts","src/auth_state/IAuthStateService.ts","src/auth_state/index.ts","src/cache/DataCacheService.ts","src/cache/IDataCacheService.ts","src/cache/index.ts","src/data/DataModelService.ts","src/data/index.ts","src/index.ts","src/rest/RestService.ts","src/rest/index.ts","src/change_password/ChangePassword.ts","src/change_password/ChangePasswordDialog.ts","src/change_password/ChangePasswordModel.ts","src/change_password/ChangePasswordPanel.ts","src/change_password/ChangePasswordViewModel.ts","src/common/EmailUnique.ts","src/common/EntryCommonService.ts","src/common/EntryHideObject.ts","src/common/EntryInit.ts","src/common/EntryModel.ts","src/common/EntryPageConfig.ts","src/common/EntryService.ts","src/common/EntryStrings.ts","src/common/PasswordMatch.ts","src/common/index.ts","src/data/Account.ts","src/data/EmailSettings.ts","src/data/EntryDataService.ts","src/data/Enums.ts","src/data/Role.ts","src/data/Session.ts","src/data/SessionData.ts","src/data/SessionDataService.ts","src/expire_change_password/ExpireChangePassword.ts","src/expire_change_password/ExpireChangePasswordDialog.ts","src/expire_change_password/ExpireChangePasswordModel.ts","src/expire_change_password/ExpireChangePasswordPanel.ts","src/expire_change_password/ExpireChangePasswordViewModel.ts","src/post_signup/PostSignup.ts","src/post_signup/PostSignupDialog.ts","src/post_signup/PostSignupModel.ts","src/post_signup/PostSignupPanel.ts","src/post_signup/PostSignupViewModel.ts","src/recover_password/RecoverPassword.ts","src/recover_password/RecoverPasswordDialog.ts","src/recover_password/RecoverPasswordModel.ts","src/recover_password/RecoverPasswordPanel.ts","src/recover_password/RecoverPasswordViewModel.ts","src/reset_password/ResetPassword.ts","src/reset_password/ResetPasswordDialog.ts","src/reset_password/ResetPasswordModel.ts","src/reset_password/ResetPasswordPanel.ts","src/reset_password/ResetPasswordViewModel.ts","src/rest/EntryResources.ts","src/rest/SessionResources.ts","src/rest/SettingsResources.ts","src/signin/Signin.ts","src/signin/SigninDialog.ts","src/signin/SigninModel.ts","src/signin/SigninPanel.ts","src/signin/SigninViewModel.ts","src/signout/Signout.ts","src/signup/Signup.ts","src/signup/SignupDialog.ts","src/signup/SignupModel.ts","src/signup/SignupPanel.ts","src/signup/SignupViewModel.ts","src/verify_email/VerifyEmail.ts","src/verify_email/VerifyEmailModel.ts","temp/pip-suite-entry-html.min.js","src/verify_email/VerifyEmailViewModel.ts","../node_modules/async/lib/async.js","../node_modules/process/browser.js","../node_modules/timers-browserify/main.js","src/add_image/AddImage.ts","src/add_image/AddImageOption.ts","src/add_image/AddImageResult.ts","src/avatar/Avatar.ts","src/avatar_edit/AvatarEdit.ts","src/camera_dialog/CameraDialogController.ts","src/camera_dialog/CameraDialogService.ts","src/camera_dialog/index.ts","src/collage/Collage.ts","src/data/Attachment.ts","src/data/AvatarDataService.ts","src/data/BlobInfo.ts","src/data/DataPage.ts","src/data/IAvatarDataService.ts","src/data/IPictureDataService.ts","src/data/Image.ts","src/data/ImageSet.ts","src/data/ImageSetDataService.ts","src/data/PictureDataService.ts","src/gallery_search_dialog/GallerySearchDialogController.ts","src/gallery_search_dialog/GallerySearchDialogService.ts","src/gallery_search_dialog/IGallerySearchDialogService.ts","src/gallery_search_dialog/index.ts","src/picture/Picture.ts","src/picture_edit/PictureEdit.ts","src/picture_list_edit/PictureListEdit.ts","src/picture_url_dialog/PictureUrlDialogController.ts","src/picture_url_dialog/PictureUrlDialogService.ts","src/picture_url_dialog/index.ts","src/rest/AvatarResources.ts","src/rest/ImageSetResources.ts","src/rest/PictureResources.ts","src/utilities/IPictureUtils.ts","src/utilities/PicturePaste.ts","src/utilities/PictureUtils.ts","src/utilities/index.ts","temp/pip-suite-pictures-html.min.js","src/add_documents/AddDocument.ts","src/data/DocumentDataService.ts","src/data/IDocumentDataService.ts","src/document_list/DocumentList.ts","src/document_list_edit/DocumentListEdit.ts","src/document_url_dialog/DocumentUrlDialogService.ts","src/rest/DocumentResources.ts","src/rest/FileResources.ts","temp/pip-suite-documents-html.min.js","src/checklist_edit/ChecklistEdit.ts","src/checklist_view/ChecklistView.ts","src/composite_edit/CompositeEdit.ts","src/composite_summary/CompositeSummary.ts","src/composite_toolbar/CompositeToolbar.ts","src/composite_view/CompositeView.ts","src/content_switch/ContentSwitch.ts","src/data/ChecklistItem.ts","src/data/Content.ts","src/data/ContentBlockType.ts","src/data/EmbeddedType.ts","src/embedded_edit/EmbeddedEdit.ts","src/embedded_view/EmbeddedView.ts","src/mobile_mouse/MobileMousedown.ts","src/mobile_mouse/MobileMouseup.ts","src/mobile_mouse/index.ts","src/utilities/CompositeFocused.ts","temp/pip-suite-composite-html.min.js","src/data/Guide.ts","src/data/GuideDataService.ts","src/data/GuidePage.ts","src/data/GuideStatus.ts","src/data/GuideType.ts","src/data/MultiString.ts","src/data/PageData.ts","src/data/PartyReference.ts","src/data/Quote.ts","src/data/QuoteDataService.ts","src/data/QuoteStatus.ts","src/data/Tip.ts","src/data/TipDataService.ts","src/data/TipStatus.ts","src/guidance/GuidanceDialog.ts","src/intro_guidance/IntroGuidanceDialog.ts","src/intro_guidance/IntroGuidanceService.ts","src/intro_guidance/index.ts","src/quotes/QuotesService.ts","src/rest/GuideResources.ts","src/rest/QuoteResources.ts","src/rest/TipResources.ts","src/tips/TipsService.ts","temp/pip-suite-guidance-html.min.js","src/analytics/Analytics.ts","src/data/Feedback.ts","src/data/FeedbackDataService.ts","src/feedback/Feedback.ts","src/feedback/FeedbackDialog.ts","src/feedback/FeedbackPanel.ts","src/feedback/FeedbackStrings.ts","src/feedback/index.ts","src/rest/FeedbackResources.ts","temp/pip-suite-support-html.min.js","src/GoogleMapsRemoveAfterService.ts","src/HelpService.ts","src/Map.ts","src/MapEventHandlerService.ts","src/config.ts","src/edit/MapEdit.ts","src/edit/index.ts","src/elements/MapElementControllerService.ts","src/elements/MapElementDirectiveService.ts","src/elements/MapElementRequireService.ts","src/elements/circles/MapCircles.ts","src/elements/index.ts","src/elements/kml/MapKml.ts","src/elements/markers/MapMarkers.ts","src/elements/polygons/MapPolygons.ts","src/elements/polylines/MapPolylines.ts","src/popup/MapElementPopupService.ts","src/popup/MapPopup.ts","src/popup/MapPopupContent.ts","src/popup/MapPopupService.ts","temp/pip-suite-map-html.min.js","src/popup/index.ts","src/data/TagDataService.ts","src/rest/TagResources.ts","src/tag_list/TagList.ts","temp/pip-suite-tags-html.min.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","pip","rest","r","e","n","t","o","i","c","require","u","a","Error","code","p","call","length","1","Object","defineProperty","value","UnauthorizedRedirect","AccessDenyRedirect","AuthHttpResponseInterceptor","$inject","$q","$rootScope","$location","$log","_this","responseError","rejection","toState","services","StateVar","name","toParams","params","status","error","$emit","redirect_to","url","reject","configureAuthState","$httpProvider","interceptors","push","decorateStatesAuthStateService","IAuthStateService_1","$delegate","$timeout","config","AuthStateConfig","signinState","_config","signoutState","authorizedState","unauthorizedState","goToSignin","server_url","email","language","setSigninParams","go","goToSignout","goToAuthorized","goToUnauthorized","addStatesAuthtateDecorator","$provide","decorator","3","initAuthState","$state","pipSession","pipAuthState","$on","event","fromState","fromParams","redirect","auth","undefined","isOpened","preventDefault","redirectTo","href","substring","RoutingVar","pipTranslateProvider","translations","ERROR_SWITCHING","run","prototype","_redirectedStates","set","$get","_service","state","_","isNull","transitionTo","location","AuthStateProvider","$stateProvider","stateName","stateConfig","authenticate","resolve","5","6","__export","m","hasOwnProperty","angular","./AuthStateDecorator","./AuthStateInit","./AuthStateService","./IAuthStateService","7","DataCache","hash","data","filteredData","filter","search","start","take","skip","serializedFilter","toJson","h","len","charCodeAt","generateKey","resource","clear","_cache","key","startsWith","retrieve","holder","expire","now","CACHE_TIMEOUT","store","storePermanently","remove","updateOne","item","isAdded","size","id","retrieveOrLoad","successCallback","errorCallback","method","result","force","deferred","defer","paging","singleResult","isFunction","updatedItem","err","promise","removeOne","isArray","splice","decorateAddCallback","notClearedCache","decorateRemoveCallback","setTimeout","newTimeout","pipDataModel","DataCacheProvider","provider","8","CacheParams","9","./IDataCacheService","10","execute","tid","transaction","skipTransactionBegin","transactionId","begin","transactionOperation","pipRest","getResource","operation","aborted","skipTransactionEnd","end","create","itemCollection","update","index","findIndex","delete","object","read","readOne","page","uploadFiles","pictures","documents","content","obj","callback","save","saveResult","DataModel","abortFilesUpload","abort","$stateParams","query","readPage","queryPage","DataModelProvider","11","./DataModelService","./IDataModelService","13","./cache","./data","./rest","14","15","reInitResource","resourceConfigs","initResources","resourceConfig","createResource","_serverUrl","path","defaultParams","actions","createOperation","createCollection","createPagedCollection","createPartyCollection","_resources","RestService","$resource","paramDefaults","party_id","get","_lockServerUrl","enumerable","configurable","setHeaders","headers","header","isObject","$http","defaults","common","serverUrl","lockServerUrl","RestProvider","_http","registerResource","_resourceConfigs","registerOperation","registerCollection","registerPagedCollection","registerPartyCollection","entry","ChangePasswordController","goBack","$window","history","back","pipChangePasswordViewModel","onChange","pipEntryCommon","pipEntry","configureAppBar","passwordExpire","ChangePasswordDialogService","show","cancelCallback","$mdDialog","targetEvent","templateUrl","controller","ChangePasswordDialogController_1","cancel","_super","EntryModel_1","ChangePasswordModel","init","$scope","initModel","setElementVisability","hideObject","subTitle","Boolean","title","server","hint","progress","onShowToast","message","type","pipTranslate","translate","pipToasts","showError","showMessage","form","$invalid","pipFormErrors","resetFormErrors","pipEntryData","expireChangePassword","login","old_password","password","new_password","passwordNew","getUserId","String","signout","setFormError","NO_LOGIN","WRONG_LOGIN","LOGIN_NOT_FOUND","WRONG_PASSWORD","act_execute","UNKNOWN","-1","pipTransaction","$injector","4","ChangePasswordPanel","ChangePasswordPanelController","$postLink","showServerError","onServerUrlChanged","selected","searchURLs","onChanged","resetFieldsErrors","onChangePassword","onChangePasswordNew","onChangePasswordConfirm","touchedErrorsWithHint","component","ChangePasswordViewModel","model","LinkEmailUnique_1","$element","$attrs","ngModel","oldEmail","throttle","newValue","oldHint","$validators","emailUnique","$setValidity","signupValidate","directive","restrict","getLastUsedLogin","servers","localStorageService","getPastSessions","getUsedServerUrls","serverUrls","prop","pipNavService","sidenav","hide","appbar","part","showLanguage","appbarTitle","breadcrumb","text","addShadow","icon","close","pipAppBar","showIcon","appbarIcon","initScope","adminOnly","fixedServerUrl","enableAvatar","useEmailAsLogin","entryHideObject","use","decodeURIComponent","pipIdentity","identity","user","remember","resetCode","reset_code","showServerUrl","filterItem","getMatches","isEmpty","cloneDeep","toLowerCase","indexOf","EntryCommonService","EntryPageConfig_1","EntryPageConfig","service","./EntryPageConfig","EntryHideObject","initEntry","pipDataCache","pipTimer","SessionOpenedEvent","reopenSession","EntryModel","extendStatics","setPrototypeOf","__proto__","Array","d","b","__","constructor","EntryService_1","EntryConfig","__extends","apply","arguments","EntryDataConfig","SigninParams","SignupParams","AuthSessionData","sessionId","userId","PastSession","./EntryService","12","restore","property","$cookies","storeToLocal","removeLocal","storeToCookie","put","removeCookie","EntryService","isPostSignup","openSession","session","sessionState","x-session-id","storeKnownServer","open","theme","pipTheme","user_id","checkEmailVerification","settings","restoreSessionComplete","restoreSession","session_id","setting","verified","closeSession","stop","$cookieStore","addOpenListener","newAppbarIcon","newAppbarTitle","newShowIcon","newShowLanguage","newAdminOnly","newFixedServerUrl","EntryProvider","isUndefined","EntryHideObject_1","FULLNAME","EMAIL","LOGIN","PASSWORD","LANGUAGE","GENDER","BIRTHDAY","LOCATION","VERIFY","CONTINUE","HINT_FULLNAME","HINT_PASSWORD","SIGNIN_HINT_PASSWORD","HINT_ABOUT","VERIFY_EMAIL","HINT_EMAIL","VERIFY_LOGIN","HINT_LOGIN","SIGNIN_TITLE","SIGNIN_NOT_MEMBER","SIGNIN_REMEMBER","SIGNIN_FORGOT_PASSWORD","SIGNIN_SIGNUP_HERE","SIGNUP_TITLE","SIGNUP_NOT_MEMBER","SIGNUP_TEXT_11","SIGNUP_PRIVACY","SIGNUP_TEXT_12","SIGNUP_SERVICES","SIGNUP_TEXT_2","SIGNUP_SIGNIN_HERE","SIGNUP_EMAIL_REGISTERED","SIGNUP_LOGIN_REGISTERED","SIGNUP_FULLNAME_WRONG","SIGNUP_EMAIL_WRONG","SIGNUP_LOGIN_WRONG","POST_SIGNUP_TITLE","POST_SIGNUP_TEXT_1","POST_SIGNUP_TEXT_2","RECOVER_PWD_TITLE","RECOVER_PWD_TEXT_1_LOGIN","RECOVER_PWD_TEXT_1_EMAIL","RECOVER_PWD_TEXT_2","RECOVER_PWD_RECOVER","RESET_PWD_PASSWORD","RESET_PWD_TEXT_LOGIN","RESET_PWD_TEXT_EMAIL","RESET_PWD_SUCCESS_TEXT","VERIFY_EMAIL_WAIT","VERIFY_EMAIL_TITLE","VERIFY_EMAIL_TEXT_1","VERIFY_EMAIL_TEXT_21","VERIFY_EMAIL_RESEND","VERIFY_EMAIL_TEXT_22","VERIFY_EMAIL_SUCCESS_TEXT","PASSWORD_MATCH","PASSWORD_CONFIRM","PASSWORD_SET","ENTRY_CHANGE_SERVER","ENTRY_SERVER_URL","ENTRY_RESET_CODE","ENTRY_VERIFICATION_CODE","ENTRY_NEW_PASSWORD","ENTRY_SET_PASSWORD","ENTRY_RESET_PASSWORD","ENTRY_FREE","ENTRY_REPEAT","CHANGE_PWD_PASSWORD","EXPIRE_CHANGE_PWD_PASSWORD","CHANGE_PWD_TEXT","EXPIRE_CHANGE_PWD_TEXT","ENTRY_CHANGE_PASSWORD","ENTRY_EXPIRE_CHANGE_PASSWORD","OLD_PASSWORD","NEW_PASSWORD_SET","NEW_PASSWORD_CONFIRM","CHANGE_PWD_SUCCESS_TEXT","EXPIRE_CHANGE_PWD_SUCCESS_TEXT","ERROR_EMAIL_INVALID","ERROR_LOGIN_INVALID","ERROR_PASSWORD_INVALID","MINLENGTH_PASSWORD","ERROR_FULLNAME_INVALID","ERROR_CODE_INVALID","ERROR_CODE_WRONG","ERROR_SERVER_INVALID","LANGUAGE_RUSSIAN","LANGUAGE_ENGLISH","ERROR_ACT_EXECUTE","ERROR_WRONG_LOGIN","ERROR_LOGIN_NOT_FOUND","ERROR_NO_LOGIN","ERROR_WRONG_PASSWORD","ERROR_WRONG_CODE","ERROR_INVALID_CODE","ERROR_NO_EMAIL","ERROR_NO_NAME","ERROR_ALREADY_EXIST","ERROR_LOGIN_ALREADY_USED","ERROR_ALREADY_EXIST_EMAIL","ERROR_WRONG_LOGIN_EMAIL","ERROR_NO_LOGIN_EMAIL","ERROR_SERVER","ERROR_ACCOUNT_LOCKED","ERROR_UNKNOWN","PASSWORD_IDENTICAL","$parse","scope","elm","attrs","ngModelCtrl","ERROR_compareTo","modelValue","viewValue","otherModelValue","otherModelValueGetter","compareTo","compareTo1","compareTo2","compareOldPassword","compareNewPassword","comparePasswordMatch","17","Account","EmailSettings","EntryData","signup","recoverPassword","resetPassword","param","requestEmailVerification","verifyEmail","readEmailSettings","saveSettingsKey","section","22","23","Session","25","SessionData","26","getSessionId","getSessions","RESOURCE","getUserSessions","RESOURCE_USER","RESOURCE_RESTORE","27","./EntryDataService","./Enums","./IEntryDataService","./ISessionDataService","./Role","./Session","./SessionData","./SessionDataService","28","ExpireChangePasswordController","pipExpireChangePasswordViewModel","ExpireChangePasswordDialogController_1","controllerAs","locals","clickOutsideToClose","then","ExpireChangePasswordDialogService","ExpireChangePasswordModel","31","ExpireChangePasswordPanelController","ExpireChangePasswordPanel","ExpireChangePasswordViewModel","ExpireChangePasswordModel_1","33","$locationProvider","pipAuthStateProvider","RecoverPassword_1","RecoverPasswordController","ChangePassword_1","ExpireChangePassword_1","ResetPassword_1","ResetPasswordController","Signout_1","SignoutController","PostSignup_1","PostSignupController","VerifyEmail_1","VerifyEmailController","VerifyEmailSuccessController","configEntryRoutes","./change_password/ChangePassword","./common","./expire_change_password/ExpireChangePassword","./post_signup/PostSignup","./recover_password/RecoverPassword","./reset_password/ResetPassword","./signout/Signout","./verify_email/VerifyEmail","34","$onInit","onPostSignupSubmit","pipPostSignupViewModel","$party","PostSignupDialogService","PostSignupDialogController_1","PostSignupModel","successTitle","checkSupported","pipSystemInfo","has","pipErrorPageConfigService","configs","Unsupported","Active","browser","browserName","supported","version","errors","ErrorsUnsupportedState","37","PostSignupPanelController","onPictureChanged","$control","picture","onPictureCreated","$event","birthday","gender","Enums_1","NOT_SPECIFIED","PostSignupPanel","38","PostSignupViewModel","PostSignupModel_1","pipRecoverPasswordViewModel","onRecover","pipResetPasswordDialog","$broadcast","RecoverPasswordDialogService","RecoverPasswordDialogController_1","41","RecoverPasswordModel","subTitle1","subTitle2","gotoReset","42","RecoverPasswordPanel","RecoverPasswordPanelController","RecoverPasswordViewModel","RecoverPasswordModel_1","44","pipResetPasswordViewModel","onReset","ResetPasswordDialogController_1","ResetPasswordDialogService","ResetPasswordModel","WRONG_CODE","ResetPasswordPanel","bindings","ResetPasswordPanelController","48","ResetPasswordModel_1","ResetPasswordViewModel","./ResetPasswordModel","49","configEntryResources","pipRestProvider","configSessionResources","configSettingsResources","./SessionResources","./SettingsResources","53","SigninConfig","SigninController_1","isSignin","54","SigninDialogService","SigninDialogController","pipSignupDialog","gotoRecoverPasswordDialog","pipRecoverPasswordDialog","pipGotoSignupDialog","gotoSignupDialog","pipGotoRecoverPasswordDialog","SinginModel","forgotPassword","browserVersion","split","Params","gotoSignup","gotoSignupPage","gotoRecoverPassword","inSigninComplete","change_pwd_time","expireDate","Date","nowDate","getTime","onSignin","rememberDefault","ACCOUNT_LOCKED","../common/EntryPageConfig","56","$document","pipMedia","pipSigninViewModel","SigninPanel","elem","element","querySelector","parent","addClass","SigninPanelController","onEnter","keyCode","57","SigninViewModel","SigninModel_1","58","SignupConfig","SignupController_1","60","SignupDialogService","SignupDialogController","gotoSigninDialog","pipSigninDialog","gotoPostSignupDialog","pipPostSignupDialog","pipGotoSigninDialog","pipGotoPostSignupDialog","SingupModel","agreement","passwordConfirm","signin","gotoSignin","gotoSigninPage","onSignup","gotoPostSignup","regestryVerifyEmailKey","ALREADY_EXIST","NO_EMAIL","NO_NAME","62","SignupPanel","SignupPanelController","pipSignupViewModel","onChangeEmail","field","isQuery","SignupViewModel","SignupModel_1","64","pipVerifyEmailViewModel","onCancel","onVerify","showValidateProgress","onContinue","VerifyEmailModel","WRONG_LOGIN_EMAIL","NO_LOGIN_EMAIL","INVALID_CODE","../common/EntryModel","66","VerifyEmailModel_1","VerifyEmailViewModel","./VerifyEmailModel","67","$templateCache","previous_async","async","noop","v","toBool","notId","root","only_once","fn","_once","noConflict","_toString","toString","_isArray","_isArrayLike","arr","_arrayEach","iterator","_map","_range","count","_indexOf","_keys","keys","k","_keyIterator","coll","_restParam","func","startIndex","Math","max","_withoutIndex","_setImmediate","setImmediate","_delay","_eachOfLimit","limit","nextKey","done","running","errored","replenish","doParallel","eachOf","doParallelLimit","doSeries","eachOfSeries","_asyncMap","eachfn","results","_filter","x","sort","_reject","cb","_createTester","check","getResult","iteratee","_findGetResult","_parallel","tasks","task","args","_concat","y","concat","_queue","worker","concurrency","payload","_insert","q","pos","started","idle","drain","unshift","saturated","process","_next","workers","removed","workersList","empty","paused","kill","pause","resume","resumeCount","min","w","_console_fn","console","_times","mapper","_applyEach","fns","that","pop","ensureAsync","innerArgs","sync","nextTick","forEach","each","forEachSeries","eachSeries","forEachLimit","eachLimit","forEachOf","iter","completed","forEachOfSeries","iterate","forEachOfLimit","eachOfLimit","map","mapSeries","mapLimit","inject","foldl","reduce","memo","foldr","reduceRight","reversed","reverse","transform","select","selectLimit","filterLimit","selectSeries","filterSeries","rejectLimit","rejectSeries","any","some","someLimit","all","every","everyLimit","detect","detectSeries","detectLimit","sortBy","comparator","left","right","criteria","auto","remainingTasks","runningTasks","hasError","listeners","addListener","taskComplete","slice","dep","taskCallback","safeResults","val","rkey","requires","join","ready","listener","idx","retry","times","attempts","opts","interval","wrappedTask","wrappedCallback","wrappedResults","retryAttempt","finalAttempt","seriesCallback","retryInterval","series","acc","parseInt","parseTimes","waterfall","wrapIterator","next","parallel","parallelLimit","makeCallback","callArgs","concatSeries","whilst","test","doWhilst","calls","until","doUntil","during","truth","doDuring","queue","items","priorityQueue","_compareTasks","priority","sequence","compare","beg","mid","_binarySearch","cargo","log","dir","memoize","hasher","queues","memoized","l","unmemoized","unmemoize","timesSeries","timesLimit","seq","newargs","nextargs","compose","applyEach","applyEachSeries","forever","constant","values","wrapSync","asyncify","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","clearTimeout","currentQueue","draining","queueIndex","cleanUpNextTick","drainQueue","timeout","marker","runClearTimeout","Item","array","env","argv","versions","on","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","binding","cwd","chdir","umask","Function","immediateIds","nextImmediateId","Timeout","clearFn","_id","_clearFn","setInterval","clearInterval","unref","ref","enroll","msecs","_idleTimeoutId","_idleTimeout","unenroll","_unrefActive","active","_onTimeout","clearImmediate","ConfigTranslations","FILE","WEB_LINK","CAMERA","IMAGE_GALLERY","AddImageOption_1","AddImageController_1","openMenu","$mdOpenMenu","ngDisabled","toBoolean","isMulti","multi","hideMenu","$mdMenu","dataURItoBlob","dataURI","byteString","atob","unescape","mimeString","ia","Uint8Array","Blob","addImages","images","img","$images","onFileChange","$files","file","fileReader","FileReader","readAsDataURL","onload","uriData","target","onWebLinkClick","pipPictureUrlDialog","blob","lastIndexOf","onCameraClick","pipCameraDialog","onGalleryClick","pipGallerySearchDialog","multiple","imgs_1","defaultOption","AddImageOption","option","assign","transclude","Upload","WebLink","Camera","Galery","AddImageResult","IAvatarDataService_1","AvatarEdit_1","AvatarComponent","pipId","pipUrl","pipName","ngClass","pipRebindAvatar","pipRebind","template","imageElement","children","defaultAvatarElement","find","load","image","$","pipPictureUtils","setImageMarginCSS","showAvatarByName","bindControl","postLink","$onChanges","changes","currentValue","previousValue","isDataChange","refreshAvatar","colorClassIndex","pipCodes","colors","removeAttr","colorClasses","css","pipAvatarData","ShowOnlyNameIcon","attr","cleanupAvatarUpdated","initial","charAt","DefaultInitial","getAvatarUrl","AvatarController","ReloadAvatar","../avatar_edit/AvatarEdit","../data/IAvatarDataService","PicturePaste_1","disabled","uploaded","uploading","upload","loaded","AvatarStates","Original","AvatarEditControl","Changed","Deleted","PICTURE_EDIT_TEXT","PICTURE_ERROR_LOAD","AvatarEditComponent","pipCreated","pipChanged","pipReset","controlElement","inputElement","focus","pipPicturePaste","addPasteListener","readItemLocally","blur","removePasteListener","control","reset","isReset","afterDeleting","saveAvatar","FormData","fd","lengthComputable","total","Content-Type","success","response","deletePicture","deleteAvatar","isUpdated","onDeleteClick","stopPropagation","onKeyDown","trigger","onImageError","$apply","setErrorImageCSS","width","height","onImageLoad","container","clientWidth","clientHeight","AvatarEditController","pipFileUpload","PicturePaste","errorText","multiUpload","ConfigAvatarEditTranslations","../utilities/PicturePaste","ConfigCameraDialogTranslations","TAKE_PICTURE","WEB_CAM_ERROR","onInit","Webcam","attach","webCamError","dest_width","dest_height","crop_width","crop_height","image_format","jpeg_quality","setSWFLocation","document","addEventListener","onDeviceReady","navigator","camera","getPicture","onSuccess","onFail","sourceType","PictureSourceType","correctOrientation","quality","targetWidth","destinationType","DestinationType","DATA_URL","CameraDialogController","imageData","onTakePictureClick","freeze","snap","dataUri","onResetPicture","unfreeze","onCancelClick","themes","ThemeRootVar","os","_mdDialog","CameraDialogService","./CameraDialogService","./ICameraDialogService","pipPictureIds","pipSrcs","pipPictures","uniqueCode","allowOpen","getElementDimensions","$watch","oldValue","debounceCalculateResize","generateContent","isChanged","isEqual","calculateResize","ims","parentElement","icns","icn","setIconMarginCSS","CollageController","defaultBlock","defaultIcon","append","svgData","getScheme","schemes","collageSchemes","getImageUrls","clone","pipPictureData","getPictureUrl","uri","generatePicture","urls","scheme","containerClasses","pictureClasses","fullWidth","fullHeight","flex","leftPadding","rightPadding","topPadding","bottomPadding","generatePictureGroup","classes","layout","generate","group","unbind","html","partialUrls","bind","getCollageSchemes","resized","debounce","CollageComponent","Attachment","AvatarData","AvatarRoute","postAvatarUrl","AvatarFieldId","AvatarResource","createAvatar","progressCallback","AvatarDataProvider","AvatarConfig","16","BlobInfo","content_type","create_time","expire_time","DataPage","18","19","PictureConfig","Image","pics","ImageSet","ImageSetData","readImageSets","readImageSet","imagesets_id","updateImageSet","deleteImageSet","pipFormat","24","PictureData","PictureRoute","ShowErrorIcon","DefaultErrorIcon","postPictureUrl","readPictures","filer","filterToString","readPictureInfo","RESOURCE_INFO","readPicture","picture_id","PictureDataProvider","./IPictureDataService","./Attachment","./AvatarDataService","./BlobInfo","./DataPage","./IAvatarDataService","./IImageSetDataService","./Image","./ImageSet","./ImageSetDataService","./PictureDataService","ConfigGallerySearchDialogTranslations","SEARCH_PICTURES","IMAGE_START_SEARCH","IGallerySearchDialogService_1","GallerySearchDialogParams","GallerySearchDialogController","onSearchClick","busy","prevSearch","pipImageSetData","Search","newImage","checked","thumbnail","imagesSearchResult","onStopSearchClick","onKeyPress","onImageClick","onAddClick","addButtonDisabled","focusSearchText","GallerySearchDialogService","./GallerySearchDialogController","./GallerySearchDialogService","./IGallerySearchDialogService","30","./add_image/AddImageOption","./add_image/AddImageResult","./avatar/Avatar","./avatar_edit/AvatarEdit","./camera_dialog","./collage/Collage","./gallery_search_dialog","./picture/Picture","./picture_edit/PictureEdit","./picture_list_edit/PictureListEdit","./picture_url_dialog","./utilities","PictureComponent","PictureController","src","pictureId","pipPicture","32","PictureEditControl","PictureStates","Copied","ConfigPictureEditTranslations","ERROR_WRONG_IMAGE_FILE","PictureEditComponent","sender","change","pipPictureId","resetImage","pictureStartState","onFocus","onBlur","savePicture","saveImage","PictureEditController","pipAddedPicture","PictureListEditItem","PictureListEditControl","Added","PictureListEditStates","PictureUploadErrors","ConfigPictureListEditTranslations","PICTURE_LIST_EDIT_TEXT","ERROR_TRANSACTION_IN_PROGRESS","ERROR_IMAGE_PRELOADING","PictureListEditComponent","PictureListEditController","removeItem","pin","getItems","newItem","itemPin","setItems","newPic","addItem","oldItem","fileInfo","itemIndex","deleteItem","cancelQuery","addedBlobCollection","addedUrlCollection","deletedCollection","callbackAll","res","getUploadErors","onSelectClick","PICTURE_FROM_WEBLINK","LINK_PICTURE","setImageSize","imageWidth","cssParams","PictureUrlDialogController","checkUrl","invalid","ConfigPictureUrlDialogTranslations","36","PictureUrlDialogService","./IPictureUrlDialogService","./PictureUrlDialogController","./PictureUrlDialogService","configAvatarResources","39","configImageSetResources","40","configPictureResources","./ImageSetResources","./PictureResources","imageCssParams","onPaste","pasteCatcher","createElement","setAttribute","overflow","appendChild","localEvent","originalEvent","clipboardData","getAsFile","files","body","removeChild","margin-left","margin-top","containerWidth","containerHeight","naturalWidth","imageHeight","naturalHeight","margin","iconSize","PictureUtils","PictureUtilsProvider","45","./IPictureUtils","./PicturePaste","./PictureUtils","46","FILE_DOCUMENTS","AddDocumentController_1","addDocuments","pipDocumentUrlDialog","IDocumentDataService_1","DocumentData","getDocumentUrl","DocumentRoute","postDocumentUrl","readDocuments","readDocumentInfo","readDocument","blob_id","deleteDocument","PAGE_SIZE","PAGE_START","PAGE_TOTAL","DocumentDataProvider","DocumentConfig","./DocumentDataService","./IDocumentDataService","setTranslations","DOCUMENTS_ATTACHED","ERROR_DOCUMENTS_LOADED","collapsable","pipDocumentIcon","rebind","documentsContainer","up","down","showDocuments","onDownload","createEvent","pipDocumentData","download","differentDocumentList","newList","onTitleClick","DocumentListController","documentListIcon","DocumentListEdit_1","DefaultDocumentIcon","documentList","DOCUMENT_LIST_EDIT_TEXT","DocumentListEditControl","DocumentUploadErrors","DocumentListEditItem","DocumentStates_1","addedDocument","documentListText","cancelDrag","_itemPin","documentStartState","newDoc","isDisabled","resetDocument","saveDocument","onAbort","onDelete","_elementDocumentDrop","DocumentListEditController","executeCallback","_pipTranslate","iconError","documentListEdit","DocumentUrlDialogController","DocumentUrlDialogService","ConfigDocumentUrlDialogTranslations","DOCUMENT_FROM_WEBLINK","LINK_DOCUMENT","match","regexURI","matchURI","ExpressionURI","RegExp","configDocumentResources","configFileResources","./DocumentResources","./FileResources","standalone","ChecklistDraggEvent","ChecklistSelected_1","dragId","ChecklistEdit","pipDraggable","pipOptions","pipScrollContainer","ChecklistEditController","equals","generateList","getCaret","el","selectionStart","selection","createRange","re","createTextRange","rc","duplicate","moveToBookmark","getBookmark","setEndPoint","setSelectionRange","input","selectionEnd","range","collapse","moveEnd","moveStart","setCaretToPos","getNewItem","checklistContent","setFocus","_debounceChange","updateContents","toPos","nextElement","clearList","setWidth100","setWidth","isWidth","onItemFocus","isSelectedItem","onAddItem","onChangeItem","onClick","onTextAreaClick","onDropComplete","placeIndex","componentId","drag","tmpIndex","checklist","i_1","onMove","onStop","dragInit","onStart","onDownDragg","onDeleteItem","onChecked","onChecklistChange","onTextareaKeyDown","textareaLength","posCaret","ctrlKey","shiftKey","position","valueCurrent","ChecklistView","ChecklistViewController","ChecklistEdit_1","CompositeFocused_1","data_1","CompositeEmptyEvent","CompositeAddItemEvent","CompositeNotEmptyEvent","CompositeAddItem","COMPOSITE_TITLE","COMPOSITE_PLACEHOLDER","COMPOSITE_START_TIME","COMPOSITE_END_TIME","CompositeControl","ContentBlock","CompositeContent","CompositeBlockTypes","Text","Pictures","Checklist","Documents","Location","Time","SecondaryBlock","PrimaryBlock","All","CompositeEdit","pipContents","compositeId","pipCompositePlaceholder","addedContent","abortContent","compositeContent","getPicIdsArray","saveContent","abortFirstError","picIds","pic_ids","saveFirstError","docs","onCompositeChange","$onDestroy","cleanupCompositeEvent","cleanupChecklistDraggEvent","cleanupCompositeFocusedEvent","setPlaceholder","getEmptyItem","getId","loc_pos","loc_name","compositePlaceholder","defaultPlaceholder","contentType","CONTENT_TYPES","onSelect","scrollTo","isFirst","setToolbar","childElement","abs","scrollTop","top","animate","getPicIds","ids","CompositeEditController","getParentIndex","elParent","strs","isActiveChecklist","onKeyUp","focusedElement","activeElement","parentIndex","onContentChange","isSelectedSection","onDraggEnd","tagName","is","CompositeSelected_1","CompositeFocusedEvent","../checklist_edit/ChecklistEdit","../data","../utilities/CompositeFocused","CompositeSummary","pipChecklistSize","pipTextSize","pipPrimaryBlockLimit","pipSecondaryBlockLimit","pipSecondaryBlockTypes","limitChecklist","ellapsed","CompositeEdit_1","checklistLength","selectSummary","selectSummarySecondary","types","id_1","summaryContent","CompositeSummaryController","disableControl","disabledChecklist","CompositeAddItemEventParams","CompositeToolbarButton","TEXT","CHECKLIST","PICTURE","TIME","DOCUMENT","emptyState","pipToolbarButton","setOption","CompositeToolbarController","toolbarButton","translateConfig","CompositeToolbar","pipDisabledChecklist","CompositeViewController","CompositeView","ContentSwitch","contentSwitchOption","showIconPicture","showIconDocument","showIconLocation","showIconEvent","onButtonClick","showEvent","showPictures","showLocation","ContentSwitchLink_1","pipParentElementName","parentElementNameGetter","ChecklistItem","ContentBlockType","Embedded","Custom","EmbeddedType","Youtube","./ChecklistItem","./Content","./ContentBlockType","EmbeddedType_1","EmbeddedEditBindings","embed_type","embed_uri","embedded","onChangeType","$error","EmbeddedEditController","onChangeUrl","embeddedTypeCollection","shortTitle","declaredEmbeddedEditResources","EMBEDDED_TYPE_LABEL","EMBEDDED_URL_LABEL","EMBEDDED_TYPE_HINT","EMBEDDED_URL_ERROR","EMBEDDED_TYPE_CUSTOM","EMBEDDED_TYPE_YOUTUBE","EMBEDDED_TYPE_CUSTOM_SHORT","EMBEDDED_TYPE_YOUTUBE_SHORT","../data/EmbeddedType","EmbeddedViewController","declaredEmbeddedViewResources","resourceYoutubeConfig","$sceDelegateProvider","resourceUrlWhitelist","EmbeddedViewBindings","./checklist_view/ChecklistView","./composite_edit/CompositeEdit","./composite_summary/CompositeSummary","./composite_toolbar/CompositeToolbar","./composite_view/CompositeView","./content_switch/ContentSwitch","./embedded_edit/EmbeddedEdit","./embedded_view/EmbeddedView","./mobile_mouse","./utilities/CompositeFocused","MobileMousedown_1","pipMobileMousedown","20","MobileMouseup_1","./MobileMouseup","CompositeFocusedController_1","guidance","Guide","GuideType_1","GuideStatus_1","GuideData","readGuides","readRandomGuide","RESOURCE_RANDOM","readIntroGuides","GuideType","Introduction","GuideStatus","Completed","readGuide","guide_id","createGuide","updateGuide","deleteGuide","GuidePage","New","Writing","Translating","Verifying","NewRelease","MultiString","PageData","PartyReference","Quote","QuoteData","readQuotes","readRandomQuote","readQuote","quote_id","createQuote","updateQuote","deleteQuote","QuoteStatus","Tip","readTips","readRandomTip","TipData","readTip","tip_id","createTip","updateTip","deleteTip","TipStatus","./Guide","./GuideDataService","./GuidePage","./GuideStatus","./GuideType","./IGuideDataService","./IQuoteDataService","./ITipDataService","./MultiString","./PageData","./PartyReference","./Quote","./QuoteDataService","./QuoteStatus","./Tip","./TipDataService","./TipStatus","GUIDANCE_TITLE","GUIDANCE_ACTION","GUIDANCE_DO_NOT_SHOW","GuidanceDialog","GuidanceDialogController_1","onAction","onHideToggle","hideToggleCallback","hideToggle","getContent","imageUrl","action","showHideToggle","./guidance/GuidanceDialog","./intro_guidance","./quotes/QuotesService","./tips/TipsService","GUIDE_COMPLETE_BUTTON","ReleaseIntroDialogController_1","ReleaseIntroDialog","onChangePage","newNumber","number","isOpen","onBackPage","onNextPage","pages","onClose","guide","ln","pic_id","picId","pic_id_url","pic_uri","picUri","picUris","IntroGuidanceService","showReleaseGuidance","guides","data_2","pipReleaseIntroDialog","showIntroGuidance","showGuide","findIntroReleaseGuide","appName","guidesSort","app","intro","lastId","moment","valueOf","release","pipGuideData","./IntroGuidanceService","QuotesService","checkStatus","compareRandom","random","filterQuotes","topic","quotes","topic_1","quotesCollection","tags","_loop_1","quoteController","author","link","more_url","onNextClick","pipPopoverService","resize","showQuotes","currentTarget","class","waitUserTipsQuotes","tips","idleTimer","pipTips","showTips","pipGuideDataConfig","configQuoteResources","pipTipDataConfig","29","./QuoteResources","./TipResources","TipsService","filterTips","tipsCollection","topics","tipController","firstShowTips","dayC","getTips","party","pipTipData","support","AnalyticsProvider","enable","newTrackingId","trackingId","enabled","wnd_1","ga","script","prevScript","getElementsByTagName","parentNode","insertBefore","pageView","wnd","category","eventCategory","eventAction","eventValue","AnalyticsRun","pipAnalytics","Feedback","sent_time","FeedbackData","readFeedbacks","readFeedback","Feedback_id","createFeedback","updateFeedback","deleteFeedback","./Feedback","./FeedbackDataService","./IFeedbackDataService","FeedbackController","showAppBar","onSave","$panel","onTypeChange","saveCallback","showNotification","FeedbackConfig","FeedbackDialogController_1","FeedbackDialogService","FeedbackPanelBindings","created","typeCollection","FeedbackPanelEntity","pipFeedbackData","createFeedbackWithFiles","FeedbackPanelController","typeIndex","translateObjects","sender_id","sender_name","sender_email","errorsWithHint","FeedbackStringsConfig","FEEDBACK_TITLE","FEEDBACK_HINT_FEEDBACK","FEEDBACK_HINT_COPYRIGHT","FEEDBACK_HINT_COPYRIGHT2","FEEDBACK_COMPANY","FEEDBACK_MESSAGE","FEEDBACK_ADDRESS","FEEDBACK_COPYRIGHT_HOLDER","FEEDBACK_COPYRIGHT_HOLDER_HINT","FEEDBACK_ORIGINAL_LOCATION","FEEDBACK_DESCRIBE_COPYRIGHTED","FEEDBACK_DESCRIBE_COPYRIGHTED_HINT","FEEDBACK_UNAUTHORIZE_LOCATION","FEEDBACK_UNAUTHORIZE_LOCATION_HINT","FEEDBACK_COPYRIGHT_CONC","FEEDBACK_REGUEST_CONC","FEEDBACK_SIGNATURE","FEEDBACK_SIGNATURE_HINT","FEEDBACK_SUBJECT","FEEDBACK_SUCCESS","./FeedbackDialog","./FeedbackPanel","./FeedbackStrings","./IFeedbackDialogService","./analytics/IAnalyticsProvider","./feedback","./FeedbackResources","maps","mapOptions","mapTypeId","google","MapTypeId","SATELLITE","disableDefaultUI","panControl","zoomControl","options","geoRegion","onMapClickCallback","onTilesLoaded","boundary","center","latitude","nw_lat","se_lat","longitude","nw_lon","se_lon","zoom","bounds","events","click","tilesloaded","zoom_changed","directiveSpecificMaxZoomLevel","maxZoomLevel","directiveSpecificMinZoomLevel","minZoomLevel","currentZoomLevel","getZoom","setZoom","infoWindow","additionalClass","offset","boxClass","closeBoxURL","pixelOffset","Size","setMapBounds","unwatchBoundsChange","newVal","northeast","southwest","fitMapToBounds","currentMapBounds","getBounds","contains","getNorthEast","getSouthWest","fitBounds","uiGmapModelKeyDecorator","setChildScope","childScope","defaultIconParameters","iconBaseSize","iconNormalScaleFactor","iconActiveScaleFactor","iconsPerSprite","numberInSprite","setIconSettings","sizes","extend","uiGmapGoogleMapApi","isReady","whenReady","getIconDimensions","setIcon","triggerEvent","createSize","createPoint","createKML","getCenterFromRegion","fitMapToRegion","getBoundsFromRegion","getBoundsFromCoordinates","forceMapToFitBounds","shouldFitBound","setModelOptions","getDegreesBetweenTwoPoints","getDirection","getDirectionByAngle","getIconOriginByDirection","mapTypes","roadMap","ROADMAP","satellite","hybrid","HYBRID","terrain","TERRAIN","symbolPath","SymbolPath","symbols","circle","CIRCLE","backwardClosed","BACKWARD_CLOSED_ARROW","forwardClosed","FORWARD_CLOSED_ARROW","backwardOpened","BACKWARD_OPEN_ARROW","forwardCOpened","FORWARD_OPEN_ARROW","isActive","parameters","scaleFactor","origin","anchor","scaledSize","iconDimensions","Point","Layer","KmlLayer","coordinates","LatLngBounds","LatLng","coordinate","northEast","southWest","mapContainsBounds","pluralModel","plainObject","gObject","setOptions","point1","point2","p1","lat","lng","p2","geometry","spherical","computeHeading","degree","directions","gutter","direction","USGSOverlay","opacity","bounds_","image_","map_","div_","setMap","MapComponentCtrl","mixTo","$applyAsync","sidePanel","embededMap","pipMapHelperSrv","uiGmapIsReady","MapPopupFct","justResized","gMap","newCenter","isNumber","panTo","oldVal","embededSrc","embededOverlay","map_north","map_west","map_south","map_east","draw","setEmbededBounds","throttleResize","OverlayView","onAdd","div","style","borderStyle","borderWidth","getPanes","overlayLayer","overlayProjection","getProjection","sw","fromLatLngToDivPixel","ne","defaultOptions","onRemove","disableDoubleClickZoom","setInitBounds","popup","merge","componentOptions","getMap","showSidePanel","finally","onMapReady","getMapInstance","srcImage","getGMap","externalClick","externalZoom","externalCenter","center_changed","debounceCenterChange","mapId","dblclick","onEventHandler","updateMapTiles","updateCenter","setCenter","getCenter","throttleUpdatingCenter","hideSidePanel","closePopup","isFrozen","setMapOptions","draggable","scrollwheel","setCursor","cursor","createElementPopup","createPopupInstance","add","strict","mixin","postHandler","eventName","handlerName","eventObj","gModel","latLng","getPositionFromLatLng","defaultHandlerName","toUpperCase","uiGmapGoogleMapApiProvider","configure","libraries","config_1","MapEditBindings","overlay","onEdit","showActionPanel","actionTypes","disabledPolygons","disabledPolygonsOptions","disabledPolylines","disabledPolylinesOptions","disabledCircles","disabledCirclesOptions","clearMap","addCircle","addRectangle","addPolygon","addLine","setOverlay","convertToGoogleMapOverlay","currentOverlay","setDraggable","setEditable","getPosition","getPath","getArray","coor","createPolygon","createPolyline","createCircle","createMarker","createRectangle","centerCoords","Marker","getOptionsByType","Circle","distance","radius","polygonCoords_1","polygon","Polygon","paths","polylineCoords_1","polyline","Polyline","rectangleBounds","rectangle","Rectangle","_polygonOptions","getDisableOptions","_circleOptions","_polylineOptions","_markerOptions","_rectangleOptions","editable","onEditOverlay","radius_changed","north","east","south","west","getRadius","showAction","includes","drawingManagerOptions","drawingMode","drawing","OverlayType","POLYGON","RECTANGLE","POLYLINE","addMarker","MARKER","MapEditController","$mdConstant","mapTypeControl","streetViewControl","drawingManagerControl","fillColor","fillOpacity","strokeWeight","strokeColor","clickable","zIndex","scale","strokeOpacity","ControlPosition","TOP_CENTER","circleOptions","polygonOptions","polylineOptions","markerOptions","rectangleOptions","getDrawingManager","setDrawingMode","getDrawingMode","addDomListener","which","factory","MapElementsCtrl","popUpOpened","models","externalDblclick","externalRightclick","rightclick","mouseup","position_changed","objEvent","updatePopupPosition","mapCtrl","initPopup","setNewOptions","popupOptions","onShow","onShowPopup","onClosePopup","getBoundsToFitAsync","getAllPositions","isModelEmpty","onDblclick","longClick","correctCircleModel","togglePopup","toFixed","model_1","onRightclick","onMousedown","onMouseup","toggle","getModels","checkContainsModel","getPlural","getPlurals","setPosition","freezeMap","unfreezeMap","$controllers","elementController","bindToController","pipMapElementsFct","ctrl","elements","ctrlName","replace","getController","MapCirclesCtrlFct","MapElementsCtrlFct","MapCirclesCtrl","stroke","fill","setPositionGetterSetter","pathProp","setDefaultPositionsIfNeeded","positions","MapCirclesCtrlBuilder","$controller","instance","pipMapCircles","./MapElementDirectiveService","./MapElementRequireService","./circles/MapCircles","./kml/MapKml","./markers/MapMarkers","./polygons/MapPolygons","./polylines/MapPolylines","MapKmlCtrlFct","MapKmlCtrl","existingModels","preserveViewport","suppressInfoWindows","getPopupParameters","meta","getMetadata","removeOldModels","addNewModels","getOldModels","deRegisterModel","newUrls","getNewModels","copy","addModel","registerModel","addEvents","existingUrls","mapInstance","layer","clickHandler","onEvent","copyArguments","getPopupMetaData","MapKmlCtrlBuilder","pipMapKml","definition","$watchCollection","MapMarkersCtrlFct","MapMarkersCtrl","coords","connect","initConnect","coordsProp","setIconActive","popupModel","resetIconActive","MapMarkersCtrlBuilder","pipMapMarkers","MapPolygonsCtrlFct","MapPolygonsCtrl","color","weight","MapPolygonsCtrlBuilder","pipMapPolygons","MapPolylinesCtrlFct","MapPolylinesCtrl","pipMapPolylines","MapPolylinesCtrlBuilder","./HelpService","./Map","./MapEventHandlerService","./config","./edit","./elements","./popup","MapElementPopupFct","className","initBreakpoints","breakpoints","breakpoint","defaultOffset","fitOffset","utils","hasBreakpoint","MapElementPopup","updatePosition","isNewModel","isEnabled","setBreakpointHandler","removeBreakpointHandler","resetBreakpointHandler","./MapElementPopupService","./MapPopup","./MapPopupContent","./MapPopupService","TagData","readTags","createTags","updateTags","TagDataProvider","./rest/TagResources","./tag_list/TagList","configTagResources","TagList","typeLocal","rebuid","TagListController"],"mappings":"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","file":"pip-suite.min.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","import { IAuthState } from './IAuthStateService';\nexport const UnauthorizedRedirect: string = 'pipUnauthorizedRedirect';\nexport const AccessDenyRedirect: string = 'pipAccessDenyRedirect';\n\nclass AuthHttpResponseInterceptor implements ng.IHttpInterceptor {\n    constructor(\n        private $q: ng.IQService, \n        private $rootScope: ng.IRootScopeService,\n        private $location: ng.ILocationService,\n        private $log: ng.ILogService\n    ) {\n        \"ngInject\";\n    }\n\n    public responseError = (rejection: any): ng.IPromise<any> => {\n        let toState: IAuthState = this.$rootScope[pip.services.StateVar] && this.$rootScope[pip.services.StateVar].name ? this.$rootScope[pip.services.StateVar].name : null;\n        let toParams: any = this.$rootScope[pip.services.StateVar] && this.$rootScope[pip.services.StateVar].params ? this.$rootScope[pip.services.StateVar].params : null;\n        // When server sends Non-authenticated response\n        switch (rejection.status) {\n            case 401:\n            case 440:\n                this.$log.error(\"Response Error 401\", rejection);\n                // Redirect to unauthorized state\n                this.$rootScope.$emit(UnauthorizedRedirect, { // todo var event end event params\n                    redirect_to: toState && toParams && toParams.redirect_to ? '' : this.$location.url(),\n                    toState: toState,\n                    toParams: toParams\n                });\n\n                break;\n            case 403:\n                this.$log.error(\"Response Error 403\", rejection);\n                // Redirect to unauthorized state\n                this.$rootScope.$emit(AccessDenyRedirect);\n\n                break;                \n            default:\n                this.$log.error(\"errors_unknown\", rejection);\n                break;\n        }\n\n        return this.$q.reject(rejection);\n    }\n}\n\nfunction configureAuthState($httpProvider: ng.IHttpProvider) {\n    $httpProvider.interceptors.push('pipAuthHttpResponseInterceptor');\n}\n\nangular\n    .module('pipAuthState')\n    .config(configureAuthState)\n    .service('pipAuthHttpResponseInterceptor', AuthHttpResponseInterceptor);\n\n\n\n","import { AuthStateConfig } from './IAuthStateService';\n\n// Decorator function to add redirect method to pipAuthState service\nfunction decorateStatesAuthStateService($delegate, $timeout) {\n    \"ngInject\";\n\n    $delegate.config = new AuthStateConfig();\n    $delegate.signinState = signinState;\n    $delegate.signoutState = signoutState;\n    $delegate.authorizedState = authorizedState;\n    $delegate.unauthorizedState = unauthorizedState;\n\n    $delegate.goToSignin = goToSignin;\n    $delegate.goToSignout = goToSignout;\n    $delegate.goToAuthorized = goToAuthorized;\n    $delegate.goToUnauthorized = goToUnauthorized;\n\n    return $delegate;\n    ////////////////////////////////\n\n    function signinState(value?: string): string {\n        if (value) {\n            this._config.signinState = value;\n        } return this._config.signinState;\n    }\n    function signoutState(value?: string): string {\n        if (value) {\n            this._config.signoutState = value;\n        } return this._config.signoutState;\n    }\n    function authorizedState(value?: string): string {\n        if (value) {\n            this._config.authorizedState = value;\n        } return this._config.authorizedState;\n    }\n    function unauthorizedState(value?: string): string {\n        if (value) {\n            this._config.unauthorizedState = value;\n        } return this._config.unauthorizedState;\n    }\n\n    function setSigninParams(params: any): any {\n        if (!params) return params;\n\n        if (!params.toParams) return params;\n\n        params.server_url = params.toParams.server_url ? params.toParams.server_url : null;\n        params.email = params.toParams.email ? params.toParams.email : null;\n        params.language = params.toParams.language ? params.toParams.language : 'en';\n\n        return params;\n    }\n\n    function goToSignin(params: any): void {\n        if (this._config.signinState == null) {\n            throw new Error('Signin state was not defined');\n        }\n\n        params = setSigninParams(params);\n        this.go(this._config.signinState, params);\n    }\n    function goToSignout(params: any): void {\n        if (this._config.signoutState == null) {\n            throw new Error('Signout state was not defined');\n        }\n\n        this.go(this._config.signoutState, params);\n    }\n    function goToAuthorized(params: any): void {\n        if (this._config.authorizedState == null) {\n            throw new Error('Authorized state was not defined');\n        }\n\n        this.go(this._config.authorizedState, params);\n    }\n    function goToUnauthorized(params: any): void {\n        if (this._config.unauthorizedState == null) {\n            throw new Error('Signin state was not defined');\n        }\n\n        this.go(this._config.unauthorizedState, params);\n    }\n}\n\n// Config function to decorate pipAuthState service\nfunction addStatesAuthtateDecorator($provide) {\n    \"ngInject\";\n\n    $provide.decorator('pipAuthState', decorateStatesAuthStateService);\n}\n\nangular\n    .module('pipAuthState')\n    .config(addStatesAuthtateDecorator);\n\n","import { IAuthStateService, IAuthState } from './IAuthStateService';\n\nfunction initAuthState(\n    $log: ng.ILogService,\n    $rootScope: ng.IRootScopeService,\n    $state: ng.ui.IStateService,\n    pipSession: pip.services.ISessionService,\n    pipAuthState: IAuthStateService\n\n) {\n\n    // Intercept routes\n    $rootScope.$on('$stateChangeStart', stateChangeStart);\n    // Process unauthorized access error\n    $rootScope.$on('pipUnauthorizedRedirect', unauthorizedRedirect);\n    // Process after state changed\n    $rootScope.$on('$stateChangeSuccess', stateChange);\n\n    function stateChange(event: ng.IAngularEvent, toState: angular.ui.IState,\n        toParams: any, fromState: angular.ui.IState, fromParams: any): void {\n        // Unset routing variable to disable page transition\n        $rootScope[pip.services.RoutingVar] = false;\n    }\n\n    function stateChangeStart(event: ng.IAngularEvent, toState: IAuthState, toParams: any,\n        fromState: IAuthState, fromParams: any): void {\n\n        // Implement redirect mechanism\n        if (pipAuthState.redirect && pipAuthState.redirect(event, toState, toParams, $rootScope)) {\n            return;\n        }\n\n        // If user is not authorized then switch to signin\n        if ((toState.auth || toState.auth === undefined) && !pipSession.isOpened()) {\n            event.preventDefault();\n\n            let redirectTo: string = pipAuthState.href(toState.name, toParams);\n\n            // Remove hashtag\n            if (redirectTo.length > 0 && redirectTo[0] == '#') {\n                redirectTo = redirectTo.substring(1);\n            }\n\n        //    <IAuthStateService>\n           pipAuthState.goToSignin({ redirect_to: redirectTo, toState: toState, toParams: toParams });\n\n            return;\n        }\n\n        // Move user to authorized page\n        if (toState.name == pipAuthState.unauthorizedState() && pipSession.isOpened()) {\n            event.preventDefault();\n            pipAuthState.goToAuthorized({});\n\n            return;\n        }\n    }\n\n    function unauthorizedRedirect(event: ng.IAngularEvent, params: any): void {\n        // pipAuthState.goToSignin(params);\n        pipAuthState.goToSignout(params);\n    }\n\n}\n\nfunction configureAuthState(pipTranslateProvider: pip.services.ITranslateProvider) {\n    // Switch to HTML5 routing mode\n    pipTranslateProvider.translations('en', {\n        'ERROR_SWITCHING': 'Error while switching route. Try again.'\n    });\n\n    pipTranslateProvider.translations('ru', {\n        'ERROR_SWITCHING': 'Ошибка при переходе. Попробуйте ещё раз.'\n    });\n}\n\nangular\n    .module('pipAuthState')\n    .config(configureAuthState)\n    .run(initAuthState);\n\n","import { IAuthStateService, IAuthStateProvider, AuthStateConfig, IAuthState } from './IAuthStateService';\n\nclass AuthStateProvider implements IAuthStateProvider {\n    private _service: IAuthStateService;\n    private _config: AuthStateConfig;\n    private _redirectedStates: any = {};\n\n    public state: Function;\n\n    constructor(\n        private $stateProvider: ng.ui.IStateProvider\n    ) {\n        \"ngInject\";\n\n        this._config = new AuthStateConfig();\n\n\n        this.state = (stateName: string, stateConfig: IAuthState) => {\n            if (stateName == null) {\n                throw new Error('stateName cannot be null');\n            }\n            if (stateConfig == null) {\n                throw new Error('stateConfig cannot be null');\n            }\n\n            // add resolver\n            if (stateConfig && (stateConfig.auth || stateConfig.authenticate)) {\n                stateConfig.resolve = stateConfig.resolve || {};\n            }\n\n            this.$stateProvider.state(stateName, stateConfig);\n\n            return this;\n        }\n    }\n\n    public redirect(fromState: string, toState: string) {\n        this._redirectedStates[fromState] = toState;\n    }\n\n    public get signinState(): string {\n        return this._config.signinState;\n    }\n\n    public set signinState(value: string) {\n        this._config.signinState = value || null;\n    }\n\n    public get signoutState(): string {\n        return this._config.signoutState;\n    }\n\n    public set signoutState(value: string) {\n        this._config.signoutState = value || null;\n    }\n    public get authorizedState(): string {\n        return this._config.authorizedState;\n    }\n\n    public set authorizedState(value: string) {\n        this._config.authorizedState = value || '/';\n    }\n    public get unauthorizedState(): string {\n        return this._config.unauthorizedState;\n    }\n\n    public set unauthorizedState(value: string) {\n        this._config.unauthorizedState = value || '/';\n    }\n\n    public $get($state: ng.ui.IStateService, $timeout: ng.ITimeoutService) {\n        \"ngInject\";\n\n        if (this._service == null) {\n            $state['_config'] = this._config;\n            $state['_redirectedStates'] = this._redirectedStates;\n            $state['redirect'] = redirect;\n        }\n\n        this._service = <IAuthStateService>$state;\n\n        return this._service;\n\n        function redirect(event, state, params) {\n            let toState = this._redirectedStates[state.name];\n            if (_.isFunction(toState)) {\n                toState = toState(state.name, params);\n\n                if (_.isNull(toState))\n                    throw new Error('Redirected toState cannot be null');\n            }\n            if (!!toState) {\n                $timeout(() => {\n                    event.preventDefault();\n                    this.transitionTo(toState, params, { location: 'replace' });\n                });\n\n                return true;\n            }\n\n            return false;\n        }\n    }\n}\n\nangular\n    .module('pipAuthState')\n    .provider('pipAuthState', AuthStateProvider);","export interface IAuthState extends angular.ui.IState {\n    auth?: boolean;\n    authenticate?: any;\n}\n\nexport class AuthStateConfig {\n    signinState: string = null;\n    signoutState: string = null;\n    authorizedState: string = '/';\n    unauthorizedState: string = '/';\n}\n\nexport interface IAuthStateService extends ng.ui.IStateService  {\n    signinState(value?: string): string;\n    signoutState(value?: string): string;\n    authorizedState(value?: string): string;\n    unauthorizedState(value?: string): string;\n\n    redirect(event: ng.IAngularEvent, toState: IAuthState, toParams: any, $rootScope: ng.IRootScopeService): any;\n    state(stateName: string, stateConfig: IAuthState): any;\n\n    goToSignin(params: any): void;\n    goToSignout(params: any): void;\n    goToAuthorized(params: any): void;\n    goToUnauthorized(params: any): void;\n}\n\nexport interface IAuthStateProvider extends ng.IServiceProvider {\n    redirect(fromState: string, toState: string);\n    signinState: string;\n    signoutState: string;\n    authorizedState: string;\n    unauthorizedState: string;\n}\n\n","angular\n    .module('pipAuthState', [\n        'ngResource',\n        'pipServices', \n        'LocalStorageModule'\n    ]);\n\n\nimport './AuthHttpResponseInterceptor';\nimport './AuthStateDecorator';\nimport './AuthStateInit';\nimport './IAuthStateService';\nimport './AuthStateService';\n\n\n\nexport * from './AuthHttpResponseInterceptor'\nexport * from './IAuthStateService'\n","import { CacheParams, IDataCacheService, IDataCacheProvider } from './IDataCacheService';\nimport { IDataModelService } from '../data/IDataModelService';\n\nclass DataCache implements IDataCacheService {\n    private CACHE_TIMEOUT = 10 * 60000; // 10 mins or make it configurable\n    private _cache: any;\n    private _timeout: number;\n\n    public constructor(\n        private $q: ng.IQService, \n        private pipDataModel: IDataModelService\n    ) {\n        \"ngInject\";\n\n        this._cache = {};\n    }\n\n    // Converts a string value into a numeric hash code\n    private hash(data: CacheParams): number {\n        let filteredData: CacheParams = <CacheParams>{};\n\n        // Filter only the generic parameters that can be relevant to the query\n        if (data != null) {\n            // filteredData.item = data.item;\n            // filteredData.id = data.id;\n            filteredData.filter = data.filter;\n            filteredData.search = data.search;\n            filteredData.start = data.start;\n            filteredData.take = data.take;\n            filteredData.skip = data.skip;\n            // filteredData.status = data.status;\n        }\n\n        let serializedFilter = angular.toJson(filteredData);\n\n        if (serializedFilter == null || serializedFilter.length === 0)\n            return 0;\n\n        let h: number = 0;\n        for (let i = 0, len = serializedFilter.length; i < len; i++) {\n            let chr = serializedFilter.charCodeAt(i);\n            h = ((h << 5) - h) + chr;\n            h |= 0; // Convert to 32bit integer\n        }\n\n        return h;\n    }\n\n    // Generates parameterized key\n    private generateKey(resource: string, params?: CacheParams): string {\n        let h: number = this.hash(params);\n        return resource + (h != 0 ? '_' + h : '');\n    };\n\n    // Clear the cache, globally or selectively\n    public clear(resource?: string): void {\n        if (resource == null) {\n            this._cache = {};\n        } else {\n            for (let key in this._cache) {\n                if (key == resource || key.startsWith(resource + '_')) {\n                    delete this._cache[key];\n                }\n            }\n        }\n    }\n\n    // Try to retrieve collection from the cache\n    public retrieve(resource: string, params?: CacheParams): any {\n        if (resource == null) throw new Error('Resource cannot be null');\n        if (resource == '') throw new Error('Resource cannot be empty');\n\n        let key: string = this.generateKey(resource, params);\n        let holder: any = this._cache[key];\n        if (holder == null) return null;\n\n        // If expired then cleanup and return null\n        if (holder.expire && _.now() - holder.expire > this.CACHE_TIMEOUT) {\n            delete this._cache[key];\n            return null;\n        }\n\n        return holder.data;\n    }\n\n    // Store collection into the cache\n    public store(resource: string, data: any, params?: CacheParams): void {\n        if (resource == null) throw new Error('Resource cannot be null');\n        if (resource == '') throw new Error('Resource cannot be empty');\n\n        this._cache[this.generateKey(resource, params)] = {\n            expire: _.now(),\n            data: data\n        };\n    }\n\n    // Store collection into the cache without expiration\n    public storePermanently(resource: string, data: any, params?: CacheParams): void {\n        if (resource == null) throw new Error('Resource cannot be null');\n        if (resource == '') throw new Error('Resource cannot be empty');\n\n        this._cache[this.generateKey(resource, params)] = {\n            expire: null,\n            data: data\n        };\n    }\n\n    // Remove collection from the cache\n    public remove(resource: string, params?: CacheParams): void {\n        if (resource == null) throw new Error('Resource cannot be null');\n        if (resource == '') throw new Error('Resource cannot be empty');\n\n        delete this._cache[this.generateKey(resource, params)];\n    };\n\n    public updateOne(resource: string, item: any, params?: CacheParams): void {\n        if (resource == null) throw new Error('Resource cannot be null');\n        if (item == null) return;\n\n        let data: any = this.retrieve(resource, params);\n\n        if (data != null) {\n            let isAdded = false;\n            let size = data.length;\n            for (let i = 0; i < size; i++) {\n                if (data[i].id == item.id) {\n                    data[i] = item;\n                    isAdded = true;\n\n                    return;\n                }\n            }\n            if (!isAdded) data.push(item);\n            this.store(resource, data, params);\n        }\n    }\n\n    // Tries to retrieve collection from the cache, otherwise load it from server\n    public retrieveOrLoad(params: CacheParams, successCallback?: (data: any) => void, errorCallback?: (err: any) => void): any {\n        if (params == null) throw new Error('params cannot be null');\n\n        let resource: string = params.resource; //(params.cache || params.resource);\n\n        // Retrieve data from cache\n        let filter: Function = params.filter;\n        let force: boolean = !!params.force;\n        let result: any = !force ? this.retrieve(resource, params) : null;\n        let deferred: any = this.$q.defer();\n        let method: string;\n        if (!!params.paging) {\n            method = 'page';\n        } else {\n            method = params.singleResult ? 'readOne' : 'read';\n        }\n        // Return result if it exists\n        if (result) {\n            if (filter) {\n                if (result.data) {\n                    result.data = filter(result.data);\n                } else {\n                    result = filter(result);\n                }\n            }\n            if (_.isFunction(successCallback)) { successCallback(result); }\n            deferred.resolve(result);\n\n            return deferred.promise;\n        }\n\n        this.pipDataModel[method](\n            params,\n            (data: any) => {\n                // Store data in cache and return\n                params.updatedItem ?\n                    this.updateOne(resource, data, params) :\n                    this.store(resource, data, params);\n                if (filter) data = filter(data);\n                deferred.resolve(data);\n\n                if (_.isFunction(successCallback)) { successCallback(data); }\n            },\n            (err: any) => {\n                // Return error\n                deferred.reject(err);\n                if (_.isFunction(errorCallback)) errorCallback(err);\n            }\n        );\n\n        // Return deferred object\n        return deferred.promise;\n    }\n\n    public removeOne(resource: string, item: any): void {\n        if (resource == null) throw new Error('Resource cannot be null');\n        if (item == null) return;\n\n        for (let key in this._cache) {\n            if (key == resource || key.startsWith(resource + '_')) {\n                let data: any = this._cache[key].data;\n                if (angular.isArray(data)) {\n                    for (let i = 0; i < data.length; i++) {\n                        if (data[i].id == item.id) {\n                            data.splice(i, 1);\n                            i--;\n                        }\n                    }\n                }\n            }\n        }\n    }\n\n    // OBSOLETE - WILL BE REMOVED ONCE CODE IS REFACTORED\n    public decorateAddCallback(resource: string, params?: CacheParams, successCallback?: (data: any) => void): Function {\n        return (item: any) => {\n            if (!params || !params.notClearedCache) { this.clear(resource); }\n            if (_.isFunction(successCallback)) { successCallback(item); }\n        };\n    }\n\n    public decorateRemoveCallback(resource: string, params?: CacheParams, successCallback?: (data: any) => void): Function {\n        return (item: any) => {\n            this.removeOne(resource, params);\n            if (_.isFunction(successCallback)) { successCallback(item); }\n        };\n    }\n\n    public decorateUpdateCallback(resource: string, params?: CacheParams, successCallback?: (data: any) => void): Function {\n        return (item: any) => {\n            for (var key in this._cache) {\n                if (key == resource || key.startsWith(resource + '_')) {\n                    let data: any = this._cache[key].data;\n                    if (angular.isArray(data)) {\n                        for (var i = 0; i < data.length; i++) {\n                            if (data[i].id == item.id) {\n                                data[i] = item;\n                            }\n                        }\n                    }\n                }\n            }\n\n            if (_.isFunction(successCallback)) { successCallback(item); }\n        };\n    }\n\n    public setTimeout(newTimeout: number): number {\n        if (newTimeout) {\n            this.CACHE_TIMEOUT = newTimeout;\n        }\n        return this.CACHE_TIMEOUT;\n    }\n \n}\n\nclass DataCacheProvider implements IDataCacheProvider {\n    private _service: DataCache;\n\n    constructor() {\n    }\n\n    public $get($q: ng.IQService, pipDataModel: IDataModelService) {\n        \"ngInject\";\n\n        if (this._service == null) {\n            this._service = new DataCache($q, pipDataModel);\n        }\n        return this._service;\n    }\n}\n\nangular\n    .module('pipDataCache', [])\n    .provider('pipDataCache', DataCacheProvider);\n\n\n","export class CacheParams {\n    force?: boolean;\n    resource?: string;\n    // cache?: string; cache || resource\n    filter?: Function;\n    singleResult?: boolean;\n    // party_id: string;\n    // item?: any;\n    // id?: string;\n    search?: string;\n    start?: any;\n    take?: number;\n    skip?: number;\n    // status?: string;\n    notClearedCache?: boolean;\n    paging?: boolean;\n    updatedItem?: any;\n}\n\nexport interface IDataCacheService {\n    setTimeout(newTimeout: number): number;\n\n    store(resource: string, data: any, params?: CacheParams): void;\n    storePermanently(resource: string, data: any, params?: CacheParams): void;\n    retrieve(resource: string, params?: CacheParams): any;\n    retrieveOrLoad(params: CacheParams, successCallback?: (data: any) => void, errorCallback?: (err: any) => void): any;\n    updateOne(resource: string, item: any, params?: CacheParams): void;\n    remove(resource: string, params?: CacheParams): void;\n    removeOne(resource: string, item: any): void;\n    clear(resource?: string): void;\n\n    decorateAddCallback(resource: string, params?: CacheParams, successCallback?: (data: any) => void): Function;\n    decorateUpdateCallback(resource: string, params?: CacheParams, successCallback?: (data: any) => void): Function;\n    decorateRemoveCallback(resource: string, params?: CacheParams, successCallback?: (data: any) => void): Function;\n}\n\nexport interface IDataCacheProvider extends ng.IServiceProvider {}","angular\n    .module('pipDataCache', ['pipDataModel']);\n\nimport './DataCacheService';\nimport './IDataCacheService';\n\nexport * from './IDataCacheService';","import { IDataModelService, IDataModelProvider } from './IDataModelService';\nimport { IRestService } from '../rest/IRestService'\n\ndeclare var async: any;\n\n// Todo: Shall it be just an abstract class?\n// Todo: Use generics to make it type-safe\nclass DataModel implements IDataModelService {\n    public save;\n    public remove;\n    public query;\n    public get;\n    public readPage;\n    public queryPage;\n\n    constructor(\n        private $stateParams: angular.ui.IStateParamsService,\n        private pipRest: IRestService\n    ) {\n        \"ngInject\";\n        \n        this.save = this.update;\n        this.remove = this.delete;\n        this.query = this.read;\n        this.get = this.readOne;\n        this.readPage = this.page;\n        this.queryPage = this.page;\n    }\n\n    // Execute request to REST API\n    public execute(params: any, successCallback?: (result: any) => void,\n        errorCallback?: (error: any) => void): ng.IPromise<{}> {\n\n        let t = params.transaction, tid;\n\n        if (t && !params.skipTransactionBegin) {\n            tid = params.transactionId = t.begin(\n                params.transactionOperation || 'PROCESSING'\n            );\n            if (!tid) return;\n        }\n\n        // return this.pipRest.resources[params.resource]()[params.operation](\n        return this.pipRest.getResource(params.resource)[params.operation](\n            params.item,\n            (result: any) => {\n                if (t && tid && t.aborted(tid)) return;\n                if (t && !params.skipTransactionEnd) t.end();\n                if (successCallback) successCallback(result);\n            },\n            (error: any) => {\n                if (t) t.end(error);\n                if (errorCallback) errorCallback(error);\n            }\n        );\n    }\n\n    // Create an object and add it to object collection\n    public create(params: any, successCallback?: (result: any) => void,\n        errorCallback?: (error: any) => void): ng.IPromise<{}> {\n\n        params.transactionOperation = params.transactionOperation || 'SAVING';\n        params.operation = params.operation || 'save';\n\n        return this.execute(\n            params,\n            (result: any) => {\n                if (params.itemCollection)\n                    params.itemCollection.push(result);\n\n                if (successCallback) successCallback(result);\n            },\n            (error: any) => {\n                if (errorCallback) errorCallback(error);\n            }\n        );\n    }\n\n    // Update an object and replace it in object collection\n    public update(params: any, successCallback?: (result: any) => void,\n        errorCallback?: (error: any) => void): ng.IPromise<{}> {\n\n        params.transactionOperation = params.transactionOperation || 'SAVING';\n        params.operation = params.operation || 'update';\n\n        return this.execute(\n            params,\n            (result: any) => {\n                if (params.itemCollection)\n                    var index = _.findIndex(params.itemCollection, function (item: any) {\n                        return item.id == result.id;\n                    });\n                if (index > -1) {\n                    params.itemCollection[index] = result;\n                }\n\n                if (successCallback) successCallback(result);\n            },\n            (error: any) => {\n                if (errorCallback) errorCallback(error);\n            }\n        );\n    }\n\n    // Update an object and remove it from object collection\n    public delete(params: any, successCallback?: (result: any) => void,\n        errorCallback?: (error: any) => void): ng.IPromise<{}> {\n\n        params.transactionOperation = params.transactionOperation || 'SAVING';\n        params.operation = params.operation || 'remove';\n\n        return this.execute(\n            params,\n            (result: any) => {\n                if (params.itemCollection)\n                    _.remove(params.itemCollection, { id: result.id || (params.object || {}).id || (params.item || {}).id });\n\n                if (successCallback) successCallback(result);\n            },\n            (error: any) => {\n                if (errorCallback) errorCallback(error);\n            }\n        );\n    }\n\n    // Read a collection of objects\n    public read(params: any, successCallback?: (result: any) => void,\n        errorCallback?: (error: any) => void): ng.IPromise<{}> {\n\n        params.transactionOperation = params.transactionOperation || 'READING';\n        params.operation = params.operation || 'query';\n\n        return this.execute(\n            params,\n            (result: any) => {\n                if (successCallback) successCallback(result);\n            },\n            (error: any) => {\n                if (errorCallback) errorCallback(error);\n            }\n        );\n    }\n\n    // Read a single object and add it into collection\n    public readOne(params: any, successCallback?: (result: any) => void,\n        errorCallback?: (error: any) => void): ng.IPromise<{}> {\n\n        params.transactionOperation = params.transactionOperation || 'READING';\n        params.operation = params.operation || 'page';\n\n        return this.execute(\n            params,\n            (result: any) => {\n                if (params.itemCollection && result) {\n                    var index = _.findIndex(params.itemCollection, { id: result.id });\n                    if (index >= 0) params.itemCollection[index] = result;\n                    else params.itemCollection.push(result);\n                }\n\n                if (successCallback) successCallback(result);\n            },\n            (error: any) => {\n                if (errorCallback) errorCallback(error);\n            }\n        );\n    }\n\n    // Read a page and add results into object collection\n    public page(params: any, successCallback?: (result: any) => void,\n        errorCallback?: (error: any) => void): ng.IPromise<{}> {\n\n        params.transactionOperation = params.transactionOperation || 'READING';\n        params.operation = params.operation || 'page';\n\n        return this.execute(\n            params,\n            (result: any) => {\n                if (params.itemCollection && result.data) {\n                    for (var i = 0; i < result.data.length; i++)\n                        params.itemCollection.push(result.data[i]);\n                }\n\n                if (successCallback) successCallback(result);\n            },\n            (error: any) => {\n                if (errorCallback) errorCallback(error);\n            }\n        );\n    }\n\n    // Save picture and document files\n    public uploadFiles(params: any, successCallback?: () => void,\n        errorCallback?: (error: any) => void): ng.IPromise<{}> {\n\n        var t = params.transaction, tid;\n\n        // Start transaction if necessary\n        if (t && !params.skipTransactionBegin) {\n            tid = params.transactionId = t.begin(\n                params.transactionOperation || 'SAVING'\n            );\n            if (!tid) return;\n        }\n\n        var uploadFiles = [{\n            pictures: params.pictures,\n            documents: params.documents\n        }];\n\n        // from content\n        if (params.item && params.item.content) {\n            var saveResult = true;\n            async.eachSeries(_.union(params.item.content, uploadFiles),\n                (obj, callback) => {\n                    // не выбран - пропускаем этот item  || нет этого события action\n                    if (!obj.pictures && !obj.documents) {\n                        callback();\n                    } else {\n                        if (obj.pictures) {\n                            // Save pictures first\n                            obj.pictures.save(\n                                () => {\n                                    if (t && tid && t.aborted(tid)) {\n                                        saveResult = false;\n                                        callback('aborted');\n                                    }\n                                    // Save documents second\n                                    if (obj.documents) {\n                                        obj.documents.save(\n                                            () => {\n                                                if (t && tid && t.aborted(tid)) {\n                                                    saveResult = false;\n                                                    callback('aborted');\n                                                }\n                                                callback();\n                                            },\n                                            (error: any) => {\n                                                saveResult = false;\n                                                callback(error);\n                                            }\n                                        );\n                                    } else {\n                                        callback();\n                                    }\n                                },\n                                (error: any) => {\n                                    saveResult = false;\n                                    callback(error);\n                                }\n                            );\n                        } else {\n                            if (obj.documents) {\n                                // Save documents first\n                                obj.documents.save(\n                                    () => {\n                                        if (t && tid && t.aborted(tid)) {\n                                            saveResult = false;\n                                            callback('aborted');\n                                        }\n                                        callback();\n                                    },\n                                    (error: any) => {\n                                        saveResult = false;\n                                        callback(error);\n                                    }\n                                );\n                            }\n                        }\n                    }\n                },\n                (error: any) => {\n                    if (!error && saveResult) {\n                        // удаляем ненужные объекты перед сохранением\n                        // вызываем колбек\n                        if (t && !params.skipTransactionEnd) t.end();\n                        _.each(params.item.content, function (item) {\n                            delete item.pictures;\n                            delete item.documents;\n                        });\n                        if (successCallback) successCallback();\n                    } else {\n                        // вызываем ошибочный колбек\n                        if (t) t.end(error);\n                        if (errorCallback) {\n                            errorCallback(error);\n                        }\n                    }\n                }\n            );\n        } else {\n            if (params.pictures) {\n                // Save pictures first\n                params.pictures.save(\n                    () => {\n                        if (t && tid && t.aborted(tid)) return;\n\n                        // Save documents second\n                        if (params.documents) {\n                            params.documents.save(\n                                () => {\n                                    if (t && tid && t.aborted(tid)) return;\n                                    // Do everything else\n                                    if (t && !params.skipTransactionEnd) t.end();\n                                    if (successCallback) successCallback();\n                                },\n                                (error: any) => {\n                                    if (t) t.end(error);\n                                    if (errorCallback) errorCallback(error);\n                                }\n                            );\n                        } else {\n                            // Do everything else\n                            if (t && !params.skipTransactionEnd) t.end();\n                            if (successCallback) successCallback();\n                        }\n                    },\n                    (error: any) => {\n                        if (t) t.end(error);\n                        if (errorCallback) errorCallback(error);\n                    }\n                );\n            } else if (params.documents) {\n                // Save documents first\n                params.documents.save(\n                    () => {\n                        if (t && tid && t.aborted(tid)) return;\n                        // Do everything else\n                        if (t && !params.skipTransactionEnd) t.end();\n                        if (successCallback) successCallback();\n                    },\n                    (error: any) => {\n                        if (t) t.end(error);\n                        if (errorCallback) errorCallback(error);\n                    }\n                );\n            } else {\n                // Do everything else\n                if (t && !params.skipTransactionEnd) t.end();\n                if (successCallback) successCallback();\n            }\n        }\n    }\n\n    // Abort transaction with file upload\n    public abortFilesUpload(params) {\n        if (params.pictures)\n            params.pictures.abort();\n        if (params.documents)\n            params.documents.abort();\n        if (params.transaction)\n            params.transaction.abort();\n    }\n}\n\nclass DataModelProvider implements IDataModelProvider {\n    private _service: IDataModelService;\n\n    constructor(\n    ) {\n        \"ngInject\";\n\n    }\n\n    public $get(\n        $stateParams: angular.ui.IStateParamsService,\n        pipRest: IRestService\n    ) {\n        \"ngInject\";\n        \n        if (this._service == null) {\n            this._service = new DataModel($stateParams, pipRest);\n        }\n\n        return this._service;\n    }\n}\n\nangular\n    .module('pipDataModel')\n    .provider('pipDataModel', DataModelProvider);","import './TagDataService';\nimport './ITagDataService';\n\n\nexport * from './ITagDataService';\n\n","import './tag_list/TagList'\nimport './rest/TagResources';\nimport './data';\n\n\nangular.module('pipTags', [\n        'pipTag.Rest',\n        'pipTagData',\n        'pipTagList'\n]);\n\n\nexport * from './data';\n\n\n","\nimport {\n    IRestProvider,\n    IRestService,\n} from './IRestService';\n\nclass RestResourceConfig {\n    operation: string;\n    name: string;\n    path: string;\n    defaultParams: any;\n    actions: any\n};\n\nclass RestService implements IRestService {\n    private _resources: any = {};\n    private _serverUrl: string;\n    private _lockServerUrl: boolean;\n\n    constructor(\n        private $resource: ng.resource.IResourceService,\n        private $http: ng.IHttpService,\n        private $stateParams: ng.ui.IStateParamsService,\n        serverUrl: string,\n        lockServerUrl: boolean,\n        private resourceConfigs: RestResourceConfig[]\n    ) {\n        \"ngInject\";\n\n        this._serverUrl = serverUrl;\n        this._lockServerUrl = lockServerUrl;\n        this.initResources(resourceConfigs);\n    }\n\n    private reInitResource() {\n        this._resources = {};\n        this.initResources(this.resourceConfigs);        \n    }\n\n    private initResources(resourceConfigs: RestResourceConfig[]): void {\n        _.each(resourceConfigs, (resourceConfig) => {\n            let resource: any;\n            switch (resourceConfig.operation) {\n                case 'createResource':\n                    resource = this.createResource(this._serverUrl, resourceConfig.path, resourceConfig.defaultParams, resourceConfig.actions);\n                    break;\n                case 'createOperation':\n                    resource = this.createOperation(this._serverUrl, resourceConfig.path);\n                    break;\n                case 'createCollection':\n                    resource = this.createCollection(this._serverUrl, resourceConfig.path, resourceConfig.defaultParams);\n                    break;\n                case 'createPagedCollection':\n                    resource = this.createPagedCollection(this._serverUrl, resourceConfig.path, resourceConfig.defaultParams);\n\n                    break;\n                case 'createPartyCollection':\n                    resource = this.createPartyCollection(this._serverUrl, resourceConfig.path, resourceConfig.defaultParams);\n                    break;\n            }\n\n            if (resource) {\n                this._resources[resourceConfig.name] = resource;\n            }\n        });\n    }\n\n    private createResource(url: string, path: string, defaultParams?: any, actions?: any) {\n        url = url || this._serverUrl;\n        return this.$resource(this._serverUrl + path, defaultParams, actions);\n    }\n\n    private createOperation(url: string, path: string) {\n        url = url || this._serverUrl;\n        return this.$resource(\n            url + path,\n            {},\n            {\n                call: { method: 'POST' }\n            }\n        );\n    }\n\n    private createCollection(url: string, path: string, defaultParams?: any) {\n        url = url || this._serverUrl;\n        return this.$resource(url + path,\n            defaultParams || { id: '@id' },\n            {\n                update: { method: 'PUT' }\n            }\n        );\n    }\n\n    private createPagedCollection(url: string, path: string, defaultParams?: any) {\n        url = url || this._serverUrl;\n        return this.$resource(url + path,\n            defaultParams || { id: '@id' },\n            {\n                page: { method: 'GET', isArray: false },\n                update: { method: 'PUT' }\n            }\n        );\n    }\n\n    private createPartyCollection(url: string, path: string, paramDefaults?: any) {\n        return this.createPagedCollection(url, path, paramDefaults ||\n            {\n                id: '@id',\n                party_id: '@party_id'\n            }\n        );\n    }\n\n    public get serverUrl(): string {\n        return this._serverUrl;\n    }\n\n    public set serverUrl(value: string) {\n        this._serverUrl = value;\n        this.reInitResource();\n    }\n\n    public get lockServerUrl(): boolean {\n        return this._lockServerUrl;\n    }\n\n    public set lockServerUrl(value: boolean) {\n        this._lockServerUrl = value;\n    }\n\n    public setHeaders(headers: any) {\n        for (let header in headers) {\n            if (headers.hasOwnProperty(header) && !_.isObject(headers[header])) {\n                this.$http.defaults.headers.common[header] = headers[header];\n            }\n        }\n    }\n\n    public getResource(name: string): any {\n        let resource = this._resources[name];\n        if (!resource)\n            throw new Error('Resource not found');\n\n        return resource;\n    }\n\n}\n\nclass RestProvider implements IRestProvider {\n    private _service: IRestService;\n\n    private _http: ng.IHttpProvider;\n    private _serverUrl: string;\n    private _lockServerUrl: boolean;\n    private _resourceConfigs: RestResourceConfig[] = [];\n\n    constructor($httpProvider: ng.IHttpProvider) {\n        this._http = $httpProvider;\n    }\n\n    public get serverUrl(): string {\n        return this._serverUrl;\n    }\n\n    public set serverUrl(value: string) {\n        this._serverUrl = value;\n    }\n\n    public get lockServerUrl(): boolean {\n        return this._lockServerUrl;\n    }\n\n    public set lockServerUrl(value: boolean) {\n        this._lockServerUrl = value;\n    }\n\n    public setHeaders(headers: any) {\n        for (let header in headers) {\n            if (headers.hasOwnProperty(header))\n                this._http.defaults.headers.common[header] = headers[header];\n        }\n    }\n\n    public registerResource(name: string, path: string, defaultParams?: any, actions?: any): void {\n        this._resourceConfigs.push({\n            operation: 'createResource',\n            name: name,\n            path: path,\n            defaultParams: defaultParams || null,\n            actions: actions || null\n        });\n    }\n    public registerOperation(name: string, path: string, defaultParams?: any, actions?: any): void {\n        this._resourceConfigs.push({\n            operation: 'createOperation',\n            name: name,\n            path: path,\n            defaultParams: defaultParams || null,\n            actions: actions || null\n        });\n    }\n\n    public registerCollection(name: string, path: string, defaultParams?: any, actions?: any): void {\n        this._resourceConfigs.push({\n            operation: 'createCollection',\n            name: name,\n            path: path,\n            defaultParams: defaultParams || null,\n            actions: actions || null\n        });\n    }\n\n    public registerPagedCollection(name: string, path: string, defaultParams?: any, actions?: any): void {\n        this._resourceConfigs.push({\n            operation: 'createPagedCollection',\n            name: name,\n            path: path,\n            defaultParams: defaultParams || null,\n            actions: actions || null\n        });\n    }\n\n    public registerPartyCollection(name: string, path: string, defaultParams?: any, actions?: any): void {\n        this._resourceConfigs.push({\n            operation: 'createPartyCollection',\n            name: name,\n            path: path,\n            defaultParams: defaultParams || null,\n            actions: actions || null\n        });\n    }\n\n    public $get(\n        $resource: ng.resource.IResourceService,\n        $http: ng.IHttpService,\n        $stateParams: angular.ui.IStateParamsService\n    ) {\n        \"ngInject\";\n\n        if (this._service == null)\n            this._service = new RestService($resource, $http, $stateParams, this._serverUrl, this._lockServerUrl, this._resourceConfigs);\n\n        return this._service;\n    }\n}\n\nangular\n    .module('pipRest')\n    .provider('pipRest', RestProvider);\n\n\n","angular\n    .module('pipFeedback.Rest', []);\n\nimport './FeedbackResources';","import { IEntryCommonService } from \"../common/IEntryCommonService\";\nimport { ChangePasswordViewModel } from './ChangePasswordViewModel';\nimport { IEntryService } from \"../common/EntryService\";\n\nexport class ChangePasswordController {\n\n    constructor(\n        $state: ng.ui.IStateService,\n        private pipChangePasswordViewModel: ChangePasswordViewModel,\n        pipEntryCommon: IEntryCommonService,\n        pipEntry: IEntryService,\n        pipAuthState: pip.rest.IAuthStateService,\n        pipSession: pip.services.ISessionService,\n        private $window: ng.IWindowService\n    ) {\n        \"ngInject\";\n\n        pipEntryCommon.configureAppBar();\n\n        if (pipEntry.passwordExpire === false || !pipSession.isOpened()) {\n            $state.go(pipAuthState.signinState(), {});\n        }\n    }\n\n    public goBack() {\n        this.$window.history.back();\n    }\n\n    public get config(): any {\n        return this.pipChangePasswordViewModel.config;\n    }\n\n    public onChange() {\n        this.pipChangePasswordViewModel.onChange();\n    }\n}\n\n{\n    angular.module('pipEntry.ChangePassword', ['pipEntry.Common', 'pipChangePasswordPanel']);\n\n}","import { ChangePasswordViewModel } from './ChangePasswordViewModel';\n\nexport interface IChangePasswordDialogService {\n    show(params: any, successCallback?: () => void, cancelCallback?: () => void): void;\n}\n\n{\n    class ChangePasswordDialogService implements IChangePasswordDialogService {\n        public constructor(private $mdDialog: angular.material.IDialogService) { };\n        public show(params: any, successCallback?: () => void, cancelCallback?: () => void) {\n            this.$mdDialog.show({\n                targetEvent: params.event,\n                templateUrl: 'change_password/ChangePasswordDialog.html',\n                controller: ChangePasswordDialogController,\n                controllerAs: '$ctrl',\n                locals: {\n                    params: params\n                },\n                clickOutsideToClose: false\n            })\n                .then(() => {\n                    if (successCallback) {\n                        successCallback();\n                    }\n                }, () => {\n                    if (cancelCallback) {\n                        cancelCallback();\n                    }\n                });\n        }\n    }\n\n    class ChangePasswordDialogController {\n        public goBack: any;\n\n        constructor(\n            $mdDialog: angular.material.IDialogService,\n            private pipChangePasswordViewModel: ChangePasswordViewModel\n        ) {\n            \"ngInject\";\n\n            this.goBack = $mdDialog.cancel;\n        }\n\n        public get config(): any {\n            return this.pipChangePasswordViewModel.config;\n        }\n\n        public onChange() {\n            this.pipChangePasswordViewModel.onChange(() => {\n                this.goBack();\n            });\n        }\n\n    }\n\n    angular.module('pipEntry.ChangePasswordDialog', ['pipEntry.Common', \"pipChangePasswordPanel\"])\n        .service('pipChangePasswordDialog', ChangePasswordDialogService);\n\n}","import { EntryModel } from '../common/EntryModel';\nimport { IEntryCommonService } from \"../common/IEntryCommonService\";\nimport { IEntryDataService } from '../data/IEntryDataService';\nimport { IEntryService } from \"../common/EntryService\";\n\nexport class ChangePasswordModel extends EntryModel {\n    constructor(\n        pipEntryCommon: IEntryCommonService,\n        pipTransaction: pip.services.ITransactionService,\n        private $rootScope: ng.IRootScopeService,\n        private $location: ng.ILocationService,\n        private $state: ng.ui.IStateService,\n        private $injector: ng.auto.IInjectorService,\n        private pipAuthState: pip.rest.IAuthStateService,\n        private pipFormErrors: pip.errors.IFormErrorsService,\n        private pipRest: pip.rest.IRestService,\n        private pipTranslate: pip.services.ITranslateService,\n        private pipEntryData: IEntryDataService,\n        private pipEntry: IEntryService,\n        private pipToasts: pip.controls.IToastService\n    ) {\n        \"ngInject\";\n\n        super(pipEntryCommon);\n        this.transaction = pipTransaction.create('entry.change_password');\n\n    }\n\n    public init($scope): void {\n        this.initModel($scope);\n        this.setElementVisability();\n    }\n\n    private setElementVisability(): void {\n        this.hideObject.subTitle = new Boolean(this.hideObject.subTitle) == true;\n        this.hideObject.title = new Boolean(this.hideObject.title) == true;\n        this.hideObject.server = new Boolean(this.hideObject.server) == true;\n        this.hideObject.hint = new Boolean(this.hideObject.hint) == true;\n        this.hideObject.progress = new Boolean(this.hideObject.progress) == true;\n    }\n\n    public onShowToast(message: string, type: string): void {\n        if (!message) return;\n        message = this.pipTranslate.translate(message);\n        type = type || 'message';\n\n        if (type == 'message') {\n            this.pipToasts.showMessage(message, null, null, null);\n            return;\n        }\n        if (type == 'error') {\n            this.pipToasts.showError(message, null, null, null, null);\n            return;\n        }\n    }\n\n    public onChange(callback?: () => void): void {\n        if (this.config.form.$invalid) {\n            this.pipFormErrors.resetFormErrors(this.config.form, true);\n\n            return;\n        }\n\n        const transactionId = this.transaction.begin('PROCESSING');\n        if (!transactionId) return;\n        if (!this.pipRest.lockServerUrl) {\n            this.pipRest.serverUrl = this.config.data.serverUrl;\n        }\n\n        this.pipEntryData.expireChangePassword({\n            login: this.config.data.login,\n            old_password: this.config.data.password,\n            new_password: this.config.data.passwordNew,\n            user_id: this.pipEntryData.getUserId()\n        },\n            (data: any) => {\n                this.pipFormErrors.resetFormErrors(this.config.form, false);\n                if (this.transaction.aborted(transactionId)) return;\n\n                const message = String() + 'CHANGE_PWD_SUCCESS_TEXT';\n                this.onShowToast(message, 'message');\n                this.transaction.end();\n                if (callback) callback();\n                this.pipEntry.signout(\n                    () => {\n                        this.$state.go('signin', {\n                            server_url: this.config.data.serverUrl,\n                            login: this.config.data.login\n                        });\n                    }\n                );\n\n            },\n            (error: any) => {\n                this.transaction.end(error);\n                this.pipFormErrors.resetFormErrors(this.config.form, true);\n                this.pipFormErrors.setFormError(\n                    this.config.form, error, {\n                        'NO_LOGIN': 'login', // Missing account login\n                        'WRONG_LOGIN': 'login', // Account  was not found\n                        'LOGIN_NOT_FOUND': 'login', // Account  was not found\n                        'WRONG_PASSWORD': 'password', // Invalid password\n                        'act_execute': 'form', // Unknown error\n                        'UNKNOWN': 'form',\n                        '-1': 'form' // server not response\n                    }\n                );\n            }\n        );\n    }\n\n}","import { EntryPageConfig } from '../common/EntryPageConfig';\nimport { IEntryCommonService } from \"../common/IEntryCommonService\";\nimport { ChangePasswordViewModel } from './ChangePasswordViewModel';\n\n{\n    interface IChangePasswordPanelBindings {\n        [key: string]: any;\n\n\n    }\n\n    const ChangePasswordPanelBindings: IChangePasswordPanelBindings = {\n\n    }\n\n    class ChangePasswordPanelController {\n        public touchedErrorsWithHint: Function;\n        constructor(\n            private $scope: ng.IScope,\n            private pipFormErrors: pip.errors.IFormErrorsService,\n            private pipRest: pip.rest.IRestService,\n            private pipChangePasswordViewModel: ChangePasswordViewModel\n        ) {\n            \"ngInject\";\n\n            this.touchedErrorsWithHint = pipFormErrors.touchedErrorsWithHint;\n            pipChangePasswordViewModel.initModel($scope);\n\n\n        }\n\n        public $postLink(): void {\n            this.config.form = this.$scope.form;\n            this.config.data.password = null;\n            this.config.data.passwordNew = null;\n        }\n\n        public get config(): any {\n            return this.pipChangePasswordViewModel.config;\n        }\n\n        public get transaction(): any {\n            return this.pipChangePasswordViewModel.transaction;\n        }\n\n        public get showServerError(): any {\n            return this.pipChangePasswordViewModel.showServerError;\n        }\n\n        public get hideObject(): any {\n            return this.pipChangePasswordViewModel.hideObject;\n        }\n\n        public onShowToast(message: string, type: string): void {\n            this.pipChangePasswordViewModel.onShowToast(message, type);\n        }\n        \n        public onServerUrlChanged() {\n            this.config.onServerUrlChanged(this.config.form, this.config.selected.searchURLs);\n        }\n    \n        public onChanged() {\n            this.pipFormErrors.resetFormErrors(this.config.form, false);\n            this.pipFormErrors.resetFieldsErrors(this.config.form, null);\n            this.pipRest.serverUrl = this.config.selected.searchURLs;\n            this.config.data.serverUrl = this.config.selected.searchURLs;\n        }\n\n        public onChangePassword() {\n            this.pipFormErrors.resetFieldsErrors(this.config.form, 'passwordNew');\n        }\n        \n        public onChangePasswordNew() {\n            this.pipFormErrors.resetFieldsErrors(this.config.form, 'password');\n            this.pipFormErrors.resetFieldsErrors(this.config.form, 'passwordConfirm');\n        }\n        \n        public onChangePasswordConfirm() {\n            this.pipFormErrors.resetFieldsErrors(this.config.form, 'passwordNew');\n        }\n    }\n\n    const ChangePasswordPanel: ng.IComponentOptions = {\n        bindings: ChangePasswordPanelBindings,\n        controller: ChangePasswordPanelController,\n        templateUrl: 'change_password/ChangePasswordPanel.html'\n    }\n\n    angular.module(\"pipChangePasswordPanel\", ['pipFocused', 'pipEntry.Strings'])\n        .component('pipChangePasswordPanel', ChangePasswordPanel);\n}","import { ChangePasswordModel } from './ChangePasswordModel';\nimport { IEntryService } from \"../common/EntryService\";\n\nexport class ChangePasswordViewModel {\n    public model: ChangePasswordModel;\n\n    constructor(\n        pipEntryCommon: any,\n        pipTransaction: pip.services.ITransactionService,\n        $rootScope: ng.IRootScopeService,\n        $location: ng.ILocationService,\n        $state: ng.ui.IStateService,\n        $injector: ng.auto.IInjectorService,\n        pipAuthState: pip.rest.IAuthStateService,\n        pipFormErrors: pip.errors.IFormErrorsService,\n        pipRest: pip.rest.IRestService,\n        pipEntry: IEntryService,\n        private pipTranslate: pip.services.ITranslateService,\n        private pipEntryData: any,\n        private pipToasts: any\n    ) {\n        \"ngInject\";\n\n        this.model = new ChangePasswordModel(pipEntryCommon, pipTransaction, $rootScope, $location, $state,\n            $injector, pipAuthState, pipFormErrors, pipRest, pipTranslate, pipEntryData, pipEntry, pipToasts);\n    }\n\n    public get transaction(): pip.services.Transaction {\n        return this.model.transaction;\n    }\n\n    public get hideObject(): any {\n        return this.model.hideObject;\n    }\n\n    public get showServerError(): any {\n        return this.model.showServerError;\n    }\n\n    public get config(): any {\n        return this.model.config;\n    }\n\n    public initModel($scope) {\n        this.model.init($scope);\n    }\n\n    public onShowToast(message, type) {\n        this.model.onShowToast(message, type);\n    }\n\n    public onChange(callback?: () => void) {\n        this.model.onChange(callback);\n    }\n}\n\nangular.module('pipEntry.ChangePassword')\n    .service('pipChangePasswordViewModel', ChangePasswordViewModel);","/// <reference path=\"../../typings/tsd.d.ts\" />\nimport { IEntryDataService } from '../data/IEntryDataService';\n\n{\n    class LinkEmailUnique {\n        private oldEmail: string;\n\n        constructor(\n            $scope: ng.IScope,\n            $element: ng.IRootElementService,\n            $attrs: ng.IAttributes,\n            ngModel: any,\n            $http: ng.IHttpService,\n            pipEntryData: IEntryDataService\n        ) {\n            \"ngInject\";\n            \n            this.oldEmail = $attrs['pipEmailUnique'];\n\n            $scope.$watch($attrs['ngModel'], _.throttle((newValue) => {\n                const oldHint = ngModel.$validators.emailUnique;\n                if (!newValue || newValue.length == 0 || this.oldEmail == newValue) {\n                    ngModel.$setValidity('emailUnique', oldHint);\n                    return;\n                }\n                \n                if (!newValue) ngModel.$setValidity('emailUnique', true);\n\n                pipEntryData.signupValidate(newValue,\n                    (data) => {\n                        ngModel.$setValidity('emailUnique', true);\n                    },\n                    (err) => {\n                        ngModel.$setValidity('emailUnique', false);\n                    });\n            }, 500));\n        }\n    }\n\n    angular.module('pipEmailUnique', ['ngResource', 'pipEntryData'])\n        .directive('pipEmailUnique',\n            (\n                $http: ng.IHttpService,\n                pipEntryData: any\n            ) => {\n                return {\n                    restrict: 'A',\n                    require: 'ngModel',\n                    link: function (\n                        $scope: ng.IScope,\n                        $element: ng.IRootElementService,\n                        $attrs: ng.IAttributes,\n                        ngModel: any\n                    ) {\n                        new LinkEmailUnique($scope, $element, $attrs, ngModel, $http, pipEntryData);\n                    }\n                };\n            }\n        );\n}","import { IEntryService } from \"./EntryService\";\nimport { IEntryCommonService } from \"./IEntryCommonService\";\nimport { EntryPageConfig, IPastSessions, AuthSessionData } from './EntryPageConfig';\n\nclass EntryCommonService implements IEntryCommonService {\n    private _config: EntryPageConfig = new EntryPageConfig();\n\n    constructor(\n        private $rootScope: ng.IRootScopeService,\n        private $state: ng.ui.IState,\n        private pipAppBar: pip.nav.IAppBarService,\n        private pipNavService: pip.nav.INavService,\n        private pipRest: pip.rest.IRestService,\n        private pipEntry: IEntryService,\n        private pipFormErrors: pip.errors.IFormErrorsService,\n        private pipIdentity: pip.services.IIdentityService,\n        private pipTranslate: pip.services.ITranslateService,\n        private localStorageService: any\n    ) {\n        \"ngInject\";\n\n    }\n\n    private getLastUsedLogin(serverUrl: string): string {\n        let servers: IPastSessions = <IPastSessions>this.localStorageService.get('servers');\n        if (servers && servers[serverUrl]) {\n            return servers[serverUrl].login;\n        }\n\n        return undefined;\n    }\n\n    private getPastSessions(): IPastSessions {\n        let servers: IPastSessions = this.localStorageService.get('servers') || <IPastSessions>{};\n\n        return servers;\n    }\n\n    private getUsedServerUrls(): string[] {\n        let servers: IPastSessions = this.localStorageService.get('servers') || <IPastSessions>{};\n        let serverUrls: string[] = [];\n        let serverUrl: string;\n\n        for (var prop in servers) {\n            if (servers.hasOwnProperty(prop)) {\n                serverUrl = servers[prop].serverUrl;\n                if (serverUrl) {\n                    serverUrls.push(serverUrl);\n                }\n            }\n        }\n\n        return serverUrls;\n    }\n\n    public configureAppBar(): void {\n        this.pipNavService.sidenav.hide();\n        this.pipNavService.actions.hide();\n        this.pipNavService.appbar.part('menu', false);\n        if (this.pipEntry.showLanguage) {\n            this.pipNavService.appbar.part('actions', 'language');\n        }\n        if (this.pipEntry.appbarTitle) {\n            this.pipNavService.appbar.part('title', 'breadcrumb');\n        } else {\n            this.pipNavService.appbar.part('title', false);\n        }\n        this.pipNavService.breadcrumb.text = this.pipEntry.appbarTitle;\n        this.pipNavService.appbar.addShadow();\n        this.pipNavService.icon.hide();\n        this.pipNavService.search.close();\n        this.pipAppBar.part('icon', this.pipEntry.showIcon);\n        if (this.pipEntry.showIcon) {\n            this.pipNavService.icon.showIcon(this.pipEntry.appbarIcon);\n        }\n\n    };\n\n    public initScope($scope): EntryPageConfig {\n        this._config.appbarTitle = this.pipEntry.appbarTitle;\n        this._config.showIcon = this.pipEntry.showIcon;\n        this._config.showLanguage = this.pipEntry.showLanguage;\n        this._config.adminOnly = this.pipEntry.adminOnly;\n        this._config.fixedServerUrl = this.pipEntry.fixedServerUrl;\n        this._config.enableAvatar = this.pipEntry.enableAvatar;\n        this._config.useEmailAsLogin = this.pipEntry.useEmailAsLogin;\n        this._config.entryHideObject = this.pipEntry.entryHideObject;\n\n        let language: string = this.$state.params.language;\n        if (language) this.pipTranslate.use(language);\n\n        let email: string = null;\n        if (this._config.useEmailAsLogin) {\n            email = this.$state.params.email ? decodeURIComponent(this.$state.params.email) : this.$state.params.login ? decodeURIComponent(this.$state.params.login) : null;\n        } else {\n            email = this.$state.params.email ? decodeURIComponent(this.$state.params.email) : null;\n        }\n  \n        let login: string = null;\n        login = (this.$state.params.login) ? decodeURIComponent(this.$state.params.login) : null;\n\n        if (this.$state['current'].auth) {\n            if (this.pipIdentity.identity && this.pipIdentity.identity.user) {\n                email = this.pipIdentity.identity.user.email || this.pipIdentity.identity.user.login;\n                login = this.pipIdentity.identity.user.login;\n            }\n        }\n\n        this._config.data = {\n            serverUrl: this.$state.params.server_url ? decodeURIComponent(this.$state.params.server_url) : this.pipRest.serverUrl,\n            login: login,\n            email: email,\n            password: '',\n            remember: false,\n            adminOnly: this._config.adminOnly,\n            name: (this.$state.name != 'signup' && this.$state.params.name) ? this.$state.params.name : null,\n            code: this.$state.params.code || null,\n            resetCode: this.$state.params.reset_code || null\n        };\n        if (this._config.data.email && !this._config.data.login) {\n            this._config.data.login = this._config.data.email;\n        }\n        if (!this._config.data.serverUrl) {\n            throw new Error('Server url can not be empty!');\n        }\n\n        this._config.showServerUrl = false;\n        this._config.fixedServerUrl = false;\n        this._config.data.serverUrl = this._config.data.serverUrl || this.pipRest.serverUrl;\n\n        // Fixed server url shall disable changing URL by the user\n        if (this.pipEntry.fixedServerUrl) {\n            this._config.data.serverUrl = this.pipRest.serverUrl;\n            this._config.fixedServerUrl = true;\n        }\n\n        if (this.$state.name != 'signup') {\n            this._config.data.login = this._config.data.login || this.getLastUsedLogin(this._config.data.serverUrl);\n        }\n        this._config.serverUrls = this.getUsedServerUrls();\n        this._config.servers = this.getPastSessions();\n\n        this._config.selected = {};\n        this._config.selected.searchURLs = this._config.data.serverUrl;\n\n        // Set login from history\n        if (!this.$state['current'].auth) {\n            if (this._config.data.serverUrl && !this._config.data.login && this.$state.name != 'signup') {\n                let server: any = this._config.servers[this._config.data.serverUrl];\n                this._config.data.login = (server || {}).login;\n            }\n        }\n\n        this._config.filterItem = (item) => { return this.filterItem(item) };\n        this._config.getMatches = (query) => { return this.getMatches(query) };\n        this._config.onServerUrlChanged = (form?: any, url?: string) => { this.onServerUrlChanged(form, url) };\n        this._config.isEmpty = _.isEmpty;\n\n        return _.cloneDeep(this._config);\n    }\n\n    private filterItem(item): any {\n        let result = (this._config.selected.searchURLs && item\n            && item.toLowerCase().indexOf(this._config.selected.searchURLs.toLowerCase()) >= 0);\n        return result;\n    }\n\n    private getMatches(query: string): any {\n        if (!query)\n            return this._config.showServerUrl;\n\n        this._config.data.serverUrl = query;\n        this._config.selected.searchURLs = query;\n        return _.filter(this._config.serverUrls, this._config.filterItem);\n    }\n\n    private onServerUrlChanged(form?: any, url?: string) {\n        form = form ? form : this._config.form;\n        url = url ? url : this._config.selected.searchURLs;\n\n        if (!url) return;\n        let server = this._config.servers[url];\n\n        if (server && this.$state.name != 'signup') {\n            this._config.data.login = server.login;\n            this.pipRest.serverUrl = url;\n            this._config.data.serverUrl = url;\n        }\n\n        if (form) {\n            this.pipFormErrors.resetFormErrors(form, false);\n            this.pipFormErrors.resetFieldsErrors(form, null);\n        }\n    }\n}\n\nangular.module('pipEntry.CommonService', [])\n    .service('pipEntryCommon', EntryCommonService);\n","export class EntryHideObject {\n    public remember?: boolean = false;\n    public title?: boolean;\n    public server?: boolean;\n    public forgotPassword?: boolean;\n    public signup?: boolean;\n    public hint?: boolean;\n    public progress?: boolean;\n    public subTitle?: boolean;\n    public successTitle?: boolean;\n    public subTitle1?: boolean;\n    public subTitle2?: boolean;\n    public agreement?: boolean;\n    public passwordConfirm?: boolean;\n    public signin?: boolean;\n    public resetSubTitle?: boolean;\n    public changePwdTitle?: boolean;\n    public changePwdSubTitle?: boolean;\n}","import { IEntryService } from \"../common/EntryService\";\nimport { AuthSessionData } from '../common/EntryPageConfig';\n\nfunction initEntry(pipEntry: IEntryService, $rootScope: ng.IRootScopeService, pipSession: pip.services.ISessionService,\n    pipDataCache: pip.rest.IDataCacheService, pipTimer: pip.services.ITimerService): void {\n\n    // Reload session to avoid signin\n    $rootScope.$on(pip.services.SessionOpenedEvent, (event: ng.IAngularEvent, data: AuthSessionData) => {\n        pipDataCache.clear();\n        pipTimer.start();\n    });\n\n    $rootScope.$on(pip.services.SessionClosedEvent, (event: ng.IAngularEvent, data: AuthSessionData) => {\n        pipDataCache.clear();\n    });\n\n    // Reload session to avoid signin\n    // todo may be start optionaly\n    pipEntry.reopenSession();\n}\n\nangular.module('pipEntry.Service')\n    .run(initEntry);","import { EntryPageConfig } from './EntryPageConfig';\nimport { IEntryCommonService } from \"./IEntryCommonService\";\nimport { EntryHideObject } from './EntryHideObject';\n\nexport class EntryModel {\n    public config: EntryPageConfig;\n    public hideObject: EntryHideObject;\n    public showServerError: boolean = true;\n    public transaction: pip.services.Transaction;\n\n    constructor(\n        public pipEntryCommon: IEntryCommonService,\n    ) { \n        \"ngInject\";\n        \n    }\n\n    protected initModel($scope) {\n        this.config = this.pipEntryCommon.initScope($scope);\n        this.config.form = this.config.form || $scope.form;\n        this.hideObject = this.config.entryHideObject; \n    }\n}","import { EntryConfig } from './EntryService';\n\nexport class EntryPageConfig extends EntryConfig {\n    data: EntryDataConfig;\n    showServerUrl: boolean = false;\n    serverUrls: string[];\n    servers: IPastSessions;\n    selected: any;\n    filterItem: Function;\n    getMatches: Function;\n    onServerUrlChanged: Function;\n    isEmpty: Function;\n    form: any;\n}\n\nexport class EntryDataConfig {\n    login: string;\n    serverUrl: string;\n    email: string;\n    password: string;\n    passwordNew?: string;\n    remember: boolean;\n    adminOnly: boolean;\n    name: string;\n    code: string;\n    resetCode: string;\n}\n\n// export angular events\n// export const AuthSessionOpenedEvent = 'pipSessionOpened';\n// export const AuthSessionClosedEvent = 'pipSessionClosed';\n// export const AutoPullChangesEvent = 'pipAutoPullChanges';\n\nexport class SigninParams {\n    public email?: string;\n    public login: string;\n    public serverUrl: string;\n    public password?: string;\n    public remember?: boolean;\n    public adminOnly?: boolean;\n}\n\nexport class SignupParams {\n    public login: string;\n    public email?: string;\n    public name?: string;\n    public serverUrl: string;\n    public password?: string;\n    public remember?: boolean;\n    public adminOnly?: boolean;\n    public language?: string;\n    public theme?: string; \n    public time_zone?: string;\n}\n\nexport class AuthSessionData {\n    serverUrl: string = undefined;\n    sessionId: string = undefined;\n    userId: string = undefined;\n}\n\n\nexport class PastSession { \n    public login: string;\n    public serverUrl: string;\n}\n\n\nexport interface IPastSessions {\n    [key: string]: PastSession\n}\n","import { IPastSessions, AuthSessionData } from './EntryPageConfig';\nimport { SessionData } from '../data/SessionData';\nimport { EmailSettings } from '../data/EmailSettings';\nimport { EntryHideObject } from './EntryHideObject';\n\nexport interface IEntryService {\n    appbarTitle: string;\n    appbarIcon: string;\n    showIcon: boolean;\n    showLanguage: boolean;\n    adminOnly: boolean;\n    fixedServerUrl: boolean;\n    enableAvatar: boolean;\n    useEmailAsLogin: boolean;\n    isPostSignup: boolean;\n    passwordExpire: boolean;\n    entryHideObject: EntryHideObject;\n\n    openSession(data: SessionData, remember?: boolean): void;\n    getUserId(data: SessionData): string;\n    // restoreSession(callback: Function): void;\n    reopenSession(): void;\n    closeSession(): void;\n    signout(successCallback?: () => void): void\n}\n\nexport interface IEntryProvider {\n    appbarTitle: string;\n    appbarIcon: string;\n    showIcon: boolean;\n    showLanguage: boolean;\n    adminOnly: boolean;\n    fixedServerUrl: boolean;\n    enableAvatar: boolean;\n    useEmailAsLogin: boolean;\n    isPostSignup: boolean;\n    passwordExpire: boolean;\n    entryHideObject: EntryHideObject;\n}\n\nexport class EntryConfig {\n    public appbarTitle: string;\n    public appbarIcon: string;\n    public showIcon: boolean;\n    public showLanguage: boolean;\n    public adminOnly: boolean;\n    public fixedServerUrl: boolean;\n    public enableAvatar: boolean;\n    public useEmailAsLogin: boolean;\n    public isPostSignup: boolean;\n    public entryHideObject: EntryHideObject;\n    // control expare password by change_pwd_time field\n    public passwordExpire: boolean;\n}\n\nclass EntryService implements IEntryService {\n    private sessionState: string;\n\n    constructor(\n        private config: EntryConfig,\n        private pipRest: pip.rest.IRestService,\n        private localStorageService: any,\n\t\tprivate $cookies: any,\n        private $cookieStore: any,\n        private pipSession: pip.services.ISessionService,\n        private pipIdentity: pip.services.IIdentityService,\n        private pipTimer: pip.services.ITimerService,\n        private pipTranslate: pip.services.ITranslateService,\n        private pipTheme: pip.themes.IThemeService,\n        private $timeout: ng.ITimeoutService,\n        private pipAuthState: pip.rest.IAuthStateService\n    ) {\n        \"ngInject\";\n\n        this.pipSession.addOpenListener((callback: Function) => {\n            this.restoreSession(callback);\n        });\n\n    }\n\n    private restore(data: AuthSessionData): AuthSessionData {\n        let result: AuthSessionData = new AuthSessionData();\n        for (let property in data) {\n            if (data.hasOwnProperty(property)) {\n                if (!_.isObject(data[property])) {\n                    result[property] = /* this.$cookieStore.get(property) */ this.$cookies.get(property) || this.localStorageService.get(property);\n                } else {\n                    result[property] = data[property];\n                }\n            }\n        }\n\n        return result;\n    }\n\n    private storeToLocal(data: any): void {\n        for (let property in data) {\n            if (data.hasOwnProperty(property) && !_.isObject(data[property])) {\n                this.localStorageService.set(property, data[property]);\n            }\n        }\n    }\n\n    private removeLocal(data: any): void {\n        for (let property in data) {\n            if (data.hasOwnProperty(property) && !_.isObject(data[property])) {\n                this.localStorageService.remove(property);\n            }\n        }\n    }\n\n    private storeToCookie(data: any): void {\n        for (let property in data) {\n            if (data.hasOwnProperty(property) && !_.isObject(data[property])) {\n                // this.$cookieStore.put(property, data[property]);\n\t\t\t\tthis.$cookies.put(property, data[property], {path: '/'});\n            }\n        }\n    }\n\n    private removeCookie(data: any): void {\n        for (let property in data) {\n            if (data.hasOwnProperty(property) && !_.isObject(data[property])) {\n                // this.$cookieStore.remove(property);\n\t\t\t\tthis.$cookies.remove(property);\n            }\n        }\n    }\n\n    private storeKnownServer(value: string): void {\n        if (!value) return;\n        \n        // this.$cookieStore.put(value, value);\n\t\tthis.$cookies.put(value, value, {path: '/'});\n        this.localStorageService.set(value, value);\n    }\n\n    public get appbarIcon(): string {\n        return this.config.appbarIcon;\n    }\n\n    public get appbarTitle(): string {\n        return this.config.appbarTitle;\n    }\n\n    public get showIcon(): boolean {\n        return this.config.showIcon;\n    }\n\n    public get showLanguage(): boolean {\n        return this.config.showLanguage;\n    }\n\n    public get adminOnly(): boolean {\n        return this.config.adminOnly;\n    }\n\n    public get fixedServerUrl(): boolean {\n        return this.config.fixedServerUrl;\n    }\n\n    public get passwordExpire(): boolean {\n        return this.config.passwordExpire;\n    }\n\n    public get entryHideObject(): EntryHideObject {\n        return this.config.entryHideObject;\n    }\n\n    public get enableAvatar(): boolean {\n        return this.config.enableAvatar;\n    }\n\n    public get useEmailAsLogin(): boolean {\n        return this.config.useEmailAsLogin;\n    }\n\n    public get isPostSignup(): boolean {\n        return this.config.isPostSignup;\n    }\n\n    public openSession(data: SessionData, remember?: boolean): void {\n        let session: AuthSessionData = new AuthSessionData();\n        session.sessionId = data ? data.id : null;\n        session.userId = this.getUserId(data);\n        session.serverUrl = this.pipRest.serverUrl;\n\n        if (!session.sessionId) {\n            throw new Error('Error: session Id not found');\n        }\n\n        if (!session.userId) {\n            throw new Error('Error: user Id not found');\n        }\n\n        this.sessionState = 'open';\n\n        // Set default headers for subsequent HTTP requests\n        this.pipRest.setHeaders({\n            'x-session-id': session.sessionId\n        });\n\n        // Save ids into local storage\n        if (remember) {\n            let servers: IPastSessions = this.localStorageService.get('servers') || <IPastSessions>{};\n            servers[session.serverUrl] = {\n                serverUrl: session.serverUrl,\n                login: data.user.login\n            };\n            this.localStorageService.set('servers', servers);\n            this.storeToLocal(session);\n        }\n\n        this.storeKnownServer(session.serverUrl)\n\n        // Remove from cookie store\n        this.storeToCookie(session);\n        // Send broadcast\n \n        this.pipIdentity.identity = data;\n        this.pipSession.open(session);\n        this.pipTranslate.use(data.user.language);\n\n        if (data.user.theme && data.user.theme != this.pipTheme.theme) {\n            this.pipTheme.use(data.user.theme);\n        }\n    }\n\n    public getUserId(data: SessionData): string {\n        if (!data) {\n            return null;\n        }\n        let id: string;\n        id = data.user_id ? data.user_id : data.user ? data.user.id : null;\n\n        return id;\n    }\n\n    private checkEmailVerification(data: SessionData): boolean {\n        return (data.user && data.user.settings &&\n            data.user.settings['verified_email'] && data.user.settings['verified_email'] == \"true\");\n    }\n\n    private restoreSessionComplete(data: SessionData, callback: Function): void {\n        if (angular.isFunction(callback)) {\n            callback()\n        }\n        this.pipIdentity.identity = data;\n        this.pipTranslate.use(data.user.language);        \n    }\n\n    private restoreSession(callback: Function): void {\n        if (this.sessionState === 'open') {\n            if (angular.isFunction(callback)) {\n                callback()\n            }\n\n            return;\n        }\n\n        let session: AuthSessionData = new AuthSessionData();\n        session = this.restore(session);\n\n        if (!session || !session.sessionId) {\n            this.signout(() => {\n                this.pipAuthState.goToUnauthorized({});\n            });\n\n            return;\n        }\n\n        this.pipRest.getResource('restoreSessions').call(\n            {\n                session_id: session.sessionId\n            },\n            (data: SessionData) => {\n                if (!data || !data.id) {\n                    this.signout(() => {\n                        this.pipAuthState.goToUnauthorized({});\n                    });\n\n                    return;\n                }\n\n                session.userId = this.getUserId(data);\n                session.serverUrl = this.pipRest.serverUrl;\n                //  cookie store\n                this.storeToCookie(session);\n\n                if (this.checkEmailVerification(data)) {\n                    this.restoreSessionComplete(data, callback);\n                } else {\n                    this.pipRest.getResource('email_settings').get(\n                        {\n                            user_id: data.user.id\n                        },\n                        (setting: EmailSettings) => {\n                            if (setting && setting.verified && setting.email == data.user.login) {\n                                this.restoreSessionComplete(data, callback);\n                            } else {\n                                this.restoreSessionComplete(data, () => {\n                                    if (callback) callback();\n                                    this.pipAuthState.go('verify_email', { email: data.user.login || data.user['email'], serverUrl: this.pipRest.serverUrl });\n                                });\n                            }\n                        }, \n                        (error: any) => {\n\n                        });\n                }\n            },\n            (error: any) => {\n                if (angular.isFunction(callback)) {\n                    callback(error);\n                }\n\n                this.signout(() => {\n                    this.pipAuthState.goToUnauthorized({});\n                });\n            });\n    }\n\n    public reopenSession(): void {\n        let session: AuthSessionData = new AuthSessionData();\n        session = this.restore(session);\n\n        if (!session || !session.sessionId) {\n            this.signout(() => {\n                this.pipAuthState.goToUnauthorized({});\n            });\n\n            return;\n        }\n\n        this.sessionState = 'reopen';\n        // Set default headers for subsequent HTTP requests\n        this.pipRest.setHeaders({\n            'x-session-id': session.sessionId\n        });\n\n        if ((!this.pipRest.lockServerUrl || !this.pipRest.serverUrl) && session.serverUrl) {\n            this.pipRest.serverUrl = session.serverUrl;\n        }\n\n        this.pipSession.open(session);\n    }\n\n    public closeSession(): void {\n        let session: AuthSessionData = new AuthSessionData();\n        session.sessionId = null;\n        session.userId = null;\n        session.serverUrl = null;\n\n        this.pipRest.setHeaders({\n            'x-session-id': undefined\n        });\n        this.pipIdentity.identity = null;\n        // Remove ids into local storage\n        this.removeLocal(session);\n        // Remove from cookie store\n        this.removeCookie(session);\n        // Stop timer\n        this.pipTimer.stop();\n        // Send broadcast\n        this.pipSession.close();\n    }\n\n    public signout(successCallback?: () => void): void {\n        if (this.pipSession.isOpened()) {\n            this.pipRest.getResource('signout').call({}, successCallback, successCallback);\n        }\n\n        this.closeSession();\n    }\n}\n\n\nclass EntryProvider implements IEntryProvider {\n    private _service: IEntryService;\n    private config: EntryConfig;\n\n    constructor() {\n        this.config = new EntryConfig();\n        this.config.appbarTitle = '';\n        this.config.appbarIcon = '';\n        this.config.adminOnly = false;\n        this.config.showIcon = false;\n        this.config.showLanguage = true;\n        this.config.adminOnly = false;\n        this.config.fixedServerUrl = null;\n        this.config.passwordExpire = false;\n        this.config.enableAvatar = false;\n        this.config.useEmailAsLogin = false;\n        this.config.isPostSignup = true;\n        this.config.entryHideObject = new EntryHideObject();\n    }\n\n    public set appbarIcon(newAppbarIcon: string) {\n        this.config.appbarIcon = newAppbarIcon;\n    }\n\n    public set appbarTitle(newAppbarTitle: string) {\n        this.config.appbarTitle = newAppbarTitle;\n    }\n\n    public set showIcon(newShowIcon: boolean) {\n        this.config.showIcon = newShowIcon;\n    }\n\n    public set showLanguage(newShowLanguage: boolean) {\n        this.config.showLanguage = newShowLanguage;\n    }\n\n    public set adminOnly(newAdminOnly: boolean) {\n        this.config.adminOnly = newAdminOnly;\n    }\n\n    public set fixedServerUrl(newFixedServerUrl: boolean) {\n        this.config.fixedServerUrl = newFixedServerUrl;\n    }\n\n    public set passwordExpire(value: boolean) {\n        this.config.passwordExpire = value;\n    }\n\n    public set entryHideObject(entryHideObject: EntryHideObject) {\n        this.config.entryHideObject = entryHideObject;\n    }\n\n    public set enableAvatar(value: boolean) {\n        this.config.enableAvatar = value;\n    }\n\n    public set useEmailAsLogin(value: boolean) {\n        this.config.useEmailAsLogin = value;\n    }\n\n    public set isPostSignup(value: boolean) {\n        this.config.isPostSignup = value;\n    }\n\n    public $get(\n        pipRest: pip.rest.IRestService,\n        localStorageService: any,\n\t\t$cookies: any,\n        $cookieStore: any,\n        pipSession: pip.services.ISessionService,\n        pipIdentity: pip.services.IIdentityService,\n        pipTimer: pip.services.ITimerService,\n        pipTranslate: pip.services.ITranslateService,\n        pipTheme: pip.themes.IThemeService,\n        $timeout: ng.ITimeoutService,\n        pipAuthState: pip.rest.IAuthStateService\n    ) {\n        \"ngInject\";\n        if (_.isNull(this._service) || _.isUndefined(this._service)) {\n            this._service = new EntryService(this.config, pipRest, localStorageService, $cookies, $cookieStore,\n                pipSession, pipIdentity, pipTimer, pipTranslate, pipTheme, $timeout, pipAuthState);\n        }\n\n        return this._service;\n    }\n}\n\nangular.module('pipEntry.Service', [])\n    .provider('pipEntry', EntryProvider);","/// <reference path=\"../../typings/tsd.d.ts\" />\n\n(() => {\n    'use strict';\n\n    angular.module('pipEntry.Strings', [])\n        .config(function (pipTranslateProvider) {\n\n            // Set translation strings for the module\n            pipTranslateProvider.translations('en', {\n                // Common labels\n                'FULLNAME': 'First and last name',\n                'EMAIL': 'Email',\n                'LOGIN': 'Login',\n                'PASSWORD': 'Password',\n                'LANGUAGE': 'Language',\n                'GENDER': 'Gender',\n                'BIRTHDAY': 'Birthday',\n                'LOCATION': 'Location',\n                'VERIFY': 'Verify',\n                'CONTINUE': 'Continue',\n\n\n                // Common hints\n                'HINT_FULLNAME': \"Use your real name, so others know who you are\",\n                'HINT_PASSWORD': 'Minimum 6 characters',\n                'SIGNIN_HINT_PASSWORD': 'Please, type password',\n                'HINT_ABOUT': 'Few words about yourself',\n                'VERIFY_EMAIL': 'Please, verify your email address. ',\n                'HINT_EMAIL': 'Enter your email address, please',\n                'VERIFY_LOGIN': 'Please, verify your login address. ',\n                'HINT_LOGIN': 'Enter your login, please',\n\n                // Sign In page\n                'SIGNIN_TITLE': 'Sign in',\n                'SIGNIN_NOT_MEMBER': 'Not a member?',\n                'SIGNIN_REMEMBER': 'Remember',\n                'SIGNIN_FORGOT_PASSWORD': 'Forgot password?',\n                'SIGNIN_SIGNUP_HERE': ' Sign up here',\n\n                // Sign Up page\n                'SIGNUP_TITLE': 'Sign up',\n                'SIGNUP_NOT_MEMBER': 'Not a member? Sign up now',\n                'SIGNUP_TEXT_11': 'By clicking Sign up, you agree to the',\n                'SIGNUP_PRIVACY': 'privacy statement',\n                'SIGNUP_TEXT_12': 'and',\n                'SIGNUP_SERVICES': 'services agreement',\n                'SIGNUP_TEXT_2': 'Do you have an account?',\n                'SIGNUP_SIGNIN_HERE': ' Sign in here',\n                'SIGNUP_EMAIL_REGISTERED': 'This email is already registered',\n                'SIGNUP_LOGIN_REGISTERED': 'This login is already registered',\n                'SIGNUP_FULLNAME_WRONG': 'xxxx',\n                'SIGNUP_EMAIL_WRONG': 'xxxx',\n                'SIGNUP_LOGIN_WRONG': 'xxxx',\n\n                // Sign Up Details page\n                'POST_SIGNUP_TITLE': 'Welcome to Pip.Life',\n                'POST_SIGNUP_TEXT_1': 'Your account was successfully created.',\n                'POST_SIGNUP_TEXT_2': 'Tell us some more about yourself.',\n\n                // Recover Password page\n                'RECOVER_PWD_TITLE': 'Forgot password?',\n                'RECOVER_PWD_TEXT_1_LOGIN': \"Enter the login you used when you joined and we'll send you instructions to reset your password.\",\n                'RECOVER_PWD_TEXT_1_EMAIL': \"Enter the e-mail you used when you joined and we'll send you instructions to reset your password.\",\n                'RECOVER_PWD_TEXT_2': 'For security reasons, we do NOT store your password. So rest assured that we will never send your password via email.',\n                'RECOVER_PWD_RECOVER': 'Recover password',\n\n                // Reset Password page\n                'RESET_PWD_PASSWORD': 'Reset password',\n                'RESET_PWD_TEXT_LOGIN': 'Enter the login together with the reset code you received in email from. Remember the code is only active for 24 hours.',\n                'RESET_PWD_TEXT_EMAIL': 'Enter the e-mail together with the reset code you received in email from. Remember the code is only active for 24 hours.',\n                'RESET_PWD_SUCCESS_TEXT': 'Your password was successfully changed',\n\n                // Verify Email page\n                'VERIFY_EMAIL_WAIT': 'Email verification. Please, wait.',\n                'VERIFY_EMAIL_TITLE': 'Email verification',\n                'VERIFY_EMAIL_TEXT_1': 'Confirm your email address using verification code',\n                'VERIFY_EMAIL_TEXT_21': \"If you haven't received the code, press \",\n                'VERIFY_EMAIL_RESEND': 'resend',\n                'VERIFY_EMAIL_TEXT_22': 'to send it again.',\n                'VERIFY_EMAIL_SUCCESS_TEXT': 'Your email address was successfully verified. Thank you!',\n\n                'PASSWORD_MATCH': 'Passwords don\\'t match',\n                'PASSWORD_CONFIRM': 'Confirm the password',\n                'PASSWORD_SET': 'Set a password',\n\n                // Common entry resources\n                'ENTRY_CHANGE_SERVER': 'Change server',\n                'ENTRY_SERVER_URL': 'Server URL',\n                'ENTRY_RESET_CODE': 'Reset code',\n                'ENTRY_VERIFICATION_CODE': 'Verification code',\n                'ENTRY_NEW_PASSWORD': 'New password',\n                'ENTRY_SET_PASSWORD': 'Set Password',\n                'ENTRY_RESET_PASSWORD': 'Set',\n                'ENTRY_FREE': 'Free',\n                'ENTRY_REPEAT': 'Repeat',\n\n                // password changed resource\n                'CHANGE_PWD_PASSWORD': 'Change password',\n                'EXPIRE_CHANGE_PWD_PASSWORD': 'Change expire password',\n                'CHANGE_PWD_TEXT': 'Enter a new password to login.',\n                'EXPIRE_CHANGE_PWD_TEXT': 'Your password has expired. Enter a new password to login.',\n                'ENTRY_CHANGE_PASSWORD': 'Change',\n                'ENTRY_EXPIRE_CHANGE_PASSWORD': 'Change',\n                'OLD_PASSWORD': 'Current password',\n                'NEW_PASSWORD_SET': 'New password',\n                'NEW_PASSWORD_CONFIRM': 'Repeat password',\n                'CHANGE_PWD_SUCCESS_TEXT': 'Password changed successfuly',\n                'EXPIRE_CHANGE_PWD_SUCCESS_TEXT': 'Password changed successfuly',\n\n\n                // Validation errors\n                'ERROR_EMAIL_INVALID': 'Enter a valid email',\n                'ERROR_LOGIN_INVALID': 'Enter a valid login',\n                'ERROR_PASSWORD_INVALID': 'Enter a valid password',\n                'MINLENGTH_PASSWORD': 'Minimum password length 6 characters',\n                'ERROR_FULLNAME_INVALID': 'Enter full name',\n                'ERROR_CODE_INVALID': 'Enter a code from mail',\n                'ERROR_CODE_WRONG': 'Wrong recovery code',\n                'ERROR_SERVER_INVALID': 'Enter server URL',\n\n                //Languages\n                'LANGUAGE_RUSSIAN': 'Russian',\n                'LANGUAGE_ENGLISH': 'English',\n\n                // errors handling strings\n\n                'ERROR_ACT_EXECUTE': 'Bad Request. User was not found.',\n                'ERROR_WRONG_LOGIN': 'Account was not found',\n                'ERROR_LOGIN_NOT_FOUND': 'Account was not found',\n                'ERROR_NO_LOGIN': 'Missing account login',\n                'ERROR_WRONG_PASSWORD': 'Invalid password',\n                'ERROR_WRONG_CODE': 'Invalid password recovery code',\n                'ERROR_INVALID_CODE': 'Invalid email verification code',\n                'ERROR_NO_EMAIL': 'Missing email',\n                'ERROR_NO_NAME': 'Missing account name',\n                'ERROR_ALREADY_EXIST': 'User account already exist',\n                'ERROR_LOGIN_ALREADY_USED': 'User account already exist',\n                'ERROR_ALREADY_EXIST_EMAIL': 'User account already exist',\n                'ERROR_WRONG_LOGIN_EMAIL': 'Account was not found',\n                'ERROR_NO_LOGIN_EMAIL': 'Missing account login',\n                'ERROR_SERVER': 'Server is not responding',\n                'ERROR_ACCOUNT_LOCKED': 'Number of attempts exceeded. You account was locked.',\n                'ERROR_UNKNOWN': 'Unknown error',\n                'PASSWORD_IDENTICAL': 'Old and new passwords are identical'\n            });\n\n            pipTranslateProvider.translations('ru', {\n                // Common labels\n                'FULLNAME': 'Имя и фамилия',\n                'EMAIL': 'Адрес эл.почты',\n                'LOGIN': 'Логин',\n                'PASSWORD': 'Пароль',\n                'LANGUAGE': 'Язык',\n                'GENDER': 'Пол',\n                'BIRTHDAY': 'Дата рождения',\n                'LOCATION': 'Местонахождение',\n                'VERIFY': 'Подтвердить',\n                'CONTINUE': 'Продолжить',\n\n                // Common hints\n                'HINT_FULLNAME': \"Пожалуйста, введите свое полное имя - так, как вы хотите чтобы вас видели другие пользователи.\",\n                'HINT_PASSWORD': 'Минимум 6 символов',\n                'SIGNIN_HINT_PASSWORD': 'Введите пароль',\n                'HINT_ABOUT': 'Несколько слов о себе',\n                'VERIFY_EMAIL': 'Подтвердите адрес своей эл.почты',\n                'HINT_EMAIL': 'Введите адрес своей эл.почты',\n                'VERIFY_LOGIN': 'Подтвердите свой логин',\n                'HINT_LOGIN': 'Введите свой логин',\n                // Sign In page\n                'SIGNIN_TITLE': 'Вход в систему',\n                'SIGNIN_NOT_MEMBER': 'Еще не зарегистрировались?',\n                'SIGNIN_REMEMBER': 'Запомнить',\n                'SIGNIN_FORGOT_PASSWORD': 'Забыли пароль?',\n                'SIGNIN_SIGNUP_HERE': ' Зарегистрироваться здесь',\n\n                // Sign Up page\n                'SIGNUP_TITLE': 'Регистрация',\n                'SIGNUP_NOT_MEMBER': 'Новенький? Зарегистрируйтесь сейчас',\n                'SIGNUP_TEXT_11': 'Нажимая кнопку регистрация, я соглашаюсь с',\n                'SIGNUP_SERVICES': 'договором об услугах',\n                'SIGNUP_TEXT_12': 'и',\n                'SIGNUP_PRIVACY': 'соглашением о личных данных',\n                'SIGNUP_TEXT_2': 'Уже зарегистрировались?',\n                'SIGNUP_SIGNIN_HERE': ' Вход здесь',\n                'SIGNUP_EMAIL_REGISTERED': 'Введенный адрес эл.почты уже занят',\n                'SIGNUP_LOGIN_REGISTERED': 'Введенный логин уже занят',\n\n                // Sign Up Details page\n                'POST_SIGNUP_TITLE': 'Добро пожаловать в Pip.Life',\n                'POST_SIGNUP_TEXT_1': 'Ваша учетная запись создана.',\n                'POST_SIGNUP_TEXT_2': 'Несклько слов о о себе',\n\n                // Recover Password page\n                'RECOVER_PWD_TITLE': 'Забыли пароль?',\n                'RECOVER_PWD_TEXT_1_LOGIN': 'Введите логин, который вы использовали при регистрации и мы вышлем вам инструкции как изменить пароль.',\n                'RECOVER_PWD_TEXT_1_EMAIL': 'Введите эл. почту, которую вы использовали при регистрации и мы вышлем вам инструкции как изменить пароль.',\n                'RECOVER_PWD_TEXT_2': 'По соображениям безопасности мы НЕ храним пароли. Таким образом, мы никогда не пошлем ваш пароль по электронной почте.',\n                'RECOVER_PWD_RECOVER': 'Восстановить пароль',\n\n                // Reset Password page\n                'RESET_PWD_PASSWORD': 'Изменить пароль',\n                'RESET_PWD_TEXT_LOGIN': 'Введите логин вместе с кодом, который вы получили в почтовом сообщении. Помните, что код действителен только 24 часа.',\n                'RESET_PWD_TEXT_EMAIL': 'Введите эл. почту вместе с кодом, который вы получили в почтовом сообщении. Помните, что код действителен только 24 часа.',\n                'RESET_PWD_SUCCESS_TEXT': 'Ваш пароль успешно изменён',\n\n                // Verify Email page\n                'VERIFY_EMAIL_WAIT': 'Верификация эл. почты. Подождите немного.',\n                'VERIFY_EMAIL_TITLE': 'Подтверждение адреса эл.почты',\n                'VERIFY_EMAIL_TEXT_1': 'Введите код, который вы получили по эл.почте',\n                'VERIFY_EMAIL_TEXT_21': \"Если вы не получили почтовое сообщение с кодом, нажмите \",\n                'VERIFY_EMAIL_RESEND': 'отправить снова',\n                'VERIFY_EMAIL_TEXT_22': '.',\n                'VERIFY_EMAIL_SUCCESS_TEXT': 'Адрес вашей электронной почты успешно подтвержден. Спасибо!',\n\n                'PASSWORD_MATCH': 'Пароли не совпадают',\n                'PASSWORD_CONFIRM': 'Подтвердите пароль',\n                'PASSWORD_SET': 'Задайте пароль',\n\n                // Common entry resources\n                'ENTRY_CHANGE_SERVER': 'Изменить сервер',\n                'ENTRY_SERVER_URL': 'URL сервера',\n                'ENTRY_RESET_CODE': 'Код сброса пароля',\n                'ENTRY_VERIFICATION_CODE': 'Код проверки электронной почты',\n                'ENTRY_NEW_PASSWORD': 'Новый пароль',\n                'ENTRY_SET_PASSWORD': 'Изменить пароль',\n                'ENTRY_RESET_PASSWORD': 'Изменить',\n                'ENTRY_FREE': 'бесплатно',\n                'ENTRY_REPEAT': 'Повторить',\n\n                // password changed resource\n                'CHANGE_PWD_PASSWORD': 'Изменение пароля',\n                'EXPIRE_CHANGE_PWD_PASSWORD': 'Изменение пароля',\n                'CHANGE_PWD_TEXT': 'Для входа введите новый пароль.',\n                'EXPIRE_CHANGE_PWD_TEXT': 'Время действия Вашего пароля истекло. Для входа введите новый пароль.',\n                'ENTRY_CHANGE_PASSWORD': 'Изменить',\n                'ENTRY_EXPIRE_CHANGE_PASSWORD': 'Изменить',\n                'OLD_PASSWORD': 'Текущий пароль',\n                'NEW_PASSWORD_SET': 'Новый пароль',\n                'NEW_PASSWORD_CONFIRM': 'Повторите пароль',\n                'CHANGE_PWD_SUCCESS_TEXT': 'Пароль был успешно изменен',\n                'EXPIRE_CHANGE_PWD_SUCCESS_TEXT': 'Пароль был успешно изменен',\n\n                // Validation errors\n                'ERROR_EMAIL_INVALID': 'Введите адрес электронной почты',\n                'ERROR_LOGIN_INVALID': 'Введите логин',\n                'ERROR_PASSWORD_INVALID': 'Введите пароль',\n                'MINLENGTH_PASSWORD': 'Минимальная длинна пароля 6 символов',\n                'ERROR_FULLNAME_INVALID': 'Введите полное имя',\n                'ERROR_CODE_INVALID': 'Введите код',\n                'ERROR_CODE_WRONG': 'Неправильный код',\n                'ERROR_SERVER_INVALID': 'Введите URL сервера',\n\n                //Languages\n                'LANGUAGE_RUSSIAN': 'Русский',\n                'LANGUAGE_ENGLISH': 'Английский',\n\n                // errors handling strings\n\n                'ERROR_ACT_EXECUTE': 'Неверный запрос. Пользователь не найден.',\n                'ERROR_WRONG_LOGIN': 'Учетная запись пользователя не существует',\n                'ERROR_LOGIN_NOT_FOUND': 'Учетная запись пользователя не существует',\n                'ERROR_NO_LOGIN': 'Не задан логин',\n                'ERROR_WRONG_PASSWORD': 'Не верный пароль',\n                'ERROR_WRONG_CODE': 'Не верный код восстановления пароля',\n                'ERROR_INVALID_CODE': 'Не верный код верификации электронной почты',\n                'ERROR_NO_EMAIL': 'Не задан адресс электронной почты',\n                'ERROR_NO_NAME': 'Не задано имя пользователя',\n                'ERROR_ALREADY_EXIST': 'Логин уже зарегистрирован',\n                'ERROR_LOGIN_ALREADY_USED': 'Логин уже зарегистрирован',\n                'ERROR_ALREADY_EXIST_EMAIL': 'Логин уже зарегистрирован',\n                'ERROR_WRONG_LOGIN_EMAIL': 'Учетная запись пользователя не существует',\n                'ERROR_NO_LOGIN_EMAIL': 'Не задан логин',\n                'ERROR_SERVER': 'Сервер не отвечает. Проверьте URL сервера.',\n                'ERROR_ACCOUNT_LOCKED': 'Количесво попыток превышено. Ваша учетная запись заблокирована.',\n                'ERROR_UNKNOWN': 'Неизвестная ошибка',\n                'PASSWORD_IDENTICAL': 'Старый и новый пароль совпадают'\n            });\n\n        });\n\n})();","/// <reference path=\"../../typings/tsd.d.ts\" />\n\nfunction compareOldPassword($parse: ng.IParseService): ng.IDirective {\n    return {\n        require: 'ngModel',\n        link: function (scope, elm, attrs, ngModelCtrl) {\n            ngModelCtrl['$validators'].ERROR_compareTo = function (modelValue, viewValue) {\n                if (ngModelCtrl['$isEmpty'](modelValue)) {\n                    return true;\n                }\n\n                let otherModelValue;\n                let otherModelValueGetter = $parse(attrs.compareTo);\n\n                if (!modelValue || !!otherModelValue) return true;\n\n                if (otherModelValueGetter) {\n                    otherModelValue = otherModelValueGetter(scope);\n\n                    return modelValue != otherModelValue;\n                } else {\n                    return true;\n                }\n            }\n        }\n    };\n}\nfunction compareNewPassword($parse: ng.IParseService): ng.IDirective {\n    return {\n        require: 'ngModel',\n        link: function (scope, elm, attrs, ngModelCtrl) {\n            ngModelCtrl['$validators'].ERROR_compareTo = function (modelValue, viewValue) {\n                if (ngModelCtrl['$isEmpty'](modelValue)) {\n                    return true;\n                }\n                let otherModelValue;\n                let otherModelValueGetter = $parse(attrs.compareTo1);\n\n                if (!modelValue || !!otherModelValue) return true;\n\n                if (otherModelValueGetter) {\n                    otherModelValue = otherModelValueGetter(scope);\n\n                    return modelValue != otherModelValue;\n                } else {\n                    return true;\n                }\n            }\n        }\n    };\n}\nfunction comparePasswordMatch($parse: ng.IParseService): ng.IDirective {\n    return {\n        require: 'ngModel',\n        link: function (scope, elm, attrs, ngModelCtrl) {\n            ngModelCtrl['$validators'].ERROR_compareTo = function (modelValue, viewValue) {\n                if (ngModelCtrl['$isEmpty'](modelValue)) {\n                    return true;\n                }\n                let otherModelValue;\n                let otherModelValueGetter = $parse(attrs.compareTo2);\n\n                if (!modelValue || !!otherModelValue) return true;\n\n                if (otherModelValueGetter) {\n                    otherModelValue = otherModelValueGetter(scope);\n\n                    return modelValue == otherModelValue;\n                } else {\n                    return true;\n                }\n            }\n        }\n    };\n}\nangular.module('pipPasswordMatch', [])\n    .directive('pipCompareOldPassword', compareOldPassword)\n    .directive('pipCompareNewPassword', compareNewPassword)\n    .directive('pipComparePasswordMatch', comparePasswordMatch);","/// <reference path=\"../../typings/tsd.d.ts\" />\n\n(() => {\n    'use strict';\n\n    angular.module('pipEntry.Common', ['pipEntry.CommonService', 'pipEntry.Service'])\n   \n})();","import { Role } from './Role';\n\nexport class Account {\n    public roles: string[];\n    public theme: string;\n    public language: string;\n    public time_zone: string;\n    public create_time: string; // JSON date\n    public change_pwd_time: string; // JSON date\n    public login: string;\n    public name: string;\n    public id: string;\n    public custom_hdr?: any;\n    public custom_dat?: any;\n    public settings?: any;\n}","export class EmailSettings {\n    public name?: string;\n    public email?: string;\n    public language?: string;\n    public verified?: boolean;\n    public id?: string;\n}","import { SessionData } from './SessionData';\nimport { IEntryDataService } from './IEntryDataService';\nimport { IEntryService } from \"../common/EntryService\";\n\nclass EntryData implements IEntryDataService {\n    constructor(\n        private $stateParams: angular.ui.IStateParamsService,\n        private pipRest: pip.rest.IRestService,\n        private pipEntry: IEntryService,\n        private pipSession: pip.services.ISessionService\n    ) {\n        \"ngInject\";\n    }\n\n    public getUserId(): string {\n        let userId: string;\n        userId = this.pipSession.session ? this.pipSession.session.userId : null;\n\n        return userId;\n    }\n\n    public signup(params: any, successCallback?: (user: SessionData) => void, errorCallback?: (error: any) => void): angular.IPromise<any> {\n        return this.pipRest.getResource('signup').call(params, successCallback, errorCallback);\n    }\n\n    public recoverPassword(params: any, successCallback?: (data: any) => void, errorCallback?: (error: any) => void): angular.IPromise<any> {\n        return this.pipRest.getResource('recoverPassword').call(\n            {\n                login: params.login\n            }, successCallback, errorCallback);\n    }\n\n    public resetPassword(params: any, successCallback?: (data: any) => void, errorCallback?: (error: any) => void): angular.IPromise<any> {\n        return this.pipRest.getResource('resetPassword').call(\n            {\n                login: params.login,\n                code: params.code,\n                password: params.password\n            }, successCallback, errorCallback);\n    }\n\n    public expireChangePassword(params: any, successCallback?: (data: any) => void, errorCallback?: (error: any) => void): angular.IPromise<any> {\n        let param = params || {};\n        param.user_id = this.getUserId();\n\n        return this.pipRest.getResource('changePassword').save(param, successCallback, errorCallback);\n    }\n\n    public requestEmailVerification(params: any, successCallback?: (data: any) => void, errorCallback?: (error: any) => void): angular.IPromise<any> {\n        return this.pipRest.getResource('requestEmailVerification').call(\n            {\n     //           user_id: this.getUserId(),\n                login: params.login\n            }, successCallback, errorCallback);\n    }\n\n    public verifyEmail(params: any, successCallback?: (data: any) => void, errorCallback?: (error: any) => void): angular.IPromise<any> {\n        return this.pipRest.getResource('verifyEmail').call(params, successCallback, errorCallback);\n    }\n\n    public readEmailSettings(params: any, successCallback?: (data: any) => void, errorCallback?: (error: any) => void): angular.IPromise<any> {\n        let param = params || {};\n        param.user_id = param.user_id ? param.user_id : this.getUserId();  \n\n        return this.pipRest.getResource('email_settings').get(params, successCallback, errorCallback);\n    }\n\n    public signupValidate(login: string, successCallback?: (data: any) => void, errorCallback?: (error: any) => void): angular.IPromise<any> {\n        return this.pipRest.getResource('signupValidate').get(\n            {\n                login: login\n            }, successCallback, errorCallback);\n    }\n\n    public saveSettingsKey(section: string, key: string, value: any, successCallback?: (data: any) => void, errorCallback?: (error: any) => void): angular.IPromise<any> {\n        return this.pipRest.getResource('settings').save(\n            {\n                section: section,\n                key: key\n            },\n            { value: value },\n            (data: any) => {\n                if (successCallback) {\n                    successCallback(data);\n                }\n            },\n            (error: any) => {\n                if (errorCallback) {\n                    errorCallback(error);\n                }\n            });\n    }\n\n}\n\n\nangular\n    .module('pipEntryData', ['pipRest'])\n    .service('pipEntryData', EntryData);\n\n\n","export class GENDER {\n    static MALE: 'male';\n    static FEMALE: 'female';\n    static NOT_SPECIFIED: 'n/s'\n}\n","export class Role {\n\n}\n\n","export class Session {\n    public user_id: string;\n    public user_name: string;\n    public address: string;\n    public client: string;\n    public request_time: string; // JSON date\n    public open_time: string; // JSON date\n    public active: boolean;\n    public id: string;\n}","import { Session } from './Session';\nimport { Account } from './Account';\n\nexport class SessionData extends Session {\n    public user: Account;\n    public data: any; // todo\n    public change_pwd_time?: string; // JSON date\n}\n\n","import { ISessionDataService } from './ISessionDataService';\nimport { IEntryService } from \"../common/EntryService\";\n\nclass SessionData implements ISessionDataService {\n    private RESOURCE: string = 'sessions';\n    private RESOURCE_USER: string = 'userSessions';\n    private RESOURCE_RESTORE: string = 'restoreSessions';\n\n    constructor(\n        private $stateParams: angular.ui.IStateParamsService,\n        private pipRest: pip.rest.IRestService,\n        private pipSession: pip.services.ISessionService\n    ) {\n        \"ngInject\";\n    }\n\n    public getSessionId(): string {\n        let sessionId: string;\n        sessionId = this.pipSession.session ? this.pipSession.session.sessionId : null;\n\n        return sessionId;\n    }\n\n    public getUserId(): string {\n        let userId: string;\n        userId = this.pipSession.session ? this.pipSession.session.userId : null;\n\n        return userId;\n    }\n\n    public getSessions(params: any, successCallback?: (data: any) => void, errorCallback?: (error: any) => void): angular.IPromise<any> {\n        params = params || {};\n        return this.pipRest.getResource(this.RESOURCE).call(params, successCallback, errorCallback);\n    }\n\n    public restoreSession(params: any, successCallback?: (data: any) => void, errorCallback?: (error: any) => void): angular.IPromise<any> {\n        params = params || {};\n        params.session_id = this.getSessionId();\n\n        return this.pipRest.getResource(this.RESOURCE_RESTORE).call(params, successCallback, errorCallback);\n    }\n\n    public getUserSessions(params: any, successCallback?: (data: any) => void, errorCallback?: (error: any) => void): angular.IPromise<any> {\n        params = params || {};\n        params.user_id = this.getUserId();\n\n        return this.pipRest.getResource(this.RESOURCE_USER).get(params, successCallback, errorCallback);\n    }\n\n}\n\n\nangular\n    .module('pipSessionData', ['pipRest'])\n    .service('pipSessionData', SessionData);","import { IEntryCommonService } from \"../common/IEntryCommonService\";\nimport { ExpireChangePasswordViewModel } from './ExpireChangePasswordViewModel';\nimport { IEntryService } from \"../common/EntryService\";\n\nexport class ExpireChangePasswordController {\n\n    constructor(\n        $state: ng.ui.IStateService,\n        private pipExpireChangePasswordViewModel: ExpireChangePasswordViewModel,\n        pipEntryCommon: IEntryCommonService,\n        pipEntry: IEntryService,\n        pipAuthState: pip.rest.IAuthStateService,\n        pipSession: pip.services.ISessionService,\n        private $window: ng.IWindowService\n    ) {\n        \"ngInject\";\n\n        pipEntryCommon.configureAppBar();\n\n        if (pipEntry.passwordExpire === false || !pipSession.isOpened()) {\n            $state.go(pipAuthState.signinState(), {});\n        }\n    }\n\n    public goBack() {\n        this.$window.history.back();\n    }\n\n    public get config(): any {\n        return this.pipExpireChangePasswordViewModel.config;\n    }\n\n    public onChange() {\n        this.pipExpireChangePasswordViewModel.onChange();\n    }\n}\n\n{\n    angular.module('pipEntry.ExpireChangePassword', ['pipEntry.Common', 'pipExpireChangePasswordPanel']);\n\n}","import { ExpireChangePasswordViewModel } from './ExpireChangePasswordViewModel';\n\nexport interface IExpireChangePasswordDialogService {\n    show(params: any, successCallback?: () => void, cancelCallback?: () => void): void;\n}\n\n{\n    class ExpireChangePasswordDialogService implements IExpireChangePasswordDialogService {\n        public constructor(private $mdDialog: angular.material.IDialogService) { };\n        public show(params: any, successCallback?: () => void, cancelCallback?: () => void) {\n            this.$mdDialog.show({\n                targetEvent: params.event,\n                templateUrl: 'expire_change_password/ExpireChangePasswordDialog.html',\n                controller: ExpireChangePasswordDialogController,\n                controllerAs: '$ctrl',\n                locals: {\n                    params: params\n                },\n                clickOutsideToClose: false\n            })\n                .then(() => {\n                    if (successCallback) {\n                        successCallback();\n                    }\n                }, () => {\n                    if (cancelCallback) {\n                        cancelCallback();\n                    }\n                });\n        }\n    }\n\n    class ExpireChangePasswordDialogController {\n        public goBack: any;\n\n        constructor(\n            $mdDialog: angular.material.IDialogService,\n            private pipExpireChangePasswordViewModel: ExpireChangePasswordViewModel\n        ) {\n            \"ngInject\";\n\n            this.goBack = $mdDialog.cancel;\n        }\n\n        public get config(): any {\n            return this.pipExpireChangePasswordViewModel.config;\n        }\n\n        public onChange() {\n            this.pipExpireChangePasswordViewModel.onChange(() => {\n                this.goBack();\n            });\n        }\n\n    }\n\n    angular.module('pipEntry.ExpireChangePasswordDialog', ['pipEntry.Common', \"pipExpireChangePasswordPanel\"])\n        .service('pipExpireChangePasswordDialog', ExpireChangePasswordDialogService);\n\n}","import { EntryModel } from '../common/EntryModel';\nimport { IEntryCommonService } from \"../common/IEntryCommonService\";\nimport { IEntryDataService } from '../data/IEntryDataService';\nimport { IEntryService } from \"../common/EntryService\";\n\nexport class ExpireChangePasswordModel extends EntryModel {\n    constructor(\n        pipEntryCommon: IEntryCommonService,\n        pipTransaction: pip.services.ITransactionService,\n        private $rootScope: ng.IRootScopeService,\n        private $location: ng.ILocationService,\n        private $state: ng.ui.IStateService,\n        private $injector: ng.auto.IInjectorService,\n        private pipAuthState: pip.rest.IAuthStateService,\n        private pipFormErrors: pip.errors.IFormErrorsService,\n        private pipRest: pip.rest.IRestService,\n        private pipTranslate: pip.services.ITranslateService,\n        private pipEntryData: IEntryDataService,\n        private pipEntry: IEntryService,\n        private pipToasts: pip.controls.IToastService\n    ) {\n        \"ngInject\";\n\n        super(pipEntryCommon);\n        this.transaction = pipTransaction.create('entry.expire_change_password');\n\n    }\n\n    public init($scope): void {\n        this.initModel($scope);\n        this.setElementVisability();\n    }\n\n    private setElementVisability(): void {\n        this.hideObject.subTitle = new Boolean(this.hideObject.subTitle) == true;\n        this.hideObject.title = new Boolean(this.hideObject.title) == true;\n        this.hideObject.server = new Boolean(this.hideObject.server) == true;\n        this.hideObject.hint = new Boolean(this.hideObject.hint) == true;\n        this.hideObject.progress = new Boolean(this.hideObject.progress) == true;\n    }\n\n    public onShowToast(message: string, type: string): void {\n        if (!message) return;\n        message = this.pipTranslate.translate(message);\n        type = type || 'message';\n\n        if (type == 'message') {\n            this.pipToasts.showMessage(message, null, null, null);\n            return;\n        }\n        if (type == 'error') {\n            this.pipToasts.showError(message, null, null, null, null);\n            return;\n        }\n    }\n\n    public onChange(callback?: () => void): void {\n        if (this.config.form.$invalid) {\n            this.pipFormErrors.resetFormErrors(this.config.form, true);\n\n            return;\n        }\n\n        const transactionId = this.transaction.begin('PROCESSING');\n        if (!transactionId) return;\n        if (!this.pipRest.lockServerUrl) {\n            this.pipRest.serverUrl = this.config.data.serverUrl;\n        }\n\n        this.pipEntryData.expireChangePassword({\n            login: this.config.data.login,\n            old_password: this.config.data.password,\n            new_password: this.config.data.passwordNew,\n            user_id: this.pipEntryData.getUserId()\n        },\n            (data: any) => {\n                this.pipFormErrors.resetFormErrors(this.config.form, false);\n                if (this.transaction.aborted(transactionId)) return;\n\n                const message = String() + 'EXPIRE_CHANGE_PWD_SUCCESS_TEXT';\n                this.onShowToast(message, 'message');\n                this.transaction.end();\n                if (callback) callback();\n                this.pipEntry.signout(\n                    () => {\n                        this.$state.go('signin', {\n                            server_url: this.config.data.serverUrl,\n                            login: this.config.data.login\n                        });\n                    }\n                );\n\n            },\n            (error: any) => {\n                this.transaction.end(error);\n                this.pipFormErrors.resetFormErrors(this.config.form, true);\n                this.pipFormErrors.setFormError(\n                    this.config.form, error, {\n                        'NO_LOGIN': 'login', // Missing account login\n                        'WRONG_LOGIN': 'login', // Account  was not found\n                        'LOGIN_NOT_FOUND': 'login', // Account  was not found\n                        'WRONG_PASSWORD': 'password', // Invalid password\n                        'act_execute': 'form', // Unknown error\n                        '-1': 'form' // server not response\n                    }\n                );\n            }\n        );\n    }\n\n}","import { EntryPageConfig } from '../common/EntryPageConfig';\nimport { IEntryCommonService } from \"../common/IEntryCommonService\";\nimport { ExpireChangePasswordViewModel } from './ExpireChangePasswordViewModel';\n\n{\n    interface IExpireChangePasswordPanelBindings {\n        [key: string]: any;\n\n\n    }\n\n    const ExpireChangePasswordPanelBindings: IExpireChangePasswordPanelBindings = {\n\n    }\n\n    class ExpireChangePasswordPanelController {\n        public touchedErrorsWithHint: Function;\n        constructor(\n            private $scope: ng.IScope,\n            private pipFormErrors: pip.errors.IFormErrorsService,\n            private pipRest: pip.rest.IRestService,\n            private pipExpireChangePasswordViewModel: ExpireChangePasswordViewModel\n        ) {\n            \"ngInject\";\n\n            this.touchedErrorsWithHint = pipFormErrors.touchedErrorsWithHint;\n            pipExpireChangePasswordViewModel.initModel($scope);\n   \n\n        }\n\n        public $postLink(): void {\n            this.config.form = this.$scope.form;\n            this.config.data.password = null;\n            this.config.data.passwordNew = null;\n        }\n\n        public get config(): any {\n            return this.pipExpireChangePasswordViewModel.config;\n        }\n\n        public get transaction(): any {\n            return this.pipExpireChangePasswordViewModel.transaction;\n        }\n\n        public get showServerError(): any {\n            return this.pipExpireChangePasswordViewModel.showServerError;\n        }\n\n        public get hideObject(): any {\n            return this.pipExpireChangePasswordViewModel.hideObject;\n        }\n\n        public onServerUrlChanged() {\n            this.config.onServerUrlChanged(this.config.form, this.config.selected.searchURLs);\n        }\n    \n        public onChanged() {\n            this.pipFormErrors.resetFormErrors(this.config.form, false);\n            this.pipFormErrors.resetFieldsErrors(this.config.form, null);\n            this.pipRest.serverUrl = this.config.selected.searchURLs;\n            this.config.data.serverUrl = this.config.selected.searchURLs;\n        }\n\n        public onShowToast(message: string, type: string): void {\n            this.pipExpireChangePasswordViewModel.onShowToast(message, type);\n        }\n\n    }\n\n    const ExpireChangePasswordPanel: ng.IComponentOptions = {\n        bindings: ExpireChangePasswordPanelBindings,\n        controller: ExpireChangePasswordPanelController,\n        templateUrl: 'expire_change_password/ExpireChangePasswordPanel.html'\n    }\n\n    angular.module(\"pipExpireChangePasswordPanel\", ['pipFocused', 'pipEntry.Strings'])\n        .component('pipExpireChangePasswordPanel', ExpireChangePasswordPanel);\n}","import { ExpireChangePasswordModel } from './ExpireChangePasswordModel';\nimport { IEntryService } from \"../common/EntryService\";\n\nexport class ExpireChangePasswordViewModel {\n    public model: ExpireChangePasswordModel;\n\n    constructor(\n        pipEntryCommon: any,\n        pipTransaction: pip.services.ITransactionService,\n        $rootScope: ng.IRootScopeService,\n        $location: ng.ILocationService,\n        $state: ng.ui.IStateService,\n        $injector: ng.auto.IInjectorService,\n        pipAuthState: pip.rest.IAuthStateService,\n        pipFormErrors: pip.errors.IFormErrorsService,\n        pipRest: pip.rest.IRestService,\n        pipEntry: IEntryService,\n        private pipTranslate: pip.services.ITranslateService,\n        private pipEntryData: any,\n        private pipToasts: any\n    ) {\n        \"ngInject\";\n\n        this.model = new ExpireChangePasswordModel(pipEntryCommon, pipTransaction, $rootScope, $location, $state,\n            $injector, pipAuthState, pipFormErrors, pipRest, pipTranslate, pipEntryData, pipEntry, pipToasts);\n    }\n\n    public get transaction(): pip.services.Transaction {\n        return this.model.transaction;\n    }\n\n    public get hideObject(): any {\n        return this.model.hideObject;\n    }\n\n    public get showServerError(): any {\n        return this.model.showServerError;\n    }\n\n    public get config(): any {\n        return this.model.config;\n    }\n\n    public initModel($scope) {\n        this.model.init($scope);\n    }\n\n    public onShowToast(message, type) {\n        this.model.onShowToast(message, type);\n    }\n\n    public onChange(callback?: () => void) {\n        this.model.onChange(callback);\n    }\n}\n\nangular.module('pipEntry.ExpireChangePassword')\n    .service('pipExpireChangePasswordViewModel', ExpireChangePasswordViewModel);","import { PostSignupViewModel } from './PostSignupViewModel';\n\nexport class PostSignupController implements ng.IController {\n\tpublic $onInit() {}\n\t\n    constructor(\n        private $window: ng.IWindowService,\n        public $party: any,\n        private pipPostSignupViewModel: PostSignupViewModel\n    ) {\n        \"ngInject\";\n\n    }\n\n    public onPostSignupSubmit() {\n        this.pipPostSignupViewModel.onPostSignupSubmit();\n    }\n\n    public get transaction(): any {\n        return this.pipPostSignupViewModel.transaction;\n    }\n}\n\n{\n    angular.module('pipEntry.PostSignup', ['pipEntry.Common', \"pipPostSignupPanel\"])\n        .controller('pipPostSignupController', PostSignupController);\n}","import { PostSignupViewModel } from './PostSignupViewModel';\n\nexport interface IPostSignupDialogService {\n    show(params: any, successCallback?: () => void, cancelCallback?: () => void): void;\n}\n\n{\n    class PostSignupDialogService implements IPostSignupDialogService {\n        public constructor(private $mdDialog: angular.material.IDialogService) { };\n        public show(params: any, successCallback?: () => void, cancelCallback?: () => void) {\n            this.$mdDialog.show({\n                targetEvent: params.event,\n                templateUrl: 'post_signup/PostSignupDialog.html',\n                controller: PostSignupDialogController,\n                controllerAs: '$ctrl',\n                locals: {\n                    params: params\n                },\n                clickOutsideToClose: false\n            })\n                .then(() => {\n                    if (successCallback) {\n                        successCallback();\n                    }\n                }, () => {\n                    if (cancelCallback) {\n                        cancelCallback();\n                    }\n                });\n        }\n    }\n\n    class PostSignupDialogController {\n        public $party: any;\n        public goBack: any;\n\n        constructor(\n            $mdDialog: angular.material.IDialogService,\n            params: any,\n            private pipPostSignupViewModel: PostSignupViewModel\n        ) {\n            \"ngInject\";\n\n            this.goBack = $mdDialog.cancel;\n            this.$party = params.$party;\n        }\n\n        public onPostSignupSubmit() {\n            this.pipPostSignupViewModel.onPostSignupSubmit(() => {\n                this.goBack();\n            });\n        }\n\n        public get transaction() {\n            return this.pipPostSignupViewModel.transaction;\n        }\n    }\n\n    angular.module('pipEntry.PostSignupDialog', ['pipEntry.Common', \"pipPostSignupPanel\"])\n        .service('pipPostSignupDialog', PostSignupDialogService);\n\n}","import { EntryModel } from '../common/EntryModel';\nimport { IEntryCommonService } from \"../common/IEntryCommonService\";\nimport { IEntryDataService } from '../data/IEntryDataService';\nimport { IEntryService } from \"../common/EntryService\";\n\nexport class PostSignupModel extends EntryModel {\n    constructor(\n        pipEntryCommon: IEntryCommonService,\n        pipTransaction: pip.services.ITransactionService,\n        private $rootScope: ng.IRootScopeService,\n        private $location: ng.ILocationService,\n        private $state: ng.ui.IStateService,\n        private $injector: ng.auto.IInjectorService,\n        private pipErrorPageConfigService: pip.errors.IErrorPageConfigService,\n        private pipAuthState: pip.rest.IAuthStateService,\n        private pipFormErrors: pip.errors.IFormErrorsService,\n        private pipEntry: IEntryService,\n        private pipRest: pip.rest.IRestService,\n        private pipTranslate: pip.services.ITranslateService,\n        private pipEntryData: IEntryDataService,\n        private pipToasts: pip.controls.IToastService\n    ) {\n        \"ngInject\";\n\n        super(pipEntryCommon);\n        this.transaction = pipTransaction.create('entry.signin');\n    }\n\n    public init($scope) {\n        this.initModel($scope);\n        this.setElementVisability();\n    }\n\n    private setElementVisability() {\n        this.hideObject.subTitle = new Boolean(this.hideObject.subTitle) == true;\n        this.hideObject.title = new Boolean(this.hideObject.title) == true;\n        this.hideObject.successTitle = new Boolean(this.hideObject.successTitle) == true;\n        this.hideObject.progress = new Boolean(this.hideObject.progress) == true;\n    }\n\n    private checkSupported(): boolean {\n        let pipSystemInfo: any = this.$injector.has('pipSystemInfo') ? this.$injector.get('pipSystemInfo') : null;\n        if (!pipSystemInfo) {\n            return true;\n        }\n\n        if (!this.pipErrorPageConfigService || !this.pipErrorPageConfigService.configs || \n            !this.pipErrorPageConfigService.configs.Unsupported || !this.pipErrorPageConfigService.configs.Unsupported.Active) {\n\n            return true;\n        }\n\n        let browser: string = pipSystemInfo.browserName;\n        let version: string = pipSystemInfo.browserVersion;\n        version = version.split(\".\")[0];\n\n        let supported = this.pipErrorPageConfigService.configs.Unsupported.Params && this.pipErrorPageConfigService.configs.Unsupported.Params.supported ? this.pipErrorPageConfigService.configs.Unsupported.Params.supported : null;\n        if (!supported) {\n\n            return true;\n        }\n\n        if (browser && supported[browser] && version >= supported[browser]) {\n            return true;\n        }\n\n        this.pipEntry.signout();\n        this.$state.go(pip.errors.ErrorsUnsupportedState); \n        return false;\n    }\n\n    public onPostSignupSubmit(callback?: () => void) {\n        if (this.config.form.$invalid) {\n            this.pipFormErrors.resetFormErrors(this.config.form, true);\n            return;\n        }\n\n        var transactionId = this.transaction.begin('PROCESSING');\n        if (!transactionId) return;\n\n        if (callback) callback();\n        // this.pipPartyData.createParty(\n        //     this.config.data,\n        //     (party) => {\n        //         this.pipFormErrors.resetFormErrors(this.config.form, false);\n        //         if (this.transaction.aborted(transactionId)) return;\n\n        //         this.transaction.end();\n\n        //         if (this.checkSupported()) {\n        //             this.pipAuthState.goToAuthorized({\n        //                 party_id: party.id\n        //             });\n        //         }\n\n        //     },\n        //     (error) => {\n        //         this.transaction.end(error);\n        //         this.pipFormErrors.resetFormErrors(this.config.form, true);\n        //         this.pipFormErrors.setFormError(\n        //             this.config.form, error, {\n        //                 1000: 'form', // Unknown error\n        //                 1110: 'form', // Account is locked\n        //                 1111: 'form', // Number of attempts exceeded. Account was locked\n        //                 1112: 'form', // Account is not active\n        //                 '-1': 'form' // server not response\n        //             }\n        //         );\n        //     }\n        // );\n    }\n}","import { IEntryCommonService } from \"../common/IEntryCommonService\";\nimport { PostSignupViewModel } from './PostSignupViewModel';\nimport { GENDER } from '../data/Enums';\n\n{\n    interface IPostSignupPanelBindings {\n        [key: string]: any;\n\n        $party: any;\n    }\n\n    const PostSignupPanelBindings: IPostSignupPanelBindings = {\n        $party: '=pipParty',\n    }\n\n    class PostSignupPanelController {\n        public $party: any;\n        public picture: any;\n        public touchedErrorsWithHint: Function;\n\n        constructor(\n            private $scope: ng.IScope,\n            pipTranslate: pip.services.ITranslateService,\n            pipFormErrors: pip.errors.IFormErrorsService,\n            private pipPostSignupViewModel: PostSignupViewModel\n        ) {\n             \"ngInject\";\n\n            pipPostSignupViewModel.initModel($scope);\n            this.touchedErrorsWithHint = pipFormErrors.touchedErrorsWithHint;\n            this.config.data = {\n                id: this.$party.id,\n                name: this.$party.name,\n                email: this.$party.email,\n                about: this.$party.about,\n                language: pipTranslate.language,\n                birthday: this.$party.birthday,\n                gender: this.$party.gender || GENDER.NOT_SPECIFIED,\n                location: this.$party.location\n            };\n        }\n\n        public $postLink() {\n            this.config.form = this.$scope.form;\n        }\n\n        public get config(): any {\n            return this.pipPostSignupViewModel.config;\n        }\n\n        public get transaction(): any {\n            return this.pipPostSignupViewModel.transaction;\n        }\n\n        public get showServerError(): any {\n            return this.pipPostSignupViewModel.showServerError;\n        }\n\n        public get hideObject(): any {\n            return this.pipPostSignupViewModel.hideObject;\n        }\n\n        public onPictureChanged($control) {\n            if (!this.config.enableAvatar) { return }\n\n            if (this.picture)\n                this.picture.save(\n                    // Success callback\n                    function () {},\n                    // Error callback\n                    function (error) {\n                    }\n                );\n        }\n\n        public onPictureCreated($event) {\n            this.picture = $event.sender;\n        }\n    }\n\n    const PostSignupPanel: ng.IComponentOptions = {\n        bindings: PostSignupPanelBindings,\n        templateUrl: 'post_signup/PostSignupPanel.html',\n        controller: PostSignupPanelController\n    }\n\n    angular.module(\"pipPostSignupPanel\", ['pipFocused', 'pipEntry.Strings'])\n        .component('pipPostSignupPanel', PostSignupPanel);\n}","import { PostSignupModel } from './PostSignupModel';\nimport { IEntryService } from \"../common/EntryService\";\nimport { IEntryDataService } from '../data/IEntryDataService';\nimport { IEntryCommonService } from \"../common/IEntryCommonService\";\n\nexport class PostSignupViewModel {\n    public model: PostSignupModel;\n\n    constructor(\n        pipEntryCommon: IEntryCommonService,\n        pipTransaction: pip.services.ITransactionService,\n        $rootScope: ng.IRootScopeService,\n        $location: ng.ILocationService,\n        $state: ng.ui.IStateService,\n        $injector: ng.auto.IInjectorService,\n        pipErrorPageConfigService: pip.errors.IErrorPageConfigService,\n        pipAuthState: pip.rest.IAuthStateService,\n        pipEntry: IEntryService,\n        pipFormErrors: pip.errors.IFormErrorsService,\n        pipRest: pip.rest.IRestService,\n        private pipTranslate: pip.services.ITranslateService,\n        private pipEntryData: IEntryDataService,\n        private pipToasts: pip.controls.IToastService\n    ) {\n        \"ngInject\";\n\n        this.model = new PostSignupModel(pipEntryCommon, pipTransaction, $rootScope, $location, $state, $injector,\n            pipErrorPageConfigService, pipAuthState, pipFormErrors, pipEntry, pipRest, pipTranslate, pipEntryData, pipToasts);\n    }\n\n    public get transaction(): pip.services.Transaction {\n        return this.model.transaction;\n    }\n\n    public get hideObject(): any {\n        return this.model.hideObject;\n    }\n\n    public get showServerError(): any {\n        return this.model.showServerError;\n    }\n\n    public get config(): any {\n        return this.model.config;\n    }\n\n    public initModel($scope) {\n        this.model.init($scope);\n    }\n\n    public onPostSignupSubmit(callback?: () => void) {\n        this.model.onPostSignupSubmit(callback);\n    }\n}\n\nangular.module('pipEntry.PostSignup')\n    .service('pipPostSignupViewModel', PostSignupViewModel);","import { IEntryCommonService } from \"../common/IEntryCommonService\";\nimport { RecoverPasswordViewModel } from './RecoverPasswordViewModel';\nimport { IResetPasswordDialogService } from '../reset_password/ResetPasswordDialog';\n\nexport class RecoverPasswordController {\n    constructor(\n        private $scope: ng.IScope,\n        private pipRecoverPasswordViewModel: RecoverPasswordViewModel,\n        private pipResetPasswordDialog: IResetPasswordDialogService,\n        pipEntryCommon: IEntryCommonService,\n        private $state: ng.ui.IStateService,\n        private pipAuthState: pip.rest.IAuthStateService,\n        private pipFormErrors: pip.errors.IFormErrorsService,\n        private $window: ng.IWindowService\n    ) {\n        \"ngInject\";\n\n        pipEntryCommon.configureAppBar();\n    }\n\n    public goBack(): void {\n        this.$state.go(this.pipAuthState.signinState());\n    }\n\n    public get transaction(): any {\n        return this.pipRecoverPasswordViewModel.transaction;\n    }\n\n    public get config(): any {\n        return this.pipRecoverPasswordViewModel.config;\n    }\n\n    public onRecover(): void {\n        this.pipRecoverPasswordViewModel.onRecover(\n            () => {\n                this.pipResetPasswordDialog.show(\n                    {},\n                    () => {\n                        // reinit recovery panel\n                        this.$scope.$broadcast('RecoverPasswordInit');\n                    },\n                    () => {\n                        // reinit recovery panel\n                        this.$scope.$broadcast('RecoverPasswordInit');\n                    }\n                );\n            }\n        );\n    }\n}\n\n{\n    angular.module('pipEntry.RecoverPassword', ['pipEntry.Common', 'pipRecoverPasswordPanel', 'pipEntry.ResetPasswordDialog']);\n}","import { RecoverPasswordViewModel } from './RecoverPasswordViewModel';\nimport { IResetPasswordDialogService } from '../reset_password/ResetPasswordDialog';\n\nexport interface IRecoverPasswordDialogService {\n    show(params: any, successCallback?: () => void, cancelCallback?: () => void): void;\n}\n\n{\n    class RecoverPasswordDialogService implements IRecoverPasswordDialogService {\n        public constructor(private $mdDialog: angular.material.IDialogService) { };\n        public show(params: any, successCallback?: () => void, cancelCallback?: () => void) {\n            this.$mdDialog.show({\n                targetEvent: params.event,\n                templateUrl: 'recover_password/RecoverPasswordDialog.html',\n                controller: RecoverPasswordDialogController,\n                controllerAs: '$ctrl',\n                locals: {\n                    params: params\n                },\n                clickOutsideToClose: false\n            })\n                .then(() => {\n                    if (successCallback) {\n                        successCallback();\n                    }\n                }, () => {\n                    if (cancelCallback) {\n                        cancelCallback();\n                    }\n                });\n        }\n    }\n\n    class RecoverPasswordDialogController {\n        public goBack: any;\n\n        constructor(\n            private pipResetPasswordDialog: IResetPasswordDialogService,\n            private pipRecoverPasswordViewModel: RecoverPasswordViewModel,\n            private pipFormErrors : pip.errors.IFormErrorsService,\n            private $mdDialog: angular.material.IDialogService\n        ) {\n            \"ngInject\";\n\n            this.goBack = $mdDialog.cancel;\n        }\n\n        public get transaction(): any {\n            return this.pipRecoverPasswordViewModel.transaction;\n        }\n\n        public get config(): any {\n            return this.pipRecoverPasswordViewModel.config;\n        }\n\n        public onRecover(): void {\n            this.$mdDialog.cancel;\n            this.pipRecoverPasswordViewModel.onRecover(\n                () => {\n                    this.pipResetPasswordDialog.show({});\n                }\n            );\n        }\n    }\n\n    angular.module('pipEntry.RecoverPasswordDialog', ['pipEntry.Common', \"pipRecoverPasswordPanel\",\n        'pipEntry.ResetPasswordDialog'\n    ])\n        .service('pipRecoverPasswordDialog', RecoverPasswordDialogService);\n\n}","import { EntryModel } from '../common/EntryModel';\nimport { IEntryCommonService } from \"../common/IEntryCommonService\";\nimport { IEntryDataService } from '../data/IEntryDataService';\n\nexport class RecoverPasswordModel extends EntryModel {\n    constructor(\n        pipEntryCommon: IEntryCommonService,\n        pipTransaction: pip.services.ITransactionService,\n        private $rootScope: ng.IRootScopeService,\n        private $location: ng.ILocationService,\n        private $state: ng.ui.IStateService,\n        private $injector: ng.auto.IInjectorService,\n        private pipAuthState: pip.rest.IAuthStateService,\n        private pipFormErrors : pip.errors.IFormErrorsService,\n        private pipRest: pip.rest.IRestService,\n        private pipTranslate: pip.services.ITranslateService,\n        private pipEntryData: IEntryDataService,\n        private pipToasts: pip.controls.IToastService\n    ) {\n        \"ngInject\";\n        \n        super(pipEntryCommon);\n        this.transaction = pipTransaction.create('entry.signin');\n    }\n\n    public init($scope): void {\n        this.initModel($scope);\n        this.setElementVisability();\n    }\n\n    private setElementVisability(): void {\n        this.hideObject.title = new Boolean(this.hideObject.title) == true;\n        this.hideObject.subTitle1 = new Boolean(this.hideObject.subTitle1) == true;\n        this.hideObject.subTitle2 = new Boolean(this.hideObject.subTitle2) == true;\n        this.hideObject.server = new Boolean(this.hideObject.server) == true;\n        this.hideObject.hint = new Boolean(this.hideObject.hint) == true;\n        this.hideObject.progress = new Boolean(this.hideObject.progress) == true;\n    }\n\n    public onRecover(gotoReset: () => void): void {\n        if (this.config.form.$invalid) {\n            this.pipFormErrors.resetFormErrors(this.config.form, true);\n            return;\n        }\n        const transactionId = this.transaction.begin('PROCESSING');\n        if (!transactionId) return;\n        \n        if (!this.pipRest.lockServerUrl) {\n            this.pipRest.serverUrl = this.config.data.serverUrl;\n        }\n        this.pipEntryData.recoverPassword({\n                login: this.config.data.login\n            },\n            (data: any) => {\n                this.pipFormErrors.resetFormErrors(this.config.form, true);\n                if (this.transaction.aborted(transactionId)) return;\n\n                this.transaction.end();\n                if (!gotoReset) {\n                    this.$state.go('reset_password', {\n                        server_url: this.config.data.serverUrl,\n                        login: this.config.data.login\n                    });\n                } else {\n                    gotoReset();\n                }\n            },\n            (error: any) => {\n                this.transaction.end(error);\n                this.pipFormErrors.setFormError(\n                    this.config.form, error, {\n                        'WRONG_LOGIN': 'login', // Account  was not found\n                        'NO_LOGIN': 'login', // Missing account login\n                        'LOGIN_NOT_FOUND': 'login', // Missing account login\n                        'act_execute': 'form', // Unknown error\n                        '-1': 'form' // server not response\n                    }\n                );\n                this.pipFormErrors.resetFormErrors(this.config.form, true);\n            }\n        );\n    };\n}","import { EntryPageConfig } from '../common/EntryPageConfig';\nimport { IEntryCommonService } from \"../common/IEntryCommonService\";\nimport { RecoverPasswordViewModel } from './RecoverPasswordViewModel';\n\n{\n    interface IRecoverPasswordPanelBindings {\n        [key: string]: any;\n\n    }\n\n    const RecoverPasswordPanelBindings: IRecoverPasswordPanelBindings = {\n\n    }\n\n    class RecoverPasswordPanelController {\n        public touchedErrorsWithHint: Function;\n        constructor(\n            private $scope: ng.IScope,\n            private pipFormErrors: pip.errors.IFormErrorsService,\n            private pipRest: pip.rest.IRestService,\n            private pipRecoverPasswordViewModel: RecoverPasswordViewModel\n        ) {\n            \"ngInject\";\n            \n            this.touchedErrorsWithHint = pipFormErrors.touchedErrorsWithHint;\n            pipRecoverPasswordViewModel.initModel($scope);\n\n            this.$scope.$on('RecoverPasswordInit', () => {\n                this.config.form = this.$scope.form;\n            });\n        }\n\n        public $postLink(): void {\n            this.config.form = this.$scope.form;\n            this.config.data.password = null;\n            this.config.data.passwordNew = null;\n        }\n\n        public get config(): any {\n            return this.pipRecoverPasswordViewModel.config;\n        }\n\n        public get transaction(): any {\n            return this.pipRecoverPasswordViewModel.transaction;\n        }\n\n        public get showServerError(): any {\n            return this.pipRecoverPasswordViewModel.showServerError;\n        }\n\n        public onServerUrlChanged() {\n            this.config.onServerUrlChanged(this.config.form, this.config.selected.searchURLs);\n        }\n    \n        public onChanged() {\n            this.pipFormErrors.resetFormErrors(this.config.form, false);\n            this.pipFormErrors.resetFieldsErrors(this.config.form, null);\n            this.pipRest.serverUrl = this.config.selected.searchURLs;\n            this.config.data.serverUrl = this.config.selected.searchURLs;\n        }\n\n        public get hideObject(): any {\n            return this.pipRecoverPasswordViewModel.hideObject;\n        }\n    }\n\n    const RecoverPasswordPanel: ng.IComponentOptions = {\n        bindings: RecoverPasswordPanelBindings,\n        controller: RecoverPasswordPanelController,\n        templateUrl: 'recover_password/RecoverPasswordPanel.html'\n    }\n\n    angular.module(\"pipRecoverPasswordPanel\", ['pipFocused', 'pipEntry.Strings'])\n        .component('pipRecoverPasswordPanel', RecoverPasswordPanel);\n}","import { RecoverPasswordModel } from './RecoverPasswordModel';\n\nexport class RecoverPasswordViewModel {\n    public model: RecoverPasswordModel;\n\n    constructor(\n        pipEntryCommon: any,\n        pipTransaction: pip.services.ITransactionService,\n        $rootScope: ng.IRootScopeService,\n        $location: ng.ILocationService,\n        $state: ng.ui.IStateService,\n        $injector: ng.auto.IInjectorService,\n        pipAuthState: pip.rest.IAuthStateService,\n        pipFormErrors: pip.errors.IFormErrorsService,\n        pipRest: pip.rest.IRestService,\n        private pipTranslate: pip.services.ITranslateService,\n        private pipEntryData: any,\n        private pipToasts: any\n    ) {\n        \"ngInject\";\n\n        this.model = new RecoverPasswordModel(pipEntryCommon, pipTransaction, $rootScope, $location, $state,\n            $injector, pipAuthState, pipFormErrors, pipRest, pipTranslate, pipEntryData, pipToasts);\n    }\n\n    public get transaction(): pip.services.Transaction {\n        return this.model.transaction;\n    }\n\n    public get hideObject(): any {\n        return this.model.hideObject;\n    }\n\n    public get showServerError(): any {\n        return this.model.showServerError;\n    }\n\n    public get config(): any {\n        return this.model.config;\n    }\n\n    public initModel($scope): void {\n        this.model.init($scope);\n    }\n\n    public onRecover(gotoReset: any): void {\n        this.model.onRecover(gotoReset);\n    }\n}\n\nangular.module('pipEntry.RecoverPassword')\n    .service('pipRecoverPasswordViewModel', RecoverPasswordViewModel);","import { IEntryCommonService } from \"../common/IEntryCommonService\";\nimport { ResetPasswordViewModel } from './ResetPasswordViewModel';\n\nexport class ResetPasswordController {\n\n    constructor(\n        private pipResetPasswordViewModel: ResetPasswordViewModel,\n        pipEntryCommon: IEntryCommonService,\n        private $window: ng.IWindowService\n    ) {\n        \"ngInject\";\n\n        pipEntryCommon.configureAppBar();\n    }\n\n    public goBack() {\n        this.$window.history.back();\n    }\n\n    public get config(): any {\n        return this.pipResetPasswordViewModel.config;\n    }\n\n    public onReset() {\n        this.pipResetPasswordViewModel.onReset();\n    }\n}\n\n{\n    angular.module('pipEntry.ResetPassword', ['pipEntry.Common', 'pipResetPasswordPanel',\n        'pipEmailUnique'\n    ]);\n\n}","import { ResetPasswordViewModel } from './ResetPasswordViewModel';\n\nexport interface IResetPasswordDialogService {\n    show(params: any, successCallback?: () => void, cancelCallback?: () => void): void;\n}\n\n{\n    class ResetPasswordDialogService implements IResetPasswordDialogService {\n        public constructor(private $mdDialog: angular.material.IDialogService) { };\n        public show(params: any, successCallback?: () => void, cancelCallback?: () => void) {\n            this.$mdDialog.show({\n                targetEvent: params.event,\n                templateUrl: 'reset_password/ResetPasswordDialog.html',\n                controller: ResetPasswordDialogController,\n                controllerAs: '$ctrl',\n                locals: {\n                    params: params\n                },\n                clickOutsideToClose: false\n            })\n                .then(() => {\n                    if (successCallback) {\n                        successCallback();\n                    }\n                }, () => {\n                    if (cancelCallback) {\n                        cancelCallback();\n                    }\n                });\n        }\n    }\n\n    class ResetPasswordDialogController {\n        public goBack: any;\n\n        constructor(\n            $mdDialog: angular.material.IDialogService,\n            private pipResetPasswordViewModel: ResetPasswordViewModel\n        ) {\n            \"ngInject\";\n\n            this.goBack = $mdDialog.cancel;\n        }\n\n        public get config(): any {\n            return this.pipResetPasswordViewModel.config;\n        }\n\n        public onReset() {\n            this.pipResetPasswordViewModel.onReset(() => {\n                this.goBack();\n            });\n        }\n\n        public onCancel() {\n            this.goBack();\n        }\n\n    }\n\n    angular.module('pipEntry.ResetPasswordDialog', ['pipEntry.Common', \"pipResetPasswordPanel\"])\n        .service('pipResetPasswordDialog', ResetPasswordDialogService);\n\n}","import { EntryModel } from '../common/EntryModel';\nimport { IEntryCommonService } from \"../common/IEntryCommonService\";\nimport { IEntryDataService } from '../data/IEntryDataService';\n\nexport class ResetPasswordModel extends EntryModel {\n    constructor(\n        pipEntryCommon: IEntryCommonService,\n        pipTransaction: pip.services.ITransactionService,\n        // private $scope: ng.IScope,\n        private $rootScope: ng.IRootScopeService,\n        private $location: ng.ILocationService,\n        private $state: ng.ui.IStateService,\n        private $injector: ng.auto.IInjectorService,\n        // private $timeout: ng.ITimeoutService,\n        private pipAuthState: pip.rest.IAuthStateService,\n        private pipFormErrors: pip.errors.IFormErrorsService,\n        private pipRest: pip.rest.IRestService,\n        private pipTranslate: pip.services.ITranslateService,\n        private pipEntryData: IEntryDataService,\n        private pipToasts: pip.controls.IToastService\n    ) {\n        \"ngInject\";\n\n        super(pipEntryCommon);\n        this.transaction = pipTransaction.create('entry.signin');\n\n    }\n\n    public init($scope): void {\n        this.initModel($scope);\n        this.setElementVisability();\n    }\n\n    private setElementVisability(): void {\n        this.hideObject.subTitle = new Boolean(this.hideObject.subTitle) == true;\n        this.hideObject.title = new Boolean(this.hideObject.title) == true;\n        this.hideObject.server = new Boolean(this.hideObject.server) == true;\n        this.hideObject.hint = new Boolean(this.hideObject.hint) == true;\n        this.hideObject.progress = new Boolean(this.hideObject.progress) == true;\n    }\n\n    public onShowToast(message: string, type: string): void {\n        if (!message) return;\n        message = this.pipTranslate.translate(message);\n        type = type || 'message';\n\n        if (type == 'message') {\n            this.pipToasts.showMessage(message, null, null, null);\n            return;\n        }\n        if (type == 'error') {\n            this.pipToasts.showError(message, null, null, null, null);\n            return;\n        }\n    }\n\n    public onReset(callback?: () => void): void {\n        if (this.config.form.$invalid) {\n            this.pipFormErrors.resetFormErrors(this.config.form, true);\n\n            return;\n        }\n\n        const transactionId = this.transaction.begin('PROCESSING');\n        if (!transactionId) return;\n        if (!this.pipRest.lockServerUrl) {\n            this.pipRest.serverUrl = this.config.data.serverUrl;\n        }\n        this.pipEntryData.resetPassword({\n            login: this.config.data.login,\n            code: this.config.data.resetCode,\n            password: this.config.data.password\n        },\n            (data: any) => {\n                this.pipFormErrors.resetFormErrors(this.config.form, false);\n                if (this.transaction.aborted(transactionId)) return;\n\n                const message = String() + 'RESET_PWD_SUCCESS_TEXT';\n                this.onShowToast(message, 'message');\n                this.transaction.end();\n                if (callback) callback();\n                this.$state.go('signin', {\n                    server_url: this.config.data.serverUrl,\n                    login: this.config.data.login\n                });\n            },\n            (error: any) => {\n                this.transaction.end(error);\n                this.pipFormErrors.resetFormErrors(this.config.form, true);\n                this.pipFormErrors.setFormError(\n                    this.config.form, error, {\n                        'NO_LOGIN': 'login', // Missing account login\n                        'WRONG_LOGIN': 'login', // Account  was not found\n                        'LOGIN_NOT_FOUND': 'login', // Account  was not found\n                        'WRONG_PASSWORD': 'password', // Invalid password\n                        'WRONG_CODE': 'resetCode', // Invalid password recovery code\n                        'act_execute': 'form', // Unknown error\n                        '-1': 'form' // server not response\n                    }\n                );\n            }\n        );\n    }\n\n}","import { EntryPageConfig } from '../common/EntryPageConfig';\nimport { IEntryCommonService } from \"../common/IEntryCommonService\";\nimport { ResetPasswordViewModel } from './ResetPasswordViewModel';\n\n{\n    interface IResetPasswordPanelBindings {\n        [key: string]: any;\n\n\n    }\n\n    const ResetPasswordPanelBindings: IResetPasswordPanelBindings = {\n\n    }\n\n    class ResetPasswordPanelController {\n        public touchedErrorsWithHint: Function;\n        constructor(\n            private $scope: ng.IScope,\n            private pipFormErrors: pip.errors.IFormErrorsService,\n            private pipRest: pip.rest.IRestService,\n            private pipResetPasswordViewModel: ResetPasswordViewModel\n        ) {\n            \"ngInject\";\n\n            this.touchedErrorsWithHint = pipFormErrors.touchedErrorsWithHint;\n            pipResetPasswordViewModel.initModel($scope);\n     \n        }\n\n        public $postLink(): void {\n            this.config.form = this.$scope.form;\n            this.config.data.password = null;\n            this.config.data.passwordNew = null;\n        }\n\n        public get config(): any {\n            return this.pipResetPasswordViewModel.config;\n        }\n\n        public get transaction(): any {\n            return this.pipResetPasswordViewModel.transaction;\n        }\n\n        public get showServerError(): any {\n            return this.pipResetPasswordViewModel.showServerError;\n        }\n\n        public get hideObject(): any {\n            return this.pipResetPasswordViewModel.hideObject;\n        }\n\n        public onServerUrlChanged() {\n            this.config.onServerUrlChanged(this.config.form, this.config.selected.searchURLs);\n        }\n    \n        public onChanged() {\n            this.pipFormErrors.resetFormErrors(this.config.form, false);\n            this.pipFormErrors.resetFieldsErrors(this.config.form, null);\n            this.pipRest.serverUrl = this.config.selected.searchURLs;\n            this.config.data.serverUrl = this.config.selected.searchURLs;\n        }\n\n        public onShowToast(message: string, type: string): void {\n            this.pipResetPasswordViewModel.onShowToast(message, type);\n        }\n\n    }\n\n    const ResetPasswordPanel: ng.IComponentOptions = {\n        bindings: ResetPasswordPanelBindings,\n        controller: ResetPasswordPanelController,\n        templateUrl: 'reset_password/ResetPasswordPanel.html'\n    }\n\n    angular.module(\"pipResetPasswordPanel\", ['pipFocused', 'pipEntry.Strings'])\n        .component('pipResetPasswordPanel', ResetPasswordPanel);\n}","import { ResetPasswordModel } from './ResetPasswordModel';\n\nexport class ResetPasswordViewModel {\n    public model: ResetPasswordModel;\n\n    constructor(\n        pipEntryCommon: any,\n        pipTransaction: pip.services.ITransactionService,\n        $rootScope: ng.IRootScopeService,\n        $location: ng.ILocationService,\n        $state: ng.ui.IStateService,\n        $injector: ng.auto.IInjectorService,\n        pipAuthState: pip.rest.IAuthStateService,\n        pipFormErrors: pip.errors.IFormErrorsService,\n        pipRest: pip.rest.IRestService,\n        private pipTranslate: pip.services.ITranslateService,\n        private pipEntryData: any,\n        private pipToasts: any\n    ) {\n        \"ngInject\";\n\n        this.model = new ResetPasswordModel(pipEntryCommon, pipTransaction, $rootScope, $location, $state,\n            $injector, pipAuthState, pipFormErrors, pipRest, pipTranslate, pipEntryData, pipToasts);\n    }\n\n    public get transaction(): pip.services.Transaction {\n        return this.model.transaction;\n    }\n\n    public get hideObject(): any {\n        return this.model.hideObject;\n    }\n\n    public get showServerError(): any {\n        return this.model.showServerError;\n    }\n\n    public get config(): any {\n        return this.model.config;\n    }\n\n    public initModel($scope) {\n        this.model.init($scope);\n    }\n\n    public onShowToast(message, type) {\n        this.model.onShowToast(message, type);\n    }\n\n    public onReset(callback?: () => void) {\n        this.model.onReset(callback);\n    }\n}\n\nangular.module('pipEntry.ResetPassword')\n    .service('pipResetPasswordViewModel', ResetPasswordViewModel);","function configEntryResources(pipRestProvider: pip.rest.IRestProvider) {\n    // resource, url, path, defaultParams, actions\n    pipRestProvider.registerOperation('signin', '/api/v1/signin');\n    pipRestProvider.registerOperation('signout', '/api/v1/signout');\n    pipRestProvider.registerOperation('signup', '/api/v1/signup');\n    pipRestProvider.registerOperation('recoverPassword', '/api/v1/passwords/recover');\n    pipRestProvider.registerOperation('resetPassword', '/api/v1/passwords/reset');\n    pipRestProvider.registerCollection('changePassword', '/api/v1/passwords/:user_id/change',\n     { user_id: '@user_id' });\n\n    pipRestProvider.registerOperation('requestEmailVerification', '/api/v1/email_settings/resend');\n    pipRestProvider.registerOperation('verifyEmail', '/api/v1/email_settings/verify');\n    pipRestProvider.registerOperation('email_settings', '/api/v1/email_settings/:user_id', \n        { user_id: '@user_id' },\n        {\n            get: { method: 'GET', isArray: false }\n        }\n    ); \n    pipRestProvider.registerOperation('signupValidate', '/api/v1/signup/validate', {},\n        {\n            get: { method: 'GET', isArray: false }\n        }\n    ); \n}\n\nangular\n    .module('pipEntry.Rest')\n    .config(configEntryResources);\n\n\n","function configSessionResources(pipRestProvider: pip.rest.IRestProvider) {\n    pipRestProvider.registerPagedCollection('sessions', '/api/v1/sessions');\n    pipRestProvider.registerOperation('restoreSessions', '/api/v1/sessions/restore');\n    pipRestProvider.registerPagedCollection('userSessions', '/api/v1//sessions/:user_id');\n}\n\nangular\n    .module('pipEntry.Rest')\n    .config(configSessionResources);\n\n","function configSettingsResources(pipRestProvider: pip.rest.IRestProvider) {\n    // resource, url, path, defaultParams, actions\n    pipRestProvider.registerPagedCollection('settings', '/api/v1/settings/:section/:key',\n        { section: '@section' },\n        {\n            update: { method: 'PUT' }\n        }\n    );\n}\n\nangular\n    .module('pipEntry.Rest')\n    .config(configSettingsResources);","/// <reference path=\"../../typings/tsd.d.ts\" />\nimport { IEntryService } from \"../common/EntryService\";\nimport { IEntryCommonService } from \"../common/IEntryCommonService\";\n\nexport const isSignin = 'isSignin';\n\n{\n    class SigninController {\n        public fixedServerUrl: boolean = false;\n        constructor(\n            $scope: ng.IScope,\n            $rootScope: ng.IRootScopeService,\n            pipEntry: IEntryService,\n            pipEntryCommon: IEntryCommonService,\n            pipSession: pip.services.ISessionService\n        ) {\n            \"ngIngect\";\n\n            pipEntryCommon.configureAppBar();\n            // if (!$rootScope[isSignin] && pipSession.isOpened()) { // ??\n            //     pipEntry.signout(); // hack for set language\n            // }\n            $rootScope[isSignin] = false;\n            this.fixedServerUrl = $scope['fixedServerUrl'];\n        }\n    }\n\n    const SigninConfig = ($stateProvider, pipAuthStateProvider) => {\n\n        $stateProvider\n            .state('signin', {\n                url: '/signin?login&server_url&redirect_to&language&email',\n                auth: false,\n                controller: SigninController,\n                controllerAs: '$ctrl',\n                templateUrl: 'signin/Signin.html'\n            })\n        pipAuthStateProvider.signinState = 'signin';\n    }\n\n    angular.module('pipEntry.Signin', ['pipEntry.Common', \"pipSigninPanel\"])\n        .config(SigninConfig)\n\n}","/// <reference path=\"../../typings/tsd.d.ts\" />\nimport { IEntryService } from \"../common/EntryService\";\n\ninterface ISigninDialogService {\n    show(params: any, successCallback ? : () => void, cancelCallback ? : () => void): void;\n}\n\nclass SigninDialogService implements ISigninDialogService {\n\n    public constructor(private $mdDialog: angular.material.IDialogService) {}\n    public show(params: any, successCallback ? : () => void, cancelCallback ? : () => void) {\n        this.$mdDialog.show({\n                targetEvent: params.event,\n                templateUrl: 'signin/SigninDialog.html',\n                controller: SigninDialogController,\n                locals: {\n                    params: params\n                },\n                clickOutsideToClose: false\n            })\n            .then(() => {\n                if (successCallback) {\n                    successCallback();\n                }\n            }, () => {\n                if (cancelCallback) {\n                    cancelCallback();\n                }\n            });\n    }\n}\n\nexport interface ISigninDialogController {\n    pipGotoSignupDialog: Function;\n    pipGotoRecoverPasswordDialog: Function;\n}\n\nclass SigninDialogController implements ISigninDialogController {\n    public pipGotoSignupDialog: Function;\n    public pipGotoRecoverPasswordDialog: Function;\n\n    constructor(\n        private pipSignupDialog,\n        private pipRecoverPasswordDialog,\n        private pipEntry: IEntryService,\n    ) {\n        \"ngInject\";\n        \n        //pipEntry.signout();\n        this.pipGotoSignupDialog = () => {\n            this.gotoSignupDialog();\n        }\n        this.pipGotoRecoverPasswordDialog = () => {\n            this.gotoRecoverPasswordDialog();\n        }\n    }\n\n    private gotoSignupDialog() {\n        this.pipSignupDialog.show({});\n    }\n\n    private gotoRecoverPasswordDialog() {\n        this.pipRecoverPasswordDialog.show({});\n    }\n}\n\n{\n\n    angular.module('pipEntry.SigninDialog', [\n            'pipEntry.Common',\n            'pipSigninPanel',\n            'pipEntry.SignupDialog',\n            'pipEntry.RecoverPasswordDialog'\n        ])\n        .service('pipSigninDialog', SigninDialogService);\n\n}","import { EntryModel } from '../common/EntryModel';\nimport { IEntryCommonService } from \"../common/IEntryCommonService\";\nimport { IEntryService } from \"../common/EntryService\";\nimport { AuthSessionData } from '../common/EntryPageConfig';\nimport { SessionData } from '../data/SessionData';\nimport { EmailSettings } from '../data/EmailSettings';\n\nexport class SinginModel extends EntryModel {\n    constructor(\n        pipEntryCommon: IEntryCommonService,\n        pipTransaction: pip.services.ITransactionService,\n        private $rootScope: ng.IRootScopeService,\n        private $location: ng.ILocationService,\n        private $state: ng.ui.IStateService,\n        private $injector: ng.auto.IInjectorService,\n        private pipErrorPageConfigService: pip.errors.IErrorPageConfigService,\n        private pipAuthState: pip.rest.IAuthStateService,\n        private pipEntry: IEntryService,\n        private pipFormErrors: pip.errors.IFormErrorsService,\n        private pipNavService: pip.nav.INavService,\n        private pipRest: pip.rest.IRestService,\n    ) {\n        \"ngInject\";\n        \n        super(pipEntryCommon);\n\n        this.transaction = pipTransaction.create('entry.signin');\n    }\n\n    public init($scope) {\n        this.initModel($scope);\n        this.setElementVisability();\n    }\n\n    private setElementVisability() {\n        this.hideObject.remember = new Boolean(this.hideObject.remember) == true;\n        this.hideObject.title = new Boolean(this.hideObject.title) == true;\n        this.hideObject.server = new Boolean(this.hideObject.server) == true;\n        this.hideObject.forgotPassword = new Boolean(this.hideObject.forgotPassword) == true;\n        this.hideObject.signup = new Boolean(this.hideObject.signup) == true;\n        this.hideObject.hint = new Boolean(this.hideObject.hint) == true;\n        this.hideObject.progress = new Boolean(this.hideObject.progress) == true;\n    }\n\n    private checkSupported(): boolean {\n        let pipSystemInfo: any = this.$injector.has('pipSystemInfo') ? this.$injector.get('pipSystemInfo') : null;\n        if (!pipSystemInfo) {\n            return true;\n        }\n\n        if (!this.pipErrorPageConfigService || !this.pipErrorPageConfigService.configs || \n            !this.pipErrorPageConfigService.configs.Unsupported || !this.pipErrorPageConfigService.configs.Unsupported.Active) {\n\n            return true;\n        }\n\n        let browser: string = pipSystemInfo.browserName;\n        let version: string = pipSystemInfo.browserVersion;\n        version = version.split(\".\")[0];\n\n        let supported = this.pipErrorPageConfigService.configs.Unsupported.Params && this.pipErrorPageConfigService.configs.Unsupported.Params.supported ? this.pipErrorPageConfigService.configs.Unsupported.Params.supported : null;\n        if (!supported) {\n\n            return true;\n        }\n\n        if (browser && supported[browser] && version >= supported[browser]) {\n            return true;\n        }\n\n        this.pipEntry.signout();\n        this.$state.go(pip.errors.ErrorsUnsupportedState); \n        return false;\n    }\n\n    public gotoSignup(gotoSignupPage: any, gotoSignupDialog: any): void {\n        if (!gotoSignupPage && !gotoSignupDialog) {\n            this.$state.go('signup', {\n                server_url: this.config.data.serverUrl,\n                login: this.config.data.login\n            });\n            return;\n        }\n        if (gotoSignupPage) {\n            this.$state.go(gotoSignupPage);\n            return;\n        }\n        if (gotoSignupDialog) {\n            gotoSignupDialog();\n            return;\n        }\n    }\n\n    public gotoRecoverPassword(gotoRecoverPasswordDialog: any): void {\n\n        if (!gotoRecoverPasswordDialog) {\n            this.$state.go('recover_password', {\n                server_url: this.config.data.serverUrl,\n                login: this.config.data.login\n            });\n            return;\n        }\n        if (gotoRecoverPasswordDialog) {\n            gotoRecoverPasswordDialog();\n            return;\n        }\n    }\n\n    private inSigninComplete(data: SessionData): void {\n        if (this.checkSupported()) {\n            let passwordExpire: boolean = false;\n            // check password change\n            if (this.pipEntry.passwordExpire && data.user && data.user.change_pwd_time) {\n                let expireDate = new Date(data.user.change_pwd_time);\n                let nowDate = new Date();\n                \n                passwordExpire = expireDate.getTime() < nowDate.getTime();\n            }\n            if (passwordExpire) {\n                this.pipAuthState.go('change_password', {\n                    login: this.config.data.login,\n                    server_url: this.pipRest.serverUrl\n                    // redirect_to: this.pipAuthState.params.redirect_to\n                });\n            } else if (this.pipAuthState.params.redirect_to) {\n                if (this.pipAuthState.params.toState) {\n                    if (this.pipAuthState.params.toState != this.pipAuthState.signinState) {\n                        this.pipAuthState.go(this.pipAuthState.params.toState, this.pipAuthState.params.toParams)\n                    } else {\n                        this.pipAuthState.goToAuthorized({});\n                    }\n                } else {\n                    if (decodeURIComponent(this.pipAuthState.params.redirect_to) != '/signin') {\n                        this.$location.url(decodeURIComponent(this.pipAuthState.params.redirect_to));\n                    } else {\n                        this.pipAuthState.goToAuthorized({});\n                    }\n                }\n            } else {\n                this.pipAuthState.goToAuthorized({});\n            }\n\n            this.pipNavService.sidenav.show();\n        }\n    }\n\n    private checkEmailVerification(data: SessionData): boolean {\n        return data.user && data.user.settings &&\n            data.user.settings['verified_email'] && data.user.settings['verified_email'] == \"true\";\n    }\n\n    public onSignin(rememberDefault: boolean): void {\n        if (this.config.form.$invalid) {\n            this.pipFormErrors.resetFormErrors(this.config.form, true);\n            return;\n        }\n\n        let transactionId: string = this.transaction.begin('ENTERING');\n        if (!transactionId) return;\n\n         this.$rootScope['isSignin'] = true;\n\n        if (this.hideObject.remember && !!rememberDefault) {\n            this.config.data.remember = true;\n        }\n\n        if (!this.pipRest.lockServerUrl) {\n            this.pipRest.serverUrl = this.config.data.serverUrl;\n        }\n\n        let session: AuthSessionData = new AuthSessionData();\n        this.pipRest.setHeaders({\n            'session-id': undefined,\n            'user-id': undefined,\n            'account-id': undefined\n        });\n\n        this.pipRest.getResource('signin').call({ \n            login: this.config.data.login,\n            password: this.config.data.password\n        },\n            (data: SessionData) => {\n                this.pipFormErrors.resetFormErrors(this.config.form, false);\n                if (this.transaction.aborted(transactionId)) return;\n\n                this.pipEntry.openSession(data, this.config.data.remember);\n                if (this.checkEmailVerification(data)) {\n                    this.inSigninComplete(data);\n                    this.transaction.end();\n                } else {\n                    this.pipRest.getResource('email_settings').get(\n                        {\n                            user_id: data.user.id\n                        },\n                        (setting: EmailSettings) => {\n                            if (setting && setting.verified && setting.email == data.user.login) {\n                                this.inSigninComplete(data);\n                            } else {\n                                this.pipAuthState.go('verify_email', { email: data.user.login || data.user['email'], serverUrl: this.pipRest.serverUrl });\n                            }\n                            this.transaction.end();\n                        }, \n                        (error: any) => {\n                            this.$rootScope['isSignin'] = false;\n                            this.pipFormErrors.resetFormErrors(this.config.form, true);\n                            this.pipFormErrors.setFormError(this.config.form, error, {\n                                'WRONG_LOGIN': 'login', // Account was not found\n                                'NO_LOGIN': 'login', // Missing account login\n                                'LOGIN_NOT_FOUND': 'login', // Missing account login\n                                'WRONG_PASSWORD': 'password', // Missing password\n                                'ACCOUNT_LOCKED': 'form',\n                                'act_execute': 'form', // Unknown error\n                                '-1': 'form' // server not response\n                            });\n                            this.transaction.end({\n                                message: error\n                            });\n                        });\n                }\n                \n            },\n            (error: any) => {\n                this.$rootScope['isSignin'] = false;\n                this.pipFormErrors.resetFormErrors(this.config.form, true);\n                this.pipFormErrors.setFormError(this.config.form, error, {\n                    'WRONG_LOGIN': 'login', // Account was not found\n                    'NO_LOGIN': 'login', // Missing account login\n                    'LOGIN_NOT_FOUND': 'login', // Missing account login\n                    'WRONG_PASSWORD': 'password', // Missing password\n                    'act_execute': 'form', // Unknown error\n                    '-1': 'form' // server not response\n                });\n                this.transaction.end({\n                    message: error\n                });\n            });\n    }\n}","/// <reference path=\"../../typings/tsd.d.ts\" />\n\nimport { EntryPageConfig } from '../common/EntryPageConfig';\nimport { IEntryCommonService } from '../common/IEntryCommonService';\nimport { SigninViewModel } from './SigninViewModel';\n\ninterface ISigninPanelController {\n    pipMedia: pip.layouts.IMediaService;\n\n    gotoSignup(): void;\n    onSignin(): void;\n    gotoRecoverPassword(): void;\n    onEnter(event): void;\n}\n\nclass SigninPanelController implements ISigninPanelController {\n    public gotoSignupDialog: Function;\n    public gotoRecoverPasswordDialog: Function;\n    public gotoSignupPage: any;\n    public rememberDefault: boolean;\n    public touchedErrorsWithHint: Function;\n\n    constructor(\n        private $scope: ng.IScope,\n        private $document: ng.IDocumentService,\n        private $timeout,\n        public pipMedia: pip.layouts.IMediaService,\n        private pipSigninViewModel: SigninViewModel,\n        private pipRest: pip.rest.IRestService,\n        private pipFormErrors: pip.errors.IFormErrorsService\n    ) {\n        \"ngInject\";\n\n        pipSigninViewModel.initModel($scope);\n        this.touchedErrorsWithHint = pipFormErrors.touchedErrorsWithHint;\n    }\n\n    public $postLink() {\n        this.config.form = this.$scope.form;\n\n        this.$timeout(() => {\n            if (this.$document && this.$document[0]) {\n                var elem = angular.element(this.$document[0].querySelector('input[type=password]:-webkit-autofill'));\n\n                if (elem.length) {\n                    elem.parent().addClass('md-input-has-value');\n                }\n            }\n        }, 150);\n    }\n\n    public get config(): any {\n        return this.pipSigninViewModel.config;\n    }\n\n    public get transaction(): any {\n        return this.pipSigninViewModel.transaction;\n    }\n\n    public get showServerError(): any {\n        return this.pipSigninViewModel.showServerError;\n    }\n\n    public get hideObject(): any {\n        return this.pipSigninViewModel.hideObject;\n    }\n\n    public gotoSignup() {\n        this.pipSigninViewModel.gotoSignup(this.gotoSignupPage, this.gotoSignupDialog);\n    }\n\n    public onSignin() {\n        this.pipSigninViewModel.onSignin(this.rememberDefault);\n    }\n\n    public gotoRecoverPassword() {\n        this.pipSigninViewModel.gotoRecoverPassword(this.gotoRecoverPasswordDialog);\n    }\n\n    public onServerUrlChanged() {\n        this.config.onServerUrlChanged(this.config.form, this.config.selected.searchURLs);\n    }\n\n    public onChanged() {\n        this.pipFormErrors.resetFormErrors(this.config.form, false);\n        this.pipFormErrors.resetFieldsErrors(this.config.form, null);\n        this.pipRest.serverUrl = this.config.selected.searchURLs;\n        this.config.data.serverUrl = this.config.selected.searchURLs;\n    }\n\n    public onEnter(event): void {\n        if (event.keyCode === 13) {\n            this.onSignin();\n        }\n    }\n}\n\ninterface ISigninBindings {\n    [key: string]: any;\n\n    gotoSignupPage: any,\n    gotoSignupDialog: any,\n    gotoRecoverPasswordDialog: any,\n    rememberDefault: any, // set remember check\n}\n\nconst SigninBindings: ISigninBindings = {\n    gotoSignupPage: '=pipGotoSignupPage',\n    gotoSignupDialog: '=pipGotoSignupDialog',\n    gotoRecoverPasswordDialog: '=pipGotoRecoverPasswordDialog',\n    rememberDefault: '=pipRemember', // set remember check\n};\n\n\nclass SigninChanges implements ng.IOnChangesObject, ISigninBindings {\n    [key: string]: ng.IChangesObject<any>;\n\n\n    gotoSignupPage: ng.IChangesObject<any>;\n    gotoSignupDialog: ng.IChangesObject<Function>;\n    gotoRecoverPasswordDialog: ng.IChangesObject<Function>;\n    rememberDefault: ng.IChangesObject<boolean>; // set remember check\n}\n\n{\n\n    const SigninPanel: ng.IComponentOptions = {\n        bindings: SigninBindings,\n        templateUrl: 'signin/SigninPanel.html',\n        controller: SigninPanelController\n    };\n\n\n    angular.module(\"pipSigninPanel\", ['pipFocused', 'pipEntry.Strings'])\n        .component('pipSigninPanel', SigninPanel);\n\n}","import { SinginModel } from './SigninModel';\nimport { IEntryCommonService } from \"../common/IEntryCommonService\";\nimport { IEntryService } from \"../common/EntryService\";\n\nexport class SigninViewModel {\n    public model: SinginModel;\n\n    constructor(\n        pipEntryCommon: IEntryCommonService,\n        pipTransaction: pip.services.ITransactionService,\n        $rootScope: ng.IRootScopeService,\n        $location: ng.ILocationService,\n        $state: ng.ui.IStateService,\n        $injector: ng.auto.IInjectorService,\n        pipErrorPageConfigService: pip.errors.IErrorPageConfigService,\n        pipAuthState: pip.rest.IAuthStateService,\n        pipEntry: IEntryService,\n        pipFormErrors: pip.errors.IFormErrorsService,\n        pipNavService: pip.nav.INavService,\n        pipRest: pip.rest.IRestService\n    ) {\n        this.model = new SinginModel(\n            pipEntryCommon,\n            pipTransaction,\n            $rootScope,\n            $location,\n            $state,\n            $injector,\n            pipErrorPageConfigService,\n            pipAuthState,\n            pipEntry,\n            pipFormErrors,\n            pipNavService,\n            pipRest\n        );\n    }\n\n    public get transaction(): pip.services.Transaction {\n        return this.model.transaction;\n    }\n\n    public get hideObject(): any {\n        return this.model.hideObject;\n    }\n\n    public get showServerError(): any {\n        return this.model.showServerError;\n    }\n\n    public get config(): any {\n        return this.model.config;\n    }\n\n    public initModel($scope) {\n        this.model.init($scope);\n    }\n\n    public gotoSignup(gotoSignupPage: any, gotoSignupDialog: any) {\n        this.model.gotoSignup(gotoSignupPage, gotoSignupDialog);\n    }\n\n    public gotoRecoverPassword(gotoRecoverPasswordDialog: any) {\n        this.model.gotoRecoverPassword(gotoRecoverPasswordDialog);\n    }\n\n    public onSignin(rememberDefault: boolean) {\n        this.model.onSignin(rememberDefault);\n    }\n}\n\nangular.module('pipEntry.Signin')\n    .service('pipSigninViewModel', SigninViewModel);","/// <reference path=\"../../typings/tsd.d.ts\" />\nimport { IEntryService } from '../common/EntryService';\n\n\nexport class SignoutController {\n\n    constructor(\n        pipAuthState: pip.rest.IAuthStateService,\n        pipEntry: IEntryService\n    ) {\n        \"ngIngect\";\n\n       pipEntry.signout();\n        pipAuthState.goToUnauthorized({});\n    }\n}\n\nangular.module('pipEntry.Signout', []);\n\n\n\n\n\n","import { IEntryCommonService } from \"../common/IEntryCommonService\";\nimport { IEntryService } from \"../common/EntryService\";\n\n{\n    class SignupController {\n        constructor(\n            pipEntryCommon: IEntryCommonService,\n            pipEntry: IEntryService,\n            $state: ng.ui.IStateService,\n            pipAuthState: pip.rest.IAuthStateService\n        ) {\n            \"ngInject\";\n\n            pipEntryCommon.configureAppBar();\n\n            if (pipEntry.entryHideObject && pipEntry.entryHideObject.signup === true) {\n                $state.go(pipAuthState.signinState(), {});\n            }\n        }\n    }\n\n    const SignupConfig = ($stateProvider, pipAuthStateProvider) => {\n        $stateProvider\n            .state('signup', {\n                url: '/signup?name&login&server_url&redirect_to&language',\n                auth: false,\n                controller: SignupController,\n                controllerAs: '$ctrl',\n                templateUrl: 'signup/Signup.html'\n            })\n    }\n\n    angular\n        .module('pipEntry.Signup', [\n            'pipEntry.Common',\n            // 'pipEmailUnique',\n            'pipSignupPanel',\n            'pipPasswordMatch'\n        ])\n        .config(SignupConfig)\n}","import { IEntryService } from \"../common/EntryService\";\n\ninterface ISignupDialogService {\n    show(params: any, successCallback ? : () => void, cancelCallback ? : () => void): void;\n}\n\nclass SignupDialogService implements ISignupDialogService {\n\n    public constructor(private $mdDialog: angular.material.IDialogService) {}\n    public show(params: any, successCallback ? : () => void, cancelCallback ? : () => void) {\n        this.$mdDialog.show({\n                targetEvent: params.event,\n                templateUrl: 'signup/SignupDialog.html',\n                controller: SignupDialogController,\n                controllerAs: '$ctrl',\n                locals: {\n                    params: params\n                },\n                clickOutsideToClose: false\n            })\n            .then(() => {\n                if (successCallback) {\n                    successCallback();\n                }\n            }, () => {\n                if (cancelCallback) {\n                    cancelCallback();\n                }\n            });\n    }\n}\n\ninterface ISignupDialogController {\n    pipGotoSigninDialog: Function;\n    pipGotoPostSignupDialog: Function;\n}\n\nclass SignupDialogController implements ISignupDialogController {\n    public pipGotoSigninDialog: Function;\n    public pipGotoPostSignupDialog: Function;\n\n    constructor(\n        private pipSigninDialog,\n        private pipPostSignupDialog,\n        private pipEntry: IEntryService,\n    ) {\n        \"ngInject\";\n        \n        pipEntry.signout();\n        this.pipGotoSigninDialog = () => {\n            this.gotoSigninDialog();\n        }\n        this.pipGotoPostSignupDialog = (user) => {\n            this.gotoPostSignupDialog(user);\n        }\n    }\n\n    private gotoSigninDialog() {\n        this.pipSigninDialog.show({});\n    }\n\n    private gotoPostSignupDialog(user) {\n        this.pipPostSignupDialog.show({\n            $party: user\n        });\n    }\n}\n\n{\n\n    angular.module('pipEntry.SignupDialog', [\n            'pipEntry.Common',\n            \"pipSignupPanel\",\n            'pipEntry.SigninDialog',\n            'pipEntry.PostSignupDialog'\n        ])\n        .service('pipSignupDialog', SignupDialogService)\n}","import { EntryModel } from '../common/EntryModel';\nimport { IEntryService } from \"../common/EntryService\";\nimport { IEntryCommonService } from \"../common/IEntryCommonService\";\nimport { IEntryDataService } from '../data/IEntryDataService';\nimport { AuthSessionData } from '../common/EntryPageConfig';\nimport { SessionData } from '../data/SessionData';\nimport { EmailSettings } from '../data/EmailSettings';\n\nexport class SingupModel extends EntryModel {\n    private session: AuthSessionData;\n    private regestryVerifyEmailKey: string = 'verified_email';\n\n    constructor(\n        pipEntryCommon: IEntryCommonService,\n        pipTransaction: pip.services.ITransactionService,\n        private $rootScope: ng.IRootScopeService,\n        private $location: ng.ILocationService,\n        private $state: ng.ui.IStateService,\n        private $injector: ng.auto.IInjectorService,\n        private pipAuthState: pip.rest.IAuthStateService,\n        private pipFormErrors: pip.errors.IFormErrorsService,\n        private pipRest: pip.rest.IRestService,\n        private pipEntry: IEntryService,\n        private pipEntryData: IEntryDataService,\n        private pipTranslate: pip.services.ITranslateService\n    ) {\n        \"ngInject\";\n\n        super(pipEntryCommon);\n        this.transaction = pipTransaction.create('entry.signup');\n    }\n\n    public init($scope) {\n        this.initModel($scope);\n        this.setElementVisability();\n    }\n\n    private setElementVisability() {\n        this.hideObject.agreement = new Boolean(this.hideObject.agreement) == true;\n        this.hideObject.title = new Boolean(this.hideObject.title) == true;\n        this.hideObject.server = new Boolean(this.hideObject.server) == true;\n        this.hideObject.passwordConfirm = new Boolean(this.hideObject.passwordConfirm) == true;\n        this.hideObject.signin = new Boolean(this.hideObject.signin) == true;\n        this.hideObject.hint = new Boolean(this.hideObject.hint) == true;\n        this.hideObject.progress = new Boolean(this.hideObject.progress) == true;\n    }\n\n    public gotoSignin(gotoSigninPage: any, gotoSigninDialog: any) {\n        if (!gotoSigninPage && !gotoSigninDialog) {\n            this.$state.go(this.pipAuthState.signinState(), {});\n            return;\n        }\n        if (gotoSigninPage) {\n            this.$state.go(gotoSigninPage);\n            return;\n        }\n        if (gotoSigninDialog) {\n            gotoSigninDialog();\n            return;\n        }\n    }\n\n    public onSignup(gotoPostSignup: any) {\n        if (this.config.form.$invalid) {\n            this.pipFormErrors.resetFormErrors(this.config.form, true);\n            return;\n        }\n        const transactionId = this.transaction.begin('PROCESSING');\n        if (!transactionId) return;\n\n        if (!this.pipRest.lockServerUrl) {\n            this.pipRest.serverUrl = this.config.data.serverUrl;\n        }\n        // todo theme name take from parametr\n        this.pipRest.getResource('signup').call({\n            serverUrl: this.config.data.serverUrl,\n            name: this.config.data.name,\n            login: this.config.useEmailAsLogin ? this.config.data.email : this.config.data.login,\n            email: this.config.data.email,\n            password: this.config.data.password,\n            language: this.pipTranslate.language || 'en',\n            theme: 'default', // todo this.$rootScope['theme'] || 'blue' // pipTheme.theme || 'blue'\n            time_zone: null\n        },\n            (data: SessionData) => {\n                this.pipFormErrors.resetFormErrors(this.config.form, false);\n                if (this.transaction.aborted(transactionId)) return;\n\n                this.pipEntry.openSession(data);\n                this.transaction.end();\n\n                /*this.pipSettingsData.saveSettingsKey(\n                    this.pipEntry.getUserId(data),\n                    this.regestryVerifyEmailKey,\n                    false);*/\n                    this.pipEntryData.saveSettingsKey(\n                        this.pipEntry.getUserId(data),\n                        this.regestryVerifyEmailKey,\n                        false);\n                \n\n                if (this.config.isPostSignup) {\n                    if (!gotoPostSignup) {\n                        this.pipAuthState.go('post_signup', {\n                            party_id: this.pipEntry.getUserId(data)\n                        });\n                    } else {\n                        gotoPostSignup(data);\n                    }\n                } else {\n                    this.pipRest.getResource('email_settings').get(\n                        {\n                            user_id: data.user.id\n                        },\n                        (setting: EmailSettings) => {\n                            if (setting && setting.verified && setting.email == data.user.login) {\n                                this.pipAuthState.goToAuthorized({});\n                            } else {\n                                this.pipAuthState.go('verify_email', {\n                                    email: data.user.login || data.user['email'], serverUrl: this.pipRest.serverUrl \n                                });\n                            }\n                            this.transaction.end();\n                        }, \n                        (error: any) => {\n                            this.pipFormErrors.resetFormErrors(this.config.form, true);\n                            this.pipFormErrors.setFormError(\n                                this.config.form, error, {\n                                    'WRONG_LOGIN': 'signupLogin', // Account was not found\n                                    'NO_LOGIN': 'signupLogin', // Missing account login\n                                    'ALREADY_EXIST': 'signupLogin', // account is already exist\n                                    'WRONG_PASSWORD': 'password', // Missing password\n                                    'NO_EMAIL': 'userEmail',\n                                    'NO_NAME': 'signupFullName',\n                                    'act_execute': 'form', // Unknown error\n                                    '-1': 'form' // server not response\n                                }\n                            );\n                            this.transaction.end(error);\n                        });\n\n\n                }\n            },\n            (error: any) => {\n                // todo error by login\n                this.pipFormErrors.resetFormErrors(this.config.form, true);\n                this.pipFormErrors.setFormError(\n                    this.config.form, error, {\n                        'WRONG_LOGIN': 'signupLogin', // Account was not found\n                        'NO_LOGIN': 'signupLogin', // Missing account login\n                        'ALREADY_EXIST': 'signupLogin', // account is already exist\n                        'WRONG_PASSWORD': 'password', // Missing password\n                        'NO_EMAIL': 'userEmail',\n                        'NO_NAME': 'signupFullName',\n                        'act_execute': 'form', // Unknown error\n                        '-1': 'form' // server not response\n                    }\n                );\n                this.transaction.end(error);\n            }\n        );\n    };\n}","import { EntryPageConfig } from '../common/EntryPageConfig';\nimport { IEntryCommonService } from '../common/IEntryCommonService';\nimport { SignupViewModel } from './SignupViewModel';\nimport { IEntryDataService } from '../data/IEntryDataService';\n\n{\n    class SignupPanelController {\n        public gotoSigninPage: any;\n        public gotoSigninDialog: any;\n        public gotoPostSignup: any;\n        public touchedErrorsWithHint: Function;\n        public isQuery: boolean = false;\n        public error: string;\n\n        constructor(\n            private $scope: ng.IScope,\n            public pipMedia: pip.layouts.IMediaService,\n            public pipFormErrors: pip.errors.IFormErrorsService,\n            public pipEntryData: IEntryDataService,\n            private pipRest: pip.rest.IRestService,\n            private pipSignupViewModel: SignupViewModel\n        ) {\n            \"ngInject\";\n\n            this.pipSignupViewModel.initModel(this.$scope);\n            this.touchedErrorsWithHint = pipFormErrors.touchedErrorsWithHint;\n        }\n\n        public $postLink() {\n            this.config.form = this.$scope.form;\n        }\n\n        public get config(): any {\n            return this.pipSignupViewModel.config;\n        }\n\n        public get transaction(): any {\n            return this.pipSignupViewModel.transaction;\n        }\n\n        public get showServerError(): any {\n            return this.pipSignupViewModel.showServerError;\n        }\n\n        public get hideObject(): any {\n            return this.pipSignupViewModel.hideObject;\n        }\n\n        public gotoSignin() {\n            this.pipSignupViewModel.gotoSignin(this.gotoSigninPage, this.gotoSigninDialog);\n        }\n\n        public onSignup() {\n            this.pipSignupViewModel.onSignup(this.gotoPostSignup);\n        }\n\n        public onEnter(event: any) {\n            if (event.keyCode === 13) {\n                this.onSignup();\n            }\n        }\n\n        public onChangeEmail(field: string) {\n            if (!this.config.data.email) { return }\n            if (this.isQuery) return;\n            this.error = null;\n            \n            this.isQuery = true;\n            this.pipEntryData.signupValidate(this.config.data.email,\n                (data) => {\n                    if (this.config.form && this.config.form[field]) {\n                        this.config.form[field].$setValidity('emailUnique', true);\n                    }\n                    this.isQuery = false;\n                },\n                (err) => {\n                    if (err && err.status == 400 && err.data && err.data.code == 'LOGIN_ALREADY_USED') {\n                        if (this.config.form && this.config.form[field]) {\n                            this.config.form[field].$setValidity('emailUnique', false);\n                        }\n                    } else {\n                        let code: string = err.code || (err.data || {}).code || null;\n                        if (!code && err.status) code = err.status;\n\n                        if (code == '-1') {\n                            this.error = 'ERROR_' + code;\n\n\n                        } else {\n                            // if undefined error for this form or code === undefined/null, go to unhandled error page\n                            if (err.data && err.data.message) {\n                                this.error = err.data.message;\n                            } else if (err.message) {\n                                this.error = err.message;\n                            } else if (err.name) {\n                                this.error = err.name;\n                            } else this.error = err;\n                        }\n                    }\n\n                    this.isQuery = false;\n                });\n        }\n\n        public onServerUrlChanged() {\n            this.error = null;\n            this.config.onServerUrlChanged(this.config.form, this.config.selected.searchURLs);\n        }\n    \n        public onChanged() {\n            this.pipFormErrors.resetFormErrors(this.config.form, false);\n            this.pipFormErrors.resetFieldsErrors(this.config.form, null);\n            this.pipRest.serverUrl = this.config.selected.searchURLs;\n            this.config.data.serverUrl = this.config.selected.searchURLs;\n        }\n        public isError(error: any): boolean {\n            return error.required || error.email || error.emailUnique || error.ERROR_WRONG_LOGIN || error.ERROR_NO_LOGIN\n        }\n    }\n\n    interface ISignupPanelBindings {\n        [key: string]: any;\n\n        gotoPostSignup: any;\n        gotoSigninPage: any;\n        gotoSigninDialog: any;\n    }\n\n    const SignupPanelBindings: ISignupPanelBindings = {\n        gotoPostSignup: '=pipPostSignup',\n        gotoSigninPage: '=pipGotoSigninPage',\n        gotoSigninDialog: '=pipGotoSigninDialog',\n    }\n\n    class SignupPanelBindingsChanges implements ng.IOnChangesObject, ISignupPanelBindings {\n        [key: string]: ng.IChangesObject<any>;\n\n        gotoPostSignup: ng.IChangesObject<boolean>;\n        gotoSigninPage: ng.IChangesObject<Function>;\n        gotoSigninDialog: ng.IChangesObject<boolean>;\n    }\n\n    const SignupPanel: ng.IComponentOptions = {\n        bindings: SignupPanelBindings,\n        controller: SignupPanelController,\n        templateUrl: 'signup/SignupPanel.html'\n    }\n\n    angular.module(\"pipSignupPanel\", ['pipFocused', 'pipEntry.Strings'])\n        .component('pipSignupPanel', SignupPanel);\n}","import { SingupModel } from './SignupModel';\nimport { IEntryDataService } from '../data/IEntryDataService';\nimport { IEntryCommonService } from \"../common/IEntryCommonService\";\nimport { IEntryService } from \"../common/EntryService\";\n\nexport class SignupViewModel {\n    public model: SingupModel;\n\n    constructor(\n        pipEntryCommon: IEntryCommonService,\n        pipTransaction: pip.services.ITransactionService,\n        $rootScope: ng.IRootScopeService,\n        $location: ng.ILocationService,\n        $state: ng.ui.IStateService,\n        $injector: ng.auto.IInjectorService,\n        pipAuthState: pip.rest.IAuthStateService,\n        pipFormErrors: pip.errors.IFormErrorsService,\n        pipRest: pip.rest.IRestService,\n        pipEntry: IEntryService,\n        pipEntryData: IEntryDataService,\n        pipTranslate: pip.services.ITranslateService\n    ) {\n        \"ngInject\";\n\n        this.model = new SingupModel(pipEntryCommon, pipTransaction, $rootScope, $location, $state, $injector,\n            pipAuthState, pipFormErrors, pipRest, pipEntry, pipEntryData, pipTranslate);\n    }\n\n    public get transaction(): pip.services.Transaction {\n        return this.model.transaction;\n    }\n\n    public get hideObject(): any {\n        return this.model.hideObject;\n    }\n\n    public get showServerError(): any {\n        return this.model.showServerError;\n    }\n\n    public get config(): any {\n        return this.model.config;\n    }\n\n    public initModel($scope) {\n        this.model.init($scope);\n    }\n\n    public gotoSignin(gotoSigninPage: any, gotoSigninDialog: any) {\n        this.model.gotoSignin(gotoSigninPage, gotoSigninDialog);  \n    }\n\n    public onSignup(gotoPostSignup: any) {\n        this.model.onSignup(gotoPostSignup);\n    }\n}\n\nangular.module('pipEntry.Signup')\n    .service('pipSignupViewModel', SignupViewModel);","import { IEntryCommonService } from '../common/IEntryCommonService';\nimport { VerifyEmailViewModel } from './VerifyEmailViewModel';\nimport { EntryPageConfig } from '../common/EntryPageConfig';\n\nexport class VerifyEmailController {\n    public showServerError: boolean;\n    public touchedErrorsWithHint: Function;\n    public form: any;\n    public data: any;\n    public error: any;\n    public serverUrl: string;\n    public email: string;\n    public showValidateProgress: boolean;\n\n    constructor(\n        private $scope: ng.IScope,\n        private $window: ng.IWindowService,\n        private pipFormErrors: pip.errors.IFormErrorsService,\n        private pipVerifyEmailViewModel: VerifyEmailViewModel,\n        private pipIdentity: pip.services.IIdentityService,\n        private $timeout: ng.ITimeoutService\n    ) {\n        \"ngInject\";\n\n        pipVerifyEmailViewModel.initModel(this.$scope);\n        this.touchedErrorsWithHint = pipFormErrors.touchedErrorsWithHint;\n\n        // postlink hak\n        $timeout(() => {\n            this.config.form = this.$scope.form;\n            if (this.config.data.code && this.config.data.email) {\n                this.showValidateProgress = true;\n                this.pipVerifyEmailViewModel.onVerify(\n                    (data: any) => {\n                        this.pipVerifyEmailViewModel.onContinue();\n                    },\n                    (error: any) => {\n                        this.showValidateProgress = false;\n                    }\n                );\n            } else {\n                this.showValidateProgress = false;\n            }\n        }, 0)\n    }\n\n    public goBack(): void {\n        // this.$window.history.back();\n        this.pipVerifyEmailViewModel.onCancel();\n    }\n\n    public get config(): EntryPageConfig {\n        return this.pipVerifyEmailViewModel.config;\n    }\n\n    public get transaction(): any {\n        return this.pipVerifyEmailViewModel.transaction;\n    }\n\n    public onVerify() {\n        this.pipVerifyEmailViewModel.onVerify();\n    }\n\n    public onRecover() {\n        this.pipVerifyEmailViewModel.onRecover();\n    }\n}\n\nexport class VerifyEmailSuccessController {\n    constructor(\n        $scope: ng.IScope,\n        private pipVerifyEmailViewModel: VerifyEmailViewModel\n    ) {\n        pipVerifyEmailViewModel.initModel($scope);\n    }\n\n    public onContinue() {\n        this.pipVerifyEmailViewModel.onContinue();\n    }\n}\n\nangular.module('pipEntry.VerifyEmail', []);","import { EntryModel } from '../common/EntryModel';\nimport { IEntryCommonService } from \"../common/IEntryCommonService\";\nimport { IEntryDataService } from '../data/IEntryDataService';\nimport { IEntryService } from \"../common/EntryService\";\n\nexport class VerifyEmailModel extends EntryModel {\n    private regestryVerifyEmailKey: string = 'verified_email';\n\n    constructor(\n        pipEntryCommon: IEntryCommonService,\n        pipTransaction: pip.services.ITransactionService,\n        private $rootScope: ng.IRootScopeService,\n        private $location: ng.ILocationService,\n        private $state: ng.ui.IStateService,\n        private $injector: ng.auto.IInjectorService,\n        private pipAuthState: pip.rest.IAuthStateService,\n        private pipFormErrors: pip.errors.IFormErrorsService,\n        private pipRest: pip.rest.IRestService,\n        private pipEntryData: IEntryDataService,\n        private pipIdentity: pip.services.IIdentityService,\n        private pipEntry: IEntryService\n    ) {\n        \"ngInject\";\n\n        super(pipEntryCommon);\n        this.transaction = pipTransaction.create('entry.verify_email');\n    }\n\n    public init($scope) {\n        this.initModel($scope);\n        this.setElementVisability();\n        this.pipEntryCommon.configureAppBar();\n    }\n\n    private setElementVisability() {\n        this.hideObject.remember = new Boolean(this.hideObject.remember) == true;\n        this.hideObject.title = new Boolean(this.hideObject.title) == true;\n        this.hideObject.server = new Boolean(this.hideObject.server) == true;\n        this.hideObject.forgotPassword = new Boolean(this.hideObject.forgotPassword) == true;\n        this.hideObject.signup = new Boolean(this.hideObject.signup) == true;\n        this.hideObject.hint = new Boolean(this.hideObject.hint) == true;\n        this.hideObject.progress = new Boolean(this.hideObject.progress) == true;\n    }\n\n    public onVerify(successCallback?: (data: any) => void, errorCallback?: (error: any) => void) {\n        if (this.config.form.$invalid) {\n            this.pipFormErrors.resetFormErrors(this.config.form, true);\n            return;\n        }\n\n        var transactionId = this.transaction.begin('PROCESSING');\n        if (!transactionId) return;\n\n        if (!this.pipRest.lockServerUrl) {\n            this.pipRest.serverUrl = this.config.data.serverUrl;\n        }\n\n        this.pipEntryData.verifyEmail({\n            login: this.config.data.login,\n            email: this.config.data.email || this.config.data.login,\n            code: this.config.data.code\n        },\n            (data) => {\n                this.pipFormErrors.resetFormErrors(this.config.form, false);\n                if (this.transaction.aborted(transactionId)) return;\n\n                let userId = this.pipEntryData.getUserId();\n                if (successCallback) successCallback(data);\n\n                this.transaction.end();\n                this.pipEntryData.saveSettingsKey(\n                    userId,\n                    this.regestryVerifyEmailKey,\n                    true,\n                    (data) => {\n                        let identity: any = this.pipIdentity.identity;\n                        if (identity && identity.user) {\n                            if (!identity.user.settings) identity.user.settings = {};\n\n                            identity.user.settings[this.regestryVerifyEmailKey] = \"true\";\n                            this.pipIdentity.identity = identity;\n                        }\n                        this.onContinue();\n                    },\n                (error: any) => {\n                    this.transaction.end(error)\n                });\n\n            },\n            (error) => {\n                this.transaction.end(error);\n                this.pipFormErrors.resetFormErrors(this.config.form, true);\n                this.pipFormErrors.setFormError(\n                    this.config.form, error, {\n                        'WRONG_LOGIN_EMAIL': 'login', // Account was not found\n                        'NO_LOGIN_EMAIL': 'login', // Missing account login\n                        'NO_EMAIL': 'login', // Missing account login\n                        'INVALID_CODE': 'code', // Invalid password recovery code\n                        'act_execute': 'form', // Unknown error\n                        '-1': 'form' // server not response\n                    }\n                );\n                if (errorCallback) errorCallback(error);\n            }\n        );\n    }\n\n    public onRecover() {\n        if (!this.config.data.login) {\n\n            return;\n        }\n\n        const tid = this.transaction.begin('PROCESSING');\n        if (!tid) return;\n\n        this.pipEntryData.requestEmailVerification({\n            login: this.config.data.login\n        },\n            (data) => {\n                if (this.transaction.aborted(tid)) return;\n                this.config.data.code = null\n                this.transaction.end();\n            },\n            (error) => {\n                this.transaction.end(error);\n            }\n        );\n    }\n// todo \n    public onContinue() {\n        if (this.pipAuthState.params.redirect_to) {\n            this.$location.url(this.pipAuthState.params.redirect_to);\n        } else {\n            this.pipAuthState.goToAuthorized(this.config && this.config.data ? this.config.data : {});\n        }\n    }\n\n    public onCancel() {\n        this.pipEntry.signout();\n        this.pipAuthState.goToUnauthorized({});\n    }\n}","(function(module) {\ntry {\n  module = angular.module('pipEntry.Templates');\n} catch (e) {\n  module = angular.module('pipEntry.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('change_password/ChangePassword.html',\n    '<div class=\"pip-card-container pip-outer-scroll pip-entry\"><pip-card width=\"400\"><pip-change-password-panel class=\"scroll-y\"></pip-change-password-panel><div class=\"pip-footer\"><md-button ng-hide=\"$ctrl.transaction.busy()\" ng-click=\"$ctrl.goBack()\" class=\"rm8\" aria-label=\"CANCEL\">{{ ::\\'CANCEL\\' | translate }}</md-button><md-button ng-hide=\"$ctrl.transaction.busy()\" ng-click=\"$ctrl.onChange()\" aria-label=\"ENTRY_CHANGE_PASSWORD\" ng-disabled=\"($ctrl.config.form.$pristine && !$ctrl.config.data.login) || $ctrl.config.data.serverUrl.length == 0 || $ctrl.config.data.login.length == 0 || $ctrl.config.data.code.length == 0 || $ctrl.config.data.password.length < 6\" class=\"md-accent\" type=\"submit\">{{ ::\\'ENTRY_CHANGE_PASSWORD\\' | translate }}</md-button><md-button class=\"md-warn\" ng-show=\"$ctrl.transaction.busy()\" ng-click=\"$ctrl.transaction.abort()\" aria-label=\"ABORT\">{{ ::\\'CANCEL\\' | translate }}</md-button></div></pip-card></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipEntry.Templates');\n} catch (e) {\n  module = angular.module('pipEntry.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('change_password/ChangePasswordDialog.html',\n    '<md-dialog class=\"pip-entry lp0 rp0\"><md-dialog-content><pip-change-password-panel></pip-change-password-panel></md-dialog-content><md-dialog-actions class=\"layout-row layout-align-end-center\"><md-button ng-hide=\"$ctrl.transaction.busy()\" ng-click=\"$ctrl.goBack()\" class=\"rm8\" aria-label=\"CANCEL\">{{ ::\\'CANCEL\\' | translate }}</md-button><md-button ng-hide=\"$ctrl.transaction.busy()\" ng-click=\"$ctrl.onChange()\" aria-label=\"ENTRY_CHANGE_PASSWORD\" ng-disabled=\"($ctrl.config.form.$pristine && !$ctrl.config.data.login) || $ctrl.config.data.serverUrl.length == 0 || $ctrl.config.data.login.length == 0 || $ctrl.config.data.code.length == 0 || $ctrl.config.data.password.length < 6\" class=\"md-accent\" type=\"submit\">{{ ::\\'ENTRY_CHANGE_PASSWORD\\' | translate }}</md-button><md-button class=\"md-warn\" ng-show=\"$ctrl.transaction.busy()\" ng-click=\"$ctrl.transaction.abort()\" aria-label=\"ABORT\">{{ ::\\'CANCEL\\' | translate }}</md-button></md-dialog-actions></md-dialog>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipEntry.Templates');\n} catch (e) {\n  module = angular.module('pipEntry.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('change_password/ChangePasswordPanel.html',\n    '<div class=\"pip-body\"><div class=\"pip-content\"><md-progress-linear ng-show=\"$ctrl.transaction.busy() && $ctrl.showServerError && !$ctrl.hideObject.progress\" md-mode=\"indeterminate\" class=\"pip-progress-top\"></md-progress-linear><h2 ng-if=\"!$ctrl.hideObject.changePwdTitle\">{{::\\'CHANGE_PWD_PASSWORD\\' | translate}}</h2><p class=\"title-padding bm16\" ng-if=\"!$ctrl.hideObject.changePwdSubTitle\">{{::\\'CHANGE_PWD_TEXT\\' | translate}}</p><form name=\"form\" novalidate=\"\" autocomplete=\"off\"><input name=\"password\" style=\"display:none\"> <input name=\"passwordNew\" style=\"display:none\"><div ng-messages=\"$ctrl.config.form.$serverError\" class=\"text-error bm8 color-error\" md-auto-hide=\"false\"><div ng-message=\"ERROR_act_execute\">{{ ::\\'ERROR_ACT_EXECUTE\\' | translate }}</div><div ng-message=\"ERROR_-1\">{{ ::\\'ERROR_SERVER\\' | translate }}</div><div ng-message=\"ERROR_UNKNOWN\">{{ \\'ERROR_UNKNOWN\\' | translate }}</div></div><div ng-show=\"$ctrl.config.showServerUrl && !$ctrl.hideObject.server\" class=\"bp8\"><md-autocomplete ng-initial=\"\" autofocus=\"\" tabindex=\"1\" class=\"pip-combobox w-stretch bm8\" name=\"server\" ng-enabled=\"!$ctrl.transaction.busy()\" placeholder=\"{{::\\'ENTRY_SERVER_URL\\' | translate}}\" md-no-cache=\"true\" md-selected-item=\"$ctrl.config.data.serverUrl\" md-search-text=\"$ctrl.config.selected.searchURLs\" md-items=\"item in $ctrl.config.getMatches($ctrl.config.selected.searchURLs)\" md-item-text=\"item\" md-selected-item-change=\"$ctrl.onServerUrlChanged()\" md-search-text-change=\"$ctrl.onChanged()\" md-delay=\"200\" ng-model=\"$ctrl.config.data.serverUrl\" pip-clear-errors=\"\"><span md-highlight-text=\"$ctrl.config.selected.searchURLs\">{{ item }}</span></md-autocomplete></div><md-input-container class=\"pip-no-hint\" style=\"padding-bottom: 4px!important;\"><label>{{::\\'OLD_PASSWORD\\' | translate}}</label> <input name=\"password\" ng-disabled=\"$ctrl.transaction.busy()\" xxxpip-clear-errors=\"\" type=\"password\" tabindex=\"4\" ng-model=\"$ctrl.config.data.password\" required=\"\" minlength=\"6\" ng-change=\"$ctrl.onChangePassword()\" pip-compare-old-password=\"\" compare-to=\"$ctrl.config.data.passwordNew\"><div class=\"hint\" ng-if=\"$ctrl.touchedErrorsWithHint($ctrl.config.form, $ctrl.config.form.password, true).hint && !$ctrl.hideObject.hint\">{{::\\'HINT_PASSWORD\\' | translate}}</div><div ng-messages=\"$ctrl.touchedErrorsWithHint($ctrl.config.form, $ctrl.config.form.password, true)\" class=\"md-input-error\" md-auto-hide=\"false\"><div ng-message=\"required\">{{::\\'MINLENGTH_PASSWORD\\' | translate}}</div><div ng-message=\"minlength\">{{::\\'MINLENGTH_PASSWORD\\' | translate}}</div><div ng-message=\"ERROR_WRONG_PASSWORD\">{{::\\'ERROR_WRONG_PASSWORD\\' | translate}}</div><div ng-message=\"ERROR_compareTo\">{{::\\'PASSWORD_IDENTICAL\\' | translate}}</div></div></md-input-container><md-input-container class=\"display bp4\"><label>{{::\\'NEW_PASSWORD_SET\\' | translate}}</label> <input name=\"passwordNew\" ng-disabled=\"$ctrl.transaction.busy()\" xxxpip-clear-errors=\"\" type=\"password\" tabindex=\"4\" ng-model=\"$ctrl.config.data.passwordNew\" ng-change=\"$ctrl.onChangePasswordNew()\" required=\"\" minlength=\"6\" ng-keypress=\"$ctrl.onEnter($event)\" pip-test=\"input-password\" autocomplete=\"off\" pip-compare-new-password=\"\" compare-to1=\"$ctrl.config.data.password\"><div class=\"hint\" ng-if=\"$ctrl.touchedErrorsWithHint($ctrl.config.form, $ctrl.config.form.passwordNew, true).hint && !$ctrl.hideObject.hint\">{{::\\'HINT_PASSWORD\\' | translate}}</div><div ng-messages=\"$ctrl.touchedErrorsWithHint($ctrl.config.form, $ctrl.config.form.passwordNew, true)\" md-auto-hide=\"false\"><div ng-message=\"required\">{{::\\'HINT_PASSWORD\\' | translate}}</div><div ng-message=\"minlength\">{{::\\'HINT_PASSWORD\\' | translate}}</div><div ng-message=\"ERROR_compareTo\">{{::\\'PASSWORD_IDENTICAL\\' | translate}}</div><div ng-message=\"ERROR_WRONG_PASSWORD\" xxxng-if=\"!$ctrl.config.form.passwordNew.$pristine\">{{::\\'ERROR_WRONG_PASSWORD\\' | translate}}</div></div></md-input-container><md-input-container class=\"display bp4\" ng-if=\"!$ctrl.hideObject.passwordConfirm\"><label>{{::\\'NEW_PASSWORD_CONFIRM\\' | translate}}</label> <input name=\"passwordConfirm\" type=\"password\" tabindex=\"4\" required=\"\" minlength=\"6\" ng-model=\"$ctrl.confirmPassword\" ng-disabled=\"$ctrl.transaction.busy()\" xxpip-clear-errors=\"\" ng-change=\"$ctrl.onChangePasswordConfirm()\" pip-compare-password-match=\"\" compare-to2=\"$ctrl.config.data.passwordNew\" ng-keypress=\"$ctrl.onEnter($event)\" pip-test=\"input-password\"><div class=\"hint\" ng-if=\"$ctrl.touchedErrorsWithHint($ctrl.config.form, $ctrl.config.form.passwordConfirm, true).hint && !$ctrl.hideObject.hint\">{{::\\'HINT_PASSWORD\\' | translate}}</div><div ng-messages=\"$ctrl.touchedErrorsWithHint($ctrl.config.form, $ctrl.config.form.passwordConfirm, true)\" md-auto-hide=\"false\"><div ng-message=\"required\">{{::\\'HINT_PASSWORD\\' | translate}}</div><div ng-message=\"minlength\">{{::\\'HINT_PASSWORD\\' | translate}}</div><div ng-message=\"ERROR_compareTo\">{{::\\'PASSWORD_MATCH\\' | translate}}</div></div></md-input-container></form></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipEntry.Templates');\n} catch (e) {\n  module = angular.module('pipEntry.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('expire_change_password/ExpireChangePassword.html',\n    '<div class=\"pip-card-container pip-outer-scroll pip-entry\"><pip-card width=\"400\"><pip-expire-change-password-panel class=\"scroll-y\"></pip-expire-change-password-panel><div class=\"pip-footer\"><md-button ng-hide=\"$ctrl.transaction.busy()\" ng-click=\"$ctrl.goBack()\" class=\"rm8\" aria-label=\"CANCEL\">{{ ::\\'CANCEL\\' | translate }}</md-button><md-button ng-hide=\"$ctrl.transaction.busy()\" ng-click=\"$ctrl.onChange()\" aria-label=\"ENTRY_EXPIRE_CHANGE_PASSWORD\" ng-disabled=\"($ctrl.config.form.$pristine && !$ctrl.config.data.login) || $ctrl.config.data.serverUrl.length == 0 || $ctrl.config.data.login.length == 0 || $ctrl.config.data.code.length == 0 || $ctrl.config.data.password.length < 6\" class=\"md-accent\" type=\"submit\">{{ ::\\'ENTRY_EXPIRE_CHANGE_PASSWORD\\' | translate }}</md-button><md-button class=\"md-warn\" ng-show=\"$ctrl.transaction.busy()\" ng-click=\"$ctrl.transaction.abort()\" aria-label=\"ABORT\">{{ ::\\'CANCEL\\' | translate }}</md-button></div></pip-card></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipEntry.Templates');\n} catch (e) {\n  module = angular.module('pipEntry.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('expire_change_password/ExpireChangePasswordDialog.html',\n    '<md-dialog class=\"pip-entry lp0 rp0\"><md-dialog-content><pip-expire-change-password-panel></pip-expire-change-password-panel></md-dialog-content><md-dialog-actions class=\"layout-row layout-align-end-center\"><md-button ng-hide=\"$ctrl.transaction.busy()\" ng-click=\"$ctrl.goBack()\" class=\"rm8\" aria-label=\"CANCEL\">{{ ::\\'CANCEL\\' | translate }}</md-button><md-button ng-hide=\"$ctrl.transaction.busy()\" ng-click=\"$ctrl.onChange()\" aria-label=\"ENTRY_EXPIRE_CHANGE_PASSWORD\" ng-disabled=\"($ctrl.config.form.$pristine && !$ctrl.config.data.login) || $ctrl.config.data.serverUrl.length == 0 || $ctrl.config.data.login.length == 0 || $ctrl.config.data.code.length == 0 || $ctrl.config.data.password.length < 6\" class=\"md-accent\" type=\"submit\">{{ ::\\'ENTRY_EXPIRE_CHANGE_PASSWORD\\' | translate }}</md-button><md-button class=\"md-warn\" ng-show=\"$ctrl.transaction.busy()\" ng-click=\"$ctrl.transaction.abort()\" aria-label=\"ABORT\">{{ ::\\'CANCEL\\' | translate }}</md-button></md-dialog-actions></md-dialog>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipEntry.Templates');\n} catch (e) {\n  module = angular.module('pipEntry.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('expire_change_password/ExpireChangePasswordPanel.html',\n    '<div class=\"pip-body\"><div class=\"pip-content\"><md-progress-linear ng-show=\"$ctrl.transaction.busy() && $ctrl.showServerError && !$ctrl.hideObject.progress\" md-mode=\"indeterminate\" class=\"pip-progress-top\"></md-progress-linear><h2 ng-if=\"!$ctrl.hideObject.changePwdTitle\">{{::\\'EXPIRE_CHANGE_PWD_PASSWORD\\' | translate}}</h2><p class=\"title-padding bm16\" ng-if=\"!$ctrl.hideObject.changePwdSubTitle\">{{::\\'EXPIRE_CHANGE_PWD_TEXT\\' | translate}}</p><form name=\"form\" novalidate=\"\" autocomplete=\"off\"><div ng-messages=\"$ctrl.config.form.$serverError\" class=\"text-error bm8 color-error\" md-auto-hide=\"false\"><div ng-message=\"ERROR_act_execute\">{{::\\'ERROR_ACT_EXECUTE\\' | translate}}</div><div ng-message=\"ERROR_-1\">{{::\\'ERROR_SERVER\\' | translate}}</div><div ng-message=\"ERROR_UNKNOWN\">{{ $ctrl.config.form.$serverError.ERROR_UNKNOWN | translate }}</div></div><div class=\"bp16\"><a ng-hide=\"$ctrl.config.showServerUrl || $ctrl.config.fixedServerUrl || $ctrl.hideObject.server\" ng-click=\"$ctrl.config.showServerUrl = true\" href=\"\">{{::\\'ENTRY_CHANGE_SERVER\\' | translate}}</a></div><div ng-show=\"$ctrl.config.showServerUrl && !$ctrl.hideObject.server\" class=\"bp8\"><md-autocomplete ng-initial=\"\" autofocus=\"\" tabindex=\"1\" class=\"pip-combobox w-stretch bm8\" name=\"server\" ng-enabled=\"!$ctrl.transaction.busy()\" placeholder=\"{{::\\'ENTRY_SERVER_URL\\' | translate}}\" md-no-cache=\"true\" md-selected-item=\"$ctrl.config.data.serverUrl\" md-search-text=\"$ctrl.config.selected.searchURLs\" md-items=\"item in $ctrl.config.getMatches($ctrl.config.selected.searchURLs)\" md-item-text=\"item\" md-selected-item-change=\"$ctrl.onServerUrlChanged()\" md-search-text-change=\"$ctrl.onChanged()\" md-delay=\"200\" ng-model=\"$ctrl.config.data.serverUrl\" pip-clear-errors=\"\"><span md-highlight-text=\"$ctrl.config.selected.searchURLs\">{{ item }}</span></md-autocomplete></div><md-input-container class=\"pip-no-hint\" style=\"padding-bottom: 4px!important;\"><label>{{::\\'OLD_PASSWORD\\' | translate}}</label> <input name=\"password\" ng-disabled=\"$ctrl.transaction.busy()\" pip-clear-errors=\"\" type=\"password\" tabindex=\"4\" ng-model=\"$ctrl.config.data.password\" required=\"\" minlength=\"6\"><div class=\"hint\" ng-if=\"$ctrl.touchedErrorsWithHint($ctrl.config.form, $ctrl.config.form.password).hint && !$ctrl.hideObject.hint\">{{::\\'HINT_PASSWORD\\' | translate}}</div><div ng-messages=\"$ctrl.touchedErrorsWithHint($ctrl.config.form, $ctrl.config.form.password)\" class=\"md-input-error\" md-auto-hide=\"false\"><div ng-message=\"required\">{{::\\'MINLENGTH_PASSWORD\\' | translate}}</div><div ng-message=\"minlength\">{{::\\'MINLENGTH_PASSWORD\\' | translate}}</div><div ng-message=\"ERROR_WRONG_PASSWORD\">{{::\\'ERROR_WRONG_PASSWORD\\' | translate}}</div></div></md-input-container><md-input-container class=\"display bp4\"><label>{{::\\'NEW_PASSWORD_SET\\' | translate}}</label> <input name=\"passwordNew\" ng-disabled=\"$ctrl.transaction.busy()\" pip-clear-errors=\"\" type=\"password\" tabindex=\"4\" ng-model=\"$ctrl.config.data.passwordNew\" required=\"\" minlength=\"6\" ng-keypress=\"$ctrl.onEnter($event)\" pip-test=\"input-password\"><div class=\"hint\" ng-if=\"$ctrl.touchedErrorsWithHint($ctrl.config.form, $ctrl.config.form.passwordNew).hint && !$ctrl.hideObject.hint\">{{::\\'HINT_PASSWORD\\' | translate}}</div><div ng-messages=\"$ctrl.touchedErrorsWithHint($ctrl.config.form, $ctrl.config.form.passwordNew)\" md-auto-hide=\"false\"><div ng-message=\"required\">{{::\\'HINT_PASSWORD\\' | translate}}</div><div ng-message=\"minlength\">{{::\\'HINT_PASSWORD\\' | translate}}</div><div ng-message=\"ERROR_WRONG_PASSWORD\" xxxng-if=\"!$ctrl.config.form.passwordNew.$pristine\">{{::\\'ERROR_WRONG_PASSWORD\\' | translate}}</div></div></md-input-container><md-input-container class=\"display bp4\" ng-if=\"!$ctrl.hideObject.passwordConfirm\"><label>{{::\\'NEW_PASSWORD_CONFIRM\\' | translate}}</label> <input name=\"passwordConfirm\" type=\"password\" tabindex=\"4\" required=\"\" minlength=\"6\" ng-model=\"$ctrl.confirmPassword\" ng-disabled=\"$ctrl.transaction.busy()\" pip-clear-errors=\"\" pip-compare-password-match=\"\" compare-to2=\"$ctrl.config.data.passwordNew\" ng-keypress=\"$ctrl.onEnter($event)\" pip-test=\"input-password\"><div class=\"hint\" ng-if=\"$ctrl.touchedErrorsWithHint($ctrl.config.form, $ctrl.config.form.passwordConfirm, true).hint && !$ctrl.hideObject.hint\">{{::\\'HINT_PASSWORD\\' | translate}}</div><div ng-messages=\"$ctrl.touchedErrorsWithHint($ctrl.config.form, $ctrl.config.form.passwordConfirm, true)\" md-auto-hide=\"false\"><div ng-message=\"ERROR_compareTo\">{{::\\'PASSWORD_MATCH\\' | translate}}</div><div ng-message=\"required\">{{::\\'HINT_PASSWORD\\' | translate}}</div><div ng-message=\"minlength\">{{::\\'HINT_PASSWORD\\' | translate}}</div></div></md-input-container></form></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipEntry.Templates');\n} catch (e) {\n  module = angular.module('pipEntry.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('post_signup/PostSignup.html',\n    '<div class=\"pip-card-container pip-outer-scroll pip-entry\"><pip-card width=\"400\"><pip-post-signup-panel pip-party=\"$ctrl.$party\"></pip-post-signup-panel><div class=\"pip-footer\"><md-button ng-hide=\"$ctrl.transaction.busy()\" class=\"md-accent\" type=\"submit\" ng-click=\"$ctrl.onPostSignupSubmit()\" aria-label=\"CONTINUE\">{{ ::\\'CONTINUE\\' | translate }}</md-button><md-button ng-show=\"$ctrl.transaction.busy()\" class=\"md-warn\" ng-click=\"$ctrl.transaction.abort()\" aria-label=\"ABORT\">{{ ::\\'CANCEL\\' | translate }}</md-button></div></pip-card></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipEntry.Templates');\n} catch (e) {\n  module = angular.module('pipEntry.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('post_signup/PostSignupDialog.html',\n    '<md-dialog class=\"pip-entry lp0 rp0\"><md-dialog-content><pip-post-signup-panel pip-party=\"$ctrl.$party\"></pip-post-signup-panel></md-dialog-content><md-dialog-actions class=\"layout-row layout-align-end-center\"><md-button ng-hide=\"$ctrl.transaction.busy()\" class=\"md-accent\" ng-click=\"$ctrl.onPostSignupSubmit()\" aria-label=\"CONTINUE\">{{ ::\\'CONTINUE\\' | translate }}</md-button><md-button ng-show=\"$ctrl.transaction.busy()\" class=\"md-warn\" ng-click=\"$ctrl.transaction.abort()\" aria-label=\"ABORT\">{{ ::\\'CANCEL\\' | translate }}</md-button></md-dialog-actions></md-dialog>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipEntry.Templates');\n} catch (e) {\n  module = angular.module('pipEntry.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('post_signup/PostSignupPanel.html',\n    '<div class=\"pip-body\"><div class=\"pip-content\"><md-progress-linear ng-show=\"$ctrl.transaction.busy() && !$ctrl.hideObject.progress\" md-mode=\"indeterminate\" class=\"pip-progress-top\"></md-progress-linear><h2 class=\"text-overflow\" ng-if=\"!$ctrl.hideObject.title\">{{ \\'POST_SIGNUP_TITLE\\' | translate }}</h2><p class=\"bm0 line-height-string\" ng-if=\"!$ctrl.hideObject.successTitle\">{{ \\'POST_SIGNUP_TEXT_1\\' | translate }}</p><p class=\"line-height-string m0\" ng-if=\"!$ctrl.hideObject.subTitle\">{{ \\'POST_SIGNUP_TEXT_2\\' | translate }}</p><form name=\"form\" novalidate=\"\"><div ng-messages=\"$ctrl.config.form.$serverError\" class=\"text-error bm8\" md-auto-hide=\"false\"><div ng-message=\"ERROR_1000\">{{::\\'ERROR_1000\\' | translate}}</div><div ng-message=\"ERROR_1110\">{{::\\'ERROR_1110\\' | translate}}</div><div ng-message=\"ERROR_1111\">{{::\\'ERROR_1111\\' | translate}}</div><div ng-message=\"ERROR_1112\">{{::\\'ERROR_1112\\' | translate}}</div><div ng-message=\"ERROR_1002\">{{::\\'ERROR_1002\\' | translate}}</div><div ng-message=\"ERROR_-1\">{{::\\'ERROR_SERVER\\' | translate}}</div><div ng-message=\"ERROR_UNKNOWN\">{{ $ctrl.config.form.$serverError.ERROR_UNKNOWN | translate }}</div></div><div class=\"pip-ref-item\"><pip-avatar-edit ng-disabled=\"$ctrl.transaction.busy()\" ng-if=\"$ctrl.config.enableAvatar\" pip-reset=\"false\" pip-party-id=\"$ctrl.config.data.id\" pip-created=\"$ctrl.onPictureCreated($event)\" pip-changed=\"$ctrl.onPictureChanged($control, $event)\" class=\"rm16 flex-fixed\"></pip-avatar-edit><div class=\"pip-content\"><p class=\"pip-title\">{{ $ctrl.config.data.name }}</p><p class=\"pip-subtitle\">{{ $ctrl.config.data.email }}</p></div></div><md-input-container class=\"pip-no-hint bp4\"><label>{{ \\'HINT_ABOUT\\' | translate }}</label> <textarea ng-model=\"$ctrl.config.data.about\" ng-initial=\"\" ng-disabled=\"$ctrl.transaction.busy()\" pip-clear-errors=\"\">\\n' +\n    '                        </textarea></md-input-container><div class=\"tm2\"><p class=\"text-caption bm0\">{{ \\'GENDER\\' | translate }}</p><md-select class=\"w-stretch tm0 tp0 bp8\" ng-disabled=\"$ctrl.transaction.busy()\" ng-model=\"$ctrl.config.data.gender\" label=\"{{\\'GENDER\\' | translate}}\" ng-change=\"$ctrl.onStatusChange($ctrl.config.data)\" pip-clear-errors=\"\"><md-option ng-value=\"opt.id\" ng-repeat=\"opt in $ctrl.genders track by opt.id\">{{ opt.name }}</md-option></md-select></div><div class=\"tm2\"><p class=\"text-caption bm0\">{{ ::\\'BIRTHDAY\\' | translate }}</p><pip-date ng-disabled=\"$ctrl.transaction.busy()\" ng-model=\"$ctrl.config.data.birthday\" pip-time-mode=\"past\" pip-clear-errors=\"\" time-mode=\"past\"></pip-date></div><md-input-container><label>{{ ::\\'LANGUAGE\\' | translate }}</label><md-select class=\"w-stretch tm0 tp0 bp16\" ng-disabled=\"$ctrl.transaction.busy()\" ng-model=\"$ctrl.config.data.language\" ng-change=\"$ctrl.onStatusChange($ctrl.config.data)\" pip-clear-errors=\"\"><md-option ng-value=\"opt.id\" ng-repeat=\"opt in $ctrl.languages track by opt.id\">{{ opt.name }}</md-option></md-select></md-input-container></form></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipEntry.Templates');\n} catch (e) {\n  module = angular.module('pipEntry.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('reset_password/ResetPassword.html',\n    '<div class=\"pip-card-container pip-outer-scroll pip-entry\"><pip-card width=\"400\"><pip-reset-password-panel class=\"scroll-y\"></pip-reset-password-panel><div class=\"pip-footer\"><md-button ng-hide=\"$ctrl.transaction.busy()\" ng-click=\"$ctrl.goBack()\" class=\"rm8\" aria-label=\"CANCEL\">{{ ::\\'CANCEL\\' | translate }}</md-button><md-button ng-hide=\"$ctrl.transaction.busy()\" ng-click=\"$ctrl.onReset()\" aria-label=\"ENTRY_RESET_PASSWORD\" ng-disabled=\"($ctrl.config.form.$pristine && !$ctrl.config.data.login) || $ctrl.config.data.serverUrl.length == 0 || $ctrl.config.data.login.length == 0 || $ctrl.config.data.resetCode.length == 0 || $ctrl.config.data.password.length < 6\" class=\"md-accent\" type=\"submit\">{{ ::\\'ENTRY_RESET_PASSWORD\\' | translate }}</md-button><md-button class=\"md-warn\" ng-show=\"$ctrl.transaction.busy()\" ng-click=\"$ctrl.transaction.abort()\" aria-label=\"ABORT\">{{ ::\\'CANCEL\\' | translate }}</md-button></div></pip-card></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipEntry.Templates');\n} catch (e) {\n  module = angular.module('pipEntry.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('reset_password/ResetPasswordDialog.html',\n    '<md-dialog class=\"pip-entry lp0 rp0\"><md-dialog-content><pip-reset-password-panel></pip-reset-password-panel></md-dialog-content><md-dialog-actions class=\"layout-row layout-align-end-center\"><md-button ng-hide=\"$ctrl.transaction.busy()\" ng-click=\"$ctrl.onCancel()\" class=\"rm8\" aria-label=\"CANCEL\">{{ ::\\'CANCEL\\' | translate }}</md-button><md-button ng-hide=\"$ctrl.transaction.busy()\" ng-click=\"$ctrl.onReset()\" aria-label=\"ENTRY_RESET_PASSWORD\" ng-disabled=\"($ctrl.config.form.$pristine && !$ctrl.config.data.login) || $ctrl.config.data.serverUrl.length == 0 || $ctrl.config.data.login.length == 0 || $ctrl.config.data.resetCode.length == 0 || $ctrl.config.data.password.length < 6\" class=\"md-accent\" type=\"submit\">{{ ::\\'ENTRY_RESET_PASSWORD\\' | translate }}</md-button><md-button class=\"md-warn\" ng-show=\"$ctrl.transaction.busy()\" ng-click=\"$ctrl.transaction.abort()\" aria-label=\"ABORT\">{{ ::\\'CANCEL\\' | translate }}</md-button></md-dialog-actions></md-dialog>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipEntry.Templates');\n} catch (e) {\n  module = angular.module('pipEntry.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('reset_password/ResetPasswordPanel.html',\n    '<div class=\"pip-body\"><div class=\"pip-content\"><md-progress-linear ng-show=\"$ctrl.transaction.busy() && $ctrl.showServerError && !$ctrl.hideObject.progress\" md-mode=\"indeterminate\" class=\"pip-progress-top\"></md-progress-linear><h2 ng-if=\"!$ctrl.hideObject.title\">{{::\\'RESET_PWD_PASSWORD\\' | translate}}</h2><p class=\"title-padding bm16\" ng-if=\"!$ctrl.hideObject.resetSubTitle && !$ctrl.config.useEmailAsLogin\">{{::\\'RESET_PWD_TEXT_LOGIN\\' | translate}}</p><p class=\"title-padding bm16\" ng-if=\"!$ctrl.hideObject.resetSubTitle && $ctrl.config.useEmailAsLogin\">{{::\\'RESET_PWD_TEXT_EMAIL\\' | translate}}</p><form name=\"form\" novalidate=\"\" autocomplete=\"off\"><input name=\"code\" style=\"display:none\"> <input name=\"resetCode\" style=\"display:none\"> <input name=\"password\" style=\"display:none\"><div ng-messages=\"$ctrl.config.form.$serverError\" class=\"text-error bm8 color-error\" md-auto-hide=\"false\"><div ng-message=\"ERROR_act_execute\">{{::\\'ERROR_ACT_EXECUTE\\' | translate}}</div><div ng-message=\"ERROR_-1\">{{::\\'ERROR_SERVER\\' | translate}}</div><div ng-message=\"ERROR_UNKNOWN\">{{ $ctrl.config.form.$serverError.ERROR_UNKNOWN | translate }}</div></div><div class=\"bp16\"><a ng-hide=\"$ctrl.config.showServerUrl || $ctrl.config.fixedServerUrl || $ctrl.hideObject.server\" ng-click=\"$ctrl.config.showServerUrl = true\" href=\"\">{{::\\'ENTRY_CHANGE_SERVER\\' | translate}}</a></div><div ng-show=\"$ctrl.config.showServerUrl && !$ctrl.hideObject.server\" class=\"bp8\"><md-autocomplete ng-initial=\"\" autofocus=\"\" tabindex=\"1\" class=\"pip-combobox w-stretch bm8\" name=\"server\" aria-label=\"URL\" ng-enabled=\"!$ctrl.transaction.busy()\" placeholder=\"{{::\\'ENTRY_SERVER_URL\\' | translate}}\" md-no-cache=\"true\" md-selected-item=\"$ctrl.config.data.serverUrl\" md-search-text=\"$ctrl.config.selected.searchURLs\" md-items=\"item in $ctrl.config.getMatches($ctrl.config.selected.searchURLs)\" md-item-text=\"item\" md-selected-item-change=\"$ctrl.onServerUrlChanged()\" md-search-text-change=\"$ctrl.onChanged()\" md-delay=\"200\" ng-model=\"$ctrl.config.data.serverUrl\" pip-clear-errors=\"\"><span md-highlight-text=\"$ctrl.config.selected.searchURLs\">{{ item }}</span></md-autocomplete></div><md-input-container class=\"pip-no-hint\" style=\"padding-bottom: 4px!important;\"><label ng-if=\"!$ctrl.config.useEmailAsLogin\">{{::\\'LOGIN\\' | translate}}</label> <label ng-if=\"$ctrl.config.useEmailAsLogin\">{{::\\'EMAIL\\' | translate}}</label> <input name=\"login\" type=\"login\" ng-model=\"$ctrl.config.data.login\" required=\"\" step=\"any\" aria-label=\"LOGIN\" pip-clear-errors=\"\" ng-disabled=\"$ctrl.transaction.busy()\" tabindex=\"2\"><div class=\"hint\" ng-if=\"$ctrl.touchedErrorsWithHint($ctrl.config.form, $ctrl.config.form.login).hint && !$ctrl.hideObject.hint && !$ctrl.config.useEmailAsLogin\">{{::\\'HINT_LOGIN\\' | translate}}</div><div class=\"hint\" ng-if=\"$ctrl.touchedErrorsWithHint($ctrl.config.form, $ctrl.config.form.login).hint && !$ctrl.hideObject.hint && $ctrl.config.useEmailAsLogin\">{{::\\'HINT_EMAIL\\' | translate}}</div><div ng-messages=\"$ctrl.touchedErrorsWithHint($ctrl.config.form, $ctrl.config.form.login)\" class=\"md-input-error\" md-auto-hide=\"false\"><div ng-message=\"required\">{{::\\'ERROR_LOGIN_INVALID\\' | translate }}</div><div ng-message=\"ERROR_NO_LOGIN\">{{::\\'ERROR_NO_LOGIN\\' | translate}}</div><div ng-message=\"ERROR_WRONG_LOGIN\">{{::\\'ERROR_WRONG_LOGIN\\' | translate}}</div><div ng-message=\"ERROR_LOGIN_NOT_FOUND\">{{::\\'ERROR_LOGIN_NOT_FOUND\\' | translate}}</div></div></md-input-container><md-input-container class=\"pip-no-hint\"><label>{{::\\'ENTRY_RESET_CODE\\' | translate}}</label> <input name=\"resetCode\" ng-disabled=\"$ctrl.transaction.busy()\" autocomplete=\"off\" aria-label=\"CODE\" ng-model=\"$ctrl.config.data.resetCode\" required=\"\" tabindex=\"3\" pip-clear-errors=\"\"><div class=\"hint\" ng-if=\"$ctrl.touchedErrorsWithHint($ctrl.config.form, $ctrl.config.form.resetCode).hint && !$ctrl.hideObject.hint\">{{::\\'ENTRY_RESET_CODE\\' | translate}}</div><div ng-messages=\"$ctrl.touchedErrorsWithHint($ctrl.config.form, $ctrl.config.form.resetCode)\" class=\"md-input-error\" md-auto-hide=\"false\"><div ng-message=\"required\">{{::\\'ERROR_CODE_WRONG\\' | translate }}</div><div ng-message=\"ERROR_WRONG_CODE\">{{::\\'ERROR_WRONG_CODE\\' | translate}}</div></div></md-input-container><md-input-container class=\"pip-no-hint\" style=\"padding-bottom: 4px!important;\"><label>{{::\\'NEW_PASSWORD_SET\\' | translate}}</label> <input name=\"passwordNew\" ng-disabled=\"$ctrl.transaction.busy()\" pip-clear-errors=\"\" autocomplete=\"off\" type=\"password\" tabindex=\"4\" ng-model=\"$ctrl.config.data.password\" required=\"\" minlength=\"6\" aria-label=\"password\"><div class=\"hint\" ng-if=\"$ctrl.touchedErrorsWithHint($ctrl.config.form, $ctrl.config.form.passwordNew).hint && !$ctrl.hideObject.hint\">{{::\\'HINT_PASSWORD\\' | translate}}</div><div ng-messages=\"$ctrl.touchedErrorsWithHint($ctrl.config.form, $ctrl.config.form.passwordNew)\" class=\"md-input-error\" md-auto-hide=\"false\"><div ng-message=\"required\">{{::\\'MINLENGTH_PASSWORD\\' | translate}}</div><div ng-message=\"minlength\">{{::\\'MINLENGTH_PASSWORD\\' | translate}}</div><div ng-message=\"ERROR_WRONG_PASSWORD\">{{::\\'ERROR_WRONG_PASSWORD\\' | translate}}</div></div></md-input-container></form></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipEntry.Templates');\n} catch (e) {\n  module = angular.module('pipEntry.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('recover_password/RecoverPassword.html',\n    '<div class=\"pip-card-container pip-outer-scroll pip-entry\"><pip-card width=\"400\"><pip-recover-password-panel class=\"scroll-y\"></pip-recover-password-panel><div class=\"pip-footer\"><md-button ng-hide=\"$ctrl.transaction.busy()\" ng-click=\"$ctrl.goBack()\" class=\"rm8\" aria-label=\"CANCEL\">{{ ::\\'CANCEL\\' | translate }}</md-button><md-button ng-hide=\"$ctrl.transaction.busy()\" class=\"md-accent\" ng-click=\"$ctrl.onRecover()\" aria-label=\"RECOVER_PWD_RECOVER\" type=\"submit\" ng-disabled=\"($ctrl.config.form.$pristine && !$ctrl.config.data.login) || $ctrl.config.data.serverUrl.length == 0 || $ctrl.config.data.login.length == 0\">{{ ::\\'RECOVER_PWD_RECOVER\\' | translate }}</md-button><md-button ng-show=\"$ctrl.transaction.busy()\" class=\"md-warn\" ng-click=\"$ctrl.transaction.abort()\" aria-label=\"ABORT\">{{ ::\\'CANCEL\\' | translate }}</md-button></div></pip-card></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipEntry.Templates');\n} catch (e) {\n  module = angular.module('pipEntry.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('recover_password/RecoverPasswordDialog.html',\n    '<md-dialog class=\"pip-entry lp0 rp0\"><md-dialog-content><pip-recover-password-panel></pip-recover-password-panel></md-dialog-content><md-dialog-actions class=\"layout-row layout-align-end-center\"><md-button ng-hide=\"$ctlr.transaction.busy()\" ng-click=\"$ctlr.goBack()\" class=\"rm8\" aria-label=\"CANCEL\">{{::\\'CANCEL\\' | translate}}</md-button><md-button ng-hide=\"$ctlr.transaction.busy()\" class=\"md-accent\" ng-click=\"$ctlr.onRecover()\" aria-label=\"RECOVER_PWD_RECOVER\" ng-disabled=\"($$ctlr.config.form.$pristine && !$ctlr.config.data.login) || $ctlr.config.data.login== undefined || || $ctlr.config.data.serverUrl.length == 0 || $ctlr.config.data.login.length == 0\">{{::\\'RECOVER_PWD_RECOVER\\' | translate}}</md-button><md-button ng-show=\"$ctlr.transaction.busy()\" class=\"md-warn\" ng-click=\"$ctlr.transaction.abort()\" aria-label=\"ABORT\">{{::\\'CANCEL\\' | translate}}</md-button></md-dialog-actions></md-dialog>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipEntry.Templates');\n} catch (e) {\n  module = angular.module('pipEntry.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('recover_password/RecoverPasswordPanel.html',\n    '<div class=\"pip-body\"><div class=\"pip-content\"><md-progress-linear ng-show=\"$ctrl.transaction.busy() && !$ctrl.hideObject.progress\" md-mode=\"indeterminate\" class=\"pip-progress-top\"></md-progress-linear><h2 ng-if=\"!$ctrl.hideObject.title\">{{ \\'RECOVER_PWD_TITLE\\' | translate }}</h2><p class=\"text-primary tm0 bm16\" ng-if=\"!$ctrl.hideObject.subTitle1 && !$ctrl.config.useEmailAsLogin\">{{ \\'RECOVER_PWD_TEXT_1_LOGIN\\' | translate }}</p><p class=\"text-primary tm0 bm16\" ng-if=\"!$ctrl.hideObject.subTitle1 && $ctrl.config.useEmailAsLogin\">{{ \\'RECOVER_PWD_TEXT_1_EMAIL\\' | translate }}</p><p class=\"text-primary tm0 bm16\" ng-if=\"!$ctrl.hideObject.subTitle2\">{{ \\'RECOVER_PWD_TEXT_2\\' | translate }}</p><form name=\"form\" novalidate=\"\" autocomplete=\"off\"><div ng-messages=\"$ctrl.config.form.$serverError\" class=\"text-error bm8 color-error\" md-auto-hide=\"false\"><div ng-message=\"ERROR_act_execute\">{{::\\'ERROR_ACT_EXECUTE\\' | translate}}</div><div ng-message=\"ERROR_-1\">{{::\\'ERROR_SERVER\\' | translate}}</div><div ng-message=\"ERROR_UNKNOWN\">{{ $ctrl.config.form.$serverError.ERROR_UNKNOWN | translate }}</div></div><div class=\"bp16\"><a ng-hide=\"$ctrl.config.showServerUrl || $ctrl.config.fixedServerUrl || $ctrl.hideObject.server\" ng-click=\"$ctrl.config.showServerUrl = true\" href=\"\">{{ ::\\'ENTRY_CHANGE_SERVER\\' | translate }}</a></div><div ng-show=\"$ctrl.config.showServerUrl && !$ctrl.hideObject.server\" class=\"bp8\"><md-autocomplete ng-initial=\"\" autofocus=\"\" tabindex=\"1\" class=\"pip-combobox w-stretch bm8\" name=\"server\" aria-label=\"URL\" ng-enabled=\"!$ctrl.transaction.busy()\" placeholder=\"{{::\\'ENTRY_SERVER_URL\\' | translate}}\" md-no-cache=\"true\" md-selected-item=\"$ctrl.config.data.serverUrl\" md-search-text=\"$ctrl.config.selected.searchURLs\" md-items=\"item in $ctrl.config.getMatches($ctrl.config.selected.searchURLs)\" md-item-text=\"item\" md-selected-item-change=\"$ctrl.onServerUrlChanged()\" md-search-text-change=\"$ctrl.onChanged()\" md-delay=\"200\" ng-model=\"$ctrl.config.data.serverUrl\" pip-clear-errors=\"\"><span md-highlight-text=\"$ctrl.config.selected.searchURLs\">{{ item }}</span></md-autocomplete></div><md-input-container class=\"pip-no-hint\" style=\"padding-bottom: 4px!important;\"><label ng-if=\"!$ctrl.config.useEmailAsLogin\">{{::\\'LOGIN\\' | translate}}</label> <label ng-if=\"$ctrl.config.useEmailAsLogin\">{{::\\'EMAIL\\' | translate}}</label> <input name=\"login\" type=\"text\" aria-label=\"LOGIN\" ng-model=\"$ctrl.config.data.login\" required=\"\" step=\"any\" pip-clear-errors=\"\" ng-disabled=\"$ctrl.transaction.busy()\" tabindex=\"2\"><div class=\"hint\" ng-if=\"$ctrl.touchedErrorsWithHint($ctrl.config.form, $ctrl.config.form.login).hint && !$ctrl.hideObject.hint && !$ctrl.config.useEmailAsLogin\">{{::\\'HINT_LOGIN\\' | translate}}</div><div class=\"hint\" ng-if=\"$ctrl.touchedErrorsWithHint($ctrl.config.form, $ctrl.config.form.login).hint && !$ctrl.hideObject.hint && $ctrl.config.useEmailAsLogin\">{{::\\'HINT_EMAIL\\' | translate}}</div><div ng-messages=\"$ctrl.touchedErrorsWithHint($ctrl.config.form, $ctrl.config.form.login)\" class=\"md-input-error\" md-auto-hide=\"false\"><div ng-message=\"required\">{{::\\'ERROR_LOGIN_INVALID\\' | translate }}</div><div ng-message=\"ERROR_WRONG_LOGIN\">{{::\\'ERROR_WRONG_LOGIN\\' | translate}}</div><div ng-message=\"ERROR_NO_LOGIN\">{{::\\'ERROR_NO_LOGIN\\' | translate}}</div><div ng-message=\"ERROR_LOGIN_NOT_FOUND\">{{::\\'ERROR_LOGIN_NOT_FOUND\\' | translate}}</div></div></md-input-container></form></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipEntry.Templates');\n} catch (e) {\n  module = angular.module('pipEntry.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('signin/Signin.html',\n    '<div class=\"pip-card-container pip-outer-scroll pip-entry\"><pip-card width=\"400\"><pip-signin-panel pipfixedserverurl=\"$ctrl.fixedServerUrl\" class=\"scroll-y\"></pip-signin-panel></pip-card></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipEntry.Templates');\n} catch (e) {\n  module = angular.module('pipEntry.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('signin/SigninDialog.html',\n    '<md-dialog class=\"pip-entry\"><md-dialog-content><pip-signin-panel pip-goto-signup-dialog=\"$ctrl.pipGotoSignupDialog\" pip-goto-recover-password-dialog=\"$ctrl.pipGotoRecoverPasswordDialog\"></pip-signin-panel></md-dialog-content></md-dialog>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipEntry.Templates');\n} catch (e) {\n  module = angular.module('pipEntry.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('signin/SigninPanel.html',\n    '<div class=\"pip-body\"><div class=\"pip-content\"><md-progress-linear ng-show=\"$ctrl.transaction.busy() && !$ctrl.hideObject.progress\" md-mode=\"indeterminate\" class=\"pip-progress-top\"></md-progress-linear><h2 pip-translate=\"SIGNIN_TITLE\" ng-if=\"!$ctrl.hideObject.title\"></h2><form name=\"form\" novalidate=\"\"><input type=\"password\" style=\"display:none\"><div ng-messages=\"$ctrl.config.form.$serverError\" class=\"text-error bm8 color-error\" md-auto-hide=\"false\"><div ng-message=\"ERROR_act_execute\">{{::\\'ERROR_ACT_EXECUTE\\' | translate}}</div><div ng-message=\"ERROR_-1\">{{::\\'ERROR_SERVER\\' | translate}}</div><div ng-message=\"ERROR_ACCOUNT_LOCKED\">{{::\\'ERROR_ACCOUNT_LOCKED\\' | translate}}</div><div ng-message=\"ERROR_UNKNOWN\">{{ $ctrl.config.form.$serverError.ERROR_UNKNOWN | translate }}</div></div><div class=\"bp16\"><a ng-hide=\"$ctrl.config.showServerUrl || $ctrl.config.fixedServerUrl || $ctrl.hideObject.server\" ng-click=\"$ctrl.config.showServerUrl = true\" href=\"\" id=\"link-server-url\" pip-test=\"link-server-url\">{{::\\'ENTRY_CHANGE_SERVER\\' | translate}}</a></div><div ng-show=\"$ctrl.config.showServerUrl && !$ctrl.hideObject.server\" class=\"bp8\"><md-autocomplete ng-initial=\"\" autofocus=\"\" tabindex=\"1\" class=\"pip-combobox w-stretch bm8\" name=\"server\" placeholder=\"{{::\\'ENTRY_SERVER_URL\\' | translate}}\" md-no-cache=\"true\" md-selected-item=\"$ctrl.config.data.serverUrl\" md-search-text=\"$ctrl.config.selected.searchURLs\" md-items=\"item in $ctrl.config.getMatches($ctrl.config.selected.searchURLs)\" md-item-text=\"item\" md-selected-item-change=\"$ctrl.onServerUrlChanged()\" md-search-text-change=\"$ctrl.onChanged()\" md-delay=\"200\" ng-model=\"$ctrl.config.data.serverUrl\" ng-disabled=\"$ctrl.transaction.busy()\" pip-clear-errors=\"\" pip-test=\"autocomplete-server\"><span md-highlight-text=\"$ctrl.config.selected.searchURLs\">{{item}}</span></md-autocomplete></div><md-input-container class=\"display bp4\"><label ng-if=\"!$ctrl.config.useEmailAsLogin\">{{::\\'LOGIN\\' | translate}}</label> <label ng-if=\"$ctrl.config.useEmailAsLogin\">{{::\\'EMAIL\\' | translate}}</label> <input name=\"login\" ng-model=\"$ctrl.config.data.login\" required=\"\" step=\"any\" ng-keypress=\"$ctrl.onEnter($event)\" aria-label=\"LOGIN\" pip-clear-errors=\"\" ng-disabled=\"$ctrl.transaction.busy()\" tabindex=\"2\" pip-test=\"input-login\"><div class=\"hint\" ng-if=\"$ctrl.touchedErrorsWithHint($ctrl.config.form, $ctrl.config.form.login).hint && !$ctrl.hideObject.hint && !$ctrl.config.useEmailAsLogin\">{{::\\'HINT_LOGIN\\' | translate}}</div><div class=\"hint\" ng-if=\"$ctrl.touchedErrorsWithHint($ctrl.config.form, $ctrl.config.form.login).hint && !$ctrl.hideObject.hint && $ctrl.config.useEmailAsLogin\">{{::\\'HINT_EMAIL\\' | translate}}</div><div ng-messages=\"$ctrl.touchedErrorsWithHint($ctrl.config.form, $ctrl.config.form.login)\" md-auto-hide=\"false\"><div ng-message=\"required\">{{::\\'ERROR_LOGIN_INVALID\\' | translate }}</div><div ng-message=\"ERROR_WRONG_LOGIN\">{{::\\'ERROR_WRONG_LOGIN\\' | translate}}</div><div ng-message=\"ERROR_NO_LOGIN\">{{::\\'ERROR_NO_LOGIN\\' | translate}}</div><div ng-message=\"ERROR_LOGIN_NOT_FOUND\">{{::\\'ERROR_LOGIN_NOT_FOUND\\' | translate}}</div></div></md-input-container><md-input-container class=\"display bp4\"><label>{{::\\'PASSWORD\\' | translate}}</label> <input name=\"password\" ng-disabled=\"$ctrl.transaction.busy()\" pip-clear-errors=\"\" type=\"password\" tabindex=\"3\" ng-model=\"$ctrl.config.data.password\" ng-keypress=\"$ctrl.onEnter($event)\" required=\"\" minlength=\"6\" pip-test=\"input-password\"><div class=\"hint\" ng-if=\"$ctrl.touchedErrorsWithHint($ctrl.config.form, $ctrl.config.form.password).hint && !$ctrl.hideObject.hint\">{{::\\'SIGNIN_HINT_PASSWORD\\' | translate}}</div><div ng-messages=\"$ctrl.touchedErrorsWithHint($ctrl.config.form, $ctrl.config.form.password)\" md-auto-hide=\"false\"><div ng-message=\"required\">{{::\\'SIGNIN_HINT_PASSWORD\\' | translate}}</div><div ng-message=\"ERROR_WRONG_PASSWORD\">{{::\\'ERROR_WRONG_PASSWORD\\' | translate}}</div><div ng-message=\"minlength\">{{::\\'HINT_PASSWORD\\' | translate}}</div></div></md-input-container><a href=\"\" class=\"display bm16\" ng-if=\"!$ctrl.hideObject.forgotPassword\" ng-click=\"$ctrl.gotoRecoverPassword()\" tabindex=\"4\">{{::\\'SIGNIN_FORGOT_PASSWORD\\' | translate}}</a><md-checkbox ng-disabled=\"$ctrl.transaction.busy()\" ng-if=\"!$ctrl.hideObject.forgotPassword\" md-no-ink=\"\" class=\"lm0\" aria-label=\"{{\\'SIGNIN_REMEMBER\\' | translate}}\" tabindex=\"5\" ng-model=\"$ctrl.config.data.remember\" pip-test-checkbox=\"remember\"><label class=\"label-check\">{{::\\'SIGNIN_REMEMBER\\' | translate}}</label></md-checkbox><div style=\"height: 36px; overflow: hidden;\"><md-button ng-if=\"!$ctrl.transaction.busy()\" ng-click=\"$ctrl.onSignin()\" aria-label=\"SIGNIN\" class=\"md-raised md-accent w-stretch m0\" tabindex=\"6\" type=\"submit\" xxng-disabled=\"($ctrl.config.data.login == undefined) || $ctrl.config.data.login.length == 0 || $ctrl.config.data.serverUrl == \\'\\' || $ctrl.config.data.serverUrl == undefined || $ctrl.config.data.serverUrl.length == 0 || ($ctrl.config.data.password == undefined)\" pip-test=\"button-signin\">{{::\\'SIGNIN_TITLE\\' | translate}}</md-button><md-button ng-if=\"$ctrl.transaction.busy()\" ng-click=\"$ctrl.transaction.abort()\" class=\"md-raised md-warn m0 w-stretch\" tabindex=\"5\" aria-label=\"ABORT\" pip-test=\"button-cancel\">{{::\\'CANCEL\\' | translate}}</md-button></div><div class=\"tm24 layout-row\" ng-if=\"!$ctrl.config.adminOnly && $ctrl.pipMedia(\\'gt-xs\\') && !$ctrl.hideObject.signup\"><p class=\"m0 text-small\">{{::\\'SIGNIN_NOT_MEMBER\\' | translate}} <a href=\"\" ng-click=\"$ctrl.gotoSignup()\" tabindex=\"6\">{{::\\'SIGNIN_SIGNUP_HERE\\' | translate}}</a></p></div><div class=\"tm24 divider-top text-signup\" ng-if=\"!$ctrl.config.adminOnly && $ctrl.pipMedia(\\'xs\\') && !$ctrl.hideObject.signup\"><div class=\"h48 layout-row layout-align-center-end\"><p class=\"m0 text-small\">{{::\\'SIGNIN_NOT_MEMBER\\' | translate}}</p></div><div class=\"h48 layout-row layout-align-center-start\"><a class=\"text-small\" ng-click=\"$ctrl.gotoSignup()\" href=\"\" tabindex=\"6\">{{::\\'SIGNIN_SIGNUP_HERE\\' | translate}}</a></div></div></form></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipEntry.Templates');\n} catch (e) {\n  module = angular.module('pipEntry.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('signup/Signup.html',\n    '<div class=\"pip-card-container pip-outer-scroll pip-entry\"><pip-card width=\"400\"><pip-signup-panel class=\"scroll-y\"></pip-signup-panel></pip-card></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipEntry.Templates');\n} catch (e) {\n  module = angular.module('pipEntry.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('signup/SignupDialog.html',\n    '<md-dialog class=\"pip-entry\"><md-dialog-content><pip-signup-panel pip-goto-signin-dialog=\"$ctrl.pipGotoSigninDialog\" pip-post-signup=\"$ctrl.pipPostSignup\"></pip-signup-panel></md-dialog-content></md-dialog>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipEntry.Templates');\n} catch (e) {\n  module = angular.module('pipEntry.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('signup/SignupPanel.html',\n    '<div class=\"pip-body\"><div class=\"pip-content\"><md-progress-linear ng-show=\"$ctrl.transaction.busy() && !$ctrl.hideObject.progress\" md-mode=\"indeterminate\" class=\"pip-progress-top\"></md-progress-linear><h2 pip-translate=\"SIGNUP_TITLE\" ng-if=\"!$ctrl.hideObject.title\"></h2><form name=\"form\" novalidate=\"\" autocomplete=\"off\"><input type=\"email\" style=\"display:none\"> <input type=\"login\" style=\"display:none\"> <input type=\"password\" style=\"display:none\"><div ng-messages=\"$ctrl.config.form.$serverError\" class=\"text-error bm8 color-error\" md-auto-hide=\"false\"><div ng-message=\"ERROR_act_execute\">{{::\\'ERROR_ACT_EXECUTE\\' | translate}}</div><div ng-message=\"ERROR_-1\">{{::\\'ERROR_SERVER\\' | translate}}</div><div ng-message=\"ERROR_UNKNOWN\">{{ $ctrl.config.form.$serverError.ERROR_UNKNOWN | translate }}</div></div><div ng-if=\"$ctrl.error\" class=\"text-error bm8 color-error\" md-auto-hide=\"false\">{{::\\'ERROR_SERVER\\' | translate}}</div><div class=\"bp16\"><a ng-hide=\"$ctrl.config.showServerUrl || $ctrl.config.fixedServerUrl || $ctrl.hideObject.server\" ng-click=\"$ctrl.config.showServerUrl = true\" href=\"\">{{::\\'ENTRY_CHANGE_SERVER\\' | translate}}</a></div><div ng-show=\"$ctrl.config.showServerUrl && !$ctrl.hideObject.server\" class=\"bp8\"><md-autocomplete ng-initial=\"\" autofocus=\"\" tabindex=\"1\" class=\"pip-combobox w-stretch bm8\" name=\"server\" ng-enabled=\"!$ctrl.transaction.busy()\" placeholder=\"{{::\\'ENTRY_SERVER_URL\\' | translate}}\" md-no-cache=\"true\" md-selected-item=\"$ctrl.config.data.serverUrl\" md-search-text=\"$ctrl.config.selected.searchURLs\" md-items=\"item in $ctrl.config.getMatches($ctrl.config.selected.searchURLs)\" md-item-text=\"item\" md-selected-item-change=\"$ctrl.onServerUrlChanged()\" md-search-text-change=\"$ctrl.onChanged()\" md-delay=\"200\" ng-model=\"$ctrl.config.data.serverUrl\" ng-disabled=\"$ctrl.transaction.busy()\" pip-clear-errors=\"\"><span md-highlight-text=\"$ctrl.config.selected.searchURLs\">{{item}}</span></md-autocomplete></div><md-input-container class=\"display bp4\"><label>{{::\\'FULLNAME\\' | translate}}</label> <input name=\"signupFullName\" ng-disabled=\"$ctrl.transaction.busy()\" autocomplete=\"off\" ng-model=\"$ctrl.config.data.name\" ng-init=\"$ctrl.config.data.name = \\'\\'\" required=\"\" tabindex=\"2\" pip-clear-errors=\"\" ng-keypress=\"$ctrl.onEnter($event)\"><div class=\"hint text-overflow w-stretch\" ng-if=\"$ctrl.touchedErrorsWithHint($ctrl.config.form, $ctrl.config.form.signupFullName).hint && !$ctrl.hideObject.hint\">{{ ::\\'HINT_FULLNAME\\' | translate}}</div><div ng-messages=\"$ctrl.touchedErrorsWithHint($ctrl.config.form, $ctrl.config.form.signupFullName)\" md-auto-hide=\"false\"><div ng-message=\"required\">{{ ::\\'HINT_FULLNAME\\' | translate}} {{::\\'ERROR_FULLNAME_INVALID\\' | translate }}</div><div ng-message=\"ERROR_NO_NAME\">{{ ::\\'ERROR_NO_NAME\\' | translate }}</div></div></md-input-container><div ng-if=\"!$ctrl.config.useEmailAsLogin\"><md-input-container class=\"display bp4\"><label>{{ ::\\'LOGIN\\' | translate}}</label> <input name=\"signupLogin\" ng-disabled=\"$ctrl.transaction.busy()\" autocomplete=\"off\" ng-model=\"$ctrl.config.data.login\" ng-init=\"$ctrl.config.data.login = \\'\\'\" required=\"\" tabindex=\"2\" pip-clear-errors=\"\" ng-keypress=\"$ctrl.onEnter($event)\"><div class=\"hint text-overflow w-stretch\" ng-if=\"$ctrl.touchedErrorsWithHint($ctrl.config.form, $ctrl.config.form.signupLogin).hint && !$ctrl.hideObject.hint\">{{::\\'HINT_LOGIN\\' | translate}}</div><div ng-messages=\"$ctrl.touchedErrorsWithHint($ctrl.config.form, $ctrl.config.form.signupLogin)\" md-auto-hide=\"false\"><div ng-message=\"required\">{{::\\'HINT_LOGIN\\' | translate}} {{::\\'ERROR_LOGIN_INVALID\\' | translate }}</div><div ng-message=\"ERROR_WRONG_LOGIN\">{{::\\'ERROR_WRONG_LOGIN\\' | translate}}</div><div ng-message=\"ERROR_NO_LOGIN\">{{::\\'ERROR_NO_LOGIN\\' | translate}}</div></div></md-input-container><md-input-container class=\"display bp4\"><label>{{::\\'EMAIL\\' | translate}}</label> <input name=\"userEmail\" ng-disabled=\"$ctrl.transaction.busy()\" pip-clear-errors=\"\" type=\"email\" tabindex=\"3\" ng-model=\"$ctrl.config.data.email\" xxxxpip-email-unique=\"$ctrl.config.data.email\" ng-change=\"$ctrl.onChangeEmail(\\'userEmail\\')\" ng-model-options=\"{ delay: 500 }\" required=\"\" ng-keypress=\"$ctrl.onEnter($event)\" xxxpip-test=\"input-password\"><div class=\"hint\" ng-if=\"$ctrl.touchedErrorsWithHint($ctrl.config.form, $ctrl.config.form.userEmail, true).hint && !$ctrl.hideObject.hint\">{{::\\'HINT_EMAIL\\' | translate}}</div><div ng-messages=\"$ctrl.touchedErrorsWithHint($ctrl.config.form, $ctrl.config.form.userEmail, true)\" md-auto-hide=\"false\"><div ng-message=\"emailUnique\">{{::\\'ERROR_ALREADY_EXIST\\' | translate}}</div><div ng-message=\"required\">{{::\\'ERROR_EMAIL_INVALID\\' | translate }}</div><div ng-message=\"email\">{{::\\'ERROR_EMAIL_INVALID\\' | translate }}</div><div ng-message=\"ERROR_NO_EMAIL\">{{::\\'ERROR_NO_EMAIL\\' | translate}}</div></div></md-input-container></div><div ng-if=\"$ctrl.config.useEmailAsLogin\"><md-input-container class=\"display bp4\" xxxmd-is-error=\"$ctrl.isError($ctrl.touchedErrorsWithHint($ctrl.config.form, $ctrl.config.form.userEmail1))\"><label>{{::\\'EMAIL\\' | translate}}</label> <input name=\"userEmail1\" ng-disabled=\"$ctrl.transaction.busy()\" pip-clear-errors=\"\" type=\"email\" tabindex=\"3\" ng-model=\"$ctrl.config.data.email\" ng-change=\"$ctrl.onChangeEmail(\\'userEmail1\\')\" ng-model-options=\"{ delay: 500 }\" required=\"\" ng-keypress=\"$ctrl.onEnter($event)\" pip-test=\"input-password\"><div class=\"hint\" ng-if=\"$ctrl.touchedErrorsWithHint($ctrl.config.form, $ctrl.config.form.userEmail1, true).hint && !$ctrl.hideObject.hint\">{{::\\'HINT_EMAIL\\' | translate}}</div><div ng-messages=\"$ctrl.touchedErrorsWithHint($ctrl.config.form, $ctrl.config.form.userEmail1, true)\" md-auto-hide=\"false\"><div ng-message=\"required\">{{::\\'ERROR_EMAIL_INVALID\\' | translate }}</div><div ng-message=\"email\">{{::\\'ERROR_EMAIL_INVALID\\' | translate }}</div><div ng-message=\"emailUnique\">{{::\\'ERROR_ALREADY_EXIST_EMAIL\\' | translate}}</div><div ng-message=\"ERROR_WRONG_LOGIN\">{{::\\'ERROR_WRONG_LOGIN_EMAIL\\' | translate}}</div><div ng-message=\"ERROR_NO_LOGIN\">{{::\\'ERROR_NO_LOGIN_EMAIL\\' | translate}}</div></div></md-input-container></div><md-input-container class=\"display bp4\"><label>{{::\\'PASSWORD_SET\\' | translate}}</label> <input name=\"password\" ng-disabled=\"$ctrl.transaction.busy()\" autocomplete=\"off\" pip-clear-errors=\"\" type=\"password\" tabindex=\"4\" ng-model=\"$ctrl.config.data.password\" required=\"\" minlength=\"6\" ng-keypress=\"$ctrl.onEnter($event)\" pip-test=\"input-password\"><div class=\"hint\" ng-if=\"$ctrl.touchedErrorsWithHint($ctrl.config.form, $ctrl.config.form.password).hint && !$ctrl.hideObject.hint\">{{::\\'HINT_PASSWORD\\' | translate}}</div><div ng-messages=\"$ctrl.touchedErrorsWithHint($ctrl.config.form, $ctrl.config.form.password)\" md-auto-hide=\"false\"><div ng-message=\"required\">{{::\\'HINT_PASSWORD\\' | translate}}</div><div ng-message=\"minlength\">{{::\\'HINT_PASSWORD\\' | translate}}</div><div ng-message=\"ERROR_WRONG_PASSWORD\" xxxng-if=\"!$ctrl.config.form.password.$pristine\">{{::\\'ERROR_WRONG_PASSWORD\\' | translate}}</div></div></md-input-container><md-input-container class=\"display bp4\" ng-if=\"!$ctrl.hideObject.passwordConfirm\"><label>{{::\\'PASSWORD_CONFIRM\\' | translate}}</label> <input name=\"passwordConfirm\" type=\"password\" tabindex=\"4\" required=\"\" minlength=\"6\" ng-model=\"$ctrl.confirmPassword\" ng-disabled=\"$ctrl.transaction.busy()\" pip-clear-errors=\"\" pip-compare-password-match=\"\" compare-to2=\"$ctrl.config.data.password\" ng-keypress=\"$ctrl.onEnter($event)\" pip-test=\"input-password\"><div class=\"hint\" ng-if=\"$ctrl.touchedErrorsWithHint($ctrl.config.form, $ctrl.config.form.passwordConfirm, true).hint && !$ctrl.hideObject.hint\">{{::\\'HINT_PASSWORD\\' | translate}}</div><div ng-messages=\"$ctrl.touchedErrorsWithHint($ctrl.config.form, $ctrl.config.form.passwordConfirm, true)\" md-auto-hide=\"false\"><div ng-message=\"ERROR_compareTo\">{{::\\'PASSWORD_MATCH\\' | translate}}</div><div ng-message=\"required\">{{::\\'HINT_PASSWORD\\' | translate}}</div><div ng-message=\"minlength\">{{::\\'HINT_PASSWORD\\' | translate}}</div></div></md-input-container><p class=\"text-small-secondary\" ng-if=\"!$ctrl.hideObject.agreement\">{{::\\'SIGNUP_TEXT_11\\' | translate}} <a href=\"#/legal/privacy\" target=\"_blank\">{{::\\'SIGNUP_PRIVACY\\' | translate}}</a> {{::\\'SIGNUP_TEXT_12\\' | translate}} <a href=\"#/legal/services\" target=\"_blank\">{{::\\'SIGNUP_SERVICES\\' | translate}}</a></p><md-button ng-hide=\"$ctrl.transaction.busy()\" class=\"md-raised m0 md-accent w-stretch\" ng-click=\"$ctrl.onSignup()\" aria-label=\"SIGNUP\" type=\"submit\" xxng-disabled=\"$ctrl.config.form.$invalid || ($ctrl.config.form.$pristine && !$ctrl.config.data.email) || $ctrl.config.data.serverUrl.length == 0 || $ctrl.config.data.email.length == 0 || ($ctrl.config.data.login.length == 0 && !$ctrl.config.useEmailAsLogin) || (!$ctrl.config.data.password) || (!$ctrl.config.data.name) || $ctrl.config.data.name.length == 0 || $ctrl.config.data.password.length == 0\">{{::\\'SIGNUP_TITLE\\' | translate}}</md-button><md-button ng-show=\"$ctrl.transaction.busy()\" ng-click=\"$ctrl.transaction.abort()\" class=\"md-raised md-warn m0 w-stretch\" aria-label=\"ABORT\">{{::\\'CANCEL\\' | translate}}</md-button><div class=\"tm24 layout-row\" ng-if=\"$ctrl.pipMedia(\\'gt-xs\\') && !$ctrl.hideObject.signin\"><p class=\"text-small m0\">{{::\\'SIGNUP_TEXT_2\\' | translate}} <a href=\"\" ng-click=\"$ctrl.gotoSignin()\">{{::\\'SIGNUP_SIGNIN_HERE\\' | translate}}</a></p></div><div class=\"tm24 divider-top\" ng-if=\"$ctrl.pipMedia(\\'xs\\') && !$ctrl.hideObject.signin\" style=\"margin-right: -16px; margin-left: -16px; background-color: rgb(238, 238, 238);\"><div class=\"h48 layout-row layout-align-center-end\"><p class=\"bm0 text-small\">{{::\\'SIGNUP_TEXT_2\\' | translate}}</p></div><div class=\"h48 layout-row layout-align-center-start\"><p class=\"bm0 text-small\"><a href=\"\" ng-click=\"$ctrl.gotoSignin()\">{{::\\'SIGNUP_SIGNIN_HERE\\' | translate}}</a></p></div></div></form></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipEntry.Templates');\n} catch (e) {\n  module = angular.module('pipEntry.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('verify_email/VerifyEmail.html',\n    '<div class=\"pip-card-container pip-outer-scroll pip-entry\"><pip-card width=\"400\"><div class=\"pip-body\"><div class=\"pip-content layout-column flex\" style=\"position: absolute; top: 0px; right: 0px; left: 0px; bottom: 0px; background-color: #fafafa; z-index: 100;\" ng-if=\"$ctrl.showValidateProgress\"><h2 class=\"p24-flex m0\">{{\\'VERIFY_EMAIL_WAIT\\' | translate}}</h2><div class=\"layout-column flex layout-align-center-center\"><md-progress-circular md-diameter=\"96\"></md-progress-circular></div></div><div class=\"pip-content\"><md-progress-linear ng-show=\"$ctrl.transaction.busy()\" md-mode=\"indeterminate\" class=\"pip-progress-top\"></md-progress-linear><h2>{{\\'VERIFY_EMAIL_TITLE\\' | translate}}</h2><p class=\"title-padding\">{{\\'VERIFY_EMAIL_TEXT_1\\' | translate}}</p><form name=\"form\" novalidate=\"\" ng-init=\"$ctrl.formCreated(form)\" autocomplete=\"off\"><div ng-messages=\"$ctrl.config.form.$serverError\" class=\"text-error color-error bm8\"><div ng-message=\"ERROR_act_execute\">{{::\\'ERROR_ACT_EXECUTE\\' | translate}}</div><div ng-message=\"ERROR_-1\">{{::\\'ERROR_SERVER\\' | translate}}</div><div ng-message=\"ERROR_UNKNOWN\">{{ $ctrl.config.form.$serverError.ERROR_UNKNOWN | translate }}</div></div><div ng-show=\"$ctrl.config.showServerUrl && !$ctrl.hideObject.server\" class=\"tp8 bp8\">{{::\\'ENTRY_SERVER_URL\\' | translate}}: {{ $ctrl.config.data.serverUrl }}</div><div class=\"tp8 bp8\"><span ng-if=\"!$ctrl.config.useEmailAsLogin\">{{::\\'LOGIN\\' | translate}}</span> <span ng-if=\"$ctrl.config.useEmailAsLogin\">{{::\\'EMAIL\\' | translate}}</span> : {{ $ctrl.config.data.login }}</div><md-input-container class=\"pip-no-hint\"><label>{{::\\'ENTRY_VERIFICATION_CODE\\' | translate}}</label> <input name=\"code\" ng-disabled=\"$ctrl.transaction.busy()\" pip-clear-errors=\"\" ng-model=\"$ctrl.config.data.code\" required=\"\" tabindex=\"3\"><div class=\"hint text-overflow w-stretch\" ng-if=\"$ctrl.touchedErrorsWithHint($ctrl.config.form, $ctrl.config.form.code).hint && !$ctrl.hideObject.hint\">{{::\\'ENTRY_VERIFICATION_CODE\\' | translate}}</div><div ng-messages=\"$ctrl.touchedErrorsWithHint($ctrl.config.form, $ctrl.config.form.code)\" ng-if=\"!$ctrl.config.form.$pristine\" class=\"md-input-error\"><div ng-message=\"required\">{{::\\'ERROR_CODE_INVALID\\' | translate }}</div><div ng-message=\"ERROR_INVALID_CODE\">{{::\\'ERROR_INVALID_CODE\\' | translate }}</div></div></md-input-container><p>{{\\'VERIFY_EMAIL_TEXT_21\\' | translate}} <a ng-click=\"$ctrl.onRecover()\" class=\"pointer\" href=\"\">{{\\'VERIFY_EMAIL_RESEND\\' | translate}}</a> {{\\'VERIFY_EMAIL_TEXT_22\\' | translate}}</p></form></div></div><div class=\"pip-footer\"><md-button ng-click=\"$ctrl.goBack()\" ng-hide=\"$ctrl.transaction.busy()\" class=\"rm8\" aria-label=\"CANCEL\">{{::\\'CANCEL\\' | translate}}</md-button><md-button class=\"md-accent\" ng-click=\"$ctrl.onVerify()\" ng-hide=\"$ctrl.transaction.busy()\" aria-label=\"VERIFY\" ng-if=\"!$ctrl.showValidateProgress\" type=\"submit\" ng-disabled=\"$ctrl.config.data.code.length == 0 || $ctrl.config.data.login.length == 0 || (!$ctrl.config.data.login && $ctrl.config.form.$pristine) || (!$ctrl.config.data.code)\">{{::\\'VERIFY\\' | translate}}</md-button><md-button class=\"md-warn\" ng-show=\"$ctrl.transaction.busy()\" ng-click=\"$ctrl.transaction.abort()\" aria-label=\"ABORT\">{{::\\'CANCEL\\' | translate}}</md-button></div></pip-card></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipEntry.Templates');\n} catch (e) {\n  module = angular.module('pipEntry.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('verify_email/VerifyEmailSuccess.html',\n    '<div class=\"pip-card-container pip-outer-scroll pip-entry\"><pip-card width=\"400\"><div class=\"pip-footer\"><md-button ng-click=\"$ctrl.onContinue()\" class=\"md-accent\">{{\\'CONTINUE\\' | translate}}</md-button></div><div class=\"pip-body\"><div class=\"pip-content\"><h2>{{\\'VERIFY_EMAIL_TITLE\\' | translate}}</h2><p class=\"title-padding\">{{\\'VERIFY_EMAIL_SUCCESS_TEXT\\' | translate}}</p></div></div></pip-card></div>');\n}]);\n})();\n\n//# sourceMappingURL=pip-suite-entry-html.min.js.map\n","import { VerifyEmailModel } from './VerifyEmailModel';\nimport { IEntryDataService } from '../data/IEntryDataService';\nimport { IEntryService } from \"../common/EntryService\";\n\nexport class VerifyEmailViewModel {\n    public model: VerifyEmailModel;\n\n    constructor(\n        pipEntryCommon: any,\n        pipTransaction: pip.services.ITransactionService,\n        $rootScope: ng.IRootScopeService,\n        $location: ng.ILocationService,\n        $state: ng.ui.IStateService,\n        $injector: ng.auto.IInjectorService,\n        pipAuthState: pip.rest.IAuthStateService,\n        pipFormErrors: pip.errors.IFormErrorsService,\n        pipRest: pip.rest.IRestService,\n        pipEntryData: IEntryDataService,\n        pipIdentity: pip.services.IIdentityService,\n        pipEntry: IEntryService\n    ) {\n        \"ngInject\";\n\n        this.model = new VerifyEmailModel(pipEntryCommon, pipTransaction, $rootScope, $location, $state,\n            $injector, pipAuthState, pipFormErrors, pipRest, pipEntryData, pipIdentity, pipEntry);\n    }\n\n    public get transaction(): pip.services.Transaction {\n        return this.model.transaction;\n    }\n\n    public get hideObject(): any {\n        return this.model.hideObject;\n    }\n\n    public get showServerError(): any {\n        return this.model.showServerError;\n    }\n\n    public get config(): any {\n        return this.model.config;\n    }\n\n    public initModel($scope) {\n        this.model.init($scope);\n    }\n\n    public onVerify(successCallback?: (data: any) => void, errorCallback?: (error: any) => void) {\n        this.model.onVerify(successCallback, errorCallback);\n    }\n\n    public onRecover() {\n        this.model.onRecover();\n    }\n\n    public onContinue() {\n        this.model.onContinue();\n    }\n\n    public onCancel() {\n        this.model.onCancel();\n    }\n}\n\nangular.module('pipEntry.VerifyEmail')\n    .service('pipVerifyEmailViewModel', VerifyEmailViewModel);","/*!\n * async\n * https://github.com/caolan/async\n *\n * Copyright 2010-2014 Caolan McMahon\n * Released under the MIT license\n */\n(function () {\n\n    var async = {};\n    function noop() {}\n    function identity(v) {\n        return v;\n    }\n    function toBool(v) {\n        return !!v;\n    }\n    function notId(v) {\n        return !v;\n    }\n\n    // global on the server, window in the browser\n    var previous_async;\n\n    // Establish the root object, `window` (`self`) in the browser, `global`\n    // on the server, or `this` in some virtual machines. We use `self`\n    // instead of `window` for `WebWorker` support.\n    var root = typeof self === 'object' && self.self === self && self ||\n            typeof global === 'object' && global.global === global && global ||\n            this;\n\n    if (root != null) {\n        previous_async = root.async;\n    }\n\n    async.noConflict = function () {\n        root.async = previous_async;\n        return async;\n    };\n\n    function only_once(fn) {\n        return function() {\n            if (fn === null) throw new Error(\"Callback was already called.\");\n            fn.apply(this, arguments);\n            fn = null;\n        };\n    }\n\n    function _once(fn) {\n        return function() {\n            if (fn === null) return;\n            fn.apply(this, arguments);\n            fn = null;\n        };\n    }\n\n    //// cross-browser compatiblity functions ////\n\n    var _toString = Object.prototype.toString;\n\n    var _isArray = Array.isArray || function (obj) {\n        return _toString.call(obj) === '[object Array]';\n    };\n\n    // Ported from underscore.js isObject\n    var _isObject = function(obj) {\n        var type = typeof obj;\n        return type === 'function' || type === 'object' && !!obj;\n    };\n\n    function _isArrayLike(arr) {\n        return _isArray(arr) || (\n            // has a positive integer length property\n            typeof arr.length === \"number\" &&\n            arr.length >= 0 &&\n            arr.length % 1 === 0\n        );\n    }\n\n    function _arrayEach(arr, iterator) {\n        var index = -1,\n            length = arr.length;\n\n        while (++index < length) {\n            iterator(arr[index], index, arr);\n        }\n    }\n\n    function _map(arr, iterator) {\n        var index = -1,\n            length = arr.length,\n            result = Array(length);\n\n        while (++index < length) {\n            result[index] = iterator(arr[index], index, arr);\n        }\n        return result;\n    }\n\n    function _range(count) {\n        return _map(Array(count), function (v, i) { return i; });\n    }\n\n    function _reduce(arr, iterator, memo) {\n        _arrayEach(arr, function (x, i, a) {\n            memo = iterator(memo, x, i, a);\n        });\n        return memo;\n    }\n\n    function _forEachOf(object, iterator) {\n        _arrayEach(_keys(object), function (key) {\n            iterator(object[key], key);\n        });\n    }\n\n    function _indexOf(arr, item) {\n        for (var i = 0; i < arr.length; i++) {\n            if (arr[i] === item) return i;\n        }\n        return -1;\n    }\n\n    var _keys = Object.keys || function (obj) {\n        var keys = [];\n        for (var k in obj) {\n            if (obj.hasOwnProperty(k)) {\n                keys.push(k);\n            }\n        }\n        return keys;\n    };\n\n    function _keyIterator(coll) {\n        var i = -1;\n        var len;\n        var keys;\n        if (_isArrayLike(coll)) {\n            len = coll.length;\n            return function next() {\n                i++;\n                return i < len ? i : null;\n            };\n        } else {\n            keys = _keys(coll);\n            len = keys.length;\n            return function next() {\n                i++;\n                return i < len ? keys[i] : null;\n            };\n        }\n    }\n\n    // Similar to ES6's rest param (http://ariya.ofilabs.com/2013/03/es6-and-rest-parameter.html)\n    // This accumulates the arguments passed into an array, after a given index.\n    // From underscore.js (https://github.com/jashkenas/underscore/pull/2140).\n    function _restParam(func, startIndex) {\n        startIndex = startIndex == null ? func.length - 1 : +startIndex;\n        return function() {\n            var length = Math.max(arguments.length - startIndex, 0);\n            var rest = Array(length);\n            for (var index = 0; index < length; index++) {\n                rest[index] = arguments[index + startIndex];\n            }\n            switch (startIndex) {\n                case 0: return func.call(this, rest);\n                case 1: return func.call(this, arguments[0], rest);\n            }\n            // Currently unused but handle cases outside of the switch statement:\n            // var args = Array(startIndex + 1);\n            // for (index = 0; index < startIndex; index++) {\n            //     args[index] = arguments[index];\n            // }\n            // args[startIndex] = rest;\n            // return func.apply(this, args);\n        };\n    }\n\n    function _withoutIndex(iterator) {\n        return function (value, index, callback) {\n            return iterator(value, callback);\n        };\n    }\n\n    //// exported async module functions ////\n\n    //// nextTick implementation with browser-compatible fallback ////\n\n    // capture the global reference to guard against fakeTimer mocks\n    var _setImmediate = typeof setImmediate === 'function' && setImmediate;\n\n    var _delay = _setImmediate ? function(fn) {\n        // not a direct alias for IE10 compatibility\n        _setImmediate(fn);\n    } : function(fn) {\n        setTimeout(fn, 0);\n    };\n\n    if (typeof process === 'object' && typeof process.nextTick === 'function') {\n        async.nextTick = process.nextTick;\n    } else {\n        async.nextTick = _delay;\n    }\n    async.setImmediate = _setImmediate ? _delay : async.nextTick;\n\n\n    async.forEach =\n    async.each = function (arr, iterator, callback) {\n        return async.eachOf(arr, _withoutIndex(iterator), callback);\n    };\n\n    async.forEachSeries =\n    async.eachSeries = function (arr, iterator, callback) {\n        return async.eachOfSeries(arr, _withoutIndex(iterator), callback);\n    };\n\n\n    async.forEachLimit =\n    async.eachLimit = function (arr, limit, iterator, callback) {\n        return _eachOfLimit(limit)(arr, _withoutIndex(iterator), callback);\n    };\n\n    async.forEachOf =\n    async.eachOf = function (object, iterator, callback) {\n        callback = _once(callback || noop);\n        object = object || [];\n\n        var iter = _keyIterator(object);\n        var key, completed = 0;\n\n        while ((key = iter()) != null) {\n            completed += 1;\n            iterator(object[key], key, only_once(done));\n        }\n\n        if (completed === 0) callback(null);\n\n        function done(err) {\n            completed--;\n            if (err) {\n                callback(err);\n            }\n            // Check key is null in case iterator isn't exhausted\n            // and done resolved synchronously.\n            else if (key === null && completed <= 0) {\n                callback(null);\n            }\n        }\n    };\n\n    async.forEachOfSeries =\n    async.eachOfSeries = function (obj, iterator, callback) {\n        callback = _once(callback || noop);\n        obj = obj || [];\n        var nextKey = _keyIterator(obj);\n        var key = nextKey();\n        function iterate() {\n            var sync = true;\n            if (key === null) {\n                return callback(null);\n            }\n            iterator(obj[key], key, only_once(function (err) {\n                if (err) {\n                    callback(err);\n                }\n                else {\n                    key = nextKey();\n                    if (key === null) {\n                        return callback(null);\n                    } else {\n                        if (sync) {\n                            async.setImmediate(iterate);\n                        } else {\n                            iterate();\n                        }\n                    }\n                }\n            }));\n            sync = false;\n        }\n        iterate();\n    };\n\n\n\n    async.forEachOfLimit =\n    async.eachOfLimit = function (obj, limit, iterator, callback) {\n        _eachOfLimit(limit)(obj, iterator, callback);\n    };\n\n    function _eachOfLimit(limit) {\n\n        return function (obj, iterator, callback) {\n            callback = _once(callback || noop);\n            obj = obj || [];\n            var nextKey = _keyIterator(obj);\n            if (limit <= 0) {\n                return callback(null);\n            }\n            var done = false;\n            var running = 0;\n            var errored = false;\n\n            (function replenish () {\n                if (done && running <= 0) {\n                    return callback(null);\n                }\n\n                while (running < limit && !errored) {\n                    var key = nextKey();\n                    if (key === null) {\n                        done = true;\n                        if (running <= 0) {\n                            callback(null);\n                        }\n                        return;\n                    }\n                    running += 1;\n                    iterator(obj[key], key, only_once(function (err) {\n                        running -= 1;\n                        if (err) {\n                            callback(err);\n                            errored = true;\n                        }\n                        else {\n                            replenish();\n                        }\n                    }));\n                }\n            })();\n        };\n    }\n\n\n    function doParallel(fn) {\n        return function (obj, iterator, callback) {\n            return fn(async.eachOf, obj, iterator, callback);\n        };\n    }\n    function doParallelLimit(fn) {\n        return function (obj, limit, iterator, callback) {\n            return fn(_eachOfLimit(limit), obj, iterator, callback);\n        };\n    }\n    function doSeries(fn) {\n        return function (obj, iterator, callback) {\n            return fn(async.eachOfSeries, obj, iterator, callback);\n        };\n    }\n\n    function _asyncMap(eachfn, arr, iterator, callback) {\n        callback = _once(callback || noop);\n        arr = arr || [];\n        var results = _isArrayLike(arr) ? [] : {};\n        eachfn(arr, function (value, index, callback) {\n            iterator(value, function (err, v) {\n                results[index] = v;\n                callback(err);\n            });\n        }, function (err) {\n            callback(err, results);\n        });\n    }\n\n    async.map = doParallel(_asyncMap);\n    async.mapSeries = doSeries(_asyncMap);\n    async.mapLimit = doParallelLimit(_asyncMap);\n\n    // reduce only has a series version, as doing reduce in parallel won't\n    // work in many situations.\n    async.inject =\n    async.foldl =\n    async.reduce = function (arr, memo, iterator, callback) {\n        async.eachOfSeries(arr, function (x, i, callback) {\n            iterator(memo, x, function (err, v) {\n                memo = v;\n                callback(err);\n            });\n        }, function (err) {\n            callback(err, memo);\n        });\n    };\n\n    async.foldr =\n    async.reduceRight = function (arr, memo, iterator, callback) {\n        var reversed = _map(arr, identity).reverse();\n        async.reduce(reversed, memo, iterator, callback);\n    };\n\n    async.transform = function (arr, memo, iterator, callback) {\n        if (arguments.length === 3) {\n            callback = iterator;\n            iterator = memo;\n            memo = _isArray(arr) ? [] : {};\n        }\n\n        async.eachOf(arr, function(v, k, cb) {\n            iterator(memo, v, k, cb);\n        }, function(err) {\n            callback(err, memo);\n        });\n    };\n\n    function _filter(eachfn, arr, iterator, callback) {\n        var results = [];\n        eachfn(arr, function (x, index, callback) {\n            iterator(x, function (v) {\n                if (v) {\n                    results.push({index: index, value: x});\n                }\n                callback();\n            });\n        }, function () {\n            callback(_map(results.sort(function (a, b) {\n                return a.index - b.index;\n            }), function (x) {\n                return x.value;\n            }));\n        });\n    }\n\n    async.select =\n    async.filter = doParallel(_filter);\n\n    async.selectLimit =\n    async.filterLimit = doParallelLimit(_filter);\n\n    async.selectSeries =\n    async.filterSeries = doSeries(_filter);\n\n    function _reject(eachfn, arr, iterator, callback) {\n        _filter(eachfn, arr, function(value, cb) {\n            iterator(value, function(v) {\n                cb(!v);\n            });\n        }, callback);\n    }\n    async.reject = doParallel(_reject);\n    async.rejectLimit = doParallelLimit(_reject);\n    async.rejectSeries = doSeries(_reject);\n\n    function _createTester(eachfn, check, getResult) {\n        return function(arr, limit, iterator, cb) {\n            function done() {\n                if (cb) cb(getResult(false, void 0));\n            }\n            function iteratee(x, _, callback) {\n                if (!cb) return callback();\n                iterator(x, function (v) {\n                    if (cb && check(v)) {\n                        cb(getResult(true, x));\n                        cb = iterator = false;\n                    }\n                    callback();\n                });\n            }\n            if (arguments.length > 3) {\n                eachfn(arr, limit, iteratee, done);\n            } else {\n                cb = iterator;\n                iterator = limit;\n                eachfn(arr, iteratee, done);\n            }\n        };\n    }\n\n    async.any =\n    async.some = _createTester(async.eachOf, toBool, identity);\n\n    async.someLimit = _createTester(async.eachOfLimit, toBool, identity);\n\n    async.all =\n    async.every = _createTester(async.eachOf, notId, notId);\n\n    async.everyLimit = _createTester(async.eachOfLimit, notId, notId);\n\n    function _findGetResult(v, x) {\n        return x;\n    }\n    async.detect = _createTester(async.eachOf, identity, _findGetResult);\n    async.detectSeries = _createTester(async.eachOfSeries, identity, _findGetResult);\n    async.detectLimit = _createTester(async.eachOfLimit, identity, _findGetResult);\n\n    async.sortBy = function (arr, iterator, callback) {\n        async.map(arr, function (x, callback) {\n            iterator(x, function (err, criteria) {\n                if (err) {\n                    callback(err);\n                }\n                else {\n                    callback(null, {value: x, criteria: criteria});\n                }\n            });\n        }, function (err, results) {\n            if (err) {\n                return callback(err);\n            }\n            else {\n                callback(null, _map(results.sort(comparator), function (x) {\n                    return x.value;\n                }));\n            }\n\n        });\n\n        function comparator(left, right) {\n            var a = left.criteria, b = right.criteria;\n            return a < b ? -1 : a > b ? 1 : 0;\n        }\n    };\n\n    async.auto = function (tasks, concurrency, callback) {\n        if (typeof arguments[1] === 'function') {\n            // concurrency is optional, shift the args.\n            callback = concurrency;\n            concurrency = null;\n        }\n        callback = _once(callback || noop);\n        var keys = _keys(tasks);\n        var remainingTasks = keys.length;\n        if (!remainingTasks) {\n            return callback(null);\n        }\n        if (!concurrency) {\n            concurrency = remainingTasks;\n        }\n\n        var results = {};\n        var runningTasks = 0;\n\n        var hasError = false;\n\n        var listeners = [];\n        function addListener(fn) {\n            listeners.unshift(fn);\n        }\n        function removeListener(fn) {\n            var idx = _indexOf(listeners, fn);\n            if (idx >= 0) listeners.splice(idx, 1);\n        }\n        function taskComplete() {\n            remainingTasks--;\n            _arrayEach(listeners.slice(0), function (fn) {\n                fn();\n            });\n        }\n\n        addListener(function () {\n            if (!remainingTasks) {\n                callback(null, results);\n            }\n        });\n\n        _arrayEach(keys, function (k) {\n            if (hasError) return;\n            var task = _isArray(tasks[k]) ? tasks[k]: [tasks[k]];\n            var taskCallback = _restParam(function(err, args) {\n                runningTasks--;\n                if (args.length <= 1) {\n                    args = args[0];\n                }\n                if (err) {\n                    var safeResults = {};\n                    _forEachOf(results, function(val, rkey) {\n                        safeResults[rkey] = val;\n                    });\n                    safeResults[k] = args;\n                    hasError = true;\n\n                    callback(err, safeResults);\n                }\n                else {\n                    results[k] = args;\n                    async.setImmediate(taskComplete);\n                }\n            });\n            var requires = task.slice(0, task.length - 1);\n            // prevent dead-locks\n            var len = requires.length;\n            var dep;\n            while (len--) {\n                if (!(dep = tasks[requires[len]])) {\n                    throw new Error('Has nonexistent dependency in ' + requires.join(', '));\n                }\n                if (_isArray(dep) && _indexOf(dep, k) >= 0) {\n                    throw new Error('Has cyclic dependencies');\n                }\n            }\n            function ready() {\n                return runningTasks < concurrency && _reduce(requires, function (a, x) {\n                    return (a && results.hasOwnProperty(x));\n                }, true) && !results.hasOwnProperty(k);\n            }\n            if (ready()) {\n                runningTasks++;\n                task[task.length - 1](taskCallback, results);\n            }\n            else {\n                addListener(listener);\n            }\n            function listener() {\n                if (ready()) {\n                    runningTasks++;\n                    removeListener(listener);\n                    task[task.length - 1](taskCallback, results);\n                }\n            }\n        });\n    };\n\n\n\n    async.retry = function(times, task, callback) {\n        var DEFAULT_TIMES = 5;\n        var DEFAULT_INTERVAL = 0;\n\n        var attempts = [];\n\n        var opts = {\n            times: DEFAULT_TIMES,\n            interval: DEFAULT_INTERVAL\n        };\n\n        function parseTimes(acc, t){\n            if(typeof t === 'number'){\n                acc.times = parseInt(t, 10) || DEFAULT_TIMES;\n            } else if(typeof t === 'object'){\n                acc.times = parseInt(t.times, 10) || DEFAULT_TIMES;\n                acc.interval = parseInt(t.interval, 10) || DEFAULT_INTERVAL;\n            } else {\n                throw new Error('Unsupported argument type for \\'times\\': ' + typeof t);\n            }\n        }\n\n        var length = arguments.length;\n        if (length < 1 || length > 3) {\n            throw new Error('Invalid arguments - must be either (task), (task, callback), (times, task) or (times, task, callback)');\n        } else if (length <= 2 && typeof times === 'function') {\n            callback = task;\n            task = times;\n        }\n        if (typeof times !== 'function') {\n            parseTimes(opts, times);\n        }\n        opts.callback = callback;\n        opts.task = task;\n\n        function wrappedTask(wrappedCallback, wrappedResults) {\n            function retryAttempt(task, finalAttempt) {\n                return function(seriesCallback) {\n                    task(function(err, result){\n                        seriesCallback(!err || finalAttempt, {err: err, result: result});\n                    }, wrappedResults);\n                };\n            }\n\n            function retryInterval(interval){\n                return function(seriesCallback){\n                    setTimeout(function(){\n                        seriesCallback(null);\n                    }, interval);\n                };\n            }\n\n            while (opts.times) {\n\n                var finalAttempt = !(opts.times-=1);\n                attempts.push(retryAttempt(opts.task, finalAttempt));\n                if(!finalAttempt && opts.interval > 0){\n                    attempts.push(retryInterval(opts.interval));\n                }\n            }\n\n            async.series(attempts, function(done, data){\n                data = data[data.length - 1];\n                (wrappedCallback || opts.callback)(data.err, data.result);\n            });\n        }\n\n        // If a callback is passed, run this as a controll flow\n        return opts.callback ? wrappedTask() : wrappedTask;\n    };\n\n    async.waterfall = function (tasks, callback) {\n        callback = _once(callback || noop);\n        if (!_isArray(tasks)) {\n            var err = new Error('First argument to waterfall must be an array of functions');\n            return callback(err);\n        }\n        if (!tasks.length) {\n            return callback();\n        }\n        function wrapIterator(iterator) {\n            return _restParam(function (err, args) {\n                if (err) {\n                    callback.apply(null, [err].concat(args));\n                }\n                else {\n                    var next = iterator.next();\n                    if (next) {\n                        args.push(wrapIterator(next));\n                    }\n                    else {\n                        args.push(callback);\n                    }\n                    ensureAsync(iterator).apply(null, args);\n                }\n            });\n        }\n        wrapIterator(async.iterator(tasks))();\n    };\n\n    function _parallel(eachfn, tasks, callback) {\n        callback = callback || noop;\n        var results = _isArrayLike(tasks) ? [] : {};\n\n        eachfn(tasks, function (task, key, callback) {\n            task(_restParam(function (err, args) {\n                if (args.length <= 1) {\n                    args = args[0];\n                }\n                results[key] = args;\n                callback(err);\n            }));\n        }, function (err) {\n            callback(err, results);\n        });\n    }\n\n    async.parallel = function (tasks, callback) {\n        _parallel(async.eachOf, tasks, callback);\n    };\n\n    async.parallelLimit = function(tasks, limit, callback) {\n        _parallel(_eachOfLimit(limit), tasks, callback);\n    };\n\n    async.series = function(tasks, callback) {\n        _parallel(async.eachOfSeries, tasks, callback);\n    };\n\n    async.iterator = function (tasks) {\n        function makeCallback(index) {\n            function fn() {\n                if (tasks.length) {\n                    tasks[index].apply(null, arguments);\n                }\n                return fn.next();\n            }\n            fn.next = function () {\n                return (index < tasks.length - 1) ? makeCallback(index + 1): null;\n            };\n            return fn;\n        }\n        return makeCallback(0);\n    };\n\n    async.apply = _restParam(function (fn, args) {\n        return _restParam(function (callArgs) {\n            return fn.apply(\n                null, args.concat(callArgs)\n            );\n        });\n    });\n\n    function _concat(eachfn, arr, fn, callback) {\n        var result = [];\n        eachfn(arr, function (x, index, cb) {\n            fn(x, function (err, y) {\n                result = result.concat(y || []);\n                cb(err);\n            });\n        }, function (err) {\n            callback(err, result);\n        });\n    }\n    async.concat = doParallel(_concat);\n    async.concatSeries = doSeries(_concat);\n\n    async.whilst = function (test, iterator, callback) {\n        callback = callback || noop;\n        if (test()) {\n            var next = _restParam(function(err, args) {\n                if (err) {\n                    callback(err);\n                } else if (test.apply(this, args)) {\n                    iterator(next);\n                } else {\n                    callback.apply(null, [null].concat(args));\n                }\n            });\n            iterator(next);\n        } else {\n            callback(null);\n        }\n    };\n\n    async.doWhilst = function (iterator, test, callback) {\n        var calls = 0;\n        return async.whilst(function() {\n            return ++calls <= 1 || test.apply(this, arguments);\n        }, iterator, callback);\n    };\n\n    async.until = function (test, iterator, callback) {\n        return async.whilst(function() {\n            return !test.apply(this, arguments);\n        }, iterator, callback);\n    };\n\n    async.doUntil = function (iterator, test, callback) {\n        return async.doWhilst(iterator, function() {\n            return !test.apply(this, arguments);\n        }, callback);\n    };\n\n    async.during = function (test, iterator, callback) {\n        callback = callback || noop;\n\n        var next = _restParam(function(err, args) {\n            if (err) {\n                callback(err);\n            } else {\n                args.push(check);\n                test.apply(this, args);\n            }\n        });\n\n        var check = function(err, truth) {\n            if (err) {\n                callback(err);\n            } else if (truth) {\n                iterator(next);\n            } else {\n                callback(null);\n            }\n        };\n\n        test(check);\n    };\n\n    async.doDuring = function (iterator, test, callback) {\n        var calls = 0;\n        async.during(function(next) {\n            if (calls++ < 1) {\n                next(null, true);\n            } else {\n                test.apply(this, arguments);\n            }\n        }, iterator, callback);\n    };\n\n    function _queue(worker, concurrency, payload) {\n        if (concurrency == null) {\n            concurrency = 1;\n        }\n        else if(concurrency === 0) {\n            throw new Error('Concurrency must not be zero');\n        }\n        function _insert(q, data, pos, callback) {\n            if (callback != null && typeof callback !== \"function\") {\n                throw new Error(\"task callback must be a function\");\n            }\n            q.started = true;\n            if (!_isArray(data)) {\n                data = [data];\n            }\n            if(data.length === 0 && q.idle()) {\n                // call drain immediately if there are no tasks\n                return async.setImmediate(function() {\n                    q.drain();\n                });\n            }\n            _arrayEach(data, function(task) {\n                var item = {\n                    data: task,\n                    callback: callback || noop\n                };\n\n                if (pos) {\n                    q.tasks.unshift(item);\n                } else {\n                    q.tasks.push(item);\n                }\n\n                if (q.tasks.length === q.concurrency) {\n                    q.saturated();\n                }\n            });\n            async.setImmediate(q.process);\n        }\n        function _next(q, tasks) {\n            return function(){\n                workers -= 1;\n\n                var removed = false;\n                var args = arguments;\n                _arrayEach(tasks, function (task) {\n                    _arrayEach(workersList, function (worker, index) {\n                        if (worker === task && !removed) {\n                            workersList.splice(index, 1);\n                            removed = true;\n                        }\n                    });\n\n                    task.callback.apply(task, args);\n                });\n                if (q.tasks.length + workers === 0) {\n                    q.drain();\n                }\n                q.process();\n            };\n        }\n\n        var workers = 0;\n        var workersList = [];\n        var q = {\n            tasks: [],\n            concurrency: concurrency,\n            payload: payload,\n            saturated: noop,\n            empty: noop,\n            drain: noop,\n            started: false,\n            paused: false,\n            push: function (data, callback) {\n                _insert(q, data, false, callback);\n            },\n            kill: function () {\n                q.drain = noop;\n                q.tasks = [];\n            },\n            unshift: function (data, callback) {\n                _insert(q, data, true, callback);\n            },\n            process: function () {\n                while(!q.paused && workers < q.concurrency && q.tasks.length){\n\n                    var tasks = q.payload ?\n                        q.tasks.splice(0, q.payload) :\n                        q.tasks.splice(0, q.tasks.length);\n\n                    var data = _map(tasks, function (task) {\n                        return task.data;\n                    });\n\n                    if (q.tasks.length === 0) {\n                        q.empty();\n                    }\n                    workers += 1;\n                    workersList.push(tasks[0]);\n                    var cb = only_once(_next(q, tasks));\n                    worker(data, cb);\n                }\n            },\n            length: function () {\n                return q.tasks.length;\n            },\n            running: function () {\n                return workers;\n            },\n            workersList: function () {\n                return workersList;\n            },\n            idle: function() {\n                return q.tasks.length + workers === 0;\n            },\n            pause: function () {\n                q.paused = true;\n            },\n            resume: function () {\n                if (q.paused === false) { return; }\n                q.paused = false;\n                var resumeCount = Math.min(q.concurrency, q.tasks.length);\n                // Need to call q.process once per concurrent\n                // worker to preserve full concurrency after pause\n                for (var w = 1; w <= resumeCount; w++) {\n                    async.setImmediate(q.process);\n                }\n            }\n        };\n        return q;\n    }\n\n    async.queue = function (worker, concurrency) {\n        var q = _queue(function (items, cb) {\n            worker(items[0], cb);\n        }, concurrency, 1);\n\n        return q;\n    };\n\n    async.priorityQueue = function (worker, concurrency) {\n\n        function _compareTasks(a, b){\n            return a.priority - b.priority;\n        }\n\n        function _binarySearch(sequence, item, compare) {\n            var beg = -1,\n                end = sequence.length - 1;\n            while (beg < end) {\n                var mid = beg + ((end - beg + 1) >>> 1);\n                if (compare(item, sequence[mid]) >= 0) {\n                    beg = mid;\n                } else {\n                    end = mid - 1;\n                }\n            }\n            return beg;\n        }\n\n        function _insert(q, data, priority, callback) {\n            if (callback != null && typeof callback !== \"function\") {\n                throw new Error(\"task callback must be a function\");\n            }\n            q.started = true;\n            if (!_isArray(data)) {\n                data = [data];\n            }\n            if(data.length === 0) {\n                // call drain immediately if there are no tasks\n                return async.setImmediate(function() {\n                    q.drain();\n                });\n            }\n            _arrayEach(data, function(task) {\n                var item = {\n                    data: task,\n                    priority: priority,\n                    callback: typeof callback === 'function' ? callback : noop\n                };\n\n                q.tasks.splice(_binarySearch(q.tasks, item, _compareTasks) + 1, 0, item);\n\n                if (q.tasks.length === q.concurrency) {\n                    q.saturated();\n                }\n                async.setImmediate(q.process);\n            });\n        }\n\n        // Start with a normal queue\n        var q = async.queue(worker, concurrency);\n\n        // Override push to accept second parameter representing priority\n        q.push = function (data, priority, callback) {\n            _insert(q, data, priority, callback);\n        };\n\n        // Remove unshift function\n        delete q.unshift;\n\n        return q;\n    };\n\n    async.cargo = function (worker, payload) {\n        return _queue(worker, 1, payload);\n    };\n\n    function _console_fn(name) {\n        return _restParam(function (fn, args) {\n            fn.apply(null, args.concat([_restParam(function (err, args) {\n                if (typeof console === 'object') {\n                    if (err) {\n                        if (console.error) {\n                            console.error(err);\n                        }\n                    }\n                    else if (console[name]) {\n                        _arrayEach(args, function (x) {\n                            console[name](x);\n                        });\n                    }\n                }\n            })]));\n        });\n    }\n    async.log = _console_fn('log');\n    async.dir = _console_fn('dir');\n    /*async.info = _console_fn('info');\n    async.warn = _console_fn('warn');\n    async.error = _console_fn('error');*/\n\n    async.memoize = function (fn, hasher) {\n        var memo = {};\n        var queues = {};\n        var has = Object.prototype.hasOwnProperty;\n        hasher = hasher || identity;\n        var memoized = _restParam(function memoized(args) {\n            var callback = args.pop();\n            var key = hasher.apply(null, args);\n            if (has.call(memo, key)) {   \n                async.setImmediate(function () {\n                    callback.apply(null, memo[key]);\n                });\n            }\n            else if (has.call(queues, key)) {\n                queues[key].push(callback);\n            }\n            else {\n                queues[key] = [callback];\n                fn.apply(null, args.concat([_restParam(function (args) {\n                    memo[key] = args;\n                    var q = queues[key];\n                    delete queues[key];\n                    for (var i = 0, l = q.length; i < l; i++) {\n                        q[i].apply(null, args);\n                    }\n                })]));\n            }\n        });\n        memoized.memo = memo;\n        memoized.unmemoized = fn;\n        return memoized;\n    };\n\n    async.unmemoize = function (fn) {\n        return function () {\n            return (fn.unmemoized || fn).apply(null, arguments);\n        };\n    };\n\n    function _times(mapper) {\n        return function (count, iterator, callback) {\n            mapper(_range(count), iterator, callback);\n        };\n    }\n\n    async.times = _times(async.map);\n    async.timesSeries = _times(async.mapSeries);\n    async.timesLimit = function (count, limit, iterator, callback) {\n        return async.mapLimit(_range(count), limit, iterator, callback);\n    };\n\n    async.seq = function (/* functions... */) {\n        var fns = arguments;\n        return _restParam(function (args) {\n            var that = this;\n\n            var callback = args[args.length - 1];\n            if (typeof callback == 'function') {\n                args.pop();\n            } else {\n                callback = noop;\n            }\n\n            async.reduce(fns, args, function (newargs, fn, cb) {\n                fn.apply(that, newargs.concat([_restParam(function (err, nextargs) {\n                    cb(err, nextargs);\n                })]));\n            },\n            function (err, results) {\n                callback.apply(that, [err].concat(results));\n            });\n        });\n    };\n\n    async.compose = function (/* functions... */) {\n        return async.seq.apply(null, Array.prototype.reverse.call(arguments));\n    };\n\n\n    function _applyEach(eachfn) {\n        return _restParam(function(fns, args) {\n            var go = _restParam(function(args) {\n                var that = this;\n                var callback = args.pop();\n                return eachfn(fns, function (fn, _, cb) {\n                    fn.apply(that, args.concat([cb]));\n                },\n                callback);\n            });\n            if (args.length) {\n                return go.apply(this, args);\n            }\n            else {\n                return go;\n            }\n        });\n    }\n\n    async.applyEach = _applyEach(async.eachOf);\n    async.applyEachSeries = _applyEach(async.eachOfSeries);\n\n\n    async.forever = function (fn, callback) {\n        var done = only_once(callback || noop);\n        var task = ensureAsync(fn);\n        function next(err) {\n            if (err) {\n                return done(err);\n            }\n            task(next);\n        }\n        next();\n    };\n\n    function ensureAsync(fn) {\n        return _restParam(function (args) {\n            var callback = args.pop();\n            args.push(function () {\n                var innerArgs = arguments;\n                if (sync) {\n                    async.setImmediate(function () {\n                        callback.apply(null, innerArgs);\n                    });\n                } else {\n                    callback.apply(null, innerArgs);\n                }\n            });\n            var sync = true;\n            fn.apply(this, args);\n            sync = false;\n        });\n    }\n\n    async.ensureAsync = ensureAsync;\n\n    async.constant = _restParam(function(values) {\n        var args = [null].concat(values);\n        return function (callback) {\n            return callback.apply(this, args);\n        };\n    });\n\n    async.wrapSync =\n    async.asyncify = function asyncify(func) {\n        return _restParam(function (args) {\n            var callback = args.pop();\n            var result;\n            try {\n                result = func.apply(this, args);\n            } catch (e) {\n                return callback(e);\n            }\n            // if result is Promise object\n            if (_isObject(result) && typeof result.then === \"function\") {\n                result.then(function(value) {\n                    callback(null, value);\n                })[\"catch\"](function(err) {\n                    callback(err.message ? err : new Error(err));\n                });\n            } else {\n                callback(null, result);\n            }\n        });\n    };\n\n    // Node.js\n    if (typeof module === 'object' && module.exports) {\n        module.exports = async;\n    }\n    // AMD / RequireJS\n    else if (typeof define === 'function' && define.amd) {\n        define([], function () {\n            return async;\n        });\n    }\n    // included directly via <script> tag\n    else {\n        root.async = async;\n    }\n\n}());\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","var nextTick = require('process/browser.js').nextTick;\nvar apply = Function.prototype.apply;\nvar slice = Array.prototype.slice;\nvar immediateIds = {};\nvar nextImmediateId = 0;\n\n// DOM APIs, for completeness\n\nexports.setTimeout = function() {\n  return new Timeout(apply.call(setTimeout, window, arguments), clearTimeout);\n};\nexports.setInterval = function() {\n  return new Timeout(apply.call(setInterval, window, arguments), clearInterval);\n};\nexports.clearTimeout =\nexports.clearInterval = function(timeout) { timeout.close(); };\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\nTimeout.prototype.close = function() {\n  this._clearFn.call(window, this._id);\n};\n\n// Does not start the time, just sets up the members needed.\nexports.enroll = function(item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function(item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function(item) {\n  clearTimeout(item._idleTimeoutId);\n\n  var msecs = item._idleTimeout;\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout)\n        item._onTimeout();\n    }, msecs);\n  }\n};\n\n// That's not how node.js implements it but the exposed api is the same.\nexports.setImmediate = typeof setImmediate === \"function\" ? setImmediate : function(fn) {\n  var id = nextImmediateId++;\n  var args = arguments.length < 2 ? false : slice.call(arguments, 1);\n\n  immediateIds[id] = true;\n\n  nextTick(function onNextTick() {\n    if (immediateIds[id]) {\n      // fn.call() is faster so we optimize for the common use-case\n      // @see http://jsperf.com/call-apply-segu\n      if (args) {\n        fn.apply(null, args);\n      } else {\n        fn.call(null);\n      }\n      // Prevent ids from leaking\n      exports.clearImmediate(id);\n    }\n  });\n\n  return id;\n};\n\nexports.clearImmediate = typeof clearImmediate === \"function\" ? clearImmediate : function(id) {\n  delete immediateIds[id];\n};","import { AddImageOption } from './AddImageOption';\nimport { Attachment } from '../data';\nimport { AddImageResult } from './AddImageResult';\n\n// Todo: Is this public exist anywhere?\ndeclare let unescape: any;\n\nconst ConfigTranslations = (pipTranslateProvider: pip.services.ITranslateProvider) => {\n    pipTranslateProvider.translations('en', {\n        'FILE': 'Upload pictures',\n        'WEB_LINK': 'Use web link',\n        'CAMERA': 'Take photo',\n        'IMAGE_GALLERY': 'Use image library',\n    });\n    pipTranslateProvider.translations('ru', {\n        'FILE': 'Загрузить картинку',\n        'WEB_LINK': 'Вставить веб ссылка',\n        'CAMERA': 'Использовать камеру',\n        'IMAGE_GALLERY': 'Открыть галерею изображений'\n    });\n}\n\n{\n    interface IAddImageScope extends angular.IScope {\n        $images: AddImageResult[];\n        onChange: any;\n        multi: any;\n        option: any;\n        ngDisabled: any;\n    }\n\n    class AddImageController {\n        public option: AddImageOption;\n\n        constructor(\n            private $scope: IAddImageScope,\n            private $element,\n            private $mdMenu,\n            private $timeout,\n            private pipCameraDialog,\n            private pipPictureUrlDialog,\n            private pipGallerySearchDialog\n        ) {\n            \"ngInject\";\n\n            let defaultOption = new AddImageOption();\n\n            this.option = _.assign(defaultOption, this.$scope.option);\n        }\n\n        public openMenu($mdOpenMenu): void {\n            if (this.$scope.ngDisabled()) {\n                return;\n            }\n\n            $mdOpenMenu();\n        }\n\n        private toBoolean(value: any): boolean {\n            if (!value) { return false; }\n\n            value = value.toString().toLowerCase();\n\n            return value == '1' || value == 'true';\n        }\n\n        public isMulti(): boolean {\n            if (this.$scope.multi !== undefined && this.$scope.multi !== null) {\n                if (angular.isFunction(this.$scope.multi)) {\n                    return this.toBoolean(this.$scope.multi());\n                } else {\n                    return this.toBoolean(this.$scope.multi);\n                }\n            } else {\n                return true;\n            }\n        }\n\n        public hideMenu(): void {\n            this.$mdMenu.hide();\n        }\n\n        public dataURItoBlob(dataURI: string): Blob {\n            let byteString;\n\n            if (dataURI.split(',')[0].indexOf('base64') >= 0) {\n                byteString = atob(dataURI.split(',')[1]);\n            } else {\n                byteString = unescape(dataURI.split(',')[1]);\n            }\n            let mimeString = dataURI.split(',')[0].split(':')[1].split(';')[0];\n\n            let ia = new Uint8Array(byteString.length);\n            let i: number;\n            for (i = 0; i < byteString.length; i++) {\n                ia[i] = byteString.charCodeAt(i);\n            }\n\n            return new Blob([ia], { type: mimeString });\n        }\n\n        public addImages(images: any): void {\n            if (images === undefined) { return; }\n\n            if (angular.isArray(images)) {\n                images.forEach((img: AddImageResult) => {\n                    if (this.$scope.onChange) {\n                        this.$scope.onChange(img);\n                    }\n                });\n            } else {\n                if (this.$scope.onChange) {\n                    this.$scope.onChange(images);\n                }\n            }\n\n            if (this.$scope.$images === undefined || !Array.isArray(this.$scope.$images)) {\n                return;\n            }\n\n            if (Array.isArray(images)) {\n                images.forEach((img) => {\n                    this.$scope.$images.push(img);\n                });\n            } else {\n                this.$scope.$images.push(images);\n            }\n        }\n\n        // Process user actions\n        public onFileChange($files: any): void {\n            if ($files == null || $files.length == 0) { return; }\n\n            $files.forEach((file) => {\n                if (file.type.indexOf('image') > -1) {\n                    this.$timeout(() => {\n                        let fileReader = new FileReader();\n                        fileReader.readAsDataURL(file);\n                        fileReader.onload = (e) => {\n                            this.$timeout(() => {\n                                this.addImages({ url: null, uriData: (e.target as any).result, file: file, picture: null });\n                            });\n                        }\n                    });\n                }\n            });\n\n        }\n\n        public onWebLinkClick(): void {\n            this.pipPictureUrlDialog.show((result) => {\n                let blob = null;\n                if (result.substring(0, 10) == 'data:image') {\n                    blob = this.dataURItoBlob(result);\n                    blob.name = result.slice(result.lastIndexOf('/') + 1, result.length).split('?')[0];\n                }\n                this.addImages({ url: result, uriData: null, file: blob, picture: null });\n            });\n        }\n\n        public onCameraClick(): void {\n            this.pipCameraDialog.show((result) => {\n                let blob: any = this.dataURItoBlob(result);\n                blob.name = 'camera';\n                this.addImages({ url: null, uriData: result, file: blob, picture: null });\n            });\n        }\n\n        public onGalleryClick(): void {\n            this.pipGallerySearchDialog.show(\n                {\n                    multiple: this.isMulti()\n                },\n                (result: Attachment[]) => {\n                    if (this.isMulti()) {\n                        let imgs: AddImageResult[] = [];\n                        result.forEach((item: Attachment) => {\n                            imgs.push({ url: null, uriData: null, file: null,  picture: item });\n                        });\n                        this.addImages(imgs);\n                    } else {\n                        this.addImages({ url: null, uriData: null, file: null, picture: result[0] });\n                    }\n                }\n            );\n        }\n    }\n\n    const AddImage = function (): ng.IDirective {\n        return {\n            restrict: 'AC',\n            scope: {\n                $images: '=pipImages',\n                onChange: '&pipChanged',\n                multi: '&pipMulti',\n                option: '=pipOption',\n                ngDisabled: '&'\n            },\n            transclude: true,\n            templateUrl: 'add_image/AddImage.html',\n            controller: AddImageController,\n            controllerAs: 'vm'\n        };\n    }\n\n    angular\n        .module('pipAddImage', ['pipCameraDialog', 'pipPictureUrlDialog', 'pipGallerySearchDialog', 'angularFileUpload'])\n        .config(ConfigTranslations)\n        .directive('pipAddImage', AddImage);\n}\n","export class AddImageOption {\n    public Upload: boolean = true;\n    public WebLink: boolean = true;\n    public Camera: boolean = true;\n    public Galery: boolean = true;\n}","import { Attachment } from '../data';\n\nexport class AddImageResult {\n    public picture?: Attachment;\n    public file?: any;\n    public uriData?: any;\n    public url?: string;\n}","import { IPictureUtilsService } from '../utilities/IPictureUtils';\nimport { IAvatarDataService, colors, colorClasses } from '../data/IAvatarDataService';\nimport { ReloadAvatar } from '../avatar_edit/AvatarEdit';\n\n{\n    interface IAvatarBindings {\n        [key: string]: any;\n\n        pipId: any;\n        pipUrl: any;\n        pipName: any;\n        ngClass: any;\n        pipRebindAvatar: any;\n        pipRebind: any;\n    }\n\n    const AvatarBindings: IAvatarBindings = {\n        pipId: '<?',\n        pipUrl: '<?',\n        pipName: '<?',\n        ngClass: '<?',\n        pipRebindAvatar: '<?',\n        pipRebind: '<?'\n    }\n\n    class AvatarBindingsChanges implements ng.IOnChangesObject, IAvatarBindings {\n        [key: string]: ng.IChangesObject<any>;\n\n        pipId: ng.IChangesObject<string>;\n        pipUrl: ng.IChangesObject<string>;\n        pipName: ng.IChangesObject<string>;\n        ngClass: ng.IChangesObject<string>;\n        pipRebindAvatar: ng.IChangesObject<boolean>;\n        pipRebind: ng.IChangesObject<boolean>;\n    }\n\n    class AvatarController {\n        private cleanupAvatarUpdated: Function;\n        private imageElement: any;\n        // private iconErrorElement: any;\n        private defaultAvatarElement: any;\n        private image: any;\n\n        public pipId: string;\n        public pipUrl: string;\n        public pipName: string;\n\n        public ngClass: string;\n        public pipRebindAvatar: boolean;\n        public pipRebind: boolean;\n\n        public postLink: boolean = false;\n        // public errorIcon: string;\n        public initial: string;\n\n        constructor(\n            private $log: ng.ILogService,\n            private $http: ng.IHttpService,\n            private $rootScope: ng.IRootScopeService,\n            private $element: JQuery,\n            private pipAvatarData: IAvatarDataService,\n            private pipPictureUtils: IPictureUtilsService,\n            private pipCodes: pip.services.ICodes,\n            private $timeout\n        ) {\n            \"ngInject\";\n\n            this.image = null;\n\n            // this.errorIcon = 'icon:warn-star';\n            this.initial = this.pipAvatarData.DefaultInitial;\n            // Add class\n            $element.addClass('pip-avatar flex-fixed');\n\n            this.$rootScope.$on(ReloadAvatar, ($event: ng.IAngularEvent, id: string) => { //navState\n                if (this.pipId == id && this.pipRebind) {\n                    this.refreshAvatar();\n                }\n            });\n        }\n\n        public $postLink() {\n            this.imageElement = this.$element.children('img');\n            // this.iconErrorElement = this.$element.find('#icon-error');\n            this.defaultAvatarElement = this.$element.find('#default-avatar');\n\n            // When image is loaded resize/reposition it\n            this.imageElement\n                .load(($event) => {\n                    this.image = $($event.target);\n                    this.pipPictureUtils.setImageMarginCSS(this.$element, this.image);\n                })\n                .error(($event) => {\n                    this.showAvatarByName();\n                });\n\n            this.bindControl();\n\n            this.postLink = true;\n        }\n\n        public $onChanges(changes: AvatarBindingsChanges): void {\n            if (changes.pipRebind && changes.pipRebind.currentValue !== changes.pipRebind.previousValue) {\n                this.pipRebind = changes.pipRebind.currentValue;\n            }\n            if (changes.pipRebindAvatar && changes.pipRebindAvatar.currentValue !== changes.pipRebindAvatar.previousValue) {\n                this.pipRebindAvatar = changes.pipRebindAvatar.currentValue;\n            }\n            if (changes.ngClass && changes.ngClass.currentValue !== changes.ngClass.previousValue) {\n                this.ngClass = changes.ngClass.currentValue;\n                setTimeout(() => {\n                    this.pipPictureUtils.setImageMarginCSS(this.$element, this.image);\n                }, 50);\n            }\n\n            let isDataChange: boolean = false;\n            if (this.pipRebind) {\n                if (changes.pipId && changes.pipId.currentValue !== changes.pipId.previousValue) {\n                    this.pipId = changes.pipId.currentValue;\n                    isDataChange = true;\n                }\n\n                if (changes.pipUrl && changes.pipUrl.currentValue !== changes.pipUrl.previousValue) {\n                    this.pipUrl = changes.pipUrl.currentValue;\n                    isDataChange = true;\n                }\n\n                if (changes.pipName && changes.pipName.currentValue !== changes.pipName.previousValue) {\n                    this.pipName = changes.pipName.currentValue;\n                    isDataChange = true;\n                }\n            }\n\n            // this.avatarUrlParams = this.getAvatarUrlParams();\n            if (isDataChange && this.postLink) {\n                this.refreshAvatar();\n            }\n        }\n\n        private showAvatarByName() {\n            this.$timeout(() => {\n                let colorClassIndex = this.pipCodes.hash(this.pipId) % colors.length;\n                this.defaultAvatarElement.removeAttr('class');\n                this.defaultAvatarElement.addClass(colorClasses[colorClassIndex]);\n                this.imageElement.css('display', 'none');\n                this.defaultAvatarElement.css('display', 'inline-block');\n            })\n\n        }\n\n        private toBoolean(value: any): boolean {\n            if (!value) { return false; }\n            value = value.toString().toLowerCase();\n\n            return value == '1' || value == 'true';\n        }\n\n        public refreshAvatar(): void {\n\n            if (!this.pipAvatarData.ShowOnlyNameIcon) {\n                this.imageElement.attr('src', '');\n                this.imageElement.css('display', 'inline-block');\n                this.defaultAvatarElement.css('display', 'none');\n            }\n\n            this.bindControl();\n        };\n\n        public bindControl(): void {\n            if (this.pipRebindAvatar) {\n                this.cleanupAvatarUpdated = this.$rootScope.$on('pipPartyAvatarUpdated', () => { this.refreshAvatar(); });\n            } else {\n                if (this.cleanupAvatarUpdated) {\n                    this.cleanupAvatarUpdated();\n                }\n            }\n\n            if (this.pipName) {\n                this.initial = this.pipName.charAt(0);\n            } else {\n                this.initial = this.pipAvatarData.DefaultInitial;\n            }\n\n            if (!this.pipAvatarData.ShowOnlyNameIcon) {\n                let url = this.pipId ? this.pipAvatarData.getAvatarUrl(this.pipId) : this.pipUrl;\n                this.imageElement.attr('src', url);\n            } else {\n                this.showAvatarByName();\n            }\n        }\n\n    }\n\n    const AvatarComponent: ng.IComponentOptions = {\n        bindings: AvatarBindings,\n        template: '<img/><div id=\"default-avatar\">{{ $ctrl.initial }}</div>',\n        controller: AvatarController\n    }\n\n    angular\n        .module('pipAvatar', ['pipPictureUtils'])\n        .component('pipAvatar', AvatarComponent);\n}\n\n","import { IPictureUtilsService } from '../utilities/IPictureUtils';\nimport { PicturePaste } from '../utilities/PicturePaste';\nimport { IAvatarDataService } from '../data/IAvatarDataService';\nimport { AddImageOption } from '../add_image/AddImageOption';\nimport { AddImageResult } from '../add_image/AddImageResult';\n\nexport const ReloadAvatar = 'pipReloadAvatar';\n\nexport class AvatarEditControl {\n    public reset: (afterDeleting?: boolean) => void;\n    public save: (id?: string, successCallback?: (response?: any) => void, errorCallback?: (error?: any) => void) => void;\n    public abort: () => void;\n    public error?: any;\n\n    public disabled: boolean = false;\n    public url: string = '';\n    public uriData: any;\n    public progress: number = 0;\n    public uploaded: boolean = false;\n    public uploading: boolean = false;\n    public upload: boolean = false;\n    public loaded: boolean = false;\n    public file: any = null;\n    public state: string = AvatarStates.Original;\n}\n\nexport class AvatarStates {\n    static Original: string = 'original';\n    static Changed: string = 'changed';\n    static Deleted: string = 'deleted';\n    static Error: string = 'error';\n}\n\n{\n    const ConfigAvatarEditTranslations = (pipTranslateProvider: pip.services.ITranslateProvider) => {\n        pipTranslateProvider.translations('en', {\n            'PICTURE_EDIT_TEXT': 'Click here to upload a picture',\n            'PICTURE_ERROR_LOAD': 'Error image loading'\n        });\n        pipTranslateProvider.translations('ru', {\n            'PICTURE_EDIT_TEXT': 'Нажмите сюда для загрузки картинки',\n            'PICTURE_ERROR_LOAD': 'Ошибка загрузки картинки'\n        });\n    }\n\n\n    class SenderEvent {\n        $control: AvatarEditControl;\n    }\n\n    class AvatarEvent {\n        $event: SenderEvent;\n        $control: AvatarEditControl;\n    }\n\n    interface IAvatarEditBindings {\n        [key: string]: any;\n\n        ngDisabled: any;\n        pipCreated: any;\n        pipChanged: any;\n        pipReset: any;\n        pipId: any;\n        text: any;\n        icon: any;\n        pipRebind: any;\n    }\n\n    const AvatarEditBindings: IAvatarEditBindings = {\n        ngDisabled: '<?',\n        pipCreated: '&?',\n        pipChanged: '&?',\n        pipReset: '<?',\n        pipId: '<?',\n        text: '<?pipDefaultText',\n        icon: '<?pipDefaultIcon',\n        pipRebind: '<?',\n    }\n\n    class AvatarEditBindingsChanges implements ng.IOnChangesObject, IAvatarEditBindings {\n        [key: string]: ng.IChangesObject<any>;\n\n        ngDisabled: ng.IChangesObject<boolean>;\n        pipCreated: ng.IChangesObject<(params: AvatarEvent) => ng.IPromise<void>>;\n        pipChanged: ng.IChangesObject<(params: AvatarEvent) => ng.IPromise<void>>;\n        pipReset: ng.IChangesObject<boolean>;\n        pipId: ng.IChangesObject<string>;\n        text: ng.IChangesObject<string>;\n        icon: ng.IChangesObject<string>;\n        pipRebind: ng.IChangesObject<boolean>;\n    }\n\n    class AvatarEditController {\n        private controlElement: any;\n        private inputElement: any;\n        private pipPicturePaste: PicturePaste;\n\n        public ngDisabled: boolean;\n        public pipCreated: (params: AvatarEvent) => void;\n        public pipChanged: (params: AvatarEvent) => void;\n        public pipReset: boolean;\n        public text: string;\n        public icon: string;\n        public pipId: string;\n        public pipRebind: boolean;\n\n        public multiUpload: boolean;\n        public errorText: string;\n        public control: AvatarEditControl;\n        public option: AddImageOption;\n\n        constructor(\n            private $log: ng.ILogService,\n            private $scope: ng.IScope,\n            private $http: ng.IHttpService,\n            private $rootScope: ng.IRootScopeService,\n            private $element: JQuery,\n            private $timeout: ng.ITimeoutService,\n            private pipAvatarData: IAvatarDataService,\n            private pipCodes: pip.services.ICodes,\n            private pipPictureUtils: IPictureUtilsService,\n            private pipFileUpload: pip.files.IFileUploadService,\n            private pipRest: pip.rest.IRestService\n        ) {\n            \"ngInject\";\n            this.pipPicturePaste = new PicturePaste($timeout);\n            this.option = new AddImageOption();\n            this.option.WebLink = false;\n            this.option.Galery = false;\n\n            this.text = this.text || 'PICTURE_EDIT_TEXT';\n            this.icon = this.icon || 'picture-no-border';\n            this.errorText = 'PICTURE_ERROR_LOAD';\n\n            this.control = new AvatarEditControl();\n            this.multiUpload = false;\n\n            this.control.reset = (afterDeleting: boolean) => {\n                this.reset(afterDeleting);\n            }\n            this.control.save = (id?: string, successCallback?: (response?: any) => void, errorCallback?: (error?: any) => void): void => {\n                this.save(id, successCallback, errorCallback);\n            }\n            // Add class\n            $element.addClass('pip-picture-edit');\n        }\n\n        public $postLink() {\n            this.controlElement = this.$element.children('.pip-picture-upload');\n            this.inputElement = this.controlElement.children('input[type=file]');\n\n            // Add paste listener\n            this.$element.children('.pip-picture-upload').focus(() => {\n                this.pipPicturePaste.addPasteListener((item) => {\n                    this.readItemLocally(item.url, item.uriData, item.file, item.picture);\n                });\n            });\n\n            this.$element.children('.pip-picture-upload').blur(() => {\n                this.pipPicturePaste.removePasteListener();\n            });\n\n            // Execute callback\n            if (this.pipCreated) {\n                this.pipCreated({\n                    $event: { $control: this.control },\n                    $control: this.control\n                });\n            }\n\n            // Initialize control\n            this.control.reset();\n        }\n\n        public $onChanges(changes: AvatarEditBindingsChanges): void {\n            if (changes.pipRebind && changes.pipRebind.currentValue !== changes.pipRebind.previousValue) {\n                this.pipRebind = changes.pipRebind.currentValue;\n            }\n            if (changes.pipReset && changes.pipReset.currentValue !== changes.pipReset.previousValue) {\n                this.pipReset = changes.pipReset.currentValue;\n            }\n\n            let isReset: boolean = false;\n            if (this.pipRebind) {\n\n                if (changes.pipId && changes.pipId.currentValue !== changes.pipId.previousValue) {\n                    this.pipId = changes.pipId.currentValue;\n                    if (this.pipReset !== false) {\n                        isReset = true;\n                    }\n                }\n\n                if (changes.ngDisabled && changes.ngDisabled.currentValue !== changes.ngDisabled.previousValue) {\n                    this.ngDisabled = changes.ngDisabled.currentValue;\n                }\n            }\n            if (changes.pipId && changes.pipId.currentValue && this.control && this.control.state != AvatarStates.Deleted && this.control.state != AvatarStates.Changed ) {\n                isReset = true;\n            }\n            if (isReset) {\n                this.control.reset();\n            }\n        }\n\n        public reset(afterDeleting: boolean): void {\n            this.control.progress = 0;\n            this.control.uploading = false;\n            this.control.uploaded = false;\n\n            this.control.file = null;\n            this.control.state = AvatarStates.Original;\n            this.control.url = '';\n            this.control.uriData = null;\n\n            if (!afterDeleting) {\n                var url = this.pipId ? this.pipAvatarData.getAvatarUrl(this.pipId) : '';\n\n                if (!url) return;\n\n                this.control.progress = 0;\n                this.control.url = url;\n                this.control.uploaded = this.control.url != '';\n                this.onChange();\n\n            } else this.onChange();\n        }\n\n        public saveAvatar(id: string, successCallback?: (response?: any) => void, errorCallback?: (error?: any) => void): void {\n            if (!id) {\n                id = this.pipId;\n            }\n            if (this.control.file !== null) {\n                let fd: FormData = new FormData();\n                fd.append('file', this.control.file);\n                this.control.uploading = true;\n                this.$http.put(this.pipAvatarData.getAvatarUrl(id), fd, <any>{\n                    uploadEventHandlers: {\n                        progress: (e: any) => {\n                            if (e.lengthComputable) {\n                                this.control.progress = (e.loaded / e.total) * 100;\n                            }\n                        }\n                    },\n                    headers: { 'Content-Type': undefined }\n                })\n                    .success((response: any) => {\n                        this.control.progress = 100;\n\n                        this.pipId = response.id;\n                        this.$rootScope.$broadcast(ReloadAvatar, this.pipId);\n                        \n                        this.control.reset();\n                        if (successCallback) {\n                            successCallback(response);\n                        }\n                    })\n                    .error((error: any) => {\n                        this.control.progress = 0;\n                        this.control.uploading = false;\n                        this.control.upload = false;\n                        this.control.progress = 0;\n                        this.control.state = AvatarStates.Original; //AvatarStates.Error;\n\n                        if (errorCallback) {\n                            errorCallback(error);\n                        } else {\n                            this.$log.error(error);\n                        }\n                    });\n            }\n        }\n\n        public deletePicture(successCallback?: (response?: any) => void, errorCallback?: (error?: any) => void): void {\n            this.pipAvatarData.deleteAvatar(\n                this.pipId,\n                () => {\n                    this.$rootScope.$broadcast(ReloadAvatar, this.pipId);\n                    this.control.reset(true);\n\n                    if (successCallback) { successCallback(); }\n                },\n                (error: any) => {\n                    this.control.uploading = false;\n                    this.control.upload = false;\n                    this.control.progress = 0;\n                    this.control.state = AvatarStates.Original; // AvatarStates.Error;\n\n                    if (errorCallback) {\n                        errorCallback(error);\n                    } else {\n                        this.$log.error(error);\n                    }\n                }\n            );\n        }\n\n        public save(id: string, successCallback?: (response?: any) => void, errorCallback?: (error?: any) => void): void {\n            // Process changes of the image\n            if (this.control.state == AvatarStates.Changed) {\n                this.saveAvatar(id, successCallback, errorCallback);\n            }\n            // Process deletion of the image\n            else if (this.control.state == AvatarStates.Deleted) {\n                this.deletePicture(successCallback, errorCallback);\n            }\n            // Process if no changes were made \n            else {\n                if (successCallback) successCallback();\n            }\n        }\n\n        // Visual publics\n        public empty(): boolean {\n            return this.control.url == '' && !this.control.uploading;\n        };\n\n        public isUpdated(): boolean {\n            return this.control.state != AvatarStates.Original;\n        };\n\n        // Process user events\n        public readItemLocally(url, uriData, file, picture): void {\n            if (picture) {\n                // todo set avatar\n                this.control.url = this.pipAvatarData.getAvatarUrl(this.pipId);\n            } else {\n                this.control.file = file;\n                this.control.url = file ? uriData : url ? url : '';\n                // todo uriData - save as blob\n            }\n\n            this.control.state = AvatarStates.Changed;\n            this.onChange();\n        };\n\n        public onDeleteClick($event: JQueryEventObject): void {\n            if ($event) {\n                $event.stopPropagation();\n            }\n\n            this.controlElement.focus();\n            this.control.file = null;\n            this.control.url = '';\n            this.control.state = AvatarStates.Deleted;\n\n            this.onChange();\n        };\n\n        public onKeyDown($event: KeyboardEvent): void {\n            if ($event.keyCode == 13 || $event.keyCode == 32) {\n                setTimeout(() => {\n                    this.controlElement.trigger('click');\n                }, 0);\n            } else if ($event.keyCode == 46 || $event.keyCode == 8) {\n                this.control.file = null;\n                this.control.url = '';\n                this.control.state = AvatarStates.Deleted;\n\n                this.onChange();\n            } else if ($event.keyCode == 27) {\n                this.control.reset();\n            }\n        };\n\n        // Clean up url to remove broken icon\n        public onImageError($event: JQueryEventObject): void {\n            this.$scope.$apply(() => {\n                this.control.url = '';\n                let image = $($event.target);\n                this.control.state = AvatarStates.Original; // AvatarStates.Error;\n                this.pipPictureUtils.setErrorImageCSS(image, { width: 'auto', height: '100%' });\n            });\n        };\n\n        // When image is loaded resize/reposition it\n        public onImageLoad($event: JQueryEventObject) {\n            let image = $($event.target);\n            let container: any = {}; //JQuery = _.cloneDeep(this.controlElement);\n            container.clientWidth = 80;\n            container.clientHeight = 80;\n            this.pipPictureUtils.setImageMarginCSS(container, image);\n            this.control.uploading = false;\n        };\n\n        // On change event\n        public onChange() {\n            if (this.pipChanged) {\n                this.pipChanged({\n                    $event: { $control: this.control },\n                    $control: this.control\n                });\n            }\n        };\n\n    }\n\n    const AvatarEditComponent: ng.IComponentOptions = {\n        bindings: AvatarEditBindings,\n        templateUrl: 'picture_edit/PictureEdit.html',\n        controller: AvatarEditController\n    }\n\n    angular\n        .module('pipAvatarEdit', ['ui.event', 'pipPictureUtils', 'pipPictures.Templates', 'pipFiles'])\n        .config(ConfigAvatarEditTranslations)\n        .component('pipAvatarEdit', AvatarEditComponent);\n}\n\n","﻿const ConfigCameraDialogTranslations = (pipTranslateProvider: pip.services.ITranslateProvider) => {\n    pipTranslateProvider.translations('en', {\n        'TAKE_PICTURE': 'Take a picture',\n        'WEB_CAM_ERROR': 'Webcam is missing or was not found'\n    });\n    pipTranslateProvider.translations('ru', {\n        'TAKE_PICTURE': 'Сделать фото',\n        'WEB_CAM_ERROR': 'Web-камера отсутствует или не найдена'\n    });\n}\n\ndeclare var Webcam: any;\ndeclare var Camera: any;\n{\n    class CameraDialogController {\n        public webCamError: boolean\n        public theme: string;\n        public browser: string;\n        public freeze: boolean;\n\n        constructor(\n            private $mdDialog: angular.material.IDialogService,\n            private $rootScope: ng.IRootScopeService,\n            private $timeout: ng.ITimeoutService,\n            private $mdMenu,\n            private pipSystemInfo: pip.services.ISystemInfo\n        ) {\n            \"ngInject\";\n\n            this.theme = this.$rootScope[pip.themes.ThemeRootVar];\n            this.browser = this.pipSystemInfo.os;\n            this.freeze = false;\n\n            this.onInit();\n        }\n\n        private onInit() {\n\n\n            if (this.browser !== 'android') {\n                Webcam.init();\n\n                setTimeout(() => {\n                    Webcam.attach('.camera-stream');\n                }, 0);\n\n                Webcam.on('error', (err: any) => {\n                    this.webCamError = true;\n                    console.error(err);\n                });\n\n                Webcam.set({\n                    width: 400,\n                    height: 300,\n\n                    dest_width: 400,\n                    dest_height: 300,\n\n                    crop_width: 400,\n                    crop_height: 300,\n\n                    image_format: 'jpeg',\n                    jpeg_quality: 90\n                });\n\n                //Webcam.setSWFLocation('../../../dist/webcam.swf');\n                Webcam.setSWFLocation('webcam.swf');\n\n            } else {\n                document.addEventListener(\"deviceready\", this.onDeviceReady, false);\n            }\n        }\n\n        // todo add logic in callbacks\n        public onDeviceReady() {\n            (navigator as any).camera.getPicture((data) => { this.onSuccess(data); }, (message) => { this.onFail(message); },\n                {\n                    sourceType: Camera.PictureSourceType.CAMERA,\n                    correctOrientation: true,\n                    quality: 75,\n                    targetWidth: 200,\n                    destinationType: Camera.DestinationType.DATA_URL\n                });\n        }\n\n        public onSuccess(imageData) {\n            //var picture = imageData;\n            var picture = 'data:image/jpeg;base64,' + imageData;\n            this.$mdDialog.hide(picture);\n        }\n\n        public onFail(message) {\n            alert('Failed because: ' + message);\n            this.$mdDialog.hide();\n        }\n\n        public onTakePictureClick() {\n            if (Webcam) {\n                if (this.freeze) {\n                    Webcam.snap((dataUri) => {\n                        this.freeze = false;\n                        this.$mdDialog.hide(dataUri);\n                    });\n                } else {\n                    this.freeze = true;\n                    Webcam.freeze();\n                }\n            }\n        }\n\n        public onResetPicture() {\n            this.freeze = false;\n            Webcam.unfreeze();\n        }\n\n        public onCancelClick() {\n            this.$mdDialog.cancel();\n        }\n    }\n\n\n    angular\n        .module('pipCameraDialog')\n        .config(ConfigCameraDialogTranslations)\n        .controller('pipCameraDialogController', CameraDialogController);\n\n}","import { ICameraDialogService } from './ICameraDialogService';\n\ndeclare var Webcam: any;\n\nclass CameraDialogService implements ICameraDialogService {\n    private _mdDialog: angular.material.IDialogService;\n\n    constructor($mdDialog: angular.material.IDialogService) {\n        this._mdDialog = $mdDialog;\n\n    }\n\n    public show(successCallback?: (result) => void, cancelCallback?: () => void) {\n        this._mdDialog.show({\n            templateUrl: 'camera_dialog/CameraDialog.html',\n            clickOutsideToClose: true,\n            controller: 'pipCameraDialogController',\n            controllerAs: '$ctrl'\n        })\n        .then(\n            (result) => {\n                Webcam.reset();\n                if (successCallback) {\n                    successCallback(result);\n                }\n            }, \n            () => {\n                Webcam.reset();\n            }\n        );\n\n    }\n\n}\n\nangular\n    .module('pipCameraDialog')\n    .service('pipCameraDialog', CameraDialogService);","angular\n    .module('pipCameraDialog',\n        ['ngMaterial', 'pipServices', 'pipPictures.Templates']);\n\nimport './ICameraDialogService';\nimport './CameraDialogService';\nimport './CameraDialogController';\n\n\nexport * from './ICameraDialogService';\n","import { IPictureUtilsService } from '../utilities/IPictureUtils';\nimport { PicturePaste } from '../utilities/PicturePaste';\nimport { IPictureDataService } from '../data/IPictureDataService';\nimport { Attachment } from '../data';\n\n{\n    class ContainerSize {\n        public w: number;\n        public h: number;\n    }\n\n    interface ICollageBindings {\n        [key: string]: any;\n\n        pipPictureIds: any;\n        pipSrcs: any;\n        pipPictures: any;\n        uniqueCode: any;\n        multiple: any;\n        allowOpen: any;\n        pipRebind: any;\n    }\n\n    const CollageBindings: ICollageBindings = {\n        pipPictureIds: '<?',\n        pipSrcs: '<?',\n        pipPictures: '<?',\n        uniqueCode: '<?pipUniqueCode',\n        multiple: '<?pipMultiple',\n        allowOpen: '<?pipOpen',\n        pipRebind: '<?',\n    }\n\n    class CollageBindingsChanges implements ng.IOnChangesObject, ICollageBindings {\n        [key: string]: ng.IChangesObject<any>;\n\n        pipPictureIds: ng.IChangesObject<string[]>;\n        pipSrcs: ng.IChangesObject<string[]>;\n        pipPictures: ng.IChangesObject<Attachment[]>;\n        uniqueCode: ng.IChangesObject<string>;\n        multiple: ng.IChangesObject<boolean>;\n        allowOpen: ng.IChangesObject<boolean>;\n        pipRebind: ng.IChangesObject<boolean>;\n    }\n\n    class CollageController {\n        private debounceCalculateResize: any;\n\n        public pipPictureIds: string[];\n        public pipSrcs: string[];\n        public pipPictures: Attachment[];\n        public uniqueCode: string;\n        public multiple: boolean;\n        public allowOpen: boolean;\n        public pipRebind: boolean;\n\n        private svgData: any;\n        private resized: number;\n        private collageSchemes: any;\n\n        constructor(\n            private $log: ng.ILogService,\n            private $scope: ng.IScope,\n            private $rootScope: ng.IRootScopeService,\n            private $element: JQuery,\n            private pipPictureData: IPictureDataService,\n            private pipPictureUtils: IPictureUtilsService,\n            private pipCodes: pip.services.ICodes\n        ) {\n            \"ngInject\";\n\n            // Add class\n            $element.addClass('pip-collage');\n\n            this.collageSchemes = pipPictureUtils.getCollageSchemes(),\n                this.resized = 0;\n            this.svgData = '<?xml version=\"1.0\" encoding=\"utf-8\"?>' +\n                '<!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\" \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\">' +\n                '<svg version=\"1.1\"'+\n                    'xmlns=\"http://www.w3.org/2000/svg\"'+\n                    'xmlns:xlink=\"http://www.w3.org/1999/xlink\"'+\n                    'x=\"0px\" y=\"0px\"'+\n                    'viewBox=\"0 0 510 510\"'+\n                    'style=\"enable-background:new 0 0 515 515;\"'+\n                    'xml:space=\"preserve\">'+\n                    '<defs>'+\n                    '<style type=\"text/css\"><![CDATA['+\n                    '#symbol-picture-no-border {'+\n                    '        transform-origin: 50% 50%;'+\n                    '        transform: scale(0.6, -0.6);'+\n                    '    }'+\n                    '        ]]></style>'+\n                    '        </defs>'+\n                    '<rect x=\"0\" width=\"515\" height=\"515\"/>'+\n                    '<path id=\"symbol-picture-no-border\" d=\"M120 325l136-102 69 33 136-82 0-54-410 0 0 136z m341 15c0-28-23-51-51-51-29 0-52 23-52 51 0 29 23 52 52 52 28 0 51-23 51-52z\" />'+\n                    '</svg>';\n\n            this.debounceCalculateResize = _.debounce(() => { this.calculateResize(); }, 50);\n        }\n\n        public $postLink() {\n            this.$scope.getElementDimensions = () => {\n                let dimension = {\n                    'h': this.$element.height(),\n                    'w': this.$element.width()\n                };\n\n                return dimension;\n            }\n\n            this.$scope.$watch(this.$scope.getElementDimensions, (newValue: ContainerSize, oldValue: ContainerSize) => {\n                if (newValue && oldValue && oldValue.h == newValue.h && oldValue.w == newValue.w) return;\n                this.debounceCalculateResize();\n            }, true);\n\n            this.generateContent();\n        }\n\n        public $onChanges(changes: CollageBindingsChanges): void {\n            if (changes.pipRebind && changes.pipRebind.currentValue !== changes.pipRebind.previousValue) {\n                this.pipRebind = changes.pipRebind.currentValue;\n            }\n\n            if (changes.allowOpen && changes.allowOpen.currentValue !== changes.allowOpen.previousValue) {\n                this.allowOpen = changes.allowOpen.currentValue;\n            }\n\n            let isChanged: boolean = false;\n            if (this.pipRebind) {\n                if (changes.pipSrcs && !_.isEqual(changes.pipSrcs.currentValue, changes.pipSrcs.previousValue)) {\n                    this.pipSrcs = changes.pipSrcs.currentValue;\n                    isChanged = true;\n                }\n                if (changes.pipPictureIds && !_.isEqual(changes.pipPictureIds.currentValue, changes.pipPictureIds.previousValue)) {\n                    this.pipPictureIds = changes.pipPictureIds.currentValue;\n                    isChanged = true;\n                }\n                if (changes.pipPictures && !_.isEqual(changes.pipPictures.currentValue, changes.pipPictures.previousValue)) {\n                    this.pipPictures = changes.pipPictures.currentValue;\n                    isChanged = true;\n                }\n            }\n\n            if (isChanged) {\n                this.generateContent();\n            }\n        }\n\n        public calculateResize(): void {\n            let ims = this.$element.find('img');\n            let i: number = 0;\n            for (i; i < ims.length; i++) {\n                let container = angular.element(ims[i].parentElement);\n                let image = angular.element(ims[i]);\n\n                if (image.css('display') != 'none') {\n                    this.pipPictureUtils.setImageMarginCSS(container, image);\n                }\n            }\n\n            let icns = this.$element.find('md-icon');\n\n            for (i; i < icns.length; i++) {\n                let container = angular.element(icns[i].parentElement);\n                let icn = angular.element(icns[i]);\n                if (container.css('display') != 'none') {\n                    this.pipPictureUtils.setIconMarginCSS(container[0], icn);\n                }\n            }\n        }\n\n        // Clean up url to remove broken icon\n        public onImageError($event: JQueryEventObject): void {\n            let image = $($event.target);\n            let container = image.parent();\n            let defaultBlock = container.children('div');\n            let defaultIcon = image.parent().find('md-icon');\n\n            defaultBlock.css('display', 'block');\n            image.css('display', 'none');\n            this.pipPictureUtils.setIconMarginCSS(container[0], defaultIcon);\n            defaultIcon.empty().append(this.svgData);\n        }\n\n        // When image is loaded resize/reposition it\n        public onImageLoad($event: JQueryEventObject) {\n            let image = $($event.target);\n            let container = image.parent();\n            let defaultBlock = container.children('div');\n\n            this.pipPictureUtils.setImageMarginCSS(container, image);\n            defaultBlock.css('display', 'none');\n        }\n\n        public getScheme(count: number): any {\n            let schemes = this.collageSchemes[count - 1];\n\n            // If nothing to choose from then return\n            if (schemes.length == 1) return schemes[0];\n\n            // Calculate unique had code\n            let uniqueCode: string = this.uniqueCode ? this.uniqueCode : '';\n            let hash = this.pipCodes.hash(uniqueCode);\n\n            // Return reproducable scheme by hash\n            return schemes[hash % schemes.length];\n        }\n\n        public getImageUrls(): string[] {\n            // Simply return sources\n            if (this.pipSrcs) {\n\n                return _.clone(this.pipSrcs);\n            }\n\n            let i: number;\n            let result: string[] = [];\n            // Calculate urls if picture ids are specified\n            if (this.pipPictureIds) {\n                for (i = 0; i < this.pipPictureIds.length; i++) {\n                    result.push(this.pipPictureData.getPictureUrl(this.pipPictureIds[i]));\n                }\n            } else if (this.pipPictures) {\n                for (i = 0; i < this.pipPictures.length; i++) {\n                    let url = this.pipPictures[i].uri ? this.pipPictures[i].uri : this.pipPictureData.getPictureUrl(this.pipPictures[i].id);\n                    result.push(url);\n                }\n            }\n\n            // Return an empty array otherwise\n            return result;\n        }\n\n        public generatePicture(urls: string[], scheme: any): string {\n            let url: string = urls[0];\n            let containerClasses: string = '';\n            let pictureClasses: string = '';\n\n            urls.splice(0, 1);\n\n            containerClasses += scheme.fullWidth ? ' pip-full-width' : '';\n            containerClasses += scheme.fullHeight ? ' pip-full-height' : '';\n            containerClasses += ' flex-' + scheme.flex;\n\n            pictureClasses += scheme.leftPadding ? ' pip-left' : '';\n            pictureClasses += scheme.rightPadding ? ' pip-right' : '';\n            pictureClasses += scheme.topPadding ? ' pip-top' : '';\n            pictureClasses += scheme.bottomPadding ? ' pip-bottom' : '';\n\n            if (this.allowOpen) {\n                return '<a class=\"pip-picture-container' + containerClasses + '\" flex=\"' + scheme.flex + '\" '\n                    + 'href=\"' + url + '\"  target=\"_blank\">'\n                    + '<div class=\"pip-picture' + pictureClasses + '\"><img src=\"' + url + '\"/>'\n                    + '<div><md-icon class=\"collage-error-icon\" md-svg-icon=\"icons:picture-no-border\"></md-icon></div></div></a>';\n            }\n\n            return '<div class=\"pip-picture-container' + containerClasses + '\" flex=\"' + scheme.flex + '\">'\n                + '<div class=\"pip-picture' + pictureClasses + '\"><img src=\"' + url + '\"/>'\n                + '<div><md-icon class=\"collage-error-icon\" md-svg-icon=\"icons:picture-no-border\"></md-icon></div></div></div>';\n        }\n\n        public generatePictureGroup(urls: string[], scheme: any): string {\n            let classes: string = '';\n            let result: string;\n            let i: number;\n\n            classes += scheme.fullWidth ? ' pip-full-width' : '';\n            classes += scheme.fullHeight ? ' pip-full-height' : '';\n            classes += ' flex-' + scheme.flex;\n            classes += ' layout-' + scheme.layout;\n\n            result = '<div class=\"pip-picture-group layout' + classes + '\" flex=\"'\n                + scheme.flex + '\" layout=\"' + scheme.layout + '\">';\n\n            // Generate content for children recursively\n            for (i = 0; i < scheme.children.length; i++) {\n                result += this.generate(urls, scheme.children[i]);\n            }\n            result += '</div>';\n\n            return result;\n        }\n\n        public generate(urls: string[], scheme: any): string {\n            if (scheme.group) {\n                return this.generatePictureGroup(urls, scheme);\n            }\n\n            return this.generatePicture(urls, scheme);\n        }\n\n        public generateContent(): void {\n            // Unbind previously defined actions handlers\n            this.$element.find('img')\n                .unbind('error')\n                .unbind('load');\n\n            // Clean up content\n            this.$element.empty();\n\n            // Calculate list of image urls\n            let urls: string[] = this.getImageUrls();\n            let scheme: any;\n            let html: string;\n\n            // And exit if nothing to show\n            if (urls.length == 0) {\n                this.$element.hide();\n\n                return;\n            }\n\n            // Limit collage only to one element if not specified otherwise\n            if (urls.length > 8) {\n                if (!this.multiple) {\n                    urls.length = 8;\n                }\n            }\n\n            if (urls.length <= 8) {\n                // Get scheme for visualization\n                scheme = this.getScheme(urls.length);\n\n                // Generate and add content\n                html = '<div class=\"pip-collage-section\">' + this.generate(urls, scheme) + '</div>';\n                html += '<div class=\"clearfix\"></div>';\n                this.$element.html(html);\n            } else {\n                html = '';\n\n                while (urls.length > 0) {\n                    let partialUrls = urls.splice(0, 8);\n\n                    // Get scheme for visualization\n                    scheme = this.getScheme(partialUrls.length);\n\n                    // Generate and add content\n                    html += '<div class=\"pip-collage-section\">' + this.generate(partialUrls, scheme) + '</div>';\n                }\n\n                html += '<div class=\"clearfix\"></div>';\n                this.$element.html(html);\n            }\n\n            // Bind events to images...\n            this.$element.find('img')\n                .bind('error', (event) => { this.onImageError(event); })\n                .bind('load', (event) => { this.onImageLoad(event); });\n\n            // Show the new element\n            this.$element.show();\n        }\n\n    }\n\n    const CollageComponent: ng.IComponentOptions = {\n        bindings: CollageBindings,\n        controller: CollageController\n    }\n\n    angular\n        .module('pipCollage', [])\n        .component('pipCollage', CollageComponent);\n}\n\n","export class Attachment {\n\n    public constructor(id?: string, uri?: string, name?: string) {\n        this.id = id;\n        this.uri = uri;\n        this.name = name;\n    }\n\n    public id?: string;\n    public uri?: string;\n    public name?: string;\n}\n","import { IAvatarDataService, IAvatarDataProvider, AvatarConfig } from './IAvatarDataService';\nimport { BlobInfo } from './BlobInfo';\n\nclass AvatarData implements IAvatarDataService {\n\n    constructor(\n        private _config: AvatarConfig,\n        private pipRest: pip.rest.IRestService\n    ) {\n         \"ngInject\";\n     }\n\n    public get AvatarRoute(): string {\n        return this._config.AvatarRoute;\n    }\n\n    public get ShowOnlyNameIcon(): boolean {\n        return this._config.ShowOnlyNameIcon;\n    }\n\n    public get DefaultInitial(): string {\n        return this._config.DefaultInitial;\n    }\n\n    public getAvatarUrl(id: any): string {\n        return this.pipRest.serverUrl + this._config.AvatarRoute + '/' + id;\n    }\n\n    public postAvatarUrl(): string {\n        return this.pipRest.serverUrl + this._config.AvatarRoute;\n    }\n\n    public deleteAvatar(id: string, successCallback?: () => void, errorCallback?: (error: any) => void): void {\n        let params = {};\n        params[this._config.AvatarFieldId] = id;\n        this.pipRest.getResource(this._config.AvatarResource).remove(\n            params,\n            null,\n            successCallback,\n            errorCallback\n        );\n    }\n\n    public createAvatar(data: any, successCallback?: (data: BlobInfo) => void,\n        errorCallback?: (error: any) => void, progressCallback?: (progress: number) => void): void {\n\n    }\n\n}\n\nclass AvatarDataProvider implements IAvatarDataProvider {\n    private _service: IAvatarDataService;\n    private _config: AvatarConfig;\n\n    constructor(\n        private pipRestProvider: pip.rest.IRestProvider\n    ) {\n        this._config = new AvatarConfig();\n        \n        this._config.AvatarRoute = '/api/1.0/avatars';\n        this._config.AvatarResource = 'avatars';\n        this._config.AvatarFieldId = 'avatar_id';\n        this._config.ShowOnlyNameIcon = false;\n        this._config.DefaultInitial = '&';\n    }\n\n    public get AvatarRoute(): string {\n        return this._config.AvatarRoute;\n    }\n\n    public set AvatarRoute(value: string) {\n        this._config.AvatarRoute = value;\n        this.pipRestProvider.registerOperation('avatars', this._config.AvatarRoute + '/:avatar_id');\n    }\n\n    public get AvatarResource(): string {\n        return this._config.AvatarResource;\n    }\n\n    public set AvatarResource(value: string) {\n        this._config.AvatarResource = value;\n    }\n\n    public get AvatarFieldId(): string {\n        return this._config.AvatarFieldId;\n    }\n\n    public set AvatarFieldId(value: string) {\n        this._config.AvatarFieldId = value;\n    }\n\n    public get ShowOnlyNameIcon(): boolean {\n        return this._config.ShowOnlyNameIcon;\n    }\n\n    public set ShowOnlyNameIcon(value: boolean) {\n        this._config.ShowOnlyNameIcon = value;\n    }\n\n    public get DefaultInitial(): string {\n        return this._config.DefaultInitial;\n    }\n\n    public set DefaultInitial(value: string) {\n        this._config.DefaultInitial = value;\n    }\n\n    public $get(\n        pipRest: pip.rest.IRestService\n    ) {\n        \"ngInject\";\n\n        if (this._service == null) {\n            this._service = new AvatarData(this._config, pipRest);\n        }\n\n        return this._service;\n    }\n\n}\n\n\nangular\n    .module('pipAvatarData', ['pipRest'])\n    .provider('pipAvatarData', AvatarDataProvider);\n\n\n","export class BlobInfo {\n\n    public constructor(id: string, group: string, name: string, size?: number,\n        content_type?: string, create_time?: Date, expire_time?: Date, completed?: boolean) {\n        this.id = id;\n        this.group = group;\n        this.name = name;\n        this.size = size;\n        this.content_type = content_type;\n        this.create_time = create_time;\n        this.expire_time = expire_time;\n        this.completed = completed;\n    }\n\n    /* Identification */\n    public id: string;\n    public group: string;\n    public name: string;\n\n    /* Content */\n    public size: number;\n    public content_type: string;\n    public create_time: Date;\n    public expire_time: Date;\n    public completed: boolean;\n}","export class DataPage<T> {\n    public constructor(data: T[] = null, total: number = null) {\n\t\tthis.total = total;\n\t\tthis.data = data;\n\t}\n\n    public total: number;\n    public data: T[];\n}","import { BlobInfo } from './BlobInfo';\n\nexport class AvatarConfig {\n    // custom avatar route\n    public AvatarRoute: string;\n    // custom avatar resource name\n    public AvatarResource: string;\n    public AvatarFieldId: string;\n    // show only first letter for name as avatar \n    public ShowOnlyNameIcon: boolean;\n    // default first name  letter\n    public DefaultInitial: string;\n}\n\nexport const colorClasses = [\n    'pip-avatar-color-0', 'pip-avatar-color-1', 'pip-avatar-color-2', 'pip-avatar-color-3',\n    'pip-avatar-color-4', 'pip-avatar-color-5', 'pip-avatar-color-6', 'pip-avatar-color-7',\n    'pip-avatar-color-8', 'pip-avatar-color-9', 'pip-avatar-color-10', 'pip-avatar-color-11',\n    'pip-avatar-color-12', 'pip-avatar-color-13', 'pip-avatar-color-14', 'pip-avatar-color-15'\n];\n\nexport const colors = [\n    'rgba(239,83,80,1)', 'rgba(236,64,122,1)', 'rgba(171,71,188,1)',\n    'rgba(126,87,194,1)', 'rgba(92,107,192,1)', 'rgba(3,169,244,1)',\n    'rgba(0,188,212,1)', 'rgba(0,150,136,1)', 'rgba(76,175,80,1)',\n    'rgba(139,195,74,1)', 'rgba(205,220,57,1)', 'rgba(255,193,7,1)',\n    'rgba(255,152,0,1)', 'rgba(255,87,34,1)', 'rgba(121,85,72,1)',\n    'rgba(96,125,139,1)'\n];\n\nexport interface IAvatarDataService {\n    AvatarRoute: string;\n    ShowOnlyNameIcon: boolean;\n    DefaultInitial: string;\n\n    getAvatarUrl(id: any): string;\n    postAvatarUrl(): string;\n\n    deleteAvatar(id: string, successCallback?: () => void, errorCallback?: (error: any) => void): void;\n    createAvatar(data: any, successCallback?: (data: BlobInfo) => void,\n        errorCallback?: (error: any) => void, progressCallback?: (progress: number) => void): void;\n}\n\nexport interface IAvatarDataProvider extends ng.IServiceProvider {\n    AvatarRoute: string;\n    AvatarResource: string;\n    DefaultInitial: string;\n    ShowOnlyNameIcon: boolean;\n    AvatarFieldId: string;    \n}\n","import { BlobInfo } from './BlobInfo';\nimport { DataPage } from './DataPage';\n\nexport class PictureConfig {\n    public PictureRoute: string;\n    public DefaultErrorIcon: string;\n    public ShowErrorIcon: boolean;\n}\n\nexport interface IPictureDataService {\n    PictureRoute: string;\n    DefaultErrorIcon: string;\n    ShowErrorIcon: boolean;\n\n    getPictureUrl(id: string): string;\n    postPictureUrl(): string\n    readPictures(params: any, successCallback?: (data: DataPage<BlobInfo>) => void, errorCallback?: (error: any) => void): angular.IPromise<any>\n    readPictureInfo(params: any, successCallback?: (data: BlobInfo) => void, errorCallback?: (error: any) => void): angular.IPromise<any>;\n    readPicture(id: string, successCallback?: (data: any) => void, errorCallback?: (error: any) => void): angular.IPromise<any>;\n    deletePicture(id: string, successCallback?: () => void, errorCallback?: (error: any) => void): void;    \n}\n\n\nexport interface IPictureDataProvider extends ng.IServiceProvider {\n    PictureRoute: string;\n    DefaultErrorIcon: string;\n    ShowErrorIcon: boolean;\n\n    getPictureUrl(id: string): string;\n}\n","export class Image {\n    title: string;\n    link: string;\n    thumbnail: string;\n}\n","import { Attachment } from './Attachment';\n\nexport class ImageSet {\n\n    public constructor(id: string, title: string, picIds?: string[], create_time?: Date) {\n        this.id = id;\n        this.title = title;\n        this.pics = [];\n        this.create_time = create_time;\n    }\n\n    /* Identification */\n    public id: string;\n\n    /* Automatically set fields */\n    public create_time: Date;\n\n    /* Content */\n    public title: string;\n    public pics?: Attachment[];\n\n    /* Search */\n    public tags?: string[];\n    public all_tags?: string[];\n}","import { IImageSetDataService } from './IImageSetDataService';\nimport { ImageSet } from './ImageSet';\nimport { DataPage } from './DataPage';\n\nclass ImageSetData implements IImageSetDataService {\n    private RESOURCE: string = 'imagesets';\n\n    constructor(\n        private pipRest: pip.rest.IRestService,\n        private pipFormat: pip.services.IFormat\n\n    ) {\n        \"ngInject\";\n    }\n\n    public readImageSets(params: any, successCallback?: (data: DataPage<ImageSet>) => void,\n        errorCallback?: (error: any) => void): ng.IPromise<any> {\n\n        params = params || {};\n        // if (params.filter) {\n        //     params.filer = this.pipFormat.filterToString(params.filer);\n        // }\n\n        return this.pipRest.getResource(this.RESOURCE).page(params, successCallback, errorCallback);\n    }\n\n    public readImageSet(id: string, successCallback?: (data: ImageSet) => void,\n        errorCallback?: (error: any) => void): ng.IPromise<any> {\n\n        return this.pipRest.getResource(this.RESOURCE).get(\n            { imagesets_id: id },\n            successCallback,\n            errorCallback\n        );\n    }\n\n    public updateImageSet(id: string, data: ImageSet, successCallback?: (data: ImageSet) => void,\n        errorCallback?: (error: any) => void): void {\n\n        this.pipRest.getResource(this.RESOURCE).update(\n            { imagesets_id: id },\n            data,\n            successCallback,\n            errorCallback\n        );\n\n    }\n\n    public createImageSet(data: ImageSet, successCallback?: (data: any) => void,\n        errorCallback?: (error: any) => void): void {\n\n        this.pipRest.getResource(this.RESOURCE).save(\n            null,\n            data,\n            successCallback,\n            errorCallback\n        );\n    }\n\n\n    public deleteImageSet(id: string, successCallback?: () => void,\n        errorCallback?: (error: any) => void): void {\n\n        this.pipRest.getResource(this.RESOURCE).remove(\n            { imagesets_id: id },\n            null,\n            successCallback,\n            errorCallback\n        );\n    }\n}\n\nangular\n    .module('pipImageSetData', ['pipRest'])\n    .service('pipImageSetData', ImageSetData);\n\n","import { IPictureDataService, IPictureDataProvider, PictureConfig } from './IPictureDataService';\nimport { BlobInfo } from './BlobInfo';\nimport { DataPage } from './DataPage';\n\nclass PictureData implements IPictureDataService {\n    private RESOURCE: string = 'picture';\n    private RESOURCE_INFO: string = 'pictureInfo';\n\n    constructor(\n        private _config: PictureConfig,\n        private pipFormat: pip.services.IFormat,\n        private pipRest: pip.rest.IRestService\n    ) {\n        \"ngInject\";\n    }\n\n    public get PictureRoute(): string {\n        return this._config.PictureRoute;\n    }\n\n    public get ShowErrorIcon(): boolean {\n        return this._config.ShowErrorIcon;\n    }\n    \n    public get DefaultErrorIcon(): string {\n        return this._config.DefaultErrorIcon;\n    }\n\n    public getPictureUrl(id: string): string {\n        return this.pipRest.serverUrl + this._config.PictureRoute + '/' + id;\n    }\n\n    public postPictureUrl(): string {\n        return this.pipRest.serverUrl + this._config.PictureRoute;\n    }\n\n    public readPictures(params: any, successCallback?: (data: DataPage<BlobInfo>) => void, errorCallback?: (error: any) => void): angular.IPromise<any> {\n        params = params || {};\n        if (params.filter) {\n            params.filer = this.pipFormat.filterToString(params.filer);\n        }\n\n        return this.pipRest.getResource(this.RESOURCE).page(params, successCallback, errorCallback);\n    }\n\n    public readPictureInfo(params: any, successCallback?: (data: BlobInfo) => void, errorCallback?: (error: any) => void): angular.IPromise<any> {\n        params = params || {};\n        if (params.filter) {\n            params.filer = this.pipFormat.filterToString(params.filer);\n        }\n\n        return this.pipRest.getResource(this.RESOURCE_INFO).get(params, successCallback, errorCallback);\n    }\n\n    public readPicture(id: string, successCallback?: (data: any) => void, errorCallback?: (error: any) => void): angular.IPromise<any> {\n\n        return this.pipRest.getResource(this.RESOURCE).get({\n            picture_id: id\n        }, successCallback, errorCallback);\n    }\n\n    public deletePicture(id: string, successCallback?: () => void, errorCallback?: (error: any) => void): void {\n        this.pipRest.getResource(this.RESOURCE).remove(\n            { picture_id: id },\n            null,\n            successCallback,\n            errorCallback\n        );\n    }\n}\n\nclass PictureDataProvider implements IPictureDataProvider {\n    private _service: IPictureDataService;\n    private _config: PictureConfig;\n\n    constructor(\n        private pipRestProvider: pip.rest.IRestProvider\n    ) {\n        this._config = new PictureConfig();\n\n        this._config.PictureRoute = '/api/1.0/blobs';\n        this._config.ShowErrorIcon = true;\n        this._config.DefaultErrorIcon = 'picture-no-border';\n    }\n\n    public get PictureRoute(): string {\n        return this._config.PictureRoute;\n    }\n\n    public getPictureUrl(id: string): string {\n        return this.pipRestProvider.serverUrl + this._config.PictureRoute + '/' + id;\n    }\n\n    public set PictureRoute(value: string) {\n        this._config.PictureRoute = value;\n\n        this.pipRestProvider.registerOperation('pictures', this._config.PictureRoute + '/:picture_id');\n    }\n\n    public get DefaultErrorIcon(): string {\n        return this._config.DefaultErrorIcon;\n    }\n\n    public set DefaultErrorIcon(value: string) {\n        this._config.DefaultErrorIcon = value;\n\n        this.pipRestProvider.registerOperation('pictures', this._config.PictureRoute + '/:picture_id');\n    }\n\n    public get ShowErrorIcon(): boolean {\n        return this._config.ShowErrorIcon;\n    }\n\n    public set ShowErrorIcon(value: boolean) {\n        this._config.ShowErrorIcon = value;\n    }\n\n    public $get(\n        pipRest: pip.rest.IRestService,\n        pipFormat: pip.services.IFormat\n    ) {\n        \"ngInject\";\n\n        if (this._service == null) {\n            this._service = new PictureData(this._config, pipFormat, pipRest);\n        }\n\n        return this._service;\n    }\n\n}\n\n\nangular\n    .module('pipPictureData', ['pipRest'])\n    .provider('pipPictureData', PictureDataProvider);\n","﻿import { GallerySearchDialogParams } from './IGallerySearchDialogService'\nimport { IImageSetDataService, IPictureDataService, DataPage, Attachment, ImageSet } from '../data';\n\n\n\nconst ConfigGallerySearchDialogTranslations = (pipTranslateProvider: pip.services.ITranslateProvider) => {\n    pipTranslateProvider.translations('en', {\n        'IMAGE_GALLERY': 'Add from image gallery',\n        'SEARCH_PICTURES': 'Search for pictures...',\n        'IMAGE_START_SEARCH': 'Images will appear here once you start searching'\n    });\n    pipTranslateProvider.translations('ru', {\n        'IMAGE_GALLERY': 'Добавить из галереи изображений',\n        'SEARCH_PICTURES': 'Поиск изображений...',\n        'IMAGE_START_SEARCH': 'Картинки появятся после начала поиска'\n    });\n}\n\nclass GallerySearchDialogImage {\n    public checked: boolean;\n    public url: string;\n    public thumbnail: any\n    public item: Attachment\n}\n\nclass GallerySearchDialogController extends GallerySearchDialogParams {\n\n    public theme: string;\n\n    public prevSearch: string = '';\n    private url: string;\n    public images: any[];\n    public imagesSearchResult: any[];\n    public search: string;\n    public transaction: pip.services.Transaction;\n\n    constructor(\n        private $log: ng.ILogService,\n        private $mdDialog: angular.material.IDialogService,\n        private $rootScope: ng.IRootScopeService,\n        private $timeout: ng.ITimeoutService,\n        private $mdMenu,\n        public multiple: boolean,\n        private $http: ng.IHttpService,\n        private pipRest: pip.rest.IRestService,\n        private pipTransaction: pip.services.ITransactionService,\n        private pipImageSetData: IImageSetDataService,\n        private pipPictureData: IPictureDataService\n    ) {\n        \"ngInject\";\n\n        super();\n\n        // this.url = this.pipRest.serverUrl + '/api/images/search';\n        this.images = [];\n        this.theme = this.$rootScope[pip.themes.ThemeRootVar];\n        this.search = '';\n        this.imagesSearchResult = [];\n        this.transaction = this.pipTransaction.create('search');\n\n        this.focusSearchText();\n    }\n\n    public onSearchClick(): void {\n        if (this.transaction.busy()) return;\n\n        if (this.search == '' || this.search == this.prevSearch) return;\n\n        this.prevSearch = this.search;\n        this.imagesSearchResult = [];\n\n        // let requestUrl: string = this.url + '?q=' + this.search;\n\n        let transactionId: string = this.transaction.begin('ENTERING');\n        if (!transactionId) return;\n\n        this.pipImageSetData.readImageSets(\n            {\n                Search: this.search\n            },\n            (result: DataPage<ImageSet>) => {\n                if (this.transaction.aborted(transactionId)) return;\n\n                _.each(result.data, (item: ImageSet) => { // todo add type to image_set\n                    _.each(item.pics, (img: Attachment) => {\n                        let newImage: GallerySearchDialogImage = {\n                            checked: false,\n                            url: img.uri ? img.uri : this.pipPictureData.getPictureUrl(img.id),\n                            item: img,\n                            // todo ?? thumbnail\n                            thumbnail: img.uri ? img.uri : this.pipPictureData.getPictureUrl(img.id)\n                        };\n                        this.imagesSearchResult.push(newImage);\n                    })\n\n                })\n\n                this.transaction.end();\n            },\n            (error) => {\n                this.transaction.end(error);\n                this.$log.error(error);\n            }\n        )\n    } Attachment\n\n    public onStopSearchClick(): void {\n        this.transaction.abort();\n        this.prevSearch = '';\n    }\n\n    public onKeyPress($event: KeyboardEvent): void {\n        if ($event.keyCode === 13) {\n            this.onSearchClick();\n        }\n    }\n\n    public onImageClick(image: GallerySearchDialogImage): void {\n        if (this.transaction.busy()) { return; }\n\n        image.checked = !image.checked;\n\n        if (this.multiple) {\n            if (image.checked) {\n                this.images.push(image);\n            } else {\n                _.remove(this.images, { url: image.url });\n            }\n        } else {\n            if (image.checked) {\n                if (this.images.length > 0) {\n                    this.images[0].checked = false;\n                    this.images[0] = image;\n                } else {\n                    this.images.push(image);\n                }\n            } else {\n                this.images = [];\n            }\n        }\n    }\n\n    public onAddClick(): void {\n        if (this.transaction.busy()) { return; }\n\n        let result: Attachment[] = [];\n        this.images.forEach((image: GallerySearchDialogImage) => {\n            if (image.checked) {\n                result.push(image.item);\n            }\n        });\n        this.$mdDialog.hide(result);\n    }\n\n    public onCancelClick(): void {\n        this.$mdDialog.cancel();\n    }\n\n    public addButtonDisabled(): boolean {\n        return this.images.length == 0 || this.transaction.busy();\n    }\n\n    public focusSearchText(): void {\n        setTimeout(() => {\n            let element = $('.pip-gallery-search-dialog .search-images');\n            if (element.length > 0) {\n                element.focus();\n            }\n        }, 0);\n    }\n}\n\n\n\nangular\n    .module('pipGallerySearchDialog')\n    .config(ConfigGallerySearchDialogTranslations)\n    .controller('pipGallerySearchController', GallerySearchDialogController);","import { IGallerySearchDialogService, GallerySearchDialogParams } from './IGallerySearchDialogService';\nimport { Attachment } from '../data';\n\nclass GallerySearchDialogService implements IGallerySearchDialogService {\n    private _mdDialog: angular.material.IDialogService;\n\n    constructor($mdDialog: angular.material.IDialogService) {\n        this._mdDialog = $mdDialog;\n    }\n\n    public show(params: GallerySearchDialogParams, successCallback?: (result: Attachment[]) => void, cancelCallback?: () => void) {\n        this._mdDialog.show({\n            templateUrl: 'gallery_search_dialog/GallerySearchDialog.html',\n            clickOutsideToClose: true,\n            controller: 'pipGallerySearchController',\n            controllerAs: '$ctrl',\n            locals: params\n        })\n            .then(\n            (result: Attachment[]) => {\n                if (successCallback) {\n                    successCallback(result);\n                }\n            });\n    }\n\n}\n\nangular\n    .module('pipGallerySearchDialog')\n    .service('pipGallerySearchDialog', GallerySearchDialogService);","import { Attachment } from '../data';\n\nexport class GallerySearchDialogParams {\n    public multiple: boolean;\n}\n\nexport interface IGallerySearchDialogService {\n    show(params: GallerySearchDialogParams, successCallback?: (result: Attachment[][]) => void, cancelCallback?: () => void): any;\n}\n\n","angular\n    .module('pipGallerySearchDialog',\n        ['ngMaterial', 'pipPictures.Templates', 'pipCommonRest']);\n\nimport './IGallerySearchDialogService';\nimport './GallerySearchDialogService';\nimport './GallerySearchDialogController';\n\n\nexport * from './IGallerySearchDialogService';\n\n","import { IPictureUtilsService } from '../utilities/IPictureUtils';\nimport { IPictureDataService, Attachment } from '../data';\n\n{\n    interface IPictureBindings {\n        [key: string]: any;\n\n        src: any;\n        pictureId: any;\n        pipPicture: any;\n        defaultIcon: any;\n        pipRebind: any;\n    }\n\n    const PictureBindings: IPictureBindings = {\n        src: '<?pipSrc',\n        pictureId: '<?pipPictureId',\n        pipPicture: '<?',\n        defaultIcon: '<?pipDefaultIcon',\n        pipRebind: '<?'\n    }\n\n    class PictureBindingsChanges implements ng.IOnChangesObject, IPictureBindings {\n        [key: string]: ng.IChangesObject<any>;\n\n        src: ng.IChangesObject<string>;\n        pictureId: ng.IChangesObject<string>;\n        pipPicture: ng.IChangesObject<Attachment>;\n        defaultIcon: ng.IChangesObject<string>;\n        pipRebind: ng.IChangesObject<boolean>;\n    }\n\n    class PictureController {\n        private imageElement: any;\n        private defaultBlock: any;\n\n        public src: string;\n        public pictureId: string;\n        public pipPicture: Attachment;\n        public defaultIcon: string;\n        public pipRebind: boolean;\n\n        private postLink: boolean = false;\n        public errorText: string;\n        constructor(\n            private $scope: ng.IScope,\n            private $rootScope: ng.IRootScopeService,\n            private $element: JQuery,\n            private pipPictureUtils: IPictureUtilsService,\n            private pipPictureData: IPictureDataService\n        ) {\n            \"ngInject\";\n\n            this.errorText = 'PICTURE_ERROR_LOAD';\n\n            // Add class\n            this.$element.addClass('pip-picture');\n        }\n\n        public $postLink() {\n            this.imageElement = this.$element.children('img');\n            this.defaultBlock = this.$element.children('div');\n            this.defaultIcon = this.defaultIcon ? this.defaultIcon : this.pipPictureData.DefaultErrorIcon;\n            this.postLink = true;\n            this.bindControl();\n        }\n\n        public $onChanges(changes: PictureBindingsChanges): void {\n            if (changes.pipRebind && changes.pipRebind.currentValue !== changes.pipRebind.previousValue) {\n                this.pipRebind = changes.pipRebind.currentValue;\n            }\n\n            let isDataChange: boolean = false;\n            if (this.pipRebind) {\n                if (changes.src && changes.src.currentValue !== changes.src.previousValue) {\n                    this.src = changes.src.currentValue;\n                    isDataChange = true;\n                }\n\n                if (changes.pictureId && changes.pictureId.currentValue !== changes.pictureId.previousValue) {\n                    this.pictureId = changes.pictureId.currentValue;\n                    isDataChange = true;\n                }\n\n                if (changes.pipPicture && !_.isEqual(changes.pipPicture.currentValue, changes.pipPicture.previousValue)) {\n                    this.pipPicture = changes.pipPicture.currentValue;\n                    isDataChange = true;\n                }\n\n                if (changes.defaultIcon && changes.defaultIcon.currentValue !== changes.defaultIcon.previousValue) {\n                    this.defaultIcon = changes.defaultIcon.currentValue;\n                    this.defaultIcon = this.defaultIcon ? this.defaultIcon : this.pipPictureData.DefaultErrorIcon;\n                }\n            }\n\n            if (isDataChange && this.postLink) {\n                this.bindControl();\n            }\n        }\n\n        // Clean up url to remove broken icon\n        public onImageError($event: JQueryEventObject): void {\n            if (this.pipPictureData.ShowErrorIcon) {\n                this.$scope.$apply(() => {\n                    this.imageElement.css('display', 'none');\n                    this.defaultBlock.css('display', 'block');\n                });\n            } else {\n                this.$scope.$apply(() => {\n                    this.defaultBlock.css('display', 'none');\n                });\n            }\n        }\n\n        // When image is loaded resize/reposition it\n        public onImageLoad($event: JQueryEventObject): void {\n            let image: any = $($event.target);\n            this.pipPictureUtils.setImageMarginCSS(this.$element, image);\n            this.$element.children('div').css('display', 'none');\n        }\n\n        public bindControl(): void {\n            let url;\n            if (this.pictureId) {\n                url = this.pipPictureData.getPictureUrl(this.pictureId);\n                this.imageElement.attr('src', url);\n            } else if (this.src) {\n                this.imageElement.attr('src', this.src);\n            } else if (this.pipPicture) {\n                url = this.pipPicture.uri ? this.pipPicture.uri : this.pipPictureData.getPictureUrl(this.pipPicture.id);\n                this.imageElement.attr('src', url);\n            }\n        }\n    }\n\n    const PictureComponent: ng.IComponentOptions = {\n        bindings: PictureBindings,\n        template: '<img ui-event=\"{ error: \\'$ctrl.onImageError($event)\\', load: \\'$ctrl.onImageLoad($event)\\' }\"/>'\n        + '<div class=\"pip-picture-error\"><md-icon md-svg-icon=\"icons:{{$ctrl.defaultIcon}}\"></md-icon><div class=\"pip-default-text\"><span>{{ $ctrl.errorText | translate }}</span></div></div>',\n        controller: PictureController\n    }\n\n    angular\n        .module('pipPicture', [])\n        .component('pipPicture', PictureComponent);\n}\n","import { IPictureUtilsService } from '../utilities/IPictureUtils';\nimport { PicturePaste } from '../utilities/PicturePaste';\nimport { IPictureDataService, Attachment } from '../data';\nimport { AddImageResult } from '../add_image/AddImageResult';\n\nexport class PictureEditControl {\n    public reset: (afterDeleting?: boolean) => void;\n    public save: (successCallback?: (response?: Attachment) => void, errorCallback?: (error?: any) => void) => void;\n    public abort: () => void;\n    public error?: any;\n\n    public disabled: boolean = false;\n    public url: string = '';\n    public uriData: any;\n    public uri: string;\n    public id: string;\n    public name: string;\n    public progress: number = 0;\n    public uploaded: boolean = false;\n    public uploading: boolean = false;\n    public upload: boolean = false;\n    public loaded: boolean = false;\n    public file: any = null;\n    public state: string = PictureStates.Original;\n}\n\nexport class PictureStates {\n    static Original: string = 'original';\n    static Copied: string = 'copied';\n    static Changed: string = 'changed';\n    static Deleted: string = 'deleted';\n    static Error: string = 'error';\n}\n\n{\n\n    const ConfigPictureEditTranslations = (pipTranslateProvider: pip.services.ITranslateProvider) => {\n        pipTranslateProvider.translations('en', {\n            ERROR_WRONG_IMAGE_FILE: 'Incorrect image file. Please, choose another one',\n            PICTURE_EDIT_TEXT: 'Click here to upload a picture',\n            PICTURE_ERROR_LOAD: 'Error image loading'\n        });\n        pipTranslateProvider.translations('ru', {\n            ERROR_WRONG_IMAGE_FILE: 'Неправильный файл с изображением. Выберете другой файл',\n            PICTURE_EDIT_TEXT: 'Нажмите сюда для загрузки картинки',\n            PICTURE_ERROR_LOAD: 'Ошибка загрузки картинки'\n        });\n    }\n\n\n    class SenderEvent {\n        sender: PictureEditControl;\n    }\n\n    class PictureEvent {\n        $event: SenderEvent;\n        $control: PictureEditControl;\n    }\n\n    interface IPictureEditBindings {\n        [key: string]: any;\n\n        ngDisabled: any;\n        pipCreated: any;\n        pipChanged: any;\n        pipPictureId: any;\n        pipPicture: any;\n        pipAddedPicture: any;\n        text: any;\n        icon: any;\n        pipRebind: any;\n    }\n\n    const PictureEditBindings: IPictureEditBindings = {\n        ngDisabled: '<?',\n        pipCreated: '&?',\n        pipChanged: '&?',\n        pipPictureId: '=?',\n        pipPicture: '=?',\n        pipAddedPicture: '&?',\n        text: '<?pipDefaultText',\n        icon: '<?pipDefaultIcon',\n        pipRebind: '<?',\n    }\n\n    class PictureEditBindingsChanges implements ng.IOnChangesObject, IPictureEditBindings {\n        [key: string]: ng.IChangesObject<any>;\n\n        ngDisabled: ng.IChangesObject<boolean>;\n        pipCreated: ng.IChangesObject<(params: PictureEvent) => ng.IPromise<void>>;\n        pipChanged: ng.IChangesObject<(params: PictureEvent) => ng.IPromise<void>>;\n        pipPictureId: ng.IChangesObject<string>;\n        pipPicture: ng.IChangesObject<Attachment>;\n        pipAddedPicture: ng.IChangesObject<() => boolean>;\n        text: ng.IChangesObject<string>;\n        icon: ng.IChangesObject<string>;\n        pipRebind: ng.IChangesObject<boolean>;\n    }\n\n    class PictureEditController {\n        private controlElement: any;\n        private inputElement: any;\n        private pipPicturePaste: PicturePaste;\n        private pictureStartState: string;\n\n        public ngDisabled: boolean;\n        public pipCreated: (params: PictureEvent) => void;\n        public pipChanged: (params: PictureEvent) => void;\n        public text: string;\n        public icon: string;\n        public pipPictureId: string;\n        public pipPicture: Attachment;\n        public pipAddedPicture: () => boolean;\n        public pipRebind: boolean;\n\n        public multiUpload: boolean;\n        public errorText: string;\n\n        public control: PictureEditControl;\n\n        constructor(\n            private $log: ng.ILogService,\n            private $scope: ng.IScope,\n            private $rootScope: ng.IRootScopeService,\n            private $element: JQuery,\n            private pipPictureData: IPictureDataService,\n            private pipPictureUtils: IPictureUtilsService,\n            private $timeout: ng.ITimeoutService,\n            private pipFileUpload: pip.files.IFileUploadService\n        ) {\n            \"ngInject\";\n            this.pipPicturePaste = new PicturePaste($timeout);\n            this.pictureStartState = this.pipAddedPicture ? PictureStates.Copied : PictureStates.Original;\n\n            this.text = this.text || 'PICTURE_EDIT_TEXT';\n            this.icon = this.icon || 'picture-no-border';\n            this.errorText = 'PICTURE_ERROR_LOAD';\n\n            this.multiUpload = false;\n\n            this.control = new PictureEditControl();\n            this.control.state = this.pictureStartState;\n            this.control.reset = (afterDeleting: boolean) => {\n                this.resetImage(afterDeleting);\n            }\n            this.control.save = (successCallback?: (response?: Attachment) => void, errorCallback?: (error?: any) => void): void => {\n                this.saveImage(successCallback, errorCallback);\n            }\n            this.control.abort = (): void => {\n                this.abort();\n            }\n            // Add class\n            $element.addClass('pip-picture-edit');\n        }\n\n        public $postLink() {\n            this.controlElement = this.$element.children('.pip-picture-upload');\n            this.inputElement = this.controlElement.children('input[type=file]');\n            // Initialize control\n            this.control.reset();\n\n            // Execute callback\n            if (this.pipCreated) {\n                this.pipCreated({\n                    $event: { sender: this.control },\n                    $control: this.control\n                });\n            }\n        }\n\n        public abort(): void {\n            if (this.control.uploading) {\n                this.control.uploaded = false;\n                this.control.uploading = false;\n                this.control.progress = 0;\n                this.control.upload = null;\n            }\n        }\n\n        public $onChanges(changes: PictureEditBindingsChanges): void {\n            if (changes.pipRebind && changes.pipRebind.currentValue !== changes.pipRebind.previousValue) {\n                this.pipRebind = changes.pipRebind.currentValue;\n            }\n\n            let change = false;\n\n            if (changes.ngDisabled && changes.ngDisabled.currentValue !== changes.ngDisabled.previousValue) {\n                this.ngDisabled = changes.ngDisabled.currentValue;\n                this.control.disabled = this.ngDisabled; // ???\n                if (this.inputElement) {\n                    this.inputElement.attr('disabled', this.control.disabled);\n                }\n            }\n\n            if (this.pipRebind) {\n                if (changes.pipPictureId && changes.pipPictureId.currentValue !== this.pipPictureId) {\n                    this.pipPictureId = changes.pipPictureId.currentValue;\n                    change = true;\n                }\n            }\n\n            if (this.pipRebind) {\n                if (changes.pipPicture && !_.isEqual(changes.pipPicture.currentValue, this.pipPicture)) {\n                    this.pipPicture = changes.pipPicture.currentValue;\n                    change = true;\n                }\n            }\n            if (change) {\n                this.control.reset();\n            }\n        }\n\n        public resetImage(afterDeleting: boolean): void {\n            this.control.progress = 0;\n            this.control.uploading = false;\n            this.control.uploaded = false;\n            this.control.file = null;\n            this.control.state = this.pictureStartState;\n            this.control.url = '';\n            this.control.uri = null;\n            this.control.name = null;\n            this.control.uriData = null;\n            this.control.id = null;\n            var url = '';\n            if (!afterDeleting) {\n                if (this.pipPictureId) {\n                    url = this.pipPictureData.getPictureUrl(this.pipPictureId);\n                } else if (this.pipPicture) {\n                    url = this.pipPicture.uri ? this.pipPicture.uri : this.pipPicture.id ? this.pipPictureData.getPictureUrl(this.pipPicture.id) : null;\n                    this.control.uri = this.pipPicture.uri;\n                    this.control.name = this.pipPicture.name;\n                    this.control.id = this.pipPicture.id;\n                }\n                if (!url) return;\n\n                this.control.url = url;\n                this.control.uploaded = true;\n                this.onChange();\n            } else {\n                this.onChange();\n            }\n        }\n\n        public onFocus(): void {\n            this.pipPicturePaste.addPasteListener((item) => {\n                this.readItemLocally(item.url, item.uriData, item.file, item.picture);\n            });\n        }\n\n        public onBlur(): void {\n            this.pipPicturePaste.removePasteListener();\n        };\n\n        public savePicture(successCallback?: (response?: Attachment) => void, errorCallback?: (error?: any) => void): void {\n            if (this.control.id) {\n                this.control.uploading = false;\n                this.pipPicture = {\n                    id: this.control.id,\n                    uri: this.control.uri,\n                    name: this.control.name\n                }\n                this.pictureStartState = PictureStates.Original;\n                this.control.reset();\n                if (successCallback) {\n                    successCallback(this.pipPicture);\n                }\n            }\n            else if (this.control.file !== null) {\n                this.control.uploading = true;\n                this.pipFileUpload.upload(\n                    this.control.file,\n                    this.pipPictureData.postPictureUrl(),\n                    (data: any, error: any) => {\n                        if (!error) {\n                            this.pipPictureId = data.id;\n                            this.pipPicture = {\n                                id: data.id,\n                                uri: null,\n                                name: data.name\n                            }\n                            this.pictureStartState = PictureStates.Original;\n                            this.control.reset();\n                            if (successCallback) {\n                                successCallback(this.pipPicture);\n                            }\n                        } else {\n                            this.control.uploading = false;\n                            this.control.upload = false;\n                            this.control.progress = 0;\n                            this.pictureStartState = PictureStates.Error;\n                            if (errorCallback) {\n                                errorCallback(error);\n                            } else {\n                                this.$log.error(error);\n                            }\n                        }\n                    },\n                    (state: pip.files.FileUploadState, progress: number) => {\n                        this.control.progress = progress;\n                    }\n                );\n            } else if (this.control.uri && this.pipPicture) {\n                this.control.uploading = false;\n                if (this.control.uri) {\n                    this.pipPicture = {\n                        id: this.control.id,\n                        uri: this.control.uri,\n                        name: this.control.name\n                    }\n                    this.pictureStartState = PictureStates.Original;\n                    this.control.reset();\n                    if (successCallback) {\n                        successCallback(this.pipPicture);\n                    }\n                }\n            }\n        }\n\n        public deletePicture(successCallback?: (response?: any) => void, errorCallback?: (error?: any) => void): void {\n            if (this.pipPictureId) {\n                this.pipPictureData.deletePicture(\n                    this.pipPictureId,\n                    () => {\n                        this.pipPictureId = null;\n                        this.control.reset(true);\n\n                        if (successCallback) successCallback();\n                    },\n                    (error: any) => {\n                        this.control.uploading = false;\n                        this.control.upload = false;\n                        this.control.progress = 0;\n                        this.control.state = PictureStates.Error;\n\n                        if (errorCallback) {\n                            errorCallback(error);\n                        } else {\n                            this.$log.error(error);\n                        }\n                    });\n            } else {\n                this.control.uploading = false;\n                this.pipPicture = {\n                    id: null,\n                    uri: null,\n                    name: null\n                }\n\n                this.control.reset(true);\n                if (successCallback) successCallback(this.pipPicture);\n            }\n        }\n\n        public saveImage(successCallback?: (response?: any) => void, errorCallback?: (error?: any) => void): void {\n            // Process changes of the image\n            if (this.control.state == PictureStates.Changed) {\n                this.savePicture(successCallback, errorCallback);\n            }\n            // Process deletion of the image\n            else if (this.control.state == PictureStates.Deleted) {\n                this.deletePicture(successCallback, errorCallback);\n            }\n            // Process copied of the image\n            else if (this.control.state == PictureStates.Copied) {\n                this.pipPicture = {\n                    id: this.control.id,\n                    name: this.control.name,\n                    uri: this.control.uri\n                }\n                this.pictureStartState = PictureStates.Original;\n                this.control.reset();\n                successCallback(this.pipPicture);\n            }\n            // Process if no changes were made\n            else {\n                if (successCallback) {\n                    if (this.pipPicture) {\n                        successCallback(this.pipPicture);\n                    } else {\n                        successCallback(this.pipPictureId);\n                    }\n                }\n            }\n        }\n\n        // Visual publics\n        public empty(): boolean {\n            return (this.control.url == '' && !this.control.uploading);\n        }\n\n        public isUpdated(): boolean {\n            return this.control.state != PictureStates.Original;\n        }\n\n        // Process user events\n        public readItemLocally(url, uriData, file, picture): void {\n            if (picture) {\n                this.control.file = null;\n                this.control.name = picture.name;\n                this.control.uri = picture.uri;\n                this.control.id = picture.id;\n                this.control.uriData = null;\n                this.control.url = picture.uri ? picture.uri : picture.id ? this.pipPictureData.getPictureUrl(picture.id) : '';\n                this.control.state == PictureStates.Copied\n            } else {\n                this.control.file = file;\n                this.control.name = file ? file.name : url ? url.split('/').pop() : null;\n                this.control.url = !file && url ? url : uriData ? uriData : '';\n                this.control.uri = !file && url ? url : null;\n                this.control.uriData = uriData;\n                this.control.id = null;\n                this.control.state = PictureStates.Changed;\n            }\n            this.onChange();\n        }\n\n        public onDeleteClick($event: JQueryEventObject): void {\n            $event.stopPropagation();\n\n            this.controlElement.focus();\n\n            this.control.file = null;\n            this.control.url = '';\n            this.control.uri = null;\n            this.control.uriData = null;\n            this.control.name = null;\n            this.control.id = null;\n            if (this.control.state != PictureStates.Copied) this.control.state = PictureStates.Deleted;\n\n            this.onChange();\n        }\n\n        public onKeyDown($event: KeyboardEvent): void {\n            if ($event.keyCode == 13 || $event.keyCode == 32) {\n                // !! Avoid clash with $apply()\n                setTimeout(() => {\n                    this.controlElement.trigger('click');\n                }, 0);\n            } else if ($event.keyCode == 46 || $event.keyCode == 8) {\n                this.control.file = null;\n                this.control.url = '';\n                this.control.state = PictureStates.Deleted;\n                this.onChange();\n            } else if ($event.keyCode == 27) {\n                this.control.reset();\n            }\n        }\n\n        // Clean up url to remove broken icon\n        public onImageError($event: JQueryEventObject): void {\n            this.$scope.$apply(() => {\n                this.control.url = '';\n                let image = $($event.target);\n                this.control.state = PictureStates.Error;\n                this.pipPictureUtils.setErrorImageCSS(image, { width: 'auto', height: '100%' });\n            });\n        }\n\n        // When image is loaded resize/reposition it\n        public onImageLoad($event): void {\n            let image = $($event.target);\n            let container: any = {}; //JQuery = _.cloneDeep(this.controlElement);\n            container.clientWidth = 80;\n            container.clientHeight = 80;\n            this.pipPictureUtils.setImageMarginCSS(container, image);\n            this.control.uploading = false;\n        }\n\n        // On change event\n        public onChange(): void {\n            if (this.pipChanged) {\n                this.pipChanged({\n                    $event: { sender: this.control },\n                    $control: this.control\n                });\n            }\n        }\n\n    }\n\n    const PictureEditComponent: ng.IComponentOptions = {\n        bindings: PictureEditBindings,\n        templateUrl: 'picture_edit/PictureEdit.html',\n        controller: PictureEditController\n    }\n\n    angular\n        .module('pipPictureEdit', ['ui.event', 'pipPicturePaste',\n            'pipTranslate', 'angularFileUpload', 'pipPictures.Templates'])\n        .config(ConfigPictureEditTranslations)\n        .component('pipPictureEdit', PictureEditComponent);\n}\n\n","import { IPictureUtilsService } from '../utilities/IPictureUtils';\nimport { PicturePaste } from '../utilities/PicturePaste';\nimport { IPictureDataService, Attachment, BlobInfo } from '../data';\n\nlet async = require('async');\n\nexport class PictureListEditItem {\n    public pin: number;\n    public id: string;\n    public uri: string;\n    public name: string;\n    public url: string;\n    public uriData: any;\n    public uploading: boolean;\n    public uploaded: boolean;\n    public progress: number;\n    public file: any;\n    public upload?: any;\n    public state: string;\n    public loaded?: boolean;\n}\n\nexport class PictureListEditControl {\n    public uploading: number = 0;\n    public items: PictureListEditItem[];\n    public reset: () => void;\n    public save: (successCallback?: (data?: Attachment[]) => void, errorCallback?: (error?: PictureUploadErrors[]) => void) => void;\n    public abort: () => void;\n    public error?: any;\n}\n\n\nexport class PictureListEditStates {\n    static Added: string = 'added';\n    static Original: string = 'original';\n    static Copied: string = 'copied';\n    static Changed: string = 'changed';\n    static Deleted: string = 'deleted';\n    static Error: string = 'error';\n}\n\nexport class PictureUploadErrors {\n    id: string;\n    uri: string;\n    name: string;\n}\n\n{\n\n    const ConfigPictureListEditTranslations = (pipTranslateProvider: pip.services.ITranslateProvider) => {\n        pipTranslateProvider.translations('en', {\n            'PICTURE_LIST_EDIT_TEXT': 'Click here to add a picture',\n            'ERROR_TRANSACTION_IN_PROGRESS': 'Transaction is in progress. Please, wait until it is finished or abort',\n            'ERROR_IMAGE_PRELOADING': 'Image loading error. The picture can not be saved'\n        });\n        pipTranslateProvider.translations('ru', {\n            'PICTURE_LIST_EDIT_TEXT': 'Нажмите сюда чтобы добавить картинку',\n            'ERROR_TRANSACTION_IN_PROGRESS': 'Транзакция еще не завершена. Подождите окончания или прервите её',\n            'ERROR_IMAGE_PRELOADING': 'Ошибка при загрузки картинки. Картинка не сохранена.'\n        });\n    }\n\n\n    class SenderEvent {\n        sender: PictureListEditControl;\n    }\n\n    class PictureEvent {\n        $event: SenderEvent;\n        $control: PictureListEditControl;\n    }\n\n    interface IPictureListEditBindings {\n        [key: string]: any;\n\n        ngDisabled: any;\n        pipCreated: any;\n        pipChanged: any;\n        pictures: any;\n        pipAddedPicture: any;\n        text: any;\n        icon: any;\n        pipRebind: any;\n    }\n\n    const PictureListEditBindings: IPictureListEditBindings = {\n        ngDisabled: '<?',\n        pipCreated: '&?',\n        pipChanged: '&?',\n        pictures: '=?pipPictures',\n        pipAddedPicture: '&?',\n        text: '<?pipDefaultText',\n        icon: '<?pipDefaultIcon',\n        pipRebind: '<?',\n    }\n\n    class PictureListEditBindingsChanges implements ng.IOnChangesObject, IPictureListEditBindings {\n        [key: string]: ng.IChangesObject<any>;\n\n        ngDisabled: ng.IChangesObject<boolean>;\n        pipCreated: ng.IChangesObject<(params: PictureEvent) => ng.IPromise<void>>;\n        pipChanged: ng.IChangesObject<(params: PictureEvent) => ng.IPromise<void>>;\n        pictures: ng.IChangesObject<Attachment[]>;\n        pipAddedPicture: ng.IChangesObject<() => boolean>;\n        text: ng.IChangesObject<string>;\n        icon: ng.IChangesObject<string>;\n        pipRebind: ng.IChangesObject<boolean>;\n    }\n\n    class PictureListEditController {\n        private controlElement: any;\n        private pipPicturePaste: PicturePaste;\n        private pictureStartState: string;\n        private cancelQuery: any;\n\n        public ngDisabled: boolean;\n        public pipCreated: (params: PictureEvent) => void;\n        public pipChanged: (params: PictureEvent) => void;\n        public text: string;\n        public icon: string;\n        public pictures: Attachment[];\n        public pipAddedPicture: () => boolean;\n        public pipRebind: boolean;\n\n        public control: PictureListEditControl;\n        private itemPin: number;\n        private errorText: string;\n\n        constructor(\n            private $log: ng.ILogService,\n            private $scope: ng.IScope,\n            private $rootScope: ng.IRootScopeService,\n            private $element: JQuery,\n            private pipPictureUtils: IPictureUtilsService,\n            private $timeout: ng.ITimeoutService,\n            private pipFileUpload: pip.files.IFileUploadService,\n            private pipRest: pip.rest.IRestService,\n            private pipPictureData: IPictureDataService\n        ) {\n            \"ngInject\";\n\n            this.itemPin = 0;\n            this.pipPicturePaste = new PicturePaste($timeout);\n            this.pictureStartState = this.toBoolean(this.pipAddedPicture) ? PictureListEditStates.Copied : PictureListEditStates.Original;\n\n            this.text = this.text || 'PICTURE_LIST_EDIT_TEXT';\n            this.icon = this.icon || 'picture-no-border';\n            this.errorText = 'PICTURE_ERROR_LOAD';\n\n            this.control = new PictureListEditControl();\n            this.control.uploading = 0;\n            this.control.items = [];\n            this.control.reset = () => {\n                this.reset();\n            }\n            this.control.save = (successCallback?: (data?: Attachment[]) => void, errorCallback?: (error?: PictureUploadErrors[]) => void): void => {\n                this.save(successCallback, errorCallback);\n            }\n            this.control.abort = (): void => {\n                this.abort();\n            }\n            // Add class\n            $element.addClass('pip-picture-list-edit');\n        }\n\n        private toBoolean(value: any): boolean {\n            if (value == null) {\n                return false;\n            }\n            if (!value) {\n                return false;\n            }\n            value = value.toString().toLowerCase();\n\n            return value == '1' || value == 'true';\n        }\n\n        public filterItem(item: PictureListEditItem): boolean {\n            return item.state != PictureListEditStates.Deleted;\n        }\n\n        public $postLink() {\n            this.controlElement = this.$element.find('.pip-picture-drop')\n\n            // Initialize control\n            this.control.reset();\n            // Execute callback\n            if (this.pipCreated) {\n                this.pipCreated({\n                    $event: { sender: this.control },\n                    $control: this.control\n                });\n            }\n        }\n\n        private removeItem(item: PictureListEditItem): void {\n            if (item.state === PictureListEditStates.Added || item.state === PictureListEditStates.Copied) {\n                let index = _.findIndex(this.control.items, { pin: item.pin });\n                if (index > -1) {\n                    this.control.items.splice(index, 1);\n                }\n            } else {\n                item.state = PictureListEditStates.Deleted;\n            }\n        }\n\n        public $onChanges(changes: PictureListEditBindingsChanges): void {\n            if (changes.pipRebind && changes.pipRebind.currentValue !== changes.pipRebind.previousValue) {\n                this.pipRebind = changes.pipRebind.currentValue;\n            }\n\n            if (changes.ngDisabled && changes.ngDisabled.currentValue !== changes.ngDisabled.previousValue) {\n                this.ngDisabled = changes.ngDisabled.currentValue;\n            }\n\n            if (this.pipRebind) {\n                if (changes.pictures && !_.isEqual(changes.pictures.currentValue, this.pictures)) {\n                    this.pictures = changes.pictures.currentValue;\n                    this.control.reset();\n                }\n            }\n\n            this.pictures = this.pictures ? this.pictures : [];\n        }\n\n        public onImageError($event: JQueryEventObject, item: PictureListEditItem): void {\n\n            item.state = PictureListEditStates.Error;\n            item.url = '';\n        }\n\n        public onFocus(): void {\n            this.pipPicturePaste.addPasteListener((item) => {\n                this.readItemLocally(item.url, item.uriData, item.file, item.picture);\n            });\n        }\n\n        public onBlur(): void {\n            this.pipPicturePaste.removePasteListener();\n        }\n\n        public getItems(): PictureListEditItem[] {\n            let items: PictureListEditItem[] = [];\n            let i: number;\n\n            if (this.pictures == null || this.pictures.length == 0) {\n                return items;\n            }\n\n            for (i = 0; i < this.pictures.length; i++) {\n                let newItem: PictureListEditItem = {\n                    pin: this.itemPin++,\n                    id: this.pictures[i].id,\n                    name: this.pictures[i].name,\n                    uri: this.pictures[i].uri,\n                    uriData: null,\n                    uploading: false,\n                    uploaded: false,\n                    progress: 0,\n                    file: null,\n                    url: this.pictures[i].id ? this.pipPictureData.getPictureUrl(this.pictures[i].id) : this.pictures[i].uri,\n                    state: this.pictureStartState\n                };\n                items.push(newItem);\n            }\n\n            return items;\n        }\n\n        public setItems(): void {\n            let i: number;\n\n            // Clean the array\n            if (this.pictures && this.pictures.length > 0) {\n                this.pictures.splice(0, this.pictures.length);\n            }\n            for (i = 0; i < this.control.items.length; i++) {\n                let item = this.control.items[i];\n                if ((item.id || item.uri) && item.state != PictureListEditStates.Deleted) {\n                    let newPic: Attachment = {\n                        id: item.id,\n                        name: item.name,\n                        uri: item.uri\n                    };\n                    this.pictures.push(newPic);\n                }\n            }\n        }\n\n        public reset(): void {\n            if (!this.controlElement) { return }\n            this.control.uploading = 0;\n            this.control.items = this.getItems();\n        }\n\n        private addItem(oldItem: PictureListEditItem, fileInfo: BlobInfo, error: any) {\n            let itemIndex = _.findIndex(this.control.items, { pin: oldItem.pin });\n            if (itemIndex < 0) return;\n            if (error) {\n                this.control.items[itemIndex].uploaded = false;\n                this.control.items[itemIndex].uploading = false;\n                this.control.items[itemIndex].progress = 0;\n                this.control.items[itemIndex].upload = null;\n                this.control.items[itemIndex].state = PictureListEditStates.Error;\n            } else {\n                if (fileInfo) {\n                    this.control.items[itemIndex].id = fileInfo.id;\n                    this.control.items[itemIndex].name = fileInfo.name;\n                    this.control.items[itemIndex].uploaded = true;\n                    this.control.items[itemIndex].state = PictureListEditStates.Original;\n                } else {\n                    this.control.items[itemIndex].uploaded = false;\n                }                \n                this.control.items[itemIndex].uploading = false;\n                this.control.items[itemIndex].uriData = null;\n                this.control.items[itemIndex].progress = 0;\n                this.control.items[itemIndex].upload = null;\n                this.control.items[itemIndex].file = null;\n            }\n        }\n\n        public deleteItem(item: PictureListEditItem, callback?: (data?: any) => void): void {\n            // Avoid double transactions\n            if (item.upload) {\n                item.upload.abort();\n                item.upload = null;\n            }\n\n            if (item.state != PictureListEditStates.Deleted) {\n                return;\n            }\n\n            this.removeItem(item);\n            callback();\n\n        }\n\n        public save(successCallback?: (data: Attachment[]) => void, errorCallback?: (errors?: any) => void): void {\n            let item: PictureListEditItem;\n            let onItemCallback: (error: any) => void;\n            let i: number;\n\n            if (this.control.uploading) {\n                if (errorCallback) {\n                    errorCallback('ERROR_TRANSACTION_IN_PROGRESS');\n                }\n\n                return;\n            }\n\n            this.cancelQuery = null;\n            this.control.error = null;\n            this.control.uploading = 0;\n\n            let addedBlobCollection = [];\n            let addedUrlCollection = [];\n\n            _.each(this.control.items, (item) => {\n                if (item.state == 'added') {\n                    if (item.file) {\n                        addedBlobCollection.push(item);\n                    } else {\n                        addedUrlCollection.push(item);\n                    }\n                }\n            });\n\n\n            let deletedCollection = _.filter(this.control.items, { state: 'deleted' });\n\n            // process addedUrlCollection\n            _.each(addedUrlCollection, (item) => {\n                item.uploaded = true;\n                item.uploading = false;\n                item.progress = 0;\n                item.upload = null;\n                item.uriData = null;\n                item.file = null;\n                item.state = PictureListEditStates.Original;\n            });\n\n            if (!addedBlobCollection.length && !deletedCollection.length) {\n                // do nothing\n                if (addedUrlCollection.length > 0) {\n                    this.setItems();\n                }\n                this.control.uploading = 0;\n                if (successCallback) {\n                    successCallback(this.pictures);\n                }\n\n                return;\n            }\n\n            this.control.uploading = addedBlobCollection.length + deletedCollection.length;\n            async.parallel([\n                (callbackAll) => {\n                    // add documents\n                    _.each(addedBlobCollection, (item) => {\n                        item.uploading = true;\n                        item.progress = 0;\n                    });\n                    this.pipFileUpload.multiUpload(\n                        this.pipPictureData.postPictureUrl(),\n                        addedBlobCollection,\n                        (index: number, data: BlobInfo, err: any) => {\n                            let item = addedBlobCollection[index];\n                            this.addItem(item, data, err);\n                            if (err) {\n                                this.control.error = true;\n                            }\n                        },\n                        (index: number, state: pip.files.FileUploadState, progress: number) => {\n                            // update item progress \n                            let item = addedBlobCollection[index];\n                            item.progress = progress;\n                        },\n                        (error: any, result: any, res: any) => {\n                            // reset upload abort\n                            this.cancelQuery = null;\n                            callbackAll();\n                        },\n                        (cancelQuery: any) => {\n                            this.cancelQuery = cancelQuery;\n                        },\n                        false,\n                        'pin'\n                    );\n                },\n                (callbackAll) => {\n                    // delete documents\n                    if (deletedCollection.length) {\n                        async.each(deletedCollection,\n                            (item, callback) => {\n                                this.deleteItem(item, (error: any) => { callback() });\n                            },\n                            (error, result) => {\n                                callbackAll();\n                            });\n                    } else {\n                        callbackAll();\n                    }\n\n                }\n            ],\n                // optional callback\n                (error, results) => {\n                    if (error && !this.control.error) {\n                        this.control.error = error;\n                    }\n                    if (this.control.error) {\n                        this.control.uploading = 0;\n                        let errors = this.getUploadErors();\n                        if (errorCallback) {\n                            errorCallback(errors);\n                        } else {\n                            this.$log.error(errors);   // eslint-disable-line no-console\n                        }\n                    } else {\n                        this.setItems();\n                        this.control.uploading = 0;\n                        if (successCallback) {\n                            successCallback(this.pictures);\n                        }\n                    }\n                });\n        }\n\n        private getUploadErors(): PictureUploadErrors[] {\n            let errors: PictureUploadErrors[] = [];\n\n            _.each(this.control.items, (item: PictureListEditItem) => {\n                if (item.state == PictureListEditStates.Error || item.state == PictureListEditStates.Error) {\n                    errors.push({\n                        id: item.id,\n                        uri: item.uri,\n                        name: item.name\n                    })\n                }\n            });\n\n            return errors;\n        }\n\n        public abort(): void {\n            let i: number;\n\n            for (i = 0; i < this.control.items.length; i++) {\n                let item: PictureListEditItem = this.control.items[i];\n\n                if (item.uploading) {\n                    if (item.upload) {\n                        item.upload.abort();\n                    }\n                    item.uploaded = false;\n                    item.uploading = false;\n                    item.progress = 0;\n                    item.upload = null;\n                }\n            }\n\n            // abort upload\n            if (this.cancelQuery) {\n                this.cancelQuery.resolve();\n            }\n\n            // Abort transaction\n            this.control.uploading = 0;\n            this.control.error = true;\n        }\n\n        public readItemLocally(url, uriData, file, picture): void {\n            let item: PictureListEditItem = new PictureListEditItem();\n            item.pin = this.itemPin++;\n            item.uploading = false;\n            item.uploaded = false;\n            item.progress = 0;\n\n            if (picture) {\n                item.file = null;\n                item.name = picture.name;\n                item.uri = picture.uri;\n                item.id = picture.id;\n                item.uriData = null;\n                item.url = picture.uri ? picture.uri : picture.id ? this.pipPictureData.getPictureUrl(picture.id) : '';\n                item.state == PictureListEditStates.Copied\n            } else {\n                item.file = file;\n                item.name = file ? file.name : url ? url.split('/').pop() : null;\n                item.url = !file && url ? url : uriData ? uriData : '';\n                item.uri = !file && url ? url : null;\n                item.uriData = uriData;\n                item.id = null;\n                item.state = PictureListEditStates.Added;\n            }\n            this.control.items.push(item);\n            this.onChange();\n        }\n\n        public onSelectClick($files: any): void {\n            let i: number;\n            this.controlElement.focus();\n\n            if ($files == null || $files.length == 0) { return; }\n            for (i = 0; i < $files.length; i++) {\n                let file: any = $files[i];\n\n                if (file.type.indexOf('image') > -1) {\n                    this.readItemLocally('', null, file, null);\n                }\n            }\n        }\n\n        public onDeleteClick(item: PictureListEditItem): void {\n            this.removeItem(item);\n\n            this.onChange();\n        }\n\n        public onKeyDown($event: KeyboardEvent, item: PictureListEditItem): void {\n            if (item) {\n                if ($event.keyCode == 46 || $event.keyCode == 8) {\n                    if (item.state == PictureListEditStates.Added) {\n                        this.removeItem(item);\n                    } else {\n                        item.state = PictureListEditStates.Deleted;\n                    }\n\n                    this.onChange();\n                }\n            } else {\n                if ($event.keyCode == 13 || $event.keyCode == 32) {\n                    // !! Avoid clash with $apply()\n                    setTimeout(() => {\n                        this.controlElement.trigger('click');\n                    }, 0);\n                }\n            }\n        }\n\n        public onImageLoad($event: JQueryEventObject, item: PictureListEditItem): void {\n            setTimeout(() => {\n                let image = $($event.target);\n                let container: any = {};\n                container.clientWidth = 80;\n                container.clientHeight = 80;\n                this.pipPictureUtils.setImageMarginCSS(container, image);\n            }, 250);\n\n            item.loaded = true;\n        }\n\n        // On change event\n        public onChange() {\n            if (this.pipChanged) {\n                this.pipChanged({\n                    $event: { sender: this.control },\n                    $control: this.control\n                });\n            }\n        }\n\n    }\n\n    const PictureListEditComponent: ng.IComponentOptions = {\n        bindings: PictureListEditBindings,\n        templateUrl: 'picture_list_edit/PictureListEdit.html',\n        controller: PictureListEditController\n    }\n\n    angular\n        .module('pipPictureListEdit', ['ui.event', 'pipPicturePaste',\n            'pipFocused', 'angularFileUpload', 'pipPictures.Templates'])\n        .config(ConfigPictureListEditTranslations)\n        .component('pipPictureListEdit', PictureListEditComponent);\n}\n","﻿// import pipPictureUtils\n\nconst ConfigPictureUrlDialogTranslations = (pipTranslateProvider: pip.services.ITranslateProvider) => {\n    pipTranslateProvider.translations('en', {\n        'PICTURE_FROM_WEBLINK': 'Add from web link',\n        'LINK_PICTURE': 'Link to the picture...'\n    });\n    pipTranslateProvider.translations('ru', {\n        'PICTURE_FROM_WEBLINK': 'Добавить из веб ссылки',\n        'LINK_PICTURE': 'Ссылка на изображение...'\n    });\n}\n\nclass PictureUrlDialogController {\n    public url: string = '';\n    public invalid: boolean = true;\n    public theme: string;\n\n    constructor(\n        private $log: ng.ILogService,\n        private $scope: ng.IScope,\n        private $mdDialog: angular.material.IDialogService,\n        private $rootScope: ng.IRootScopeService,\n        private $timeout: ng.ITimeoutService,\n        private $mdMenu,\n        private pipPictureUtils\n    ) {\n        \"ngInject\";\n\n        this.theme = this.$rootScope[pip.themes.ThemeRootVar];\n    }\n\n    public setImageSize(img: any): void {\n        let imageWidth: number = img.width();\n        let imageHeight: number = img.height();\n\n        let cssParams = {};\n\n        if ((imageWidth) > (imageHeight)) {\n            cssParams['width'] = '250px';\n            cssParams['height'] = 'auto';\n        } else {\n            cssParams['width'] = 'auto';\n            cssParams['height'] = '250px';\n        }\n\n        img.css(cssParams);\n    }\n\n    public checkUrl(): void {\n        let img = $(\"img#url_image\")\n            .on('error', () => {\n                this.invalid = true;\n                this.$scope.$apply();\n                \n            })\n            .on('load', (e) => {\n                this.invalid = false;\n                this.setImageSize(img);\n                this.$scope.$apply();\n            })\n            .attr(\"src\", this.url);\n    };\n\n    public onCancelClick(): void {\n        this.$mdDialog.cancel();\n    };\n\n    public onAddClick(): void {\n        this.$mdDialog.hide(this.url);\n    };\n\n}\n\nangular\n    .module('pipPictureUrlDialog')\n    .config(ConfigPictureUrlDialogTranslations)\n    .controller('pipPictureUrlDialogController', PictureUrlDialogController);\n\n","import { IPictureUrlDialogService } from './IPictureUrlDialogService';\n\nclass PictureUrlDialogService implements IPictureUrlDialogService {\n    private _mdDialog: angular.material.IDialogService;\n\n    constructor($mdDialog: angular.material.IDialogService) {\n        this._mdDialog = $mdDialog;\n    }\n\n    public show(successCallback?: (result) => void, cancelCallback?: () => void) {\n        this._mdDialog.show({\n            templateUrl: 'picture_url_dialog/PictureUrlDialog.html',\n            clickOutsideToClose: true,\n            controller: 'pipPictureUrlDialogController',\n            controllerAs: '$ctrl'\n        })\n        .then(\n            (result) => {\n                if (successCallback) {\n                    successCallback(result);\n                }\n            });\n    }\n}\n\nangular\n    .module('pipPictureUrlDialog')\n    .service('pipPictureUrlDialog', PictureUrlDialogService);\n\n","angular\n    .module('pipPictureUrlDialog',\n        ['ngMaterial', 'pipPictures.Templates']);\n\nimport './IPictureUrlDialogService';\nimport './PictureUrlDialogService';\nimport './PictureUrlDialogController';\n\n\nexport * from './IPictureUrlDialogService';\n","// configured Rest resource\nfunction configAvatarResources(pipRestProvider: pip.rest.IRestProvider) {\n    pipRestProvider.registerOperation('avatars', '/api/1.0/avatars/:avatar_id');\n}\n\nangular\n    .module('pipPictures.Rest')\n    .config(configAvatarResources);\n\n\n","// configured Rest resource\nfunction configImageSetResources(pipRestProvider: pip.rest.IRestProvider) {\n    pipRestProvider.registerPagedCollection('imagesets', '/api/1.0/imagesets/:imageset_id',\n        { imageset_id: '@imageset_id' },\n        {\n            page: {method: 'GET', isArray: false},\n            update: { method: 'PUT' }\n        });\n}\n\nangular\n    .module('pipPictures.Rest')\n    .config(configImageSetResources);","// configured Rest resource\nfunction configPictureResources(pipRestProvider: pip.rest.IRestProvider) {\n    pipRestProvider.registerPagedCollection('picture', '/api/1.0/blobs/:picture_id',\n        { blob_id: '@picture_id' },\n        {\n            page: { method: 'GET', isArray: false },\n            update: { method: 'PUT' }\n        });\n    pipRestProvider.registerResource('picturesInfo', '/api/1.0/blobs/:picture_id/info');\n}\n\nangular\n    .module('pipPictures.Rest')\n    .config(configPictureResources);\n\n\n","export class imageCssParams {\n    public 'width'?: string;\n    public 'margin-left'?: string;\n    public 'height'?: string;\n    public 'margin-top'?: string;\n}\n\nexport interface IPictureUtilsService {\n    getCollageSchemes(): any;\n    setErrorImageCSS(image: any, params?: imageCssParams): void;\n    setImageMarginCSS($element: any, image: any, params?: imageCssParams): void;\n    setIconMarginCSS(container: any, icon: any): void;\n}\n\nexport interface IPictureUtilsProvider extends ng.IServiceProvider {\n\n}\n\n","export class PicturePaste {\n    private pasteCatcher;\n\n    constructor(\n        private $timeout: ng.ITimeoutService\n    ) {\n        \"ngInject\";\n    }\n\n    public addPasteListener(onPaste) {\n        if (!window['Clipboard']) {\n            if (this.pasteCatcher !== null && this.pasteCatcher !== undefined) {\n                this.removePasteListener();\n            }\n\n            this.pasteCatcher = document.createElement(\"div\");\n\n            // Firefox allows images to be pasted into contenteditable elements\n            this.pasteCatcher.setAttribute(\"contenteditable\", \"true\");\n\n            // We can hide the element and append it to the body,\n            //this.pasteCatcher.style.opacity = 0;\n            $(this.pasteCatcher).css({\n                \"position\": \"absolute\",\n                \"left\": \"-999\",\n                width: \"0\",\n                height: \"0\",\n                \"overflow\": \"hidden\",\n                outline: 0\n            });\n\n            document.body.appendChild(this.pasteCatcher);\n        }\n\n        $(document).on('paste', (event) => {\n            let localEvent;\n            if (event['clipboardData'] == null && event.originalEvent) {\n                localEvent = event.originalEvent;\n            } else {\n                localEvent = event;\n            }\n\n            // Paste for chrome\n            if (localEvent.clipboardData) {\n                var items = localEvent.clipboardData.items;\n\n                _.each(items, (item) => {\n                    if (item.type.indexOf(\"image\") != -1) {\n                        var file = item.getAsFile();\n\n                        var fileReader = new FileReader();\n                        fileReader.onload = (e) => {\n                            this.$timeout(() => {\n                                onPaste({ url: e.target['result'], file: file });\n                            });\n                        };\n                        fileReader.readAsDataURL(file);\n                    }\n                });\n            }\n            // Paste for IE\n            else if (window['clipboardData'] && window['clipboardData'].files) {\n                _.each(window['clipboardData'].files, (file) => {\n                    var fileReader = new FileReader();\n                    fileReader.onload = (e) => {\n                        this.$timeout(() => {\n                            onPaste({ url: e.target['result'], file: file });\n                        });\n                    };\n                    fileReader.readAsDataURL(file);\n                });\n            }\n        });\n\n\n    }\n\n    public removePasteListener() {\n        if (!window['Clipboard']) {\n            if (this.pasteCatcher !== null && this.pasteCatcher !== undefined) {\n                document.body.removeChild(this.pasteCatcher);\n                this.pasteCatcher = null;\n            }\n        }\n        $(document).off('paste');\n    }\n\n}\n\nangular\n    .module('pipPicturePaste', []);\n","import { IPictureUtilsService, IPictureUtilsProvider, imageCssParams } from './IPictureUtils';\n\nlet collageSchemes = [\n    // 1\n    [\n        { flex: 100, fullWidth: true, fullHeight: true }\n    ],\n    // 2\n    [\n        {\n            group: true,\n            layout: 'row',\n            flex: 100,\n            fullHeight: true,\n            children: [\n                { flex: 50, fullHeight: true, rightPadding: true },\n                { flex: 50, fullHeight: true, leftPadding: true }\n            ]\n        }\n    ],\n    // 3\n    [\n        {\n            group: true,\n            layout: 'row',\n            flex: 100,\n            fullHeight: true,\n            children: [\n                { flex: 33, fullHeight: true, rightPadding: true },\n                { flex: 33, fullHeight: true, leftPadding: true, rightPadding: true },\n                { flex: 33, fullHeight: true, leftPadding: true }\n            ]\n        },\n        {\n            group: true,\n            layout: 'row',\n            flex: 100,\n            fullHeight: true,\n            children: [\n                { flex: 50, fullHeight: true, rightPadding: true },\n                {\n                    group: true,\n                    layout: 'column',\n                    flex: 50,\n                    fullHeight: true,\n                    children: [\n                        { flex: 50, leftPadding: true, bottomPadding: true },\n                        { flex: 50, leftPadding: true, topPadding: true }\n                    ]\n                }\n            ]\n        },\n        {\n            group: true,\n            layout: 'row',\n            flex: 100,\n            fullHeight: true,\n            children: [\n                { flex: 70, fullHeight: true, rightPadding: true },\n                {\n                    group: true,\n                    layout: 'column',\n                    flex: 30,\n                    fullHeight: true,\n                    children: [\n                        { flex: 50, leftPadding: true, bottomPadding: true },\n                        { flex: 50, leftPadding: true, topPadding: true }\n                    ]\n                }\n            ]\n        },\n        {\n            group: true,\n            layout: 'column',\n            flex: 100,\n            fullHeight: true,\n            children: [\n                { flex: 50, fullWidth: true, bottomPadding: true },\n                {\n                    group: true,\n                    layout: 'row',\n                    flex: 50,\n                    fullHeight: true,\n                    children: [\n                        { flex: 50, rightPadding: true, topPadding: true },\n                        { flex: 50, leftPadding: true, topPadding: true }\n                    ]\n                }\n            ]\n        }\n    ],\n    // 4\n    [\n        {\n            group: true,\n            layout: 'column',\n            flex: 100,\n            fullHeight: true,\n            children: [\n                {\n                    group: true,\n                    layout: 'row',\n                    flex: 50,\n                    fullHeight: true,\n                    children: [\n                        { flex: 50, fullWidth: true, rightPadding: true, bottomPadding: true },\n                        { flex: 50, fullWidth: true, leftPadding: true, bottomPadding: true }\n                    ]\n                },\n                {\n                    group: true,\n                    layout: 'row',\n                    flex: 50,\n                    fullHeight: true,\n                    children: [\n                        { flex: 50, fullWidth: true, rightPadding: true, topPadding: true },\n                        { flex: 50, fullWidth: true, leftPadding: true, topPadding: true }\n                    ]\n                }\n            ]\n        },\n        {\n            group: true,\n            layout: 'row',\n            flex: 100,\n            fullHeight: true,\n            children: [\n                { flex: 50, fullWidth: true, rightPadding: true },\n                {\n                    group: true,\n                    layout: 'column',\n                    flex: 50,\n                    fullHeight: true,\n                    children: [\n                        { flex: 50, fullWidth: true, leftPadding: true, bottomPadding: true },\n                        {\n                            group: true,\n                            layout: 'row',\n                            flex: 50,\n                            fullHeight: true,\n                            children: [\n                                { flex: 50, fullWidth: true, leftPadding: true, rightPadding: true, topPadding: true },\n                                { flex: 50, fullWidth: true, leftPadding: true, topPadding: true }\n                            ]\n                        }\n                    ]\n                }\n            ]\n        },\n        {\n            group: true,\n            layout: 'row',\n            flex: 100,\n            fullHeight: true,\n            children: [\n                { flex: 30, fullWidth: true, rightPadding: true },\n                {\n                    group: true,\n                    layout: 'column',\n                    flex: 70,\n                    fullHeight: true,\n                    children: [\n                        { flex: 50, fullWidth: true, leftPadding: true, bottomPadding: true },\n                        {\n                            group: true,\n                            layout: 'row',\n                            flex: 50,\n                            fullHeight: true,\n                            children: [\n                                { flex: 50, fullWidth: true, leftPadding: true, rightPadding: true, topPadding: true },\n                                { flex: 50, fullWidth: true, leftPadding: true, topPadding: true }\n                            ]\n                        }\n                    ]\n                }\n            ]\n        },\n        {\n            group: true,\n            layout: 'column',\n            flex: 100,\n            fullHeight: true,\n            children: [\n                {\n                    group: true,\n                    layout: 'row',\n                    flex: 50,\n                    fullHeight: true,\n                    children: [\n                        { flex: 100, fullWidth: true, bottomPadding: true }\n                    ]\n                },\n                {\n                    group: true,\n                    layout: 'row',\n                    flex: 50,\n                    fullHeight: true,\n                    children: [\n                        { flex: 33, fullWidth: true, rightPadding: true, topPadding: true },\n                        { flex: 33, fullWidth: true, leftPadding: true, rightPadding: true, topPadding: true },\n                        { flex: 33, fullWidth: true, leftPadding: true, topPadding: true }\n                    ]\n                }\n            ]\n        }\n    ],\n    // 5\n    [\n        {\n            group: true,\n            layout: 'column',\n            flex: 100,\n            fullHeight: true,\n            children: [\n                {\n                    group: true,\n                    layout: 'row',\n                    flex: 50,\n                    fullHeight: true,\n                    children: [\n                        { flex: 50, fullWidth: true, rightPadding: true, bottomPadding: true },\n                        { flex: 50, fullWidth: true, leftPadding: true, bottomPadding: true }\n                    ]\n                },\n                {\n                    group: true,\n                    layout: 'row',\n                    flex: 50,\n                    fullHeight: true,\n                    children: [\n                        { flex: 33, fullWidth: true, rightPadding: true, topPadding: true },\n                        { flex: 33, fullWidth: true, leftPadding: true, rightPadding: true, topPadding: true },\n                        { flex: 33, fullWidth: true, leftPadding: true, topPadding: true }\n                    ]\n                }\n            ]\n        },\n        {\n            group: true,\n            layout: 'row',\n            flex: 100,\n            fullHeight: true,\n            children: [\n                { flex: 50, fullWidth: true, rightPadding: true },\n                {\n                    group: true,\n                    layout: 'column',\n                    flex: 50,\n                    fullHeight: true,\n                    children: [\n                        {\n                            group: true,\n                            layout: 'row',\n                            flex: 50,\n                            fullHeight: true,\n                            children: [\n                                { flex: 50, fullWidth: true, leftPadding: true, rightPadding: true, bottomPadding: true },\n                                { flex: 50, fullWidth: true, leftPadding: true, bottomPadding: true }\n                            ]\n                        },\n                        {\n                            group: true,\n                            layout: 'row',\n                            flex: 50,\n                            fullHeight: true,\n                            children: [\n                                { flex: 50, fullWidth: true, leftPadding: true, rightPadding: true, topPadding: true },\n                                { flex: 50, fullWidth: true, leftPadding: true, topPadding: true }\n                            ]\n                        }\n                    ]\n                }\n            ]\n        },\n        {\n            group: true,\n            layout: 'row',\n            flex: 100,\n            fullHeight: true,\n            children: [\n                { flex: 33, fullWidth: true, rightPadding: true },\n                {\n                    group: true,\n                    layout: 'column',\n                    flex: 67,\n                    fullHeight: true,\n                    children: [\n                        {\n                            group: true,\n                            layout: 'row',\n                            flex: 50,\n                            fullHeight: true,\n                            children: [\n                                { flex: 50, fullWidth: true, leftPadding: true, rightPadding: true, bottomPadding: true },\n                                { flex: 50, fullWidth: true, leftPadding: true, bottomPadding: true }\n                            ]\n                        },\n                        {\n                            group: true,\n                            layout: 'row',\n                            flex: 50,\n                            fullHeight: true,\n                            children: [\n                                { flex: 50, fullWidth: true, leftPadding: true, rightPadding: true, topPadding: true },\n                                { flex: 50, fullWidth: true, leftPadding: true, topPadding: true }\n                            ]\n                        }\n                    ]\n                }\n            ]\n        },\n        {\n            group: true,\n            layout: 'column',\n            flex: 100,\n            fullHeight: true,\n            children: [\n                {\n                    group: true,\n                    layout: 'row',\n                    flex: 50,\n                    fullHeight: true,\n                    children: [\n                        { flex: 100, fullWidth: true, bottomPadding: true }\n                    ]\n                },\n                {\n                    group: true,\n                    layout: 'row',\n                    flex: 50,\n                    fullHeight: true,\n                    children: [\n                        { flex: 25, fullWidth: true, rightPadding: true, topPadding: true },\n                        { flex: 25, fullWidth: true, leftPadding: true, rightPadding: true, topPadding: true },\n                        { flex: 25, fullWidth: true, leftPadding: true, rightPadding: true, topPadding: true },\n                        { flex: 25, fullWidth: true, leftPadding: true, topPadding: true }\n                    ]\n                }\n            ]\n        }\n    ],\n    // 6\n    [\n        {\n            group: true,\n            layout: 'column',\n            flex: 100,\n            fullHeight: true,\n            children: [\n                {\n                    group: true,\n                    layout: 'row',\n                    flex: 50,\n                    fullHeight: true,\n                    children: [\n                        { flex: 33, fullWidth: true, rightPadding: true, bottomPadding: true },\n                        { flex: 33, fullWidth: true, leftPadding: true, rightPadding: true, bottomPadding: true },\n                        { flex: 33, fullWidth: true, leftPadding: true, bottomPadding: true }\n                    ]\n                },\n                {\n                    group: true,\n                    layout: 'row',\n                    flex: 50,\n                    fullHeight: true,\n                    children: [\n                        { flex: 33, fullWidth: true, rightPadding: true, topPadding: true },\n                        { flex: 33, fullWidth: true, leftPadding: true, rightPadding: true, topPadding: true },\n                        { flex: 33, fullWidth: true, leftPadding: true, topPadding: true }\n                    ]\n                }\n            ]\n        },\n        {\n            group: true,\n            layout: 'column',\n            flex: 100,\n            fullHeight: true,\n            children: [\n                {\n                    group: true,\n                    layout: 'row',\n                    flex: 50,\n                    fullHeight: true,\n                    children: [\n                        { flex: 50, fullWidth: true, rightPadding: true, bottomPadding: true },\n                        { flex: 25, fullWidth: true, leftPadding: true, rightPadding: true, bottomPadding: true },\n                        { flex: 25, fullWidth: true, leftPadding: true, bottomPadding: true }\n                    ]\n                },\n                {\n                    group: true,\n                    layout: 'row',\n                    flex: 50,\n                    fullHeight: true,\n                    children: [\n                        { flex: 50, fullWidth: true, rightPadding: true, topPadding: true },\n                        { flex: 25, fullWidth: true, leftPadding: true, rightPadding: true, topPadding: true },\n                        { flex: 25, fullWidth: true, leftPadding: true, topPadding: true }\n                    ]\n                }\n            ]\n        },\n        {\n            group: true,\n            layout: 'row',\n            flex: 100,\n            fullHeight: true,\n            children: [\n                { flex: 33, fullWidth: true, rightPadding: true },\n                {\n                    group: true,\n                    layout: 'column',\n                    flex: 67,\n                    fullHeight: true,\n                    children: [\n                        {\n                            group: true,\n                            layout: 'row',\n                            flex: 50,\n                            fullHeight: true,\n                            children: [\n                                { flex: 50, fullWidth: true, leftPadding: true, rightPadding: true, bottomPadding: true },\n                                { flex: 50, fullWidth: true, leftPadding: true, bottomPadding: true }\n                            ]\n                        },\n                        {\n                            group: true,\n                            layout: 'row',\n                            flex: 50,\n                            fullHeight: true,\n                            children: [\n                                { flex: 33, fullWidth: true, leftPadding: true, rightPadding: true, topPadding: true },\n                                { flex: 33, fullWidth: true, leftPadding: true, rightPadding: true, topPadding: true },\n                                { flex: 33, fullWidth: true, leftPadding: true, topPadding: true }\n                            ]\n                        }\n                    ]\n                }\n            ]\n        },\n        {\n            group: true,\n            layout: 'column',\n            flex: 100,\n            fullHeight: true,\n            children: [\n                {\n                    group: true,\n                    layout: 'row',\n                    flex: 50,\n                    fullHeight: true,\n                    children: [\n                        { flex: 50, fullWidth: true, rightPadding: true, bottomPadding: true },\n                        { flex: 50, fullWidth: true, leftPadding: true, bottomPadding: true }\n                    ]\n                },\n                {\n                    group: true,\n                    layout: 'row',\n                    flex: 50,\n                    fullHeight: true,\n                    children: [\n                        { flex: 25, fullWidth: true, rightPadding: true, topPadding: true },\n                        { flex: 25, fullWidth: true, leftPadding: true, rightPadding: true, topPadding: true },\n                        { flex: 25, fullWidth: true, leftPadding: true, rightPadding: true, topPadding: true },\n                        { flex: 25, fullWidth: true, leftPadding: true, topPadding: true }\n                    ]\n                }\n            ]\n        }\n    ],\n    // 7\n    [\n        {\n            group: true,\n            layout: 'column',\n            flex: 100,\n            fullHeight: true,\n            children: [\n                {\n                    group: true,\n                    layout: 'row',\n                    flex: 50,\n                    fullHeight: true,\n                    children: [\n                        { flex: 33, fullWidth: true, rightPadding: true, bottomPadding: true },\n                        { flex: 33, fullWidth: true, leftPadding: true, rightPadding: true, bottomPadding: true },\n                        { flex: 33, fullWidth: true, leftPadding: true, bottomPadding: true }\n                    ]\n                },\n                {\n                    group: true,\n                    layout: 'row',\n                    flex: 50,\n                    fullHeight: true,\n                    children: [\n                        { flex: 25, fullWidth: true, rightPadding: true, topPadding: true },\n                        { flex: 25, fullWidth: true, leftPadding: true, rightPadding: true, topPadding: true },\n                        { flex: 25, fullWidth: true, leftPadding: true, rightPadding: true, topPadding: true },\n                        { flex: 25, fullWidth: true, leftPadding: true, topPadding: true }\n                    ]\n                }\n            ]\n        },\n        {\n            group: true,\n            layout: 'column',\n            flex: 100,\n            fullHeight: true,\n            children: [\n                {\n                    group: true,\n                    layout: 'row',\n                    flex: 50,\n                    fullHeight: true,\n                    children: [\n                        { flex: 50, fullWidth: true, rightPadding: true, bottomPadding: true },\n                        { flex: 25, fullWidth: true, leftPadding: true, rightPadding: true, bottomPadding: true },\n                        { flex: 25, fullWidth: true, leftPadding: true, bottomPadding: true }\n                    ]\n                },\n                {\n                    group: true,\n                    layout: 'row',\n                    flex: 50,\n                    fullHeight: true,\n                    children: [\n                        { flex: 25, fullWidth: true, rightPadding: true, topPadding: true },\n                        { flex: 25, fullWidth: true, leftPadding: true, rightPadding: true, topPadding: true },\n                        { flex: 25, fullWidth: true, leftPadding: true, rightPadding: true, topPadding: true },\n                        { flex: 25, fullWidth: true, leftPadding: true, topPadding: true }\n                    ]\n                }\n            ]\n        },\n        {\n            group: true,\n            layout: 'row',\n            flex: 100,\n            fullHeight: true,\n            children: [\n                { flex: 25, fullWidth: true, rightPadding: true },\n                {\n                    group: true,\n                    layout: 'column',\n                    flex: 75,\n                    fullHeight: true,\n                    children: [\n                        {\n                            group: true,\n                            layout: 'row',\n                            flex: 50,\n                            fullHeight: true,\n                            children: [\n                                { flex: 33, fullWidth: true, leftPadding: true, rightPadding: true, bottomPadding: true },\n                                { flex: 33, fullWidth: true, leftPadding: true, rightPadding: true, bottomPadding: true },\n                                { flex: 33, fullWidth: true, leftPadding: true, bottomPadding: true }\n                            ]\n                        },\n                        {\n                            group: true,\n                            layout: 'row',\n                            flex: 50,\n                            fullHeight: true,\n                            children: [\n                                { flex: 33, fullWidth: true, leftPadding: true, rightPadding: true, topPadding: true },\n                                { flex: 33, fullWidth: true, leftPadding: true, rightPadding: true, topPadding: true },\n                                { flex: 33, fullWidth: true, leftPadding: true, topPadding: true }\n                            ]\n                        }\n                    ]\n                }\n            ]\n        }\n    ],\n    // 8\n    [\n        {\n            group: true,\n            layout: 'column',\n            flex: 100,\n            fullHeight: true,\n            fullWidth: true,\n            children: [\n                {\n                    group: true,\n                    layout: 'row',\n                    flex: 50,\n                    fullWidth: true,\n                    children: [\n                        { flex: 25, fullWidth: true, rightPadding: true, bottomPadding: true },\n                        { flex: 25, fullWidth: true, leftPadding: true, rightPadding: true, bottomPadding: true },\n                        { flex: 25, fullWidth: true, leftPadding: true, rightPadding: true, bottomPadding: true },\n                        { flex: 25, fullWidth: true, leftPadding: true, bottomPadding: true }\n                    ]\n                },\n                {\n                    group: true,\n                    layout: 'row',\n                    flex: 50,\n                    fullWidth: true,\n                    children: [\n                        { flex: 25, fullWidth: true, rightPadding: true, topPadding: true },\n                        { flex: 25, fullWidth: true, leftPadding: true, rightPadding: true, topPadding: true },\n                        { flex: 25, fullWidth: true, leftPadding: true, rightPadding: true, topPadding: true },\n                        { flex: 25, fullWidth: true, leftPadding: true, topPadding: true }\n                    ]\n                }\n            ]\n        }\n    ]\n];\n\nclass PictureUtils implements IPictureUtilsService {\n\n    constructor() {\n        \"ngInject\";\n    }\n\n    public getCollageSchemes(): any {\n        return collageSchemes;\n    }\n\n    public setErrorImageCSS(image: any, params?: imageCssParams): void {\n        let cssParams: imageCssParams = {\n            'width': '',\n            'margin-left': '',\n            'height': '',\n            'margin-top': ''\n        };\n\n        if (params) {\n            cssParams = _.assign(cssParams, params);\n        }\n        if (image) {\n            image.css(cssParams);\n        }\n    }\n\n    public setImageMarginCSS($element: any, image: any, params?: imageCssParams): void {\n        let containerWidth: number = $element.width ? $element.width() : $element.clientWidth;\n        let containerHeight: number = $element.height ? $element.height() : $element.clientHeight;\n        let imageWidth: number = image[0].naturalWidth || image.width;\n        let imageHeight: number = image[0].naturalHeight || image.height;\n        let margin: number = 0;\n        let cssParams: imageCssParams = {};\n\n        if ((imageWidth / containerWidth) > (imageHeight / containerHeight)) {\n            margin = -((imageWidth / imageHeight * containerHeight - containerWidth) / 2);\n            cssParams['margin-left'] = '' + margin + 'px';\n            cssParams['height'] = '' + containerHeight + 'px';\n            cssParams['width'] = '' + imageWidth * containerHeight / imageHeight + 'px';\n            cssParams['margin-top'] = '';\n        } else {\n            margin = -((imageHeight / imageWidth * containerWidth - containerHeight) / 2);\n            cssParams['margin-top'] = '' + margin + 'px';\n            cssParams['height'] = '' + imageHeight * containerWidth / imageWidth + 'px';\n            cssParams['width'] = '' + containerWidth + 'px';\n            cssParams['margin-left'] = '';\n        }\n\n        if (params) {\n            cssParams = _.assign(cssParams, params);\n        }\n\n        image.css(cssParams);\n    }\n\n    public setIconMarginCSS(container: any, icon: any): void {\n        let containerWidth: number = container.clientWidth ? container.clientWidth : container.width;\n        let containerHeight: number = container.clientHeight ? container.clientHeight : container.height;\n        let margin: number = 0;\n        let iconSize: number = containerWidth > containerHeight ? containerHeight : containerWidth;\n\n        var cssParams: imageCssParams = {\n            'width': '' + iconSize + 'px',\n            'margin-left': '',\n            'height': '' + iconSize + 'px',\n            'margin-top': ''\n        };\n\n        if ((containerWidth) > (containerHeight)) {\n            margin = ((containerWidth - containerHeight) / 2);\n            cssParams['margin-left'] = '' + margin + 'px';\n        } else {\n            margin = ((containerHeight - containerWidth) / 2);\n            cssParams['margin-top'] = '' + margin + 'px';\n        }\n\n        icon.css(cssParams);\n    }\n\n}\n\nclass PictureUtilsProvider implements IPictureUtilsProvider {\n    private _service: IPictureUtilsService;\n\n    constructor() { }\n\n    public $get() {\n        \"ngInject\";\n\n        if (this._service == null) {\n            this._service = new PictureUtils();\n        }\n\n        return this._service;\n    }\n}\n\nangular\n    .module('pipPictureUtils', [])\n    .provider('pipPictureUtils', PictureUtilsProvider);\n\n","import './IPictureUtils';\nimport './PictureUtils';\nimport './PicturePaste';\n\nexport * from './IPictureUtils';\nexport * from './PicturePaste';","(function(module) {\ntry {\n  module = angular.module('pipPictures.Templates');\n} catch (e) {\n  module = angular.module('pipPictures.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('add_image/AddImage.html',\n    '<md-menu><ng-transclude class=\"pip-add-image-open-button\" ng-click=\"vm.openMenu($mdOpenMenu)\" xxxng-click=\"vm.ngDisabled() ? \\'\\' : $mdOpenMenu()\"></ng-transclude><md-menu-content width=\"4\"><md-menu-item ng-if=\"vm.option.Upload\"><md-button class=\"layout-row layout-align-start-center\" accept=\"image/*\" ng-keydown=\"vm.onKeyDown($event)\" ng-multiple=\"vm.isMulti()\" ng-file-select=\"\" ng-file-change=\"vm.onFileChange($files)\" ng-click=\"vm.hideMenu()\" ng-file-drop=\"\"><md-icon class=\"text-headline text-grey rm24-flex\" md-svg-icon=\"icons:folder\"></md-icon><span class=\"text-grey\">{{ ::\\'FILE\\' | translate }}</span></md-button></md-menu-item><md-menu-item ng-if=\"vm.option.WebLink\"><md-button class=\"layout-row layout-align-start-center\" ng-click=\"vm.onWebLinkClick()\"><md-icon class=\"text-headline text-grey rm24-flex\" md-svg-icon=\"icons:weblink\"></md-icon><span class=\"text-grey\">{{ ::\\'WEB_LINK\\' | translate }}</span></md-button></md-menu-item><md-menu-item ng-if=\"vm.option.Camera\"><md-button class=\"layout-row layout-align-start-center\" ng-click=\"vm.onCameraClick()\"><md-icon class=\"text-headline text-grey rm24-flex\" md-svg-icon=\"icons:camera\"></md-icon><span class=\"text-grey\">{{ ::\\'CAMERA\\' | translate }}</span></md-button></md-menu-item><md-menu-item ng-if=\"vm.option.Galery\"><md-button class=\"layout-row layout-align-start-center\" ng-click=\"vm.onGalleryClick()\"><md-icon class=\"text-headline text-grey rm24-flex\" md-svg-icon=\"icons:images\"></md-icon><span class=\"text-grey\">{{ ::\\'IMAGE_GALLERY\\' | translate }}</span></md-button></md-menu-item></md-menu-content></md-menu>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipPictures.Templates');\n} catch (e) {\n  module = angular.module('pipPictures.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('camera_dialog/CameraDialog.html',\n    '<md-dialog class=\"pip-dialog pip-picture-dialog pip-camera-dialog layout-column\" md-theme=\"{{$ctrl.theme}}\" ng-show=\"$ctrl.browser != \\'android\\'\" ng-class=\"{\\'pip-android-dialog\\': $ctrl.browser == \\'android\\' || !$ctrl.browser}\"><div class=\"pip-header\"><md-button ng-click=\"$ctrl.onCancelClick()\" class=\"md-icon-button\" aria-label=\"{{ ::\\'CANCEL\\' | translate }}\"><md-icon class=\"text-grey\" md-svg-icon=\"icons:arrow-left\"></md-icon></md-button><h3 class=\"m0 text-title\">{{ ::\\'TAKE_PICTURE\\' | translate }}</h3></div><div class=\"pip-body\"><div class=\"camera-stream\" ng-hide=\"$ctrl.webCamError || $ctrl.browser == \\'android\\'\"></div><div class=\"camera-error\" ng-show=\"$ctrl.webCamError || $ctrl.browser == \\'android\\'\"><span>{{ ::\\'WEB_CAM_ERROR\\' | translate }}</span></div></div><div class=\"pip-footer\"><div class=\"w48\"><md-button ng-click=\"$ctrl.onResetPicture()\" ng-hide=\"!$ctrl.freeze || $ctrl.webCamError\" class=\"md-icon-button\" ng-disabled=\"transaction.busy()\" aria-label=\"{{ ::\\'REMOVE_PICTURE\\' | translate }}\"><md-icon class=\"text-grey\" md-svg-icon=\"icons:refresh\"></md-icon></md-button></div><div class=\"flex\"></div><div class=\"w48\"><md-button ng-click=\"$ctrl.onTakePictureClick()\" ng-hide=\"$ctrl.webCamError\" class=\"md-icon-button\" aria-label=\"{{ ::\\'TAKE_PICTURE\\' | translate }}\"><md-icon class=\"text-grey icon-button\" md-svg-icon=\"icons:{{$ctrl.freeze ? \\'check\\' : \\'camera\\'}}\"></md-icon></md-button></div><div class=\"flex\"></div><div class=\"w48\"><md-button ng-click=\"$ctrl.onCancelClick()\" class=\"md-icon-button\" aria-label=\"{{ ::\\'CANCEL\\' | translate }}\"><md-icon class=\"text-grey\" md-svg-icon=\"icons:cross\"></md-icon></md-button></div></div></md-dialog>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipPictures.Templates');\n} catch (e) {\n  module = angular.module('pipPictures.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('gallery_search_dialog/GallerySearchDialog.html',\n    '<md-dialog class=\"pip-dialog pip-gallery-search-dialog pip-picture-dialog layout-column\" md-theme=\"{{ $ctrl.theme }}\"><md-progress-linear ng-show=\"$ctrl.transaction.busy()\" md-mode=\"indeterminate\"></md-progress-linear><md-dialog-content class=\"pip-body lp0 rp0 tp0 pip-scroll flex layout-row\"><div class=\"layout-column layout-align-start-start flex\"><div class=\"pip-header w-stretch layout-column layout-align-start-start\"><h3 class=\"w-stretch text-title m0 bp8\"><md-button class=\"md-icon-button m0\" ng-click=\"$ctrl.onCancelClick()\" aria-label=\"{{ ::\\'CANCEL\\' | translate }}\"><md-icon class=\"text-grey\" md-svg-icon=\"icons:arrow-left\"></md-icon></md-button>{{ ::\\'IMAGE_GALLERY\\' | translate }}</h3><div class=\"w-stretch divider-bottom layout-row layout-start-center\"><input class=\"no-divider rm8 text-subhead1 flex\" ng-disabled=\"$ctrl.transaction.busy()\" ng-model=\"$ctrl.search\" ng-keypress=\"$ctrl.onKeyPress($event)\" placeholder=\"{{ ::\\'SEARCH_PICTURES\\' | translate }}\" type=\"text\" tabindex=\"1\"><md-button class=\"md-icon-button md-icon-button-square p0 pip-search-button md-primary\" ng-click=\"$ctrl.onSearchClick()\" ng-hide=\"$ctrl.optionDefault\" tabindex=\"-1\" aria-label=\"SEARCH\"><md-icon class=\"text-opacity md-primary\" md-svg-icon=\"icons:search-square\"></md-icon></md-button></div></div><div class=\"pip-content flex\" ng-show=\"$ctrl.imagesSearchResult.length > 0\"><div class=\"pip-image-container\" ng-click=\"$ctrl.onImageClick(image)\" ng-repeat=\"image in $ctrl.imagesSearchResult track by $index\" ng-class=\"{\\'checked\\': image.checked}\" tabindex=\"{{ $index + 2 }}\"><pip-picture pip-src=\"image.thumbnail\" pip-default-icon=\"icon-images\" pip-rebind=\"true\"></pip-picture><div class=\"pip-checked-cover\"></div><div class=\"pip-checkbox-backdrop\"><md-checkbox md-no-ink=\"\" ng-model=\"image.checked\" ng-click=\"image.checked = !image.checked\" aria-label=\"CHECKED\"></md-checkbox></div></div></div><div class=\"pip-no-images w-stretch layout-column layout-align-center-center flex\" ng-show=\"$ctrl.imagesSearchResult.length == 0\"><img src=\"images/add_from_image_library.svg\" width=\"200\" height=\"200\"><p class=\"text-secondary opacity-secondary text-center\">{{ ::\\'IMAGE_START_SEARCH\\' | translate }}</p></div></div></md-dialog-content><div class=\"pip-footer\"><md-button ng-click=\"$ctrl.onCancelClick()\" ng-hide=\"$ctrl.transaction.busy()\" aria-label=\"{{ ::\\'CANCEL\\' | translate }}\" tabindex=\"{{ $ctrl.imagesSearchResult.length + 3 }}\"><span class=\"text-grey\">{{ ::\\'CANCEL\\' | translate }}</span></md-button><md-button ng-if=\"transaction.busy()\" ng-click=\"$ctrl.onStopSearchClick()\" class=\"md-raised md-warn m0\" tabindex=\"5\" aria-label=\"ABORT\" pip-test=\"button-cancel\">{{ ::\\'CANCEL\\' | translate }}</md-button><md-button class=\"md-accent\" ng-hide=\"$ctrl.transaction.busy()\" ng-disabled=\"$ctrl.addButtonDisabled()\" ng-click=\"$ctrl.onAddClick()\" aria-label=\"{{ ::\\'ADD\\' | translate }}\" tabindex=\"{{ $ctrl.imagesSearchResult.length + 4 }}\">{{ ::\\'ADD\\' | translate }}</md-button></div></md-dialog>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipPictures.Templates');\n} catch (e) {\n  module = angular.module('pipPictures.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('picture_edit/PictureEdit.html',\n    '<div class=\"pip-picture-upload pip-picture-drop md-focused\" ng-keydown=\"$ctrl.onKeyDown($event)\" ng-class=\"{\\'pip-picture-error\\': $ctrl.control.state == \\'error\\'}\" tabindex=\"{{ $ctrl.ngDisabled || $ctrl.control.uploading ? -1 : 0 }}\" pip-changed=\"$ctrl.readItemLocally(url, uriData, file, picture)\" ng-disabled=\"$ctrl.ngDisabled\" pip-multi=\"$ctrl.multiUpload\" ng-focus=\"$ctrl.onFocus()\" ng-blur=\"$ctrl.onBlur()\" pip-option=\"$ctrl.option\" pip-add-image=\"\"><div class=\"pip-default-icon\" ng-show=\"$ctrl.empty() || $ctrl.control.state == \\'error\\'\"><md-icon class=\"pip-picture-icon\" md-svg-icon=\"icons:{{ $ctrl.icon }}\"></md-icon></div><div class=\"pip-default-text\" ng-show=\"$ctrl.control.state == \\'error\\'\"><span>{{ $ctrl.errorText | translate }}</span></div><div class=\"pip-default-text\" ng-show=\"$ctrl.empty() && $ctrl.control.state != \\'error\\'\"><span>{{ $ctrl.text | translate }}</span></div><img class=\"pip-picture-image\" ng-src=\"{{ $ctrl.control.url }}\" ng-show=\"!$ctrl.empty() && $ctrl.control.state != \\'error\\'\" ng-class=\"{ \\'pip-image-new\\': $ctrl.isUpdated(), \\'cursor-default\\' : $ctrl.ngDisabled || $ctrl.control.uploading }\" ui-event=\"{ error: \\'$ctrl.onImageError($event)\\', load: \\'$ctrl.onImageLoad($event)\\' }\"><md-button class=\"md-icon-button\" ng-click=\"$ctrl.onDeleteClick($event)\" tabindex=\"-1\" aria-label=\"delete\" ng-hide=\"$ctrl.empty() || $ctrl.ngDisabled\" ng-disabled=\"$ctrl.ngDisabled || $ctrl.control.uploading\"><md-icon md-svg-icon=\"icons:cross\"></md-icon></md-button><md-progress-linear ng-show=\"$ctrl.control.uploading\" ng-value=\"$ctrl.control.progress\"></md-progress-linear></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipPictures.Templates');\n} catch (e) {\n  module = angular.module('pipPictures.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('picture_list_edit/PictureListEdit.html',\n    '<div pip-focused=\"\"><div class=\"pip-picture-upload pointer pip-focusable\" ng-class=\"{\\'pip-picture-error\\': item.state == \\'error\\'}\" ng-keydown=\"$ctrl.onKeyDown($event, item)\" tabindex=\"{{ $ctrl.ngDisabled ? -1 : 0 }}\" ng-repeat=\"item in $ctrl.control.items | filter: $ctrl.filterItem\"><div class=\"pip-default-icon\" ng-hide=\"item.loaded || item.state == \\'error\\'\"><md-icon pip-cancel-drag=\"true\" class=\"pip-picture-icon\" md-svg-icon=\"icons:{{ $ctrl.icon }}\"></md-icon></div><div class=\"pip-default-text\" ng-show=\"$ctrl.control.state == \\'error\\'\"><span>{{ $ctrl.errorText | translate }}</span></div><img ng-src=\"{{ ::item.url }}\" pip-cancel-drag=\"true\" ng-hide=\"item.state == \\'error\\'\" ng-class=\"{ \\'pip-image-new\\': item.state == \\'added\\' }\" ui-event=\"{ error: \\'$ctrl.onImageError($event, item)\\', load: \\'$ctrl.onImageLoad($event, item)\\' }\"><md-button ng-click=\"$ctrl.onDeleteClick(item)\" ng-hide=\"$ctrl.ngDisabled || $ctrl.control.uploading\" ng-disabled=\"$ctrl.ngDisabled || $ctrl.control.uploading\" tabindex=\"-1\" aria-label=\"delete\" class=\"md-icon-button\"><md-icon pip-cancel-drag=\"true\" md-svg-icon=\"icons:cross\"></md-icon></md-button><md-progress-linear md-mode=\"indeterminate\" ng-show=\"item.uploading\" value=\"{{ item.progress }}\"></md-progress-linear></div><button class=\"pip-picture-upload pip-picture-drop pip-focusable\" pip-add-image=\"\" pip-multi=\"true\" ng-focus=\"$ctrl.onFocus()\" ng-blur=\"$ctrl.onBlur()\" pip-changed=\"$ctrl.readItemLocally(url, uriData, file, picture)\" ng-disabled=\"$ctrl.ngDisabled || $ctrl.control.uploading\"><div class=\"pip-default-icon\"><md-icon pip-cancel-drag=\"true\" class=\"pip-picture-icon\" md-svg-icon=\"icons:{{ $ctrl.icon }}\"></md-icon></div><div class=\"pip-default-text\"><span>{{ $ctrl.text | translate }}</span></div></button><div class=\"clearfix\"></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipPictures.Templates');\n} catch (e) {\n  module = angular.module('pipPictures.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('picture_url_dialog/PictureUrlDialog.html',\n    '<md-dialog class=\"pip-dialog pip-picture-url-dialog pip-picture-dialog layout-column\" md-theme=\"{{ $ctrl.theme }}\"><md-dialog-content class=\"pip-body lp0 rp0 tp0 pip-scroll\"><div class=\"pip-header bm16 layout-row layout-align-start-center\"><md-button ng-click=\"$ctrl.onCancelClick()\" class=\"md-icon-button lm0\" aria-label=\"{{ ::\\'CANCEL\\' | translate }}\"><md-icon class=\"text-grey\" md-svg-icon=\"icons:arrow-left\"></md-icon></md-button><h3 class=\"text-title m0\">{{ ::\\'PICTURE_FROM_WEBLINK\\' | translate}}</h3></div><div class=\"pip-content lm6 rm16\"><md-input-container md-no-float=\"\" class=\"w-stretch text-subhead1\"><input type=\"text\" ng-model=\"$ctrl.url\" ng-change=\"$ctrl.checkUrl()\" placeholder=\"{{ ::\\'LINK_PICTURE\\' | translate }}\"></md-input-container><div class=\"w-stretch layout-row layout-align-center-center\" ng-hide=\"$ctrl.invalid\"><img id=\"url_image\"></div><div class=\"pip-no-images layout-row layout-align-center-center\" ng-show=\"$ctrl.invalid\"><md-icon class=\"text-grey\" md-svg-icon=\"icons:images\"></md-icon></div></div></md-dialog-content><div class=\"pip-footer\"><md-button ng-click=\"$ctrl.onCancelClick()\" aria-label=\"{{ ::\\'CANCEL\\' | translate }}\">{{ ::\\'CANCEL\\' | translate }}</md-button><md-button class=\"md-accent\" ng-click=\"$ctrl.onAddClick()\" ng-disabled=\"$ctrl.invalid\" aria-label=\"{{ ::\\'ADD\\' | translate }}\">{{ ::\\'ADD\\' | translate }}</md-button></div></md-dialog>');\n}]);\n})();\n\n//# sourceMappingURL=pip-suite-pictures-html.min.js.map\n","import { IDocumentUrlDialogService } from '../document_url_dialog/IDocumentUrlDialogService';\ndeclare let unescape: any;\n\nconst ConfigTranslations = (pipTranslateProvider: pip.services.ITranslateProvider) => {\n    pipTranslateProvider.translations('en', {\n        'FILE_DOCUMENTS': 'Upload document',\n        'WEB_LINK': 'Use web link'\n    });\n    pipTranslateProvider.translations('ru', {\n        'FILE_DOCUMENTS': 'Загрузить документ',\n        'WEB_LINK': 'Вставить веб ссылка'\n    });\n}\n\n{\n    interface IAddDocumentScope extends angular.IScope {\n        $document: any;\n        onChange: any;\n        multi: any;\n        ngDisabled: any;\n    }\n\n    class AddDocumentsOnChangeParams {\n        public url: string;\n        public file: any;\n    }\n\n    class AddDocumentController {\n        constructor(\n            private $scope: IAddDocumentScope,\n            private $element: JQuery,\n            private $mdMenu,\n            private $timeout: ng.ITimeoutService,\n            private pipDocumentUrlDialog: IDocumentUrlDialogService\n        ) {\n            \"ngInject\";\n\n        }\n\n        public openMenu($mdOpenMenu): void {\n            if (this.$scope.ngDisabled()) {\n                return;\n            }\n            $mdOpenMenu();\n        }\n\n        private toBoolean(value: any): boolean {\n            if (!value) { return false; }\n\n            value = value.toString().toLowerCase();\n\n            return value == '1' || value == 'true';\n        }\n\n        public isMulti(): boolean {\n            if (this.$scope.multi !== undefined && this.$scope.multi !== null) {\n                if (angular.isFunction(this.$scope.multi)) {\n                    return this.toBoolean(this.$scope.multi());\n                } else {\n                    return this.toBoolean(this.$scope.multi);\n                }\n            } else {\n                return true;\n            }\n        }\n\n        public hideMenu(): void {\n            this.$mdMenu.hide();\n        }\n\n        public addDocuments(documents: any): void {\n\n            if (documents === undefined) { return; }\n\n            if (Array.isArray(documents)) {\n                documents.forEach((img) => {\n                    if (this.$scope.onChange) {\n                        let params: AddDocumentsOnChangeParams = { url: img.url, file: img.file };\n                        this.$scope.onChange(params);\n                    }\n                });\n            } else {\n                if (this.$scope.onChange) {\n                    let params: AddDocumentsOnChangeParams = { url: documents.url, file: documents.file };\n                    this.$scope.onChange(params);\n                }\n            }\n\n            if (this.$scope.$document === undefined || !Array.isArray(this.$scope.$document)) {\n                return;\n            }\n\n            if (Array.isArray(documents)) {\n                documents.forEach((img) => {\n                    this.$scope.$document.push(img.url);\n                });\n            } else {\n                this.$scope.$document.push(documents.url);\n            }\n        }\n\n        // Process user actions\n        public onFileChange($files: any): void {\n            if ($files == null || $files.length == 0) { return; }\n\n            $files.forEach((file) => {\n                if (file.type.indexOf('image') > -1) {\n                    this.$timeout(() => {\n                        let fileReader = new FileReader();\n                        fileReader.readAsDataURL(file);\n                        fileReader.onload = (e) => {\n                            this.$timeout(() => {\n                                this.addDocuments({ url: null, file: file });\n                            });\n                        }\n                    });\n                }\n            });\n\n        }\n\n        public onWebLinkClick(): void {\n            this.pipDocumentUrlDialog.show((result) => {\n                this.addDocuments({ url: result, file: null });\n            });\n        }\n\n    }\n\n    const AddDocument = function (): ng.IDirective {\n        return {\n            restrict: 'AC',\n            scope: {\n                $document: '=pipDocuments',\n                onChange: '&pipChanged',\n                multi: '&pipMulti',\n                ngDisabled: '&'\n            },\n            transclude: true,\n            templateUrl: 'add_documents/AddDocument.html',\n            controller: AddDocumentController,\n            controllerAs: 'vm'\n        };\n    }\n\n    angular\n        .module('pipAddDocument', ['DocumentUrlDialog'])\n        .config(ConfigTranslations)\n        .directive('pipAddDocument', AddDocument);\n}\n","import { IDocumentDataService, IDocumentDataProvider, DocumentConfig } from './IDocumentDataService';\nimport { BlobInfo } from './BlobInfo';\nimport { DataPage } from './DataPage';\n\nclass DocumentData implements IDocumentDataService {\n    private RESOURCE: string = 'documents';\n    private RESOURCE_INFO: string = 'documentsInfo';\n\n    private PAGE_SIZE: number = 100;\n    private PAGE_START: number = 0;\n    private PAGE_TOTAL: boolean = true;\n\n    constructor(\n        private _config: DocumentConfig,\n        private pipRest: pip.rest.IRestService,\n        private pipFormat: pip.services.IFormat\n    ) {\n        \"ngInject\";\n\n    }\n\n\n    public get DocumentRoute(): string {\n        return this._config.DocumentRoute;\n    }\n\n    public getDocumentUrl(id: string): string {\n        return this.pipRest.serverUrl + this._config.DocumentRoute + '/' + id;\n    }\n\n    public postDocumentUrl(): string {\n        return this.pipRest.serverUrl + this._config.DocumentRoute;\n    }\n\n\n    public readDocuments(params: any, successCallback?: (data: DataPage<BlobInfo>) => void, errorCallback?: (error: any) => void): angular.IPromise<any> {\n        params = params || {};\n        if (params.filter) {\n            params.filer = this.pipFormat.filterToString(params.filer);\n        }\n\n        return this.pipRest.getResource(this.RESOURCE).page(params, successCallback, errorCallback);\n    }\n\n    public readDocumentInfo(params: any, successCallback?: (data: BlobInfo) => void, errorCallback?: (error: any) => void): angular.IPromise<any> {\n        params = params || {};\n        if (params.filter) {\n            params.filer = this.pipFormat.filterToString(params.filer);\n        }\n\n        return this.pipRest.getResource(this.RESOURCE_INFO).get(params, successCallback, errorCallback);\n    }\n\n    public readDocument(id: string, successCallback?: (data: BlobInfo) => void, errorCallback?: (error: any) => void): angular.IPromise<any> {\n\n        return this.pipRest.getResource(this.RESOURCE).get({\n            blob_id: id\n        }, successCallback, errorCallback);\n    }\n\n    public deleteDocument(id: string, successCallback?: () => void, errorCallback?: (error: any) => void): void {\n        this.pipRest.getResource(this.RESOURCE).remove(\n            { blob_id: id },\n            null,\n            successCallback,\n            errorCallback\n        );\n    }\n}\n\n\nclass DocumentDataProvider implements IDocumentDataProvider {\n    private _service: IDocumentDataService;\n    private _config: DocumentConfig;\n\n    constructor(\n        private pipRestProvider: pip.rest.IRestProvider\n    ) {\n        this._config = new DocumentConfig();\n\n        this._config.DocumentRoute = '/api/1.0/blobs';\n    }\n\n    public get DocumentRoute(): string {\n        return this._config.DocumentRoute;\n    }\n\n    public set DocumentRoute(value: string) {\n        this._config.DocumentRoute = value;\n\n        this.pipRestProvider.registerOperation('documents', this._config.DocumentRoute + '/:document_id');\n        this.pipRestProvider.registerResource('documentInfo', this._config.DocumentRoute + '/:document_id/info');\n    }\n\n    public $get(\n        pipRest: pip.rest.IRestService,\n        pipFormat: pip.services.IFormat\n    ) {\n        \"ngInject\";\n\n        if (this._service == null) {\n            this._service = new DocumentData(this._config, pipRest, pipFormat);\n        }\n\n        return this._service;\n    }\n\n}\n\n\nangular\n    .module('pipDocumentData', ['pipRest', 'pipServices'])\n    .provider('pipDocumentData', DocumentDataProvider);\n\n\n","import { BlobInfo } from './BlobInfo';\nimport { DataPage } from './DataPage';\n\nexport class DocumentConfig {\n    public DocumentRoute: string;\n}\n\nexport interface IDocumentDataService {\n    DocumentRoute: string;\n\n    getDocumentUrl(id: string): string;\n    postDocumentUrl(): string\n\n    readDocuments(params: any, successCallback?: (data: DataPage<BlobInfo>) => void, errorCallback?: (error: any) => void): angular.IPromise<any>\n    readDocumentInfo(params: any, successCallback?: (data: BlobInfo) => void, errorCallback?: (error: any) => void): angular.IPromise<any>;\n    readDocument(id: string, successCallback?: (data: BlobInfo) => void, errorCallback?: (error: any) => void): angular.IPromise<any>;\n    deleteDocument(id: string, successCallback?: () => void, errorCallback?: (error: any) => void): void;\n}\n\n\nexport interface IDocumentDataProvider extends ng.IServiceProvider {\n    // bases document route string? sach as: '/api/1.0/blobs'\n    DocumentRoute: string;\n}\n","import { DefaultDocumentIcon } from '../document_list_edit/DocumentListEdit';\nimport { Attachment } from '../data/Attachment';\nimport { IDocumentDataService } from '../data/IDocumentDataService';\n\nconst ConfigTranslations = (pipTranslate: pip.services.ITranslateService) => {\n    if (pipTranslate) {\n        (pipTranslate).setTranslations('en', {\n            DOCUMENTS_ATTACHED: 'document(s) attached',\n            ERROR_DOCUMENTS_LOADED: 'Error: <%= error_number %> document(s) are not loaded'\n        });\n        (pipTranslate).setTranslations('ru', {\n            DOCUMENTS_ATTACHED: 'документов добавлено',\n            ERROR_DOCUMENTS_LOADED: 'Ошибка: <%= error_number %> документ(ов) не загружено'\n        });\n    }\n}\n\n{\n\n    interface DocumentListBindings {\n        [key: string]: any;\n\n        ngDisabled: any;\n        documents: any;\n        collapsable: any;\n        pipDocumentIcon: any;\n        rebind: any;\n    }\n\n    const DocumentListBindings: DocumentListBindings = {\n        ngDisabled: '&?',\n        documents: '<pipDocuments',\n        collapsable: '<?pipCollapse',\n        pipDocumentIcon: '<?pipDocumentIcon',\n        rebind: '<?pipRebind'\n    }\n\n    class DocumentListChanges implements ng.IOnChangesObject, DocumentListBindings {\n        [key: string]: ng.IChangesObject<any>;\n\n        ngDisabled: ng.IChangesObject<() => ng.IPromise<void>>;\n        documents: ng.IChangesObject<Attachment[]>;\n        collapsable: ng.IChangesObject<boolean>;\n        pipDocumentIcon: ng.IChangesObject<boolean>;\n        rebind: ng.IChangesObject<boolean>;\n    }\n\n    class DocumentListController {\n        private documentsContainer: JQuery;\n        private up: JQuery;\n        private down: JQuery;\n\n        public ngDisabled: () => boolean;\n        public collapsable: boolean;\n        public pipDocumentIcon: boolean;\n        public documents: Attachment[];\n        public rebind: boolean;\n\n        public showDocuments: boolean;\n        public documentList: Attachment[];\n        public documentListIcon: string = DefaultDocumentIcon;\n\n        constructor(\n            private $element: JQuery,\n            private $attrs: ng.IAttributes,\n            private pipTranslate: pip.services.ITranslateService,\n            private $parse: ng.IParseService,\n            private $scope: angular.IScope,\n            private $timeout: ng.ITimeoutService,\n            private pipDocumentData: IDocumentDataService,\n            private pipRest: pip.rest.IRestService\n        ) {\n            \"ngInject\";\n\n            // Add class\n            this.$element.addClass('pip-document-list');\n        }\n\n        public $postLink() {\n            this.documentsContainer = this.$element.children('.pip-documents-container');\n            this.up = this.$element.find('.icon-up');\n            this.down = this.$element.find('.icon-down');\n            this.documents = this.documents || [];\n            this.showDocuments = this.collapsable;\n\n            if (!this.collapsable) {\n                this.up.hide();\n                this.documentsContainer.hide();\n            } else {\n                this.down.hide();\n            }\n\n            if (this.ngDisabled()) {\n                this.up.hide();\n                this.down.hide();\n            }\n        }\n\n        public onDownload(item): void {\n            let e = document.createEvent('MouseEvents');\n            let a = document.createElement('a');\n\n            a.href = this.pipDocumentData.getDocumentUrl(item.id);;\n            a.dataset['downloadurl'] = ['undefined', a.download, a.href].join(':');\n            e.initMouseEvent('click', true, true, window, 0, 0, 0, 0, 0, true, false, false, false, 0, null);\n            a.dispatchEvent(e);\n        }\n\n        public $onChanges(changes: DocumentListChanges) {\n            if (this.toBoolean(this.rebind)) {\n                if (changes.documents && changes.documents.currentValue) {\n                    if (this.differentDocumentList(changes.documents.currentValue)) {\n                        this.documents = changes.documents.currentValue;\n                    }\n                }\n            }\n        }\n\n        public differentDocumentList(newList: Attachment[]): boolean {\n            let i: number, obj: Attachment;\n\n            if (!this.documents || newList) { return true; }\n            if (this.documents.length !== newList.length) { return true; }\n\n            for (i = 0; i < newList.length; i++) {\n                obj = _.find(this.documents, { id: newList[i].id });\n\n                if (obj === undefined) { return true; }\n            }\n\n            return false;\n        }\n\n        public onTitleClick(event: ng.IAngularEvent): void {\n            if (event) { event.stopPropagation(); }\n\n            if (this.$attrs.disabled) { return; }\n\n            this.showDocuments = !this.showDocuments;\n            this.up[this.showDocuments ? 'show' : 'hide']();\n            this.down[!this.showDocuments ? 'show' : 'hide']();\n            this.documentsContainer[this.showDocuments ? 'show' : 'hide']();\n        }\n\n        private toBoolean(value: any): boolean {\n            if (value == null) return false;\n            if (!value) return false;\n            value = value.toString().toLowerCase();\n\n            return value == '1' || value == 'true';\n        }\n\n    }\n\n    const documentList: ng.IComponentOptions = {\n        bindings: DocumentListBindings,\n        templateUrl: 'document_list/DocumentList.html',\n        controller: DocumentListController,\n    }\n\n    angular\n        .module(\"pipDocumentList\", ['pipFocused', 'pipDocuments.Templates'])\n        .run(ConfigTranslations)\n        .component('pipDocumentList', documentList);\n}","export let DefaultDocumentIcon: string = 'document';\nimport { Attachment, BlobInfo } from '../data';\nimport { IDocumentDataService } from '../data/IDocumentDataService';\n\nlet async = require('async');\n\nconst ConfigTranslations = (pipTranslate: pip.services.ITranslateService) => {\n    if (pipTranslate) {\n        (pipTranslate).setTranslations('en', {\n            DOCUMENT_LIST_EDIT_TEXT: 'Click here to add a document',\n            ERROR_TRANSACTION_IN_PROGRESS: 'Transaction is in progress. Please, wait until it\\'s finished or abort'\n        });\n        (pipTranslate).setTranslations('ru', {\n            DOCUMENT_LIST_EDIT_TEXT: 'Нажмите сюда, чтобы добавить документ',\n            ERROR_TRANSACTION_IN_PROGRESS: 'Транзакция еще не завершена. Подождите окончания или прервите её'\n        });\n    }\n}\n\nexport class DocumentListEditControl {\n    uploading: number = 0;\n    items: DocumentListEditItem[];\n    reset: () => void;\n    save: (successCallback?: (data: Attachment[]) => void, errorCallback?: (error: any) => void) => void;\n    abort: () => void;\n    error?: any;\n}\n\nexport class DocumentUploadErrors {\n    id: string;\n    uri: string;\n    name: string;\n    error: any;\n}\n\nexport class DocumentListEditItem {\n    pin: number;\n    id: string;\n    name: string;\n    uri?: string;\n    uploading: boolean;\n    uploaded: boolean;\n    upload?: any;\n    progress: number;\n    file: any;\n    state: string;\n    error: any\n}\n\n{\n    interface IDocumentListEditBindings {\n        [key: string]: any;\n\n        ngDisabled: any;\n        pipCreated: any;\n        pipChanged: any;\n        documents: any;\n        addedDocument: any;\n        documentListText: any;\n        documentListIcon: any;\n        cancelDrag: any;\n    }\n\n    const DocumentListEditBindings: IDocumentListEditBindings = {\n        ngDisabled: '&?',\n        pipCreated: '&?',\n        pipChanged: '&?',\n        documents: '=?pipDocuments',\n        addedDocument: '&?pipAddedDocument',\n        documentListText: '<?pipDefaultText',\n        documentListIcon: '<?pipDefaultIcon',\n        cancelDrag: '<?pipCanselDrag'\n    }\n\n    class DocumentListEditChanges implements ng.IOnChangesObject, IDocumentListEditBindings {\n        [key: string]: ng.IChangesObject<any>;\n        // Not one way bindings\n        ngDisabled: ng.IChangesObject<() => ng.IPromise<void>>;\n        pipCreated: ng.IChangesObject<() => ng.IPromise<void>>;\n        pipChanged: ng.IChangesObject<() => ng.IPromise<void>>;\n        documents: ng.IChangesObject<Attachment[]>;\n        addedDocument: ng.IChangesObject<() => boolean>;\n        documentListText: ng.IChangesObject<string>;\n        documentListIcon: ng.IChangesObject<string>;\n        cancelDrag: ng.IChangesObject<() => boolean>;\n    }\n\n    class SenderEvent {\n        sender: DocumentListEditControl;\n    }\n\n    class DocEvent {\n        $event: SenderEvent;\n        $control: DocumentListEditControl;\n    }\n\n    class DocumentStates {\n        static Original: string = 'original';\n        static Copied: string = 'copied';\n        static Added: string = 'added';\n        static Error: string = 'error';\n        static Deleted: string = 'deleted';\n    }\n\n    class DocumentListEditController {\n        private _pipTranslate: pip.services.ITranslateService;\n        private _elementDocumentDrop: JQuery;\n        private _itemPin: number = 0;\n        private documentStartState: string;\n        private loadedFiles: boolean\n\n        private cancelQuery: any;\n\n        public ngDisabled: () => boolean;\n        public pipCreated: (params: DocEvent) => void;\n        public pipChanged: (params: DocEvent) => void;\n        public documents: Attachment[];\n        public addedDocument: () => boolean;\n        public cancelDrag: () => boolean;\n        public documentListText: string;\n        public documentListIcon: string;\n        public iconError: string;\n\n        public control: DocumentListEditControl;\n\n        constructor(\n            private $log: ng.ILogService,\n            private $element: JQuery,\n            private $injector: ng.auto.IInjectorService,\n            private pipRest: pip.rest.IRestService,\n            private $timeout: ng.ITimeoutService,\n            private pipDocumentData: IDocumentDataService,\n            private pipFileUpload: pip.files.IFileUploadService\n\n        ) {\n            \"ngInject\";\n\n            this._pipTranslate = this.$injector.has('pipTranslate') ? <pip.services.ITranslateService>this.$injector.get('pipTranslate') : null;\n\n            this._elementDocumentDrop = $element.children('.pip-document-drop');\n\n            if (!this.documentListText) {\n                this.documentListText = 'DOCUMENT_LIST_EDIT_TEXT';\n            }\n            if (!this.documentListIcon) {\n                this.documentListIcon = 'document';\n            }\n            this.iconError = 'warn-circle';\n            this.documentStartState = this.toBoolean(this.addedDocument) ? DocumentStates.Copied : DocumentStates.Original;\n\n            this.control = {\n                uploading: 0,\n                items: this.getItems(),\n                reset: () => {\n                    this.resetDocument();\n                },\n                save: (successCallback?: (data: Attachment[]) => void, errorCallback?: (error: any) => void) => {\n                    this.saveDocument(successCallback, errorCallback);\n                },\n                abort: () => {\n                    this.onAbort();\n                },\n                error: null\n            };\n\n            this.control.reset();\n            this.executeCallback();\n            // Add class\n            this.$element.addClass('pip-document-list-edit');\n        }\n\n        public $onChanges(changes: DocumentListEditChanges): void {\n            if (changes.documents && changes.documents.currentValue) {\n                if (!_.isEqual(this.documents, changes.documents.currentValue)) {\n                    this.control.reset();\n                }\n            }\n        }\n\n        private toBoolean(value: any): boolean {\n            if (value == null) {\n                return false;\n            }\n            if (!value) {\n                return false;\n            }\n            value = value.toString().toLowerCase();\n\n            return value == '1' || value == 'true';\n        }\n\n        private getItems(): DocumentListEditItem[] {\n            let items: DocumentListEditItem[] = [];\n            let i: number;\n\n            if (this.documents === null || this.documents.length === 0) {\n                return items;\n            }\n\n            for (i = 0; i < this.documents.length; i++) {\n                let item: DocumentListEditItem = {\n                    pin: this._itemPin++,\n                    id: this.documents[i].id,\n                    name: this.documents[i].name,\n                    uri: this.documents[i].uri,\n                    uploading: false,\n                    uploaded: false,\n                    progress: 50,\n                    file: null,\n                    state: this.documentStartState,\n                    error: null\n                }\n                items.push(item);\n            }\n\n            return items;\n        }\n\n        private setItems(): void {\n            let item: DocumentListEditItem;\n            let i: number;\n\n            // Clean the array\n            if (this.documents && this.documents.length > 0) {\n                this.documents.splice(0, this.documents.length);\n            }\n            for (i = 0; i < this.control.items.length; i++) {\n                item = this.control.items[i];\n\n                if ((item.id || item.uri) && item.state != DocumentStates.Deleted) {\n                    let newDoc: Attachment = {\n                        id: item.id,\n                        name: item.name,\n                        uri: item.uri\n                    };\n                    this.documents.push(newDoc);\n                }\n            }\n        }\n\n        private getUploadErors(): DocumentUploadErrors[] {\n            let errors: DocumentUploadErrors[] = [];\n\n            _.each(this.control.items, (item: DocumentListEditItem) => {\n                if (item.state == DocumentStates.Error || item.error) {\n                    errors.push({\n                        id: item.id,\n                        uri: item.uri,\n                        name: item.name,\n                        error: item.error\n                    })\n                }\n            });\n\n            return errors;\n        }\n\n        public isDisabled(): boolean {\n            if (this.control.uploading) {\n                return true;\n            }\n\n            if (this.ngDisabled) {\n                return this.ngDisabled();\n            }\n\n            return false;;\n        }\n\n        private resetDocument(): void {\n            this.control.uploading = 0;\n            this.control.items = this.getItems();\n        }\n\n        private deleteItem(item: DocumentListEditItem, callback: (error?: any) => void): void {\n            // Avoid double transactions\n            if (item.upload) {\n                item.upload.abort();\n                item.upload = null;\n            }\n\n            if (item.state !== DocumentStates.Deleted) { return; }\n\n            // if attachment by uri\n            this.removeItem(item);\n            callback();\n        }\n\n        private saveDocument(successCallback?: (data: Attachment[]) => void, errorCallback?: (error: any) => void): void {\n            let item: DocumentListEditItem;\n            let onItemCallback: (error: any) => void;\n            let i: number;\n\n            if (this.control.uploading) {\n                if (errorCallback) {\n                    errorCallback('ERROR_TRANSACTION_IN_PROGRESS');\n                }\n\n                return;\n            }\n\n            this.cancelQuery = null;\n            this.control.error = null;\n            this.control.uploading = 0;\n\n            let addedBlobCollection = [];\n            let addedUrlCollection = [];\n\n            _.each(this.control.items, (item) => {\n                if (item.state == 'added') {\n                    if (!item.uri) {\n                        addedBlobCollection.push(item);\n                    } else {\n                        addedUrlCollection.push(item);\n                    }\n                }\n            });\n\n\n            let deletedCollection = _.filter(this.control.items, { state: 'deleted' });\n\n            // process addedUrlCollection\n            _.each(addedUrlCollection, (item) => {\n                item.uploaded = true;\n                item.uploading = false;\n                item.progress = 0;\n                item.upload = null;\n                item.file = null;\n                item.state = DocumentStates.Original;\n            });\n\n            if (!addedBlobCollection.length && !deletedCollection.length) {\n                // do nothing\n                if (addedUrlCollection.length > 0) {\n                    this.setItems();\n                }\n                this.control.uploading = 0;\n                if (successCallback) {\n                    successCallback(this.documents);\n                }\n\n                return;\n            }\n\n            this.control.uploading = addedBlobCollection.length + deletedCollection.length;\n            async.parallel([\n                (callbackAll) => {\n                    // add documents\n                    _.each(addedBlobCollection, (item) => {\n                        item.uploading = true;\n                        item.progress = 0;\n                    });\n                    this.pipFileUpload.multiUpload(\n                        this.pipDocumentData.postDocumentUrl(),\n                        addedBlobCollection,\n                        (index: number, data: BlobInfo, err: any) => {\n                            let item = addedBlobCollection[index];\n                            this.addItem(item, data, err);\n\n                            if (err) {\n                                this.control.error = true;\n                            }\n                        },\n                        (index: number, state: pip.files.FileUploadState, progress: number) => {\n                            // update item progress \n                            let item = addedBlobCollection[index];\n                            item.progress = progress;\n                        },\n                        (error: any, result: any, res: any) => {\n                            // reset upload abort\n                            this.cancelQuery = null;\n                            callbackAll();\n                        },\n                        (cancelQuery: any) => {\n                            this.cancelQuery = cancelQuery;\n                        },\n                        false,\n                        'pin'\n                    );\n                },\n                (callbackAll) => {\n                    // delete documents\n                    if (deletedCollection.length) {\n                        async.each(deletedCollection,\n                            (item, callback) => {\n                                this.deleteItem(item, (error: any) => { callback() });\n                            },\n                            (error, result) => {\n                                callbackAll();\n                            });\n                    } else {\n                        callbackAll();\n                    }\n\n                }\n            ],\n                // optional callback\n                (error, results) => {\n                    if (error && !this.control.error) {\n                        this.control.error = error;\n                    }\n                    if (this.control.error) {\n\n                        this.control.uploading = 0;\n                        let errors = this.getUploadErors();\n                        if (errorCallback) {\n                            errorCallback(errors);\n                        } else {\n                            this.$log.error(this.control.error);\n                        }\n                    } else {\n                        this.setItems();\n                        this.control.uploading = 0;\n                        if (successCallback) {\n                            successCallback(this.documents);\n                        }\n                    }\n\n\n                });\n\n        }\n\n        private addItem(oldItem: DocumentListEditItem, fileInfo: BlobInfo, error: any) {\n            let itemIndex = _.findIndex(this.control.items, { pin: oldItem.pin });\n            if (itemIndex < 0) return;\n            if (error) {\n                this.control.items[itemIndex].uploaded = false;\n                this.control.items[itemIndex].uploading = false;\n                this.control.items[itemIndex].progress = 0;\n                this.control.items[itemIndex].upload = null;\n                this.control.items[itemIndex].state = DocumentStates.Error;\n                this.control.items[itemIndex].error = error;\n\n            } else {\n                if (fileInfo) {\n                    this.control.items[itemIndex].id = fileInfo.id;\n                    this.control.items[itemIndex].name = fileInfo.name;\n                    this.control.items[itemIndex].uploaded = true;\n                    this.control.items[itemIndex].state = DocumentStates.Original;\n                } else {\n                    this.control.items[itemIndex].uploaded = false;\n                }\n                this.control.items[itemIndex].uploading = false;\n                this.control.items[itemIndex].progress = 0;\n                this.control.items[itemIndex].upload = null;\n                this.control.items[itemIndex].file = null;\n                this.control.items[itemIndex].error = null;\n            }\n        }\n\n        public onAbort(): void {\n            let item: DocumentListEditItem;\n            let i: number;\n\n            for (i = 0; i < this.control.items.length; i++) {\n                item = this.control.items[i];\n\n                if (item.uploading) {\n                    if (item.upload) {\n                        item.upload.abort();\n                    }\n\n                    item.uploaded = false;\n                    item.uploading = false;\n                    item.progress = 0;\n                    item.upload = null;\n                }\n            }\n\n            // abort upload\n            if (this.cancelQuery) {\n                this.cancelQuery.resolve();\n            }\n            // Abort transaction\n            this.control.uploading = 0;\n            this.control.error = true;\n        }\n\n        // Visualization functions\n        public filterItem(item: DocumentListEditItem): boolean {\n            return item.state !== DocumentStates.Deleted;\n        }\n\n        // Process user actions\n        public readItemLocally(url: string, file: any): void {\n\n            let item: DocumentListEditItem = {\n                pin: this._itemPin++,\n                id: null,\n                name: file ? file.name : url ? url.split('/').pop() : null,\n                uri: !file && url ? url : null,\n                uploading: false,\n                uploaded: false,\n                progress: 0,\n                file: file ? file : null,\n                state: DocumentStates.Added,\n                error: null\n            };\n\n            this.control.items.push(item);\n\n            this.onChange();\n        }\n\n        private removeItem(item: DocumentListEditItem): void {\n            if (item.state === DocumentStates.Added || item.state === DocumentStates.Copied) {\n                let index = _.findIndex(this.control.items, { pin: item.pin });\n                if (index > -1) {\n                    this.control.items.splice(index, 1);\n                }\n            } else {\n                item.state = DocumentStates.Deleted;\n            }\n        }\n\n        public onDelete(item: DocumentListEditItem): void {\n            this.removeItem(item);\n\n            this.onChange();\n        }\n\n        public onKeyDown($event: JQueryEventObject, item: DocumentListEditItem): void {\n            if (item) {\n                if ($event.keyCode === 46 || $event.keyCode === 8) {\n                    this.removeItem(item);\n\n                    this.onChange();\n                }\n            } else if ($event.keyCode === 13 || $event.keyCode === 32) {\n                // !! Avoid clash with $apply()\n                setTimeout(() => {\n                    this._elementDocumentDrop.trigger('click');\n                }, 0);\n            }\n        }\n\n        // On change event\n        public onChange() {\n            if (this.pipChanged) {\n                this.pipChanged({\n                    $event: { sender: this.control },\n                    $control: this.control\n                });\n            }\n        }\n\n        private executeCallback() {\n            // Execute callback\n            if (this.pipCreated) {\n                this.pipCreated({\n                    $event: { sender: this.control },\n                    $control: this.control\n                });\n            }\n        }\n    }\n\n    const documentListEdit: ng.IComponentOptions = {\n        bindings: DocumentListEditBindings,\n        templateUrl: 'document_list_edit/DocumentListEdit.html',\n        controller: DocumentListEditController\n    }\n\n    angular\n        .module(\"pipDocumentListEdit\", ['ui.event', 'pipFocused', 'pipDocuments.Templates', 'pipFiles', 'DocumentUrlDialog'])\n        .run(ConfigTranslations)\n        .component('pipDocumentListEdit', documentListEdit);\n}\n\n","import { IDocumentUrlDialogService } from './IDocumentUrlDialogService';\n\nclass DocumentUrlDialogService implements IDocumentUrlDialogService {\n    private _mdDialog: angular.material.IDialogService;\n\n    constructor($mdDialog: angular.material.IDialogService) {\n        this._mdDialog = $mdDialog;\n    }\n\n    public show(successCallback?: (result) => void, cancelCallback?: () => void) {\n        this._mdDialog.show({\n            templateUrl: 'document_url_dialog/DocumentUrlDialog.html',\n            clickOutsideToClose: true,\n            controller: DocumentUrlDialogController,\n            controllerAs: '$ctrl'\n        })\n            .then(\n            (result) => {\n                if (successCallback) {\n                    successCallback(result);\n                }\n            });\n    }\n}\n\n\nconst ConfigDocumentUrlDialogTranslations = (pipTranslateProvider: pip.services.ITranslateProvider) => {\n    pipTranslateProvider.translations('en', {\n        'DOCUMENT_FROM_WEBLINK': 'Add web link',\n        'LINK_DOCUMENT': 'Link to the document...'\n    });\n    pipTranslateProvider.translations('ru', {\n        'DOCUMENT_FROM_WEBLINK': 'Добавить веб ссылку',\n        'LINK_DOCUMENT': 'Ссылка на документ...'\n    });\n}\n\nclass DocumentUrlDialogController {\n    public url: string = '';\n    public invalid: boolean = true;\n    public theme: string;\n    private ExpressionURI: any;\n    private regexURI: any;\n    public matchURI: boolean;\n\n    constructor(\n        private $log: ng.ILogService,\n        private $scope: ng.IScope,\n        private $mdDialog: angular.material.IDialogService,\n        private $rootScope: ng.IRootScopeService,\n        private $timeout: ng.ITimeoutService,\n        private $mdMenu\n    ) {\n        \"ngInject\";\n\n        this.theme = this.$rootScope[pip.themes.ThemeRootVar];\n\n        this.ExpressionURI = /^([a-z][a-z0-9+.-]*):(?:\\/\\/((?:(?=((?:[a-z0-9-._~!$&'()*+,;=:]|%[0-9A-F]{2})*))(\\3)@)?(?=(\\[[0-9A-F:.]{2,}\\]|(?:[a-z0-9-._~!$&'()*+,;=]|%[0-9A-F]{2})*))\\5(?::(?=(\\d*))\\6)?)(\\/(?=((?:[a-z0-9-._~!$&'()*+,;=:@\\/]|%[0-9A-F]{2})*))\\8)?|(\\/?(?!\\/)(?=((?:[a-z0-9-._~!$&'()*+,;=:@\\/]|%[0-9A-F]{2})*))\\10)?)(?:\\?(?=((?:[a-z0-9-._~!$&'()*+,;=:@\\/?]|%[0-9A-F]{2})*))\\11)?(?:#(?=((?:[a-z0-9-._~!$&'()*+,;=:@\\/?]|%[0-9A-F]{2})*))\\12)?$/i;\n        this.regexURI = new RegExp(this.ExpressionURI);\n        this.matchURI = false;\n    }\n\n    public checkUrl(): void {\n        if (this.url.match(this.regexURI)) {\n            this.matchURI = true;\n        } else {\n            this.matchURI = false;\n        }\n\n    };\n\n    public onCancelClick(): void {\n        this.$mdDialog.cancel();\n    };\n\n    public onAddClick(): void {\n        this.$mdDialog.hide(this.url);\n    };\n\n}\n\nangular\n    .module('DocumentUrlDialog', ['ngMaterial', 'pipDocuments.Templates'])\n    .service('pipDocumentUrlDialog', DocumentUrlDialogService)\n    .config(ConfigDocumentUrlDialogTranslations);","// configured Rest resource\nfunction configDocumentResources(pipRestProvider: pip.rest.IRestProvider) {\n    pipRestProvider.registerPagedCollection('documents', '/api/1.0/blobs/:document_id',\n        { blob_id: '@document_id' },\n        {\n            page: { method: 'GET', isArray: false },\n            update: { method: 'PUT' }\n        });\n    pipRestProvider.registerResource('documentInfo', '/api/1.0/blobs/:document_id/info');\n}\n\nangular\n    .module('pipDocuments.Rest')\n    .config(configDocumentResources);\n\n\n","function configFileResources(pipRestProvider: pip.rest.IRestProvider) {\n    pipRestProvider.registerPagedCollection('files', '/api/1.0/files/:file_id');\n}\n// this.registerRoute('get', '/files', this.getFiles);\n// this.registerRoute('get', '/files/:file_id', this.getFile);\n// this.registerRouteWithAuth('post', '/files', this._auth.admin(), this.createFile);\n// this.registerRouteWithAuth('put', '/files/:file_id', this._auth.admin(), this.updateFile);\n// this.registerRouteWithAuth('del', '/files/:file_id', this._auth.admin(), this.deleteFile);\n\nangular\n    .module('pipDocuments.Rest')\n    .config(configFileResources);\n","(function(module) {\ntry {\n  module = angular.module('pipDocuments.Templates');\n} catch (e) {\n  module = angular.module('pipDocuments.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('add_documents/AddDocument.html',\n    '<md-menu><ng-transclude class=\"pip-add-image-open-button\" ng-click=\"vm.openMenu($mdOpenMenu)\" xxxng-click=\"vm.ngDisabled() ? \\'\\' : $mdOpenMenu()\"></ng-transclude><md-menu-content width=\"4\"><md-menu-item><md-button class=\"layout-row layout-align-start-center\" accept=\"image/*\" ng-keydown=\"vm.onKeyDown($event)\" ng-multiple=\"vm.isMulti()\" ng-file-select=\"\" ng-file-change=\"vm.onFileChange($files)\" ng-click=\"vm.hideMenu()\" ng-file-drop=\"\"><md-icon class=\"text-headline text-grey rm24-flex\" md-svg-icon=\"icons:folder\"></md-icon><span class=\"text-grey\">{{ ::\\'FILE_DOCUMENTS\\' | translate }}</span></md-button></md-menu-item><md-menu-item><md-button class=\"layout-row layout-align-start-center\" ng-click=\"vm.onWebLinkClick()\"><md-icon class=\"text-headline text-grey rm24-flex\" md-svg-icon=\"icons:weblink\"></md-icon><span class=\"text-grey\">{{ ::\\'WEB_LINK\\' | translate }}</span></md-button></md-menu-item></md-menu-content></md-menu>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDocuments.Templates');\n} catch (e) {\n  module = angular.module('pipDocuments.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('document_list/DocumentList.html',\n    '<md-button class=\"pip-documents-name\" ng-class=\"{\\'lp24-flex rp16\\': $ctrl.pipDocumentIcon }\" ng-click=\"$ctrl.onTitleClick($event); $ctrl.onResize()\" aria-label=\"RESIZE\"><div class=\"layout-align-start-center layout-row w-stretch\"><md-icon md-svg-icon=\"icons:document\" ng-class=\"{\\'pip-icon\\': $ctrl.pipDocumentIcon}\" ng-if=\"$ctrl.pipDocumentIcon\"></md-icon><span class=\"pip-documents-text\">{{ $ctrl.documents.length }} {{ ::\\'DOCUMENTS_ATTACHED\\' | translate }}</span><md-icon class=\"icon-up\" md-svg-icon=\"icons:triangle-up\"></md-icon><md-icon class=\"icon-down\" md-svg-icon=\"icons:triangle-down\"></md-icon></div></md-button><div pip-focused=\"\" class=\"pip-documents-container bm8\" ng-class=\"{ \\'lp24-flex rp24-flex\\': $ctrl.pipDocumentIcon }\"><md-button class=\"pip-document-download md-primary\" ng-if=\"document.uri\" ng-class=\"{\\'pip-focusable\\' : !$ctrl.ngDisabled()}\" href=\"{{ document.uri }}\" target=\"_blank\" ng-disabled=\"$ctrl.ngDisabled() || $ctrl.document.error\" ng-repeat=\"document in $ctrl.documents track by $index\" aria-label=\"DOCUMENT\"><div class=\"pip-default-icon\"><md-icon md-svg-icon=\"icons:{{::$ctrl.documentListIcon}}\"></md-icon></div><div class=\"pip-document-title\">{{ ::document.name }}</div></md-button><md-button class=\"pip-document-download md-primary\" ng-if=\"!document.uri\" ng-class=\"{\\'pip-focusable\\' : !$ctrl.ngDisabled()}\" ng-click=\"$ctrl.onDownload(document)\" target=\"_blank\" ng-disabled=\"$ctrl.ngDisabled() || $ctrl.document.error\" ng-repeat=\"document in $ctrl.documents track by $index\" aria-label=\"DOCUMENT\"><div class=\"pip-default-icon\"><md-icon md-svg-icon=\"icons:{{::$ctrl.documentListIcon}}\"></md-icon></div><div class=\"pip-document-title\">{{ ::document.name }}</div></md-button></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDocuments.Templates');\n} catch (e) {\n  module = angular.module('pipDocuments.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('document_list/DocumentListCollapse.html',\n    '<div class=\"pip-documents-name\" ng-click=\"$ctrl.onTitleClick($event); $ctrl.onResize()\"><span class=\"pip-documents-text\">{{ documents.length }} {{ ::\\'DOCUMENTS_ATTACHED\\' | translate }}</span><md-icon class=\"icon-up\" md-svg-icon=\"icons:triangle-up\"></md-icon><md-icon class=\"icon-down\" md-svg-icon=\"icons:triangle-down\"></md-icon></div><div pip-focused=\"\" class=\"pip-documents-container bm8\"><md-button class=\"pip-document-download pip-focusable md-primary\" href=\"{{::$ctrl.document.url}}\" target=\"_blank\" ng-repeat=\"document in $ctrl.documents track by document.id\" aria-label=\"DOCUMENT\"><div class=\"pip-default-icon\"><md-icon md-svg-icon=\"icons:{{::$ctrl.icon}}\"></md-icon></div><div class=\"pip-document-title\">{{ ::$ctrl.document.name }}</div></md-button></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDocuments.Templates');\n} catch (e) {\n  module = angular.module('pipDocuments.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('document_list_edit/DocumentListEdit.html',\n    '<div pip-focusable=\"\"><div class=\"pip-document-upload pointer md-primary\" ng-class=\"{\\'pip-focusable\\' : !$ctrl.ngDisabled(), \\'pip-item-error\\' : item.state == \\'error\\'}\" ng-keydown=\"$ctrl.onKeyDown($event, item)\" tabindex=\"{{ $ctrl.ngDisabled() ? -1 : 0 }}\" ng-repeat=\"item in $ctrl.control.items | filter: $ctrl.filterItem track by $index\"><div class=\"pip-default-icon\" ng-class=\"{ \\'pip-document-new\\': item.state == \\'added\\' || item.state == \\'copied\\' }\"><md-icon pip-cancel-drag=\"true\" class=\"md-primary\" ng-if=\"item.state == \\'original\\' || item.state == \\'added\\'\" md-svg-icon=\"icons:{{::$ctrl.documentListIcon}}\"></md-icon><md-icon pip-cancel-drag=\"true\" class=\"md-warn\" ng-if=\"item.state == \\'error\\'\" md-svg-icon=\"icons:{{::$ctrl.iconError}}\"></md-icon></div><div class=\"pip-document-title\" pip-cancel-drag=\"true\">{{ item.name }}</div><md-button ng-click=\"$ctrl.onDelete(item)\" ng-disabled=\"$ctrl.isDisabled()\" tabindex=\"-1\" ng-hide=\"$ctrl.ngDisabled()\" class=\"md-icon-button\" aria-label=\"DELETE\"><md-icon md-svg-icon=\"icons:cross\" pip-cancel-drag=\"true\"></md-icon></md-button><md-progress-linear md-mode=\"determinate\" ng-show=\"item.uploading\" ng-value=\"item.progress\"></md-progress-linear></div><button class=\"pip-document-upload pip-document-drop\" ng-class=\"{\\'pip-focusable\\' : !$ctrl.ngDisabled()}\" ng-keydown=\"$ctrl.onKeyDown($event)\" tabindex=\"0\" xxxng-file-drop=\"\" xxxng-file-select=\"\" xxxng-file-change=\"$ctrl.onSelect($files)\" pip-changed=\"$ctrl.readItemLocally(url, file)\" xxng-multiple=\"true\" pip-multi=\"true\" ng-disabled=\"$ctrl.ngDisabled()\" aria-label=\"UPLOAD\" pip-add-document=\"\"><div class=\"pip-default-icon\"><md-icon pip-cancel-drag=\"true\" md-svg-icon=\"icons:{{ ::$ctrl.documentListIcon }}\"></md-icon></div><div class=\"pip-default-text\"><span>{{ $ctrl.documentListText | translate }}</span></div></button><div class=\"clearfix\"></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDocuments.Templates');\n} catch (e) {\n  module = angular.module('pipDocuments.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('document_url_dialog/DocumentUrlDialog.html',\n    '<md-dialog class=\"pip-dialog pip-document-url-dialog pip-document-dialog layout-column\" md-theme=\"{{ $ctrl.theme }}\"><md-dialog-content class=\"pip-body lp0 rp0 tp0 pip-scroll\"><div class=\"pip-header bm16 layout-row layout-align-start-center\"><md-button ng-click=\"$ctrl.onCancelClick()\" class=\"md-icon-button lm0\" aria-label=\"{{ ::\\'CANCEL\\' | translate }}\"><md-icon class=\"text-grey\" md-svg-icon=\"icons:arrow-left\"></md-icon></md-button><h3 class=\"text-title m0\">{{ ::\\'DOCUMENT_FROM_WEBLINK\\' | translate}}</h3></div><div class=\"pip-content lp16 rp16\"><md-input-container md-no-float=\"\" class=\"w-stretch text-subhead1\"><input type=\"text\" ng-model=\"$ctrl.url\" ng-change=\"$ctrl.checkUrl()\" placeholder=\"{{ ::\\'LINK_DOCUMENT\\' | translate }}\"></md-input-container></div></md-dialog-content><div class=\"pip-footer\"><md-button ng-click=\"$ctrl.onCancelClick()\" aria-label=\"{{ ::\\'CANCEL\\' | translate }}\">{{ ::\\'CANCEL\\' | translate }}</md-button><md-button class=\"md-accent\" ng-click=\"$ctrl.onAddClick()\" aria-label=\"{{ ::\\'ADD\\' | translate }}\" ng-disabled=\"!$ctrl.matchURI\">{{ ::\\'ADD\\' | translate }}</md-button></div></md-dialog>');\n}]);\n})();\n\n//# sourceMappingURL=pip-suite-documents-html.min.js.map\n","import { ChecklistItem } from '../data';\nexport const ChecklistDraggEvent: string = 'onChecklistDrag';\n\n{\n\n    class ChecklistSelected {\n        public index: number = 0;\n        public drag: boolean;\n        public dragInit: boolean;\n        public dragId: number = 0;\n        public id: number;\n        public isChanged: boolean = false;\n    }\n\n    interface IChecklistEditBindings {\n        [key: string]: any;\n\n        ngDisabled: any;\n        pipChanged: any;\n        pipDraggable: any;\n        pipOptions: any;\n        pipScrollContainer: any;\n        pipRebind: any;\n    }\n\n    const ChecklistEditBindings: IChecklistEditBindings = {\n        ngDisabled: '<?',\n        pipChanged: '=?',\n        pipDraggable: '<?',\n        pipOptions: '=',\n        pipScrollContainer: '<?',\n        pipRebind: '<?'\n    }\n\n    class ChecklistEditBindingsChanges implements ng.IOnChangesObject, IChecklistEditBindings {\n        [key: string]: ng.IChangesObject<any>;\n\n        ngDisabled: ng.IChangesObject<boolean>;\n        pipChanged: ng.IChangesObject<() => ng.IPromise<void>>;\n        pipDraggable: ng.IChangesObject<boolean>;\n        pipOptions: ng.IChangesObject<ChecklistItem[]>;\n        pipScrollContainer: ng.IChangesObject<string>;\n        pipRebind: ng.IChangesObject<boolean>;\n    }\n\n    class ChecklistEditController {\n        public ngDisabled: boolean;\n        public pipChanged: Function;\n        public pipDraggable: boolean;\n        public pipScrollContainer: string;\n        public pipOptions: ChecklistItem[];\n        public pipRebind: boolean;\n\n        private _debounceChange: any;\n\n        public selected: ChecklistSelected;\n\n        public checklistContent: ChecklistItem[];\n        public isWidth: boolean;\n\n\n        constructor(\n            private $element: JQuery,\n            private $timeout: ng.ITimeoutService,\n            private $document,\n            private $rootScope: ng.IRootScopeService\n        ) {\n            \"ngInject\";\n\n            $element.addClass('pip-checklist-edit');\n\n            if (!this.pipOptions || !_.isArray(this.pipOptions)) {\n                this.pipOptions = [];\n            }\n\n            this.selected = new ChecklistSelected();\n            this.selected.drag = this.pipDraggable;\n            this.selected.dragInit = this.pipDraggable;\n            this.selected.id = this.now();\n\n            this.generateList(this.pipOptions);\n\n            this._debounceChange = _.debounce(() => {\n                this.onChecklistChange();\n            }, 200);\n\n        }\n\n        public $onChanges(changes: ChecklistEditBindingsChanges): void {\n            if (this.toBoolean(this.pipRebind)) {\n                if (changes.pipOptions && changes.pipOptions.currentValue) {\n                    if (!angular.equals(this.pipOptions, changes.pipOptions.currentValue)) {\n                        if (!this.selected.isChanged) {\n                            this.generateList(changes.pipOptions.currentValue);\n                            // this.pipOptions = changes.pipOptions.currentValue;\n                        } else {\n                            this.selected.isChanged = false;\n                        }\n                    }\n                }\n                if (changes.pipDraggable && changes.pipDraggable.currentValue) {\n                    this.pipDraggable = changes.pipDraggable.currentValue;\n                }\n            }\n        }\n\n        private toBoolean(value: any): boolean {\n            if (value == null) { return false; }\n            if (!value) { return false; }\n            value = value.toString().toLowerCase();\n\n            return value == '1' || value == 'true';\n        }\n\n        private getCaret(el: any): number {\n            if (el.selectionStart) {\n                return el.selectionStart;\n            } else if (this.$document.selection) {\n                el.focus();\n\n                let r = this.$document.selection.createRange();\n                if (r == null) {\n                    return 0;\n                }\n\n                var re = el.createTextRange(),\n                    rc = re.duplicate();\n                re.moveToBookmark(r.getBookmark());\n                rc.setEndPoint('EndToStart', re);\n\n                return rc.text.length;\n            }\n\n            return 0;\n        }\n\n        private setSelectionRange(input, selectionStart, selectionEnd): void {\n            if (input.setSelectionRange) {\n                input.focus();\n                input.setSelectionRange(selectionStart, selectionEnd);\n            } else if (input.createTextRange) {\n                var range = input.createTextRange();\n                range.collapse(true);\n                range.moveEnd('character', selectionEnd);\n                range.moveStart('character', selectionStart);\n                range.select();\n            }\n        }\n\n        private setCaretToPos(input, pos): void {\n            this.setSelectionRange(input, pos, pos);\n        }\n\n        private addItem(text: string, index: number): void {\n            let newItem: ChecklistItem = this.getNewItem(text, false);\n            if (index > -1) {\n                this.selected.index = index;\n            }\n\n            if (this.checklistContent.length < 2) {\n                this.checklistContent.unshift(newItem);\n            } else {\n                this.checklistContent.splice(this.selected.index + 1, 0, newItem);\n            }\n            this.selected.index += 1;\n            this.setFocus(this.selected.index);\n\n            this._debounceChange();\n        }\n\n        private updateContents(): void {\n            this.selected.isChanged = true;\n            let content: ChecklistItem[] = [];\n            _.each(this.checklistContent, (item: ChecklistItem) => {\n                if (!item.empty) {\n                    content.push({\n                        checked: item.checked,\n                        text: item.text\n                    })\n                }\n            })\n\n            this.pipOptions = content;\n        }\n\n        private setFocus(index: number, toPos?: any): void {\n            if (index > -1) {\n                setTimeout(() => {\n                    let nextElement = angular.element('#check-item-text-' + this.selected.id + '-' + index);\n                    if (nextElement) {\n                        nextElement.focus();\n                        if (toPos !== undefined && nextElement[0]) {\n                            this.setCaretToPos(nextElement[0], toPos);\n                        }\n                    }\n                }, 50);\n            }\n        }\n\n        private getNewItem(text?: string, isEmpty?: boolean): ChecklistItem {\n            let newItem: ChecklistItem = {\n                checked: false,\n                text: text || '',\n                empty: isEmpty\n            };\n\n            return newItem;\n        }\n\n        private now(): number {\n            return +new Date;\n        }\n\n        private clearList(): void {\n            this.selected.index = 0;\n            this.checklistContent = [];\n            // push empty item\n            this.checklistContent.push(this.getNewItem('', true));\n        }\n\n        private generateList(content: ChecklistItem[]): void {\n            if (!content || content.length < 1) {\n                this.clearList();\n            } else {\n                this.checklistContent = [];\n                _.each(content, (item) => {\n                    this.checklistContent.push(item);\n                });\n                // push empty item\n                this.checklistContent.push(this.getNewItem('', true));\n            }\n        }\n\n        private setWidth100(): void {\n            let element = angular.element('#check-item-' + + this.selected.id + '-' + this.selected.index);\n            element.css(\"width\", 'none');\n            element.css(\"max-width\", 'none');\n        }\n\n        private setWidth(): void {\n            if (this.isWidth) return;\n\n            let elementEtalon = angular.element('#check-item-empty-' + this.selected.id);\n            let value: number = elementEtalon.width();\n            let element = angular.element('#check-item-' + this.selected.id + '-' + this.selected.index);\n            if (element) {\n                element.css(\"width\", value + 'px');\n                element.css(\"max-width\", value + 'px');\n            }\n        }\n\n        // public functions\n\n        public onItemFocus(index: number): void {\n            if (this.ngDisabled) return;\n            this.selected.index = index;\n        }\n\n        public isSelectedItem(index: number): boolean {\n            let empty: boolean;\n            try {\n                empty = this.checklistContent[index].empty;\n            } catch (err) {\n                empty = true;\n            }\n\n            return this.selected.index == index && this.pipDraggable && !empty;\n        }\n\n        public onAddItem(): void {\n            this.addItem('', this.selected.index - 1);\n        }\n\n        public onChangeItem(index: number): void {\n            if (index > -1 && this.checklistContent[index] && this.checklistContent[index].empty) {\n                if (this.checklistContent[index].empty) {\n                    this.checklistContent[index].empty = false;\n                    this.checklistContent.push(this.getNewItem('', true));\n                }\n            }\n            this._debounceChange();\n        }\n\n        public onClick($event: JQueryEventObject, index: number): void {\n            if (this.ngDisabled) { return; }\n\n            this.selected.index = index;\n        }\n\n        public onTextAreaClick($event: JQueryEventObject, index: number) {\n            if (this.ngDisabled) { return; }\n\n            this.selected.index = index;\n        }\n\n        public onDropComplete(placeIndex: number, obj: ChecklistItem, $event: JQueryEventObject, componentId: number) {\n            if (this.selected.id != componentId) { return; }\n            if (!this.selected.drag) { return; }\n\n            let index: number = placeIndex;\n            let tmpIndex: number = this.selected.index;\n            let checklist: ChecklistItem[] = _.cloneDeep(this.checklistContent);\n\n            if (!(tmpIndex == 0 && placeIndex == 1)) {\n                if (tmpIndex > index) {\n                    if (index > checklist.length - 1) {\n                        index = checklist.length - 1;\n                    }\n                    // move up\n                    for (let i = 0; i < tmpIndex - index; i++) {\n                        checklist[tmpIndex - i] = checklist[tmpIndex - i - 1];\n                    }\n                    checklist[index] = obj;\n                }\n                if (tmpIndex < index) {\n                    index -= 1;\n                    //move down\n                    for (var i = 0; i < index - tmpIndex; i++) {\n                        checklist[tmpIndex + i] = checklist[tmpIndex + i + 1];\n                    }\n                    checklist[index] = obj;\n                }\n\n                this.selected.index = index;\n            }\n\n            this.checklistContent = checklist;\n            this._debounceChange();\n        }\n\n        public onMove(): void {\n            this.setWidth();\n            this.isWidth = true;\n        }\n\n\n        public onStop(id: number): void {\n            this.$timeout(() => {\n                this.selected.drag = this.selected.dragInit;\n                this.selected.dragId = 0;\n            }, 50);\n\n            if (this.isWidth) {\n                this.setWidth100();\n                this.isWidth = false;\n            }\n        }\n\n        public onStart(id: number): void {\n            this.selected.isChanged = true;\n            if (id && id != this.selected.dragId) {\n                this.selected.drag = false;\n            }\n        }\n\n        public onDownDragg(item: ChecklistItem): void {\n            if (this.pipDraggable && this.checklistContent.length > 2 && !item.empty) {\n                this.$rootScope.$broadcast(ChecklistDraggEvent);\n                this.selected.dragId = this.selected.id;\n            }\n        }\n\n        public onDeleteItem(index: number, item: ChecklistItem): void {\n            if (this.checklistContent.length == 1) {\n                this.checklistContent[0].text = '';\n                this.checklistContent[0].checked = false;\n                this.checklistContent[0].empty = true;\n                this.selected.index = 0;\n            } else {\n                if (index >= 0 && index <= this.checklistContent.length) {\n                    this.checklistContent.splice(index, 1);\n                } else {\n                    return;\n                }\n            }\n\n            if (this.selected.index >= this.checklistContent.length) {\n                this.selected.index = this.checklistContent.length - 1;\n            }\n\n            this.setFocus(this.selected.index, 0);\n            this._debounceChange();\n        }\n\n        public onChecked(item: ChecklistItem): void {\n            this._debounceChange();\n        }\n\n        public onChecklistChange(): void {\n            this.updateContents();\n\n            if (this.pipChanged) {\n                this.$timeout(() => {\n                    this.pipChanged(this.pipOptions);\n                }, 0);\n            }\n        }\n\n\n        public onTextareaKeyDown($event: KeyboardEvent, index: number, item: ChecklistItem) {\n            if (this.ngDisabled) return;\n            if (this.selected.index == -1) return;\n            let textareaLength: number;\n            let posCaret: any;\n            if ($event && $event.target) {\n                // calculate caret position\n                posCaret = this.getCaret($event.target);\n                // calculate textarea length\n                if ($event.target['value'] !== undefined) {\n                    textareaLength = $event.target['value'].length;\n                }\n\n            }\n\n            // delete empty item after backspace or del\n            if (this.selected.index > 0 && item.text != '' && posCaret == 0 && $event.keyCode == 8 && !$event.ctrlKey && !$event.shiftKey) {\n                if (!item.empty) {\n                    var position = this.checklistContent[this.selected.index - 1].text.length;\n                    this.checklistContent[this.selected.index - 1].text = this.checklistContent[this.selected.index - 1].text + item.text;\n                    this.selected.index -= 1;\n                    this.checklistContent.splice(this.selected.index + 1, 1);\n                    this._debounceChange();\n\n                    this.setFocus(this.selected.index, position);\n                }\n                if ($event) { $event.stopPropagation(); }\n\n                return false;\n            }\n\n            if (item.text == '' && ($event.keyCode == 8 || $event.keyCode == 46) && !$event.ctrlKey && !$event.shiftKey) {\n                if (!item.empty) {\n                    this.onDeleteItem(index, item);\n                }\n                if ($event) { $event.stopPropagation(); }\n\n                return false;\n            }\n\n            //press enter - create new item\n            if (($event.keyCode == 13 || $event.keyCode == 45) && !$event.ctrlKey && !$event.shiftKey) {  // insert\n                if (posCaret !== undefined && posCaret == 0) {\n                    // add item before current item\n                    if (this.selected.index > 0) {\n                        this.addItem('', this.selected.index - 1);\n                    } else {\n                        this.selected.index = -1;\n                        this.addItem('', -1);\n                    }\n                    if ($event) { $event.stopPropagation(); }\n                    if ($event) { $event.preventDefault(); }\n\n                    return false;\n                }\n\n                if (textareaLength && posCaret && textareaLength == posCaret) {\n                    // add item after current item\n                    if (!item.empty) {\n                        this.addItem('', this.selected.index);\n                    }\n                    if ($event) { $event.stopPropagation(); }\n                    if ($event) { $event.preventDefault(); }\n\n                    return false;\n                }\n\n                if (textareaLength && posCaret && textareaLength > posCaret) {\n                    // divide current item \n                    if (!item.empty) {\n                        let valueCurrent: string;\n                        let newItem: string;\n                        valueCurrent = item.text.substring(0, posCaret);\n                        newItem = item.text.substring(posCaret);\n                        item.text = valueCurrent;\n                        this.addItem(newItem, this.selected.index);\n\n                        this.setFocus(this.selected.index, 0);\n                    }\n                    if ($event) { $event.stopPropagation(); }\n                    if ($event) { $event.preventDefault(); }\n\n                    return false;\n                }\n\n                if ($event) { $event.preventDefault(); }\n\n                return false;\n            }\n\n            // move cursor up\n            if ((posCaret === 0 || posCaret == textareaLength) && this.checklistContent.length > 1 && $event.keyCode == 38 && !$event.ctrlKey && !$event.shiftKey) {  // insert\n                if ($event) { $event.stopPropagation(); }\n                if ($event) { $event.preventDefault(); }\n\n                if (posCaret !== undefined && textareaLength !== undefined && posCaret == 0) {\n                    // move to new item\n                    if (this.selected.index == 0) {\n                        this.selected.index = this.checklistContent.length - 1;\n                        var position = this.checklistContent[this.selected.index].text.length;\n                        this.setFocus(this.selected.index, position);\n                    } else {\n                        this.selected.index -= 1;\n                        var position = this.checklistContent[this.selected.index].text.length;\n                        this.setFocus(this.selected.index, position);\n                    }\n                } else {\n                    // move caret to text end\n                    this.setFocus(this.selected.index, 0);\n                }\n\n                return false;\n            }\n\n            // move cursor down\n            if ((posCaret === 0 || posCaret == textareaLength) && this.checklistContent.length > 1 && $event.keyCode == 40 && !$event.ctrlKey && !$event.shiftKey) {  // insert\n                if ($event) { $event.stopPropagation(); }\n                if ($event) { $event.preventDefault(); }\n\n                if (posCaret !== undefined && textareaLength !== undefined && posCaret == textareaLength) {\n                    // move to new item\n                    if (this.selected.index >= this.checklistContent.length - 1) {\n                        this.selected.index = 0;\n                        this.setFocus(this.selected.index, 0);\n                    } else {\n                        this.selected.index += 1;\n                        this.setFocus(this.selected.index, 0);\n                    }\n                } else {\n                    // move caret to text end\n                    this.setFocus(this.selected.index, textareaLength);\n                }\n\n                return false;\n            }\n\n            // delete item\n            if (!item.empty && $event.keyCode == 46 && $event.ctrlKey && !$event.shiftKey) {\n                if ($event) { $event.stopPropagation(); }\n                if ($event) { $event.preventDefault(); }\n                this.onDeleteItem(index, item);\n\n                return false;\n            }\n\n            // check/uncheck item\n            if ($event.keyCode == 32 && $event.ctrlKey && !$event.shiftKey) {\n                if ($event) { $event.stopPropagation(); }\n                if ($event) { $event.preventDefault(); }\n                if (item) {\n                    item.checked = !item.checked\n                    this._debounceChange();\n                }\n\n                return false;\n            }\n        }\n    }\n\n    const ChecklistEdit: ng.IComponentOptions = {\n        bindings: ChecklistEditBindings,\n        templateUrl: 'checklist_edit/ChecklistEdit.html',\n        controller: ChecklistEditController\n    }\n\n    angular.module(\"pipChecklistEdit\", ['pipComposite.Templates', 'pipBehaviors'])\n        .component('pipChecklistEdit', ChecklistEdit);\n\n}\n","import { ChecklistItem } from '../data';\n{\n\n    interface IChecklistViewBindings {\n        [key: string]: any;\n\n        ngDisabled: any;\n        pipChanged: any;\n        pipOptions: any;\n        pipRebind: any;\n    }\n\n    const ChecklistViewBindings: IChecklistViewBindings = {\n        ngDisabled: '<?',\n        pipChanged: '=?',\n        pipOptions: '=',\n        pipRebind: '<?'\n    }\n\n    class ChecklistViewBindingsChanges implements ng.IOnChangesObject, IChecklistViewBindings {\n        [key: string]: ng.IChangesObject<any>;\n\n        ngDisabled: ng.IChangesObject<boolean>;\n        pipChanged: ng.IChangesObject<(data: ChecklistItem[]) => ng.IPromise<void>>;\n        pipOptions: ng.IChangesObject<ChecklistItem[]>;\n        pipRebind: ng.IChangesObject<boolean>;\n    }\n\n    class ChecklistViewController {\n        public ngDisabled: boolean;\n        public pipChanged: Function;\n        public pipOptions: ChecklistItem[]; \n        public pipRebind: boolean;\n\n        private isChanged: boolean = false;\n\n        constructor(\n            private $element: JQuery\n        ) {\n            \"ngInject\";\n\n            if (!this.pipOptions || !_.isArray(this.pipOptions)) {\n                this.pipOptions = [];\n            }\n\n            $element.addClass('pip-checklist-view');\n\n        }\n\n        public $onChanges(changes: ChecklistViewBindingsChanges) {\n            if (this.toBoolean(this.pipRebind)) {\n                if (changes.pipOptions && changes.pipOptions.currentValue) {\n                    if (!angular.equals(this.pipOptions, changes.pipOptions.currentValue)) {\n                        if (!this.isChanged) {\n                            this.pipOptions = changes.pipOptions.currentValue;\n                        } else {\n                            this.isChanged = false;\n                        }\n                    }\n                }\n            }\n        }\n\n        private toBoolean(value: any): boolean {\n            if (value == null) return false;\n            if (!value) return false;\n            value = value.toString().toLowerCase();\n\n            return value == '1' || value == 'true';\n        }\n\n        public onChecklistChange(): void {\n            this.isChanged = true;\n            if (this.pipChanged) {\n                this.pipChanged(this.pipOptions);\n            }\n        }\n\n        public onClick($event: JQueryEventObject, item: ChecklistItem): void { \n            if ($event) {\n                $event.stopPropagation();\n            }\n            if (this.ngDisabled) {\n                return;\n            }\n\n            this.onChecklistChange();\n        }\n    }\n\n    const ChecklistView: ng.IComponentOptions = {\n        bindings: ChecklistViewBindings,\n        templateUrl: 'checklist_view/ChecklistView.html',\n        controller: ChecklistViewController\n    }\n\n    angular.module(\"pipChecklistView\", ['pipComposite.Templates'])\n        .component('pipChecklistView', ChecklistView);\n\n}\n","import { ChecklistDraggEvent } from '../checklist_edit/ChecklistEdit';\nimport { CompositeFocusedEvent } from '../utilities/CompositeFocused';\nimport { ContentBlock } from '../data';\n\nlet async = require('async');\n\nexport const CompositeEmptyEvent: string = 'pipCompositeNotEmpty';\nexport const CompositeAddItemEvent: string = 'pipAddContent';\nexport const CompositeNotEmptyEvent: string = 'pipCompositeNotEmpty';\n\nexport class CompositeAddItem {\n    public id: number;\n    public type: string;\n}\n\n\nconst ConfigTranslations = (pipTranslate: pip.services.ITranslateService) => {\n    if (pipTranslate) {\n        (pipTranslate).setTranslations('en', {\n            'COMPOSITE_TITLE': 'What\\'s on your mind?',\n            'COMPOSITE_PLACEHOLDER': 'Type text ...',\n            'COMPOSITE_START_TIME': 'Start time',\n            'COMPOSITE_END_TIME': 'End time'\n        });\n        (pipTranslate).setTranslations('ru', {\n            'COMPOSITE_TITLE': 'Что у вас на уме?',\n            'COMPOSITE_PLACEHOLDER': 'Введите текст ...',\n            'COMPOSITE_START_TIME': 'Время начала',\n            'COMPOSITE_END_TIME': 'Время окончания'\n        });\n    }\n}\n\nexport class CompositeControl {\n    save: (successCallback?: (data: CompositeContent[]) => void, errorCallback?: (error: any) => void) => void;\n    abort: () => void;\n    error?: any;\n}\n\nclass SenderEvent {\n    event: CompositeControl;\n}\n\nexport class CompositeContent extends ContentBlock {\n    public empty?: boolean;\n    public documents?: pip.documents.DocumentListEditControl;\n    public pictures?: pip.pictures.PictureListEditControl;\n}\n\nexport class CompositeBlockTypes {\n    static Text: string = 'text';\n    static Pictures: string = 'pictures';\n    static Checklist: string = 'checklist';\n    static Documents: string = 'documents';\n    static Location: string = 'location';\n    static Time: string = 'time';\n    static SecondaryBlock = ['checklist', 'documents', 'location', 'time']\n    static PrimaryBlock = ['text', 'pictures']\n    static All = ['text', 'pictures', 'checklist', 'documents', 'location', 'time']\n}\n\n{\n\n    class CompositeSelected {\n        public index: number = 0;\n        public drag: boolean = true;\n        public dragId: number = 0;\n        public id: number;\n        public isChanged: boolean = false;\n        public event?: string;\n    }\n\n    interface ICompositeEditBindings {\n        [key: string]: any;\n\n        ngDisabled: any;\n        pipChanged: any;\n        pipContents: any;\n        pipCreated: any;\n        compositeId: any;\n        pipCompositePlaceholder: any;\n        pipScrollContainer: any;\n        addedContent: any;\n        pipRebind: any;\n    }\n\n    const CompositeEditBindings: ICompositeEditBindings = {\n        ngDisabled: '<?',\n        pipChanged: '=?',\n        pipCreated: '&?',\n        pipContents: '=?',\n        compositeId: '<?pipCompositeId',\n        pipCompositePlaceholder: '<?',\n        pipScrollContainer: '<?',\n        addedContent: '<?pipAddedContent',\n        pipRebind: '<?'\n    }\n\n    class CompositeEditBindingsChanges implements ng.IOnChangesObject, ICompositeEditBindings {\n        [key: string]: ng.IChangesObject<any>;\n\n        ngDisabled: ng.IChangesObject<boolean>;\n        pipChanged: ng.IChangesObject<() => ng.IPromise<void>>;\n        pipCreated: ng.IChangesObject<(event: SenderEvent) => ng.IPromise<void>>;\n        pipContents: ng.IChangesObject<CompositeContent[]>;\n        compositeId: ng.IChangesObject<number>;\n        pipCompositePlaceholder: ng.IChangesObject<string>;\n        pipScrollContainer: ng.IChangesObject<string>;\n        addedContent: ng.IChangesObject<boolean>;\n        pipRebind: ng.IChangesObject<boolean>;\n    }\n\n    class CompositeEditController implements ICompositeEditBindings {\n        private defaultPlaceholder: string = 'COMPOSITE_PLACEHOLDER';\n        private CONTENT_TYPES: string[] = CompositeBlockTypes.All;\n        private cleanupCompositeEvent: any;\n        private cleanupCompositeFocusedEvent: any;\n        private cleanupChecklistDraggEvent: any;\n        private _debounceChange: any;\n\n        public ngDisabled: boolean;\n        public pipChanged: Function;\n        public pipCreated: (event: SenderEvent) => void;\n        public pipContents: CompositeContent[];\n        public compositeId: number;\n        public pipCompositePlaceholder: string;\n        public pipScrollContainer: string;\n        public addedContent: string;\n        public pipRebind: boolean;\n\n        public compositeContent: CompositeContent[];\n        public selected: CompositeSelected;\n        public isFirst: boolean;\n        public compositePlaceholder: string;\n\n        public control: CompositeControl;\n\n        constructor(\n            private $q,\n            private $element: JQuery,\n            private $timeout: ng.ITimeoutService,\n            private $document,\n            private $rootScope: ng.IRootScopeService,\n            private pipTranslate: pip.services.ITranslateService\n\n        ) {\n            \"ngInject\";\n\n            this.selected = new CompositeSelected();\n            this.selected.id = this.now();\n\n            $element.addClass('pip-composite-edit');\n\n            this.generateList(this.pipContents);\n            this.setPlaceholder();\n            this.control = {\n                save: (successCallback?: (data: CompositeContent[]) => void, errorCallback?: (error: any) => void) => {\n                    this.saveContent(successCallback, errorCallback);\n                },\n                abort: () => {\n                    this.abortContent();\n                },\n                error: null\n            };\n            this.executeCallback();\n\n            this.cleanupCompositeEvent = this.$rootScope.$on(CompositeAddItemEvent,\n                (event: ng.IAngularEvent, args: CompositeAddItem) => {\n                    if (this.compositeId) {\n                        if (args.id && args.id == this.compositeId) {\n                            this.addItem(args.type);\n                        }\n                    } else {\n                        this.addItem(args.type);\n                    }\n                });\n\n            this.cleanupChecklistDraggEvent = this.$rootScope.$on(ChecklistDraggEvent, () => {\n                this.selected.drag = false;\n                this.$timeout(() => {\n                    this.selected.drag = false;\n                }, 0);\n            });\n\n            this.cleanupCompositeFocusedEvent = this.$rootScope.$on(CompositeFocusedEvent, () => {\n                if (this.isFirst) {\n                    this.$timeout(() => {\n                        let nextElement = angular.element('#composite-item-text-' + this.selected.id + '-0');\n                        if (nextElement && !nextElement.is(':focus')) {\n                            nextElement.focus();\n                        }\n                    }, 50);\n                }\n            });\n\n            this._debounceChange = _.debounce(() => {\n                this.onCompositeChange();\n            }, 200);\n        }\n\n        private abortContent(): void {\n            _.each(this.compositeContent, (item: CompositeContent) => {\n                if (item.pictures && item.pictures.abort) {\n                    item.pictures.abort();\n                } else if (item.documents && item.documents.abort) {\n                    item.documents.abort();\n                }\n            });\n        }\n\n        private getPicIdsArray(data: pip.pictures.Attachment[]): string[] {\n            let result: string[] = [];\n\n            _.each(data, (item: pip.pictures.Attachment) => {\n                if (item.id) {\n                    result.push(item.id);\n                }\n            });\n\n            return result;\n        }\n\n        private saveContent(successCallback?: (data: CompositeContent[]) => void, errorCallback?: (error: any) => void, abortFirstError?: boolean): void {\n            let content: CompositeContent[];\n            content = _.cloneDeep(this.compositeContent);\n            let saveFirstError: any = null;\n\n            async.eachOf(this.compositeContent,\n                (item, index, callback) => {\n                    if (item.pictures && item.pictures.save) {\n                        item.pictures.save(\n                            (data: pip.pictures.Attachment[]) => {\n                                delete item.picIds;\n                                item.pic_ids = this.getPicIdsArray(data);\n                                callback();\n                            },\n                            (error: any) => {\n                                saveFirstError = saveFirstError ? saveFirstError : error;\n                                if (abortFirstError) {\n                                    callback(error);\n                                } else {\n                                    callback();\n                                }\n                            }\n                        );\n                    } else if (item.documents && item.documents.save) {\n                        item.documents.save(\n                            (data: pip.documents.Attachment[]) => {\n                                item.docs = data;\n                                callback();\n                            },\n                            (error: any) => {\n                                saveFirstError = saveFirstError ? saveFirstError : error;\n                                if (abortFirstError) {\n                                    callback(error);\n                                } else {\n                                    callback();\n                                }\n                            }\n                        );\n                    } else {\n                        callback();\n                    }\n                },\n                (error, result) => {\n                    if (error || saveFirstError) {\n                        if (abortFirstError) {\n                            this.abortContent();\n                        } \n                        this.compositeContent = content;\n                        if (errorCallback) errorCallback(error);\n                    } else {\n                        this.onCompositeChange();\n                        if (successCallback) successCallback(this.pipContents);\n                    }\n                });\n        }\n\n        public $onDestroy() {\n            if (angular.isFunction(this.cleanupCompositeEvent)) {\n                this.cleanupCompositeEvent();\n            }\n            if (angular.isFunction(this.cleanupChecklistDraggEvent)) {\n                this.cleanupChecklistDraggEvent();\n            }\n            if (angular.isFunction(this.cleanupCompositeFocusedEvent)) {\n                this.cleanupCompositeFocusedEvent();\n            }\n        }\n\n        public $onChanges(changes: CompositeEditBindingsChanges): void {\n            if (changes.pipRebind && changes.pipRebind.currentValue !== changes.pipRebind.previousValue) {\n                this.pipRebind = changes.pipRebind.currentValue;\n                if (this.pipRebind && changes.pipContents && _.isArray(changes.pipContents.currentValue)) {\n                    if (!this.selected.isChanged || (this.pipContents\n                        && this.pipContents.length != this.compositeContent.length)) {\n                        this.generateList(this.pipContents);\n                        this.selected.isChanged = false;\n                    }\n                }\n            }\n\n            if (changes.ngDisabled && changes.ngDisabled.currentValue !== changes.ngDisabled.previousValue) {\n                this.ngDisabled = changes.ngDisabled.currentValue;\n            }\n\n            if (changes.pipCompositePlaceholder && changes.pipCompositePlaceholder.currentValue !== changes.pipCompositePlaceholder.previousValue) {\n                this.pipCompositePlaceholder = changes.pipCompositePlaceholder.currentValue;\n                this.setPlaceholder();\n            }\n        }\n\n        private executeCallback() {\n            // Execute callback\n            if (this.pipCreated) {\n                this.pipCreated({\n                    event: this.control\n                });\n            }\n        }\n\n        private toBoolean(value: any): boolean {\n            if (value == null) { return false; }\n            if (!value) { return false; }\n            value = value.toString().toLowerCase();\n\n            return value == '1' || value == 'true';\n        }\n\n        private getEmptyItem(): CompositeContent {\n            let emptyItem: CompositeContent = {\n                empty: true,\n                id: this.getId(),\n                type: 'text',\n                text: '', docs: [], pic_ids: [], loc_pos: null, loc_name: '',\n                start: null, end: null, checklist: []\n            }\n\n            return emptyItem;\n        }\n\n\n        private setPlaceholder(): void {\n            this.compositePlaceholder =\n                (this.pipCompositePlaceholder === undefined || this.pipCompositePlaceholder === null) ?\n                    this.pipTranslate.translate(this.defaultPlaceholder) :\n                    this.pipTranslate.translate(this.pipCompositePlaceholder);\n        }\n\n        private addItem(contentType: string, value?: any): void {\n            if (_.indexOf(this.CONTENT_TYPES, contentType) < 0) return;\n\n            // generate new item\n            var newItem: CompositeContent = {\n                id: this.getId(),\n                type: contentType,\n                text: contentType == 'text' ? value : '',\n                docs: contentType == 'documents' && value ? value : [],\n                pic_ids: contentType == 'pictures' && value ? value : [],\n                loc_pos: contentType == 'location' && value ? value.loc_pos : null,\n                loc_name: contentType == 'location' && value ? value.loc_name : '',\n                start: contentType == 'time' && value ? value.start : null,\n                end: contentType == 'time' && value ? value.end : null,\n                checklist: contentType == 'checklist' && value ? value : []\n            };\n\n            // calculate current index\n            let index: number = _.findIndex(this.compositeContent, { id: this.selected.index });\n            index = index < 0 ? 0 : index;\n\n            // insert new element and select it\n            if (this.compositeContent.length == 1 && this.compositeContent[0].empty) {\n                this.compositeContent[0] = newItem;\n            } else {\n                this.compositeContent.splice(index + 1, 0, newItem);\n                index += 1;\n            }\n\n            // insert new element and select it\n            this.selected.index = newItem.id;\n            this.onSelect();\n\n            // focus to new element\n            setTimeout(this.scrollTo(this.pipScrollContainer, '#composite-item-' + this.selected.id + '-' + index), 1000);\n\n            // set toolbar\n            this.isFirst = false;\n            this.setToolbar();\n            this._debounceChange();\n        }\n\n        private getId(): number {\n            let id: number = -1;\n            _.each(this.compositeContent, (item: CompositeContent) => {\n                if (id < item.id) id = item.id;\n            });\n\n            return id + 1;\n        }\n\n        private scrollTo(parentElement: any, childElement: any): void {\n            if (!parentElement || !childElement) { return; }\n\n            setTimeout(() => {\n                if (!$(childElement).position()) { return; }\n\n                let modDiff: number = Math.abs($(parentElement).scrollTop() - $(childElement).position().top);\n                if (modDiff < 20) { return; }\n\n                let scrollTo: number = $(parentElement).scrollTop() + ($(childElement).position().top - 20);\n                $(parentElement).animate({\n                    scrollTop: scrollTo + 'px'\n                }, 300);\n            }, 100);\n        }\n\n        private getPicIds(ids: string[]): pip.pictures.Attachment[] {\n            let result: pip.pictures.Attachment[] = [];\n\n            _.each(ids, (id: string) => {\n                let item: pip.pictures.Attachment = {\n                    id: id\n                }\n\n                result.push(item);\n            })\n\n            return result;\n        }\n\n        private generateList(content: CompositeContent[]): void {\n            if (!content || content.length < 1) {\n                this.clearList();\n\n                return;\n            } else {\n                this.compositeContent = [];\n                _.each(content, (item: CompositeContent) => {\n                    item.id = this.getId();\n                    item.picIds = item.pic_ids ? this.getPicIds(item.pic_ids) : null;\n                    this.compositeContent.push(item);\n                });\n                this.isFirst = false;\n            }\n\n            this.setToolbar();\n        }\n\n        private setToolbar(): void {\n            if (this.compositeContent.length > 2) { return; }\n\n            this.$rootScope.$emit(CompositeNotEmptyEvent, !this.isFirst);\n        }\n\n        private clearList(): void {\n            this.compositeContent = [];\n\n            this.compositeContent.push(this.getEmptyItem());\n            this.isFirst = true;\n        }\n\n        private now(): number {\n            return +new Date;\n        }\n\n        private updateContents(): void {\n            this.selected.isChanged = true;\n            this.pipContents = this.compositeContent;\n        }\n\n        private getParentIndex(el: any): number {\n            if (el.length < 1) return null;\n            let elParent = el.parent();\n            if (elParent[0] && elParent[0].id && elParent[0].id.indexOf('composite-item-' + this.selected.id) > -1) {\n                let strs = elParent[0].id.split('-');\n\n                let parentIndex: number = parseInt(strs[strs.length - 1], 10);\n                return parentIndex;\n            } else {\n                return this.getParentIndex(elParent);\n            }\n        }\n\n        // ---------------- public\n\n        public isActiveChecklist(obj: CompositeContent): boolean {\n            // return obj.id == this.selected.index;\n            return obj.id == this.selected.id;\n        }\n\n        public onKeyUp($event: KeyboardEvent): void {\n            if ($event.keyCode == 9) {\n                this.$timeout(() => {\n                    let focusedElement = angular.element(this.$document[0].activeElement);\n                    let parentIndex: number = this.getParentIndex(focusedElement);\n                    if (parentIndex != null) {\n                        this.selected.index = parentIndex;\n                    }\n                    // ??? index = id\n                    this.selected.index = this.compositeContent[parentIndex].id;\n                }, 50);\n            }\n        }\n\n        public onKeyDown($event: KeyboardEvent, index: number, item: CompositeContent): void {\n            if (this.ngDisabled) { return; }\n            // delete item\n            if (item && !item.empty && $event.keyCode == 46 && !$event.ctrlKey && $event.shiftKey) {\n                if ($event) {\n                    $event.stopPropagation();\n                    $event.preventDefault();\n                }\n                if (index > -1) {\n                    this.onDeleteItem(index);\n                }\n            }\n        }\n\n        public onCompositeChange(): void {\n            this.updateContents();\n            if (this.pipChanged) {\n                this.pipChanged(this.pipContents);\n            }\n        }\n\n        public onDeleteItem(index: number): void {\n            if (index < 0 || this.compositeContent.length == 0) return;\n\n            // delete last element in composite\n            if (this.compositeContent.length == 1) {\n                this.compositeContent[0] = this.getEmptyItem();\n                this.selected.index = this.compositeContent[0].id;\n                this.onSelect(0);\n                this.isFirst = true;\n                this.setToolbar();\n            } else {\n                if (index >= 0 && index < this.compositeContent.length) {\n                    this.compositeContent.splice(index, 1);\n                }\n                if (index == this.compositeContent.length) {\n                    this.selected.index = this.compositeContent[this.compositeContent.length - 1].id;\n                } else {\n                    this.selected.index = this.compositeContent[index].id;\n                }\n                this.onSelect();\n            }\n\n            this.setToolbar();\n            this._debounceChange();\n        }\n\n        public onContentChange(obj: any): void { //CompositeContent\n            if (obj && obj.empty && obj.text) {\n                obj.empty = false;\n                this.isFirst = false;\n                this.setToolbar();\n            }\n            if (!this.ngDisabled) {\n                this._debounceChange();\n            }\n        }\n\n        public isSelectedSection(index: number, obj: CompositeContent): boolean {\n            return this.selected.index == obj.id && !obj.empty;\n        }\n\n        public onDraggEnd(): void {\n            this.selected.drag = true;\n        }\n\n        public onStart(id: number): void {\n            if (id && id != this.selected.dragId) {\n                this.selected.drag = false;\n            }\n        }\n\n        public onStop(id: number): void {\n            this.$timeout(() => {\n                this.selected.drag = true;\n                this.selected.dragId = 0;\n            }, 500);\n        }\n\n        public onDownDragg($event: ng.IAngularEvent, obj: CompositeContent) {\n            if (this.ngDisabled) return;\n            this.selected.dragId = this.selected.id;\n            this.selected.drag = true;\n            this.selected.index = obj.id;\n        }\n\n        public onClick($event: JQueryEventObject, index: number, obj: CompositeContent): void {\n            if (this.ngDisabled) { return; }\n\n            this.selected.event = 'onClick';\n            if ($event && $event.target && $event.target.tagName &&\n                ($event.target.tagName == 'INPUT' || $event.target.tagName == 'TEXTAREA')) {\n                this.selected.index = obj.id;\n\n                return;\n            }\n\n            if ((this.selected.index == obj.id && obj.type == 'checklist' && obj.checklist.length > 0) ||\n                (this.selected.index == obj.id && obj.type == 'location')) { return; }\n\n            this.selected.index = obj.id;\n            this.onSelect();\n        }\n\n        public onDropComplete(placeIndex: number, obj: CompositeContent, event: JQueryEventObject, componentId: number): void {\n            if (componentId != this.selected.id || !obj || !obj.type) {\n                this.compositeContent = _.cloneDeep(this.pipContents);\n\n                return;\n            }\n\n            let index: number = placeIndex;\n            let tmpIndex: number = _.findIndex(this.compositeContent, { id: obj.id }); //this.selected.index});\n            let i: number;\n\n            if (!(tmpIndex == 0 && placeIndex == 1)) {\n                if (tmpIndex > index) {\n                    if (index > this.compositeContent.length - 1) index = this.compositeContent.length - 1;\n                    // move up\n                    for (i = 0; i < tmpIndex - index; i++) {\n                        this.compositeContent[tmpIndex - i] = this.compositeContent[tmpIndex - i - 1];\n                    }\n                    this.compositeContent[index] = obj;\n                }\n                if (tmpIndex < index) {\n                    index -= 1;\n                    //move down\n                    for (i = 0; i < index - tmpIndex; i++) {\n                        this.compositeContent[tmpIndex + i] = this.compositeContent[tmpIndex + i + 1];\n                    }\n                    this.compositeContent[index] = obj;\n                }\n                this.selected.index = this.compositeContent[index].id;\n            }\n\n            this.onSelect();\n            this._debounceChange();\n        }\n\n        public onSelect(index?: number): void {\n            if (!index) {\n                index = _.findIndex(this.compositeContent, { id: this.selected.index });\n            }\n            if (index < 0) { return; }\n\n            let item: CompositeContent = this.compositeContent[index];\n            if (_.isEmpty(item)) { return; }\n\n            let nextElement;\n            switch (item.type) {\n                //case 'text':\n                //        setTimeout(() => {\n                //            var nextElement = angular.element('#composite-item-text-' + this.selected.id + '-' + index);\n                //            //var nextElement = angular.element('#composite-item-text-' + this.selected.id + '-' + this.selected.index);\n                //            if (nextElement && !nextElement.is(':focus')) nextElement.focus();\n                //            //this.selected.stopKey = false;\n                //        },  50);\n                //    break;\n                case 'pictures':\n                    setTimeout(() => {\n                        nextElement = angular.element(\n                            '#composite-item-' + this.selected.id + '-' + index + ' button.pip-picture-upload');\n                        if (nextElement && !nextElement.is(':focus')) {\n                            nextElement.focus();\n                        }\n                    }, 50);\n                    break;\n                case 'documents':\n                    setTimeout(() => {\n                        nextElement = angular.element(\n                            '#composite-item-' + this.selected.id + '-' + index + ' button.pip-document-upload');\n                        if (nextElement && !nextElement.is(':focus')) {\n                            nextElement.focus();\n                        }\n                    }, 50);\n                    break;\n                //case 'checklist':\n                //        setTimeout(() => {\n                //            var nextElement = angular.element(\n                //                '#composite-item-' + this.selected.id + '-' + index + ' textarea[id^=\\'empty-item-\\'');\n                //            if (nextElement && !nextElement.is(':focus')) nextElement.focus();\n                //            //this.selected.stopKey = false;\n                //        },  50);\n                //    break;\n                case 'location':\n                    setTimeout(() => {\n                        nextElement = angular.element(\n                            '#composite-item-' + this.selected.id + '-' + index + ' .pip-location-empty  button');\n                        if (nextElement && !nextElement.is(':focus')) {\n                            nextElement.focus();\n                        }\n                    }, 50);\n                    break;\n                case 'time':\n                    break;\n            }\n        }\n\n        // set element responsive width when element places\n        //public setWidth100(index: number): void {\n        //    let element = angular.element('#composite-item-' + this.selected.id + '-' + index);\n        //    element.css( \"width\", 'none');\n        //    element.css( \"max-width\", 'none');\n        //};\n        //\n        //// set draggable element width when your dragg\n        //public setWidth(index: number): void {\n        //    if (this.selected.isWidth) return;\n        //    let elementEtalon = angular.element('#pip-composite-last-' + + this.selected.id);\n        //    let value = elementEtalon.width();\n        //    let element = angular.element('#composite-item-' + this.selected.id + '-' + index);\n        //    if (element) {\n        //        element.css(\"width\", value + 'px');\n        //        element.css(\"max-width\", value + 'px');\n        //    }\n        //};\n\n    }\n\n    const CompositeEdit: ng.IComponentOptions = {\n        bindings: CompositeEditBindings,\n        templateUrl: 'composite_edit/CompositeEdit.html',\n        controller: CompositeEditController\n    }\n\n    angular.module(\"pipCompositeEdit\", ['pipDocuments', 'pipLocations', 'pipPictures', 'pipDates', 'pipComposite.Templates'])\n        .run(ConfigTranslations)\n        .component('pipCompositeEdit', CompositeEdit);\n\n}\n\n\n","import { CompositeBlockTypes } from '../composite_edit/CompositeEdit';\nimport { ContentBlock, ChecklistItem } from '../data';\n{\n\n    interface ICompositeSummaryBindings {\n        [key: string]: any;\n\n        pipContents: any;\n        pipChecklistSize: any;\n        pipTextSize: any;\n        pipPrimaryBlockLimit: any;\n        pipSecondaryBlockLimit: any;\n        pipSecondaryBlockTypes: any;\n        pipRebind: any;\n    }\n\n    const CompositeSummaryBindings: ICompositeSummaryBindings = {\n\n        pipContents: '<?',\n        pipChecklistSize: '<?',\n        pipTextSize: '<?',\n        pipPrimaryBlockLimit: '<?',\n        pipSecondaryBlockLimit: '<?',\n        pipSecondaryBlockTypes: '<?',\n        pipRebind: '<?'\n    }\n\n    class CompositeSummaryBindingsChanges implements ng.IOnChangesObject, ICompositeSummaryBindings {\n        [key: string]: ng.IChangesObject<any>;\n\n        pipContents: ng.IChangesObject<ContentBlock[]>;\n        pipChecklistSize: ng.IChangesObject<number>;\n        pipTextSize: ng.IChangesObject<number>;\n        pipPrimaryBlockLimit: ng.IChangesObject<number>;\n        pipSecondaryBlockLimit: ng.IChangesObject<number>;\n        pipSecondaryBlockTypes: ng.IChangesObject<string[]>;\n        pipRebind: ng.IChangesObject<boolean>;\n    }\n\n    class CompositeSummaryController {\n        public pipContents: ContentBlock[];\n        public pipChecklistSize: number;\n        public pipTextSize: number;\n        public pipPrimaryBlockLimit: number;\n        public pipSecondaryBlockLimit: number;\n        public pipSecondaryBlockTypes: string[];\n        public pipRebind: boolean;\n\n        public compositeContent: ContentBlock[];\n\n        public disableControl: boolean = true;\n        public disabledChecklist: boolean = true;\n\n        constructor(\n            private $element: JQuery\n        ) {\n            \"ngInject\";\n\n            $element.addClass('pip-composite-summary');\n\n            this.pipChecklistSize = this.pipChecklistSize ? this.pipChecklistSize : 0;\n            this.pipTextSize = this.pipTextSize ? this.pipTextSize : 0;\n            this.pipPrimaryBlockLimit = this.pipPrimaryBlockLimit === undefined || this.pipPrimaryBlockLimit === null ? -1 : this.pipPrimaryBlockLimit;\n            this.pipSecondaryBlockLimit = this.pipSecondaryBlockLimit === undefined || this.pipSecondaryBlockLimit === null ? -1 : this.pipSecondaryBlockLimit;\n            this.pipSecondaryBlockTypes = this.pipSecondaryBlockTypes && _.isArray(this.pipSecondaryBlockTypes) ? this.pipSecondaryBlockTypes : CompositeBlockTypes.SecondaryBlock;\n\n            this.generateList(this.pipContents);\n        }\n\n        public $onChanges(changes: CompositeSummaryBindingsChanges) {\n            if (this.toBoolean(this.pipRebind)) {\n                if (changes.pipContents && changes.pipContents.currentValue) {\n                    if (!angular.equals(this.pipContents, changes.pipContents.currentValue)) {\n                        this.generateList(this.pipContents);\n                    }\n                }\n            }\n        }\n\n        private getPicIds(ids: string[]): pip.pictures.Attachment[] {\n            let result: pip.pictures.Attachment[] = [];\n\n            _.each(ids, (id: string) => {\n                let item: pip.pictures.Attachment = {\n                    id: id\n                }\n\n                result.push(item);\n            })\n\n            return result;\n        }\n\n        private toBoolean(value: any): boolean {\n            if (value == null) return false;\n            if (!value) return false;\n            value = value.toString().toLowerCase();\n\n            return value == '1' || value == 'true';\n        }\n\n\n        // limit cacklist position\n        public limitChecklist(content: ContentBlock[], val: number): void {\n            if (!val) return;\n            let ellapsed: ChecklistItem = {\n                text: '...',\n                checked: false\n            };\n            _.each(content, (item: ContentBlock) => {\n                if (item && item.type == CompositeBlockTypes.Checklist) {\n                    let checklistLength: number = item.checklist.length;\n                    item.checklist = _.take(item.checklist, val);\n                    if (checklistLength > val) {\n                        item.checklist.push(ellapsed);\n                    }\n                }\n            });\n        };\n\n        // choose primary blocks (text and picture)\n        public selectSummary(content: ContentBlock[]): ContentBlock[] {\n            let result: ContentBlock[] = [];\n            let i: number;\n\n            _.each(content, (item: ContentBlock) => {\n                if (this.pipPrimaryBlockLimit >= 0 && i >= this.pipPrimaryBlockLimit) {\n                    return result;\n                }\n                //if (item.type == 'text' || item.type == 'pictures' ) {\n                if (this.pipSecondaryBlockTypes.indexOf(item.type) < 0) {\n                    result.push(item);\n                    i += 1;\n                }\n            });\n\n            return result;\n        }\n\n        // отбираем остальные блоки если они есть\n        public selectSummarySecondary(content: ContentBlock[], types: string[]): ContentBlock[] {\n            let i: number;\n            let limit: number = this.pipSecondaryBlockLimit < 0 ? content.length : this.pipSecondaryBlockLimit;\n            let result: ContentBlock[] = [];\n\n            for (i; i < content.length; i++) {\n                if (types.indexOf(content[i].type) > -1) {\n                    result.push(content[i]);\n                    if (result.length >= limit) {\n                        break;\n                    }\n                }\n            }\n\n            return result;\n        }\n\n        public generateList(content: ContentBlock[]): void {\n            if (!content || content.length < 1) {\n                this.clearList();\n\n                return;\n            } else {\n                let summaryContent: ContentBlock[] = _.cloneDeep(content);\n                let result: ContentBlock[] = this.selectSummary(summaryContent);\n                if (result.length == 0) {\n                    result = this.selectSummarySecondary(summaryContent, this.pipSecondaryBlockTypes);\n                }\n\n                this.limitChecklist(result, this.pipChecklistSize);\n\n                let id: number;\n                _.each(result, (item: ContentBlock) => {\n                    item.id = id;\n                    item.picIds = item.pic_ids ? this.getPicIds(item.pic_ids) : null;\n                    id++;\n                });\n                this.compositeContent = result;\n            }\n        }\n\n        public clearList() {\n            this.compositeContent = [];\n        }\n    }\n\n    const CompositeSummary: ng.IComponentOptions = {\n        bindings: CompositeSummaryBindings,\n        templateUrl: 'composite_summary/CompositeSummary.html',\n        controller: CompositeSummaryController\n    }\n\n    angular.module(\"pipCompositeSummary\", ['pipDocuments', 'pipLocations', 'pipPictures', 'pipDates', 'pipComposite.Templates'])\n        .component('pipCompositeSummary', CompositeSummary);\n\n}\n\n","import { CompositeEmptyEvent, CompositeAddItemEvent } from '../composite_edit/CompositeEdit';\n\nexport class CompositeAddItemEventParams {\n    public type: string;\n    public id: string;\n}\n\nexport class CompositeToolbarButton {\n    public picture: boolean = true;\n    public document: boolean = true;\n    public location: boolean = true;\n    public event: boolean = true;\n    public checklist: boolean = true;\n    public text: boolean = true;\n}\n\n{\n    const translateConfig = function (pipTranslateProvider) {\n        pipTranslateProvider.translations('en', {\n            'TEXT': 'Text',\n            'CHECKLIST': 'Checklist',\n            'LOCATION': 'Location',\n            'PICTURE': 'Picture',\n            'TIME': 'Time',\n            'DOCUMENT': 'Document'\n        });\n\n        pipTranslateProvider.translations('ru', {\n            'TEXT': 'Текст',\n            'CHECKLIST': 'Список',\n            'LOCATION': 'Локация',\n            'PICTURE': 'Изображение',\n            'TIME': 'Время',\n            'DOCUMENT': 'Document'\n        });\n    }\n\n    interface ICompositeToolbarBindings {\n        [key: string]: any;\n\n        ngDisabled: any;\n        emptyState: any;\n        pipToolbarButton: any;\n        compositeId: any;\n    }\n\n    const CompositeToolbarBindings: ICompositeToolbarBindings = {\n        ngDisabled: '<?',\n        emptyState: '<?pipCompositeEmpty', // Set init state of toolbar\n        pipToolbarButton: '=?', // Set visibility of toolbar button, true by default\n        compositeId: '=?pipCompositeId', // Set pip-composite-id, for several composite components in one scope\n    }\n\n    class CompositeToolbarBindingsChanges implements ng.IOnChangesObject, ICompositeToolbarBindings {\n        [key: string]: ng.IChangesObject<any>;\n\n        ngDisabled: ng.IChangesObject< boolean >;\n        emptyState: ng.IChangesObject< boolean >;\n        pipToolbarButton: ng.IChangesObject<CompositeToolbarButton>;;\n        compositeId: ng.IChangesObject<string>;\n    }\n\n    class CompositeToolbarController {\n        private cleanupCompositeEvent: any;\n\n        public toolbarButton: CompositeToolbarButton;\n\n        public ngDisabled: boolean;\n        public emptyState: boolean;\n        public pipToolbarButton: CompositeToolbarButton;\n        public compositeId: string;\n\n        constructor(\n            private $rootScope: ng.IRootScopeService,\n            private $element: JQuery\n        ) {\n\"ngInject\";\n\n            this.toolbarButton = new CompositeToolbarButton();\n\n            this.setOption();\n\n            $element.addClass('pip-composite-toolbar');\n\n            this.cleanupCompositeEvent = this.$rootScope.$on(CompositeEmptyEvent, (event: ng.IAngularEvent, value: boolean) => {\n                this.emptyState = !value;\n            });\n        }\n\n        public $onDestroy() {\n            if (angular.isFunction(this.cleanupCompositeEvent)) {\n                this.cleanupCompositeEvent();\n            }\n        }\n\n        public $onChanges(changes: CompositeToolbarBindingsChanges) {\n            if (changes.pipToolbarButton && changes.pipToolbarButton.currentValue) {\n                this.setOption();\n            }\n        }\n\n        public toBoolean(value: any): boolean {\n            if (value == null) return false;\n            if (!value) return false;\n            value = value.toString().toLowerCase();\n\n            return value == '1' || value == 'true';\n        }\n\n        public onAddItem(contentType: string): void {\n            let params: CompositeAddItemEventParams = {\n                type: contentType,\n                id: this.compositeId\n            };\n\n            this.$rootScope.$emit(CompositeAddItemEvent, params);\n        };\n\n        public setOption(): void {\n            _.assign(this.pipToolbarButton, this.pipToolbarButton);\n            this.toolbarButton.text = true;\n            // if (this.pipToolbarButton !== null && this.pipToolbarButton !== undefined) {\n            //     this.toolbarButton.picture = this.pipToolbarButton.picture === false ? this.pipToolbarButton.picture : true;\n            //     this.toolbarButton.document = this.pipToolbarButton.document === false ? this.pipToolbarButton.document : true;\n            //     this.toolbarButton.location = this.pipToolbarButton.location === false ? this.pipToolbarButton.location : true;\n            //     this.toolbarButton.event = this.pipToolbarButton.event === false ? this.pipToolbarButton.event : true;\n            //     this.toolbarButton.checklist = this.pipToolbarButton.checklist === false ? this.pipToolbarButton.checklist : true;\n            // } else {\n            //     this.toolbarButton.picture = true;\n            //     this.toolbarButton.document = true;\n            //     this.toolbarButton.location = true;\n            //     this.toolbarButton.event = true;\n            //     this.toolbarButton.checklist = true;\n            // }\n            // this.toolbarButton.text = true;\n        };\n    }\n\n\n    const CompositeToolbar: ng.IComponentOptions = {\n        bindings: CompositeToolbarBindings,\n        templateUrl: 'composite_toolbar/CompositeToolbar.html',\n        controller: CompositeToolbarController\n    }\n\n    angular.module(\"pipCompositeToolbar\", ['pipComposite.Templates'])\n        .config(translateConfig)\n        .component('pipCompositeToolbar', CompositeToolbar);\n\n}","import { ContentBlock } from '../data';\n{\n    interface ICompositeViewBindings {\n        [key: string]: any;\n\n        ngDisabled: any;\n        pipDisabledChecklist: any;\n        pipChanged: any;\n        pipContents: any;\n        pipRebind: any;\n    }\n\n    const CompositeViewBindings: ICompositeViewBindings = {\n        ngDisabled: '<?',\n        pipDisabledChecklist: '<?',\n        pipChanged: '=?',\n        pipContents: '=?',\n        pipRebind: '<?'\n    }\n\n    class CompositeViewBindingsChanges implements ng.IOnChangesObject, ICompositeViewBindings {\n        [key: string]: ng.IChangesObject<any>;\n\n        ngDisabled: ng.IChangesObject<boolean>;\n        pipDisabledChecklist: ng.IChangesObject<boolean>;\n        pipChanged: ng.IChangesObject<() => ng.IPromise<void>>;\n        pipContents: ng.IChangesObject<ContentBlock[]>;\n        pipRebind: ng.IChangesObject<boolean>;\n    }\n\n    class CompositeViewController implements ICompositeViewBindings {\n        public ngDisabled: boolean;\n        public pipDisabledChecklist: boolean;\n        public pipChanged: Function;\n        public pipContents: ContentBlock[];\n        public pipRebind: boolean;\n\n        public compositeContent: ContentBlock[];\n\n        private selected: any = {};\n\n        constructor(\n            private $element: JQuery,\n            private $attrs: ng.IAttributes\n        ) {\n            \"ngInject\";\n\n            $element.addClass('pip-composite-view');\n            this.selected.isChanged = false;\n            this.pipContents = _.isArray(this.pipContents) ? this.pipContents : [];\n\n            this.generateList(this.pipContents);\n        }\n\n        public $onChanges(changes: CompositeViewBindingsChanges): void {\n            if (changes.pipRebind && changes.pipRebind.currentValue !== changes.pipRebind.previousValue) {\n                this.pipRebind = changes.pipRebind.currentValue;\n                if (this.pipRebind && changes.pipContents && _.isArray(changes.pipContents.currentValue)) {\n                    this.selected.isChanged === true ? this.selected.isChanged = false : this.generateList(changes.pipContents.currentValue);\n                }\n            }\n\n            if (changes.ngDisabled && changes.ngDisabled.currentValue !== changes.ngDisabled.previousValue) {\n                this.ngDisabled = changes.ngDisabled.currentValue;\n            }\n\n            if (changes.pipDisabledChecklist && changes.pipDisabledChecklist.currentValue !== changes.pipDisabledChecklist.previousValue) {\n                this.pipDisabledChecklist = changes.pipDisabledChecklist.currentValue;\n            }\n        }\n        \n        private getPicIds(ids: string[]): pip.pictures.Attachment[] {\n            let result: pip.pictures.Attachment[] = [];\n\n            _.each(ids, (id: string) => {\n                let item: pip.pictures.Attachment = {\n                    id: id\n                }\n\n                result.push(item);\n            })\n\n            return result;\n        }\n\n        private updateContents(): void {\n            this.selected.isChanged = true;\n            this.pipContents = this.compositeContent;\n        }\n\n        public isDisabled(): boolean {\n            return this.pipDisabledChecklist === true || this.ngDisabled === true;\n        }\n\n        public onContentChange(): void {\n            this.updateContents();\n            if (this.pipChanged) {\n                this.pipChanged(this.pipContents);\n            }\n        }\n\n        public onCompositeChange(): void {\n            this.updateContents();\n            if (this.pipChanged)\n                this.pipChanged(this.pipContents);\n        }\n\n        private generateList(content: ContentBlock[]): void {\n            if (!content || content.length < 1) {\n                this.clearList();\n                return;\n            } else {\n                this.compositeContent = [];\n                let id: number = 0;\n                _.each(content, (item: ContentBlock) => {\n                    if (typeof (item) != 'object' || item == null) {\n                        throw new Error('Error: content error!');\n                    }\n                    item.id = id;\n                    item.picIds = item.pic_ids ? this.getPicIds(item.pic_ids) : null;\n                    id++;\n                    this.compositeContent.push(item);\n                });\n            }\n        }\n\n        private clearList(): void {\n            this.compositeContent = [];\n        }\n    }\n\n    const CompositeView: ng.IComponentOptions = {\n        bindings: CompositeViewBindings,\n        templateUrl: 'composite_view/CompositeView.html',\n        controller: CompositeViewController\n    }\n\n    angular.module(\"pipCompositeView\", ['pipDocuments', 'pipLocations', 'pipPictures', 'pipDates', 'pipComposite.Templates', 'pipEmbeddedView'])\n        .component('pipCompositeView', CompositeView);\n\n}","{\n    interface IContentSwitchAttributes extends angular.IAttributes {\n        pipParentElementName: any;\n    }\n\n    interface IContentSwitchScope extends angular.IScope {\n        onButtonClick: any;\n        contentSwitchOption: any;\n        showIconPicture: any;\n        showIconDocument: any;\n        showIconEvent: any;\n        showIconLocation: any;\n        showEvent: any;\n        showDocuments: any;\n        showLocation: any;\n        showPictures: any;\n    }\n\n    class ContentSwitchLink {\n        private parentElementNameGetter: any;\n        private parentElement: any;\n\n        constructor(\n            private $parse: ng.IParseService,\n            private $scope: IContentSwitchScope,\n            private $element: JQuery,\n            private $attrs: IContentSwitchAttributes\n        ) {\n            \"ngInject\";\n            \n            this.parentElementNameGetter = $parse($attrs.pipParentElementName);\n            this.parentElement = this.parentElementNameGetter($scope);\n            this.setOption();\n        }\n\n        private scrollTo(childElement): void {\n            setTimeout(() => {\n                let modDiff: number = Math.abs($(this.parentElement).scrollTop() - $(childElement).position().top);\n                if (modDiff < 20) {\n                    return;\n                }\n                let scrollTo = $(this.parentElement).scrollTop() + ($(childElement).position().top - 20);\n                $(this.parentElement).animate({\n                    scrollTop: scrollTo + 'px'\n                }, 300);\n            }, 100);\n        };\n\n        private setOption(): void {\n            // todo\n            if (this.$scope.contentSwitchOption !== null && this.$scope.contentSwitchOption !== undefined) {\n                this.$scope.showIconPicture = this.$scope.contentSwitchOption.picture ? this.$scope.contentSwitchOption.picture : this.$scope.showIconPicture;\n                this.$scope.showIconDocument = this.$scope.contentSwitchOption.document ? this.$scope.contentSwitchOption.document : this.$scope.showIconDocument;\n                this.$scope.showIconLocation = this.$scope.contentSwitchOption.location ? this.$scope.contentSwitchOption.location : this.$scope.showIconLocation;\n                this.$scope.showIconEvent = this.$scope.contentSwitchOption.event ? this.$scope.contentSwitchOption.event : this.$scope.showIconEvent;\n            } else {\n                this.$scope.showIconPicture = true;\n                this.$scope.showIconDocument = true;\n                this.$scope.showIconLocation = true;\n                this.$scope.showIconEvent = true;\n            }\n        };\n\n        public onButtonClick(type: string): void {\n            if (!this.parentElement) return;\n\n            switch (type) {\n                case 'event':\n                    // On Event click action\n                    if (this.$scope.showEvent)\n                        scrollTo('.event-edit');\n                    break;\n                case 'documents':\n                    // On Documents click action\n                    if (this.$scope.showDocuments)\n                        scrollTo('.pip-document-list-edit');\n                    break;\n                case 'pictures':\n                    // On Pictures click action\n                    if (this.$scope.showPictures)\n                        scrollTo('.pip-picture-list-edit');\n                    break;\n                case 'location':\n                    // On Location click action\n                    if (this.$scope.showLocation)\n                        scrollTo('.pip-location-edit');\n                    break;\n            };\n        };\n\n\n    }\n\n    const ContentSwitch = function ($parse: ng.IParseService) {\n        return {\n            restrict: 'EA',\n            scope: false,\n            templateUrl: 'content_switch/ContentSwitch.html',\n            link: function (\n                $scope: IContentSwitchScope,\n                $element: JQuery,\n                $attrs: IContentSwitchAttributes\n            ) {\n                new ContentSwitchLink($parse, $scope, $element, $attrs);\n            }\n        }\n    }\n\n    angular.module(\"pipContentSwitch\", ['pipComposite.Templates'])\n        .directive('pipContentSwitch', ContentSwitch);\n\n}","export class ChecklistItem {\n    checked: boolean;\n    text: string;\n    empty?: boolean;\n}","import { ChecklistItem } from './ChecklistItem';\n\nexport class ContentBlock {\n    public id?: number;\n    public type: string;\n    public text?: string;\n    public docs?: pip.documents.Attachment[];\n    public picIds?: pip.documents.Attachment[];\n    public pic_ids?: string[];\n    public loc_pos?: any; \n    public loc_name?: string;\n    public start?: string;\n    public end?: string;\n    public all_day?: boolean;\n    public checklist?: ChecklistItem[];\n    public embed_type?: string;\n    public embed_uri?: string;\n    public custom?: any;\n}","export class ContentBlockType {\n    public static readonly Text: string = \"text\";\n    public static readonly Checklist: string = \"checklist\";\n    public static readonly Location: string = \"location\";\n    public static readonly Time: string = \"time\";\n    public static readonly Pictures: string = \"pictures\";\n    public static readonly Documents: string = \"documents\";\n    public static readonly Embedded: string = \"embedded\";\n    public static readonly Custom: string = \"custom\";\n}","export class EmbeddedType {\n    public static readonly Youtube: string = \"youtube\";\n    public static readonly Custom: string = \"custom\";\n}","import { EmbeddedType } from '../data/EmbeddedType';\n\ninterface IEmbeddedEditBindings {\n    [key: string]: any;\n\n    embed_type: any;\n    embed_uri: any;\n    onChange: any;\n    ngDisabled: any;\n}\n\nconst EmbeddedEditBindings: IEmbeddedEditBindings = {\n    embed_type: '=?pipEmbeddedType',\n    embed_uri: '=?pipEmbeddedUri',\n    onChange: '=pipChanged',\n    ngDisabled: '&?ngDisabled'\n}\n\nclass EmbeddedEditChanges implements ng.IOnChangesObject, IEmbeddedEditBindings {\n    [key: string]: ng.IChangesObject<any>;\n\n    embed_type: ng.IChangesObject<string>;\n    embed_uri: ng.IChangesObject<string>;\n    ngDisabled: ng.IChangesObject<() => ng.IPromise<void>>;\n    onChange: ng.IChangesObject<() => ng.IPromise<void>>;\n}\n\n// class EmbeddeObj {\n//     public embed_type: string;\n//     public embed_uri: string;\n// }\n\nclass EmbeddedEditController implements ng.IController {          public $onInit() {}\n    public form: any;\n    public touchedErrorsWithHint: Function;\n\n    public embed_type: string;\n    public embed_uri: string;\n    // public onChange: (params: EmbeddeObj) => void;\n    public onChange: (embedType: string, embedUri: string) => void;\n    public ngDisabled: () => boolean;\n\n    public embeddedTypeCollection = [\n        { title: 'EMBEDDED_TYPE_CUSTOM', shortTitle: 'EMBEDDED_TYPE_CUSTOM_SHORT',id: EmbeddedType.Custom },\n        { title: 'EMBEDDED_TYPE_YOUTUBE', shortTitle: 'EMBEDDED_TYPE_YOUTUBE_SHORT',id: EmbeddedType.Youtube }\n    ];\n\n    constructor(\n        private $element: JQuery,\n        private $scope: ng.IScope,\n        private $state: ng.ui.IStateService,\n        public pipMedia: pip.layouts.IMediaService\n    ) {\n        $element.addClass('pip-embedded-edit');\n\n        this.init();\n    }\n\n    public $onChanges(changes: EmbeddedEditChanges): void {\n        console.log('$onChanges');\n        this.init();\n    }\n\n    public $postLink() {\n        console.log('postlink', this.$scope)\n        this.form = this.$scope.embedded;\n    }\n\n    private init(): void {\n        if (!this.embed_type) {\n            this.embed_type = EmbeddedType.Custom;\n        }\n    }\n\n    public onChangeType(): void {\n        console.log('onChangeType');\n        if (!this.form.url.$error)\n            this.onChange(this.embed_type, this.embed_uri);\n    }\n\n    public onChangeUrl(): void {\n        console.log('onChangeUrl');\n        this.onChange(this.embed_type, this.embed_uri);\n    }\n\n    public isDisabled() {\n        if (this.ngDisabled) {\n            return this.ngDisabled();\n        }\n\n        return false;\n    };\n}\n\n(() => {\n\n    function declaredEmbeddedEditResources(pipTranslateProvider: pip.services.ITranslateProvider) {\n        pipTranslateProvider.translations('en', {\n            EMBEDDED_TYPE_LABEL: 'Embedded type',\n            EMBEDDED_URL_LABEL: 'Embedded uri',\n            EMBEDDED_TYPE_HINT: 'Enter uri of embedded resource',\n            EMBEDDED_URL_ERROR: 'Uri error',\n            EMBEDDED_TYPE_CUSTOM: 'Custom',\n            EMBEDDED_TYPE_YOUTUBE: 'Youtube',\n            EMBEDDED_TYPE_CUSTOM_SHORT: 'Custom',\n            EMBEDDED_TYPE_YOUTUBE_SHORT: 'Youtube'\n        });\n        pipTranslateProvider.translations('ru', {\n            EMBEDDED_TYPE_LABEL: 'Тип встроенного ресурса',\n            EMBEDDED_URL_LABEL: 'Uri встроенного ресурса',\n            EMBEDDED_TYPE_HINT: 'Введите uri встроенного ресурса',\n            EMBEDDED_URL_ERROR: 'Неверный uri',\n            EMBEDDED_TYPE_CUSTOM: 'Другой',\n            EMBEDDED_TYPE_YOUTUBE: 'Youtube',\n            EMBEDDED_TYPE_CUSTOM_SHORT: 'Другой',\n            EMBEDDED_TYPE_YOUTUBE_SHORT: 'Youtube'\n        });\n    }\n\n    angular\n        .module('pipEmbeddedEdit', [])\n        .component('pipEmbeddedEdit', {\n            bindings: EmbeddedEditBindings,\n            templateUrl: 'embedded_edit/EmbeddedEdit.html',\n            controller: EmbeddedEditController,\n            controllerAs: '$ctrl'\n        })\n        .config(declaredEmbeddedEditResources);\n})();\n","import { EmbeddedType } from '../data/EmbeddedType';\n\ninterface IEmbeddedViewBindings {\n    [key: string]: any;\n\n    embed_type: any;\n    embed_uri: any;\n}\n\nconst EmbeddedViewBindings: IEmbeddedViewBindings = {\n    embed_type: '=?pipEmbeddedType',\n    embed_uri: '=?pipEmbeddedUri',\n}\n\nclass EmbeddedViewChanges implements ng.IOnChangesObject, IEmbeddedViewBindings {\n    [key: string]: ng.IChangesObject<any>;\n\n    embed_type: ng.IChangesObject<string>;\n    embed_uri: ng.IChangesObject<string>;\n}\n\nclass EmbeddedViewController implements ng.IController {\n    public $onInit() { }\n    public embed_type: string;\n    public embed_uri: string;\n\n    constructor(\n        private $element: JQuery,\n        public pipMedia: pip.layouts.IMediaService\n    ) {\n        $element.addClass('pip-embedded-view');\n\n        this.init();\n    }\n\n    public $onChanges(changes: EmbeddedViewChanges): void {\n        console.log('$onChanges');\n        this.init();\n    }\n\n    private init(): void {\n\n    }\n\n}\n\n(() => {\n\n    function declaredEmbeddedViewResources(pipTranslateProvider: pip.services.ITranslateProvider) {\n        pipTranslateProvider.translations('en', {\n\n        });\n        pipTranslateProvider.translations('ru', {\n\n        });\n    }\n\n    function resourceYoutubeConfig($sceDelegateProvider) {\n        $sceDelegateProvider.resourceUrlWhitelist([\n            'self',\n            'https://www.youtube.com/**'\n        ]);\n    }\n\n    angular\n        .module('pipEmbeddedView', [])\n        .component('pipEmbeddedView', {\n            bindings: EmbeddedViewBindings,\n            templateUrl: 'embedded_view/EmbeddedView.html',\n            controller: EmbeddedViewController,\n            controllerAs: '$ctrl'\n        })\n        .config(resourceYoutubeConfig)\n        .config(declaredEmbeddedViewResources);\n})();\n","{\n    interface IMobileMousedownAttributes extends ng.IAttributes {\n        pipMobileMousedown: any;\n    }\n\n    const MobileMousedown = (scope: ng.IScope, elem: JQuery, attrs: IMobileMousedownAttributes) => {\n        elem.bind(\"touchstart mousedown\", (e) => {\n            scope.$apply(attrs.pipMobileMousedown);\n        });\n    }\n\n    angular.module(\"pipMobileMouse\")\n        .directive('pipMobileMousedown', () => {\n            return MobileMousedown;\n        });\n}","{\n    interface IMobileMouseupAttributes extends ng.IAttributes {\n        pipMobileMouseup: any;\n    }\n\n    const MobileMouseup = (scope: ng.IScope, elem: JQuery, attrs: IMobileMouseupAttributes) => {\n        elem.bind(\"touchend mouseup\", (e) => {\n            scope.$apply(attrs.pipMobileMouseup);\n        });\n    }\n\n    angular.module(\"pipMobileMouse\")\n        .directive('pipMobileMouseup', () => {\n            return MobileMouseup;\n        });\n}","angular.module('pipMobileMouse', []);\n\nimport './MobileMousedown';\nimport './MobileMouseup';","export const CompositeFocusedEvent: string = 'focusedComposite'; \n\n{\n    class CompositeFocusedController {\n        constructor(\n            $element: JQuery,\n            $rootScope: angular.IRootScopeService\n        ) {\n            $element.bind(\"touchstart mousedown\", (e) => {\n                $rootScope.$broadcast(CompositeFocusedEvent);\n            });\n        }\n    }\n\n    const CompositeFocused = function () {\n        return {\n            restrict: 'A',\n            scope: false,\n            controller: CompositeFocusedController\n        }\n    }\n\n    angular.module(\"pipCompositeFocused\", [])\n        .directive('pipCompositeFocused', CompositeFocused);\n\n}","(function(module) {\ntry {\n  module = angular.module('pipComposite.Templates');\n} catch (e) {\n  module = angular.module('pipComposite.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('checklist_edit/ChecklistEdit.html',\n    '<div ng-class=\"{\\'pip-checklist-draggable\\': $ctrl.selected.drag}\" id=\"{{\\'checklist-\\' + $ctrl.selected.id}}\"><div ng-repeat=\"item in $ctrl.checklistContent\" ng-mousedown=\"$ctrl.onClick($event, $index)\" class=\"pip-checklist-item\" id=\"{{\\'check-item-\\' + $ctrl.selected.id + \\'-\\' + $index}}\" pip-drag=\"$ctrl.checklistContent.length > 1 && $ctrl.selected.drag && !item.empty\" pip-drag-data=\"item\" pip-force-touch=\"true\" pip-touch-delay=\"30\" pip-drop=\"true\" pip-drag-stop=\"$ctrl.onStop(selected.id)\" pip-drag-start=\"$ctrl.onStart(selected.id)\" pip-scroll-container=\"$ctrl.pipScrollContainer\" pip-drop-success=\"$ctrl.onDropComplete($index, $data, $event, $ctrl.selected.id)\"><div ng-class=\"{\\'put_place\\': $ctrl.selected.drag}\"></div><div class=\"pip-checklist-item-body layout-row layout-align-start-start\" pip-cancel-drag=\"true\" ng-class=\"{ \\'select-active-item\\': $ctrl.isSelectedItem($index) }\"><div class=\"pip-checklist-button\" pip-cancel-drag=\"true\"><md-button pip-drag-handle=\"\" class=\"pip-icon-checklist-button md-icon-button no-ripple-container\" aria-label=\"REARRANGE\" tabindex=\"-1\" pip-mobile-mousedown=\"$ctrl.onDownDragg(item)\" pip-mobile-mouseup=\"$ctrl.onDraggEnd()\" ng-if=\"$ctrl.pipDraggable && $ctrl.checklistContent.length > 2 && !item.empty\" ng-class=\"$ctrl.checklistContent.length > 1 ? \\'cursor-move\\' : \\'cursor-default\\'\" ng-disabled=\"$ctrl.ngDisabled\"><md-icon class=\"text-grey\" md-svg-icon=\"icons:vhandle\"></md-icon></md-button></div><div class=\"pip-checklist-button\" style=\"overflow: hidden\" pip-cancel-drag=\"true\"><div class=\"pip-checklist-button-container\"><md-button class=\"pip-icon-checklist-button md-icon-button\" ng-show=\"item.empty\" ng-disabled=\"$ctrl.ngDisabled\" md-ink-ripple=\"\" ng-click=\"$ctrl.onAddItem()\" tabindex=\"-1\" aria-label=\"PLUS\"><md-icon class=\"text-grey\" md-svg-icon=\"icons:plus\"></md-icon></md-button><md-checkbox ng-model=\"item.checked\" ng-show=\"!item.empty\" aria-label=\"COMPLETE\" pip-cancel-drag=\"true\" ng-focus=\"$ctrl.onItemFocus($index)\" ng-change=\"$ctrl.onChecked(item)\" ng-disabled=\"$ctrl.ngDisabled\"></md-checkbox></div></div><div class=\"pip-checklist-text flex\" pip-cancel-drag=\"true\"><md-input-container md-no-float=\"\" class=\"flex\"><textarea ng-model=\"item.text\" name=\"{{\\'text\\' + $index}}\" aria-label=\"TEXT\" class=\"pip-text-checkbox\" ng-focus=\"$ctrl.onItemFocus($index)\" ng-change=\"$ctrl.onChangeItem($index)\" ng-keydown=\"$ctrl.onTextareaKeyDown($event, $index, item)\" placeholder=\"{{::\\'TEXT\\' | translate}}\" id=\"{{\\'check-item-text-\\' + selected.id + \\'-\\' + $index}}\" ng-disabled=\"$ctrl.ngDisabled\">\\n' +\n    '                    </textarea></md-input-container></div><div class=\"pip-checklist-button\" pip-cancel-drag=\"true\"><md-button class=\"pip-icon-checklist-button md-icon-button\" md-ink-ripple=\"\" ng-click=\"$ctrl.onDeleteItem($index, item)\" ng-disabled=\"$ctrl.ngDisabled\" tabindex=\"-1\" ng-focus=\"$ctrl.onItemFocus($index)\" ng-show=\"$ctrl.isSelectedItem($index)\" aria-label=\"DELETE-ITEM\"><md-icon class=\"text-grey\" md-svg-icon=\"icons:cross-circle\"></md-icon></md-button></div></div></div><div id=\"{{\\'check-item-empty-\\' + $ctrl.selected.id}}\" class=\"pip-empty-text\" pip-drag=\"false\" pip-drop=\"true\" pip-drop-success=\"$ctrl.onDropComplete($ctrl.checklistContent.length, $data, $event, $ctrl.selected.id)\"><div ng-class=\"{\\'put_place\\': $ctrl.selected.drag}\"></div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipComposite.Templates');\n} catch (e) {\n  module = angular.module('pipComposite.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('checklist_view/ChecklistView.html',\n    '<div ng-repeat=\"item in $ctrl.pipOptions track by $index\"><div class=\"pip-checklist-item layout-row layout-align-start-start\"><div class=\"pip-checklist-icon\"><md-checkbox ng-model=\"item.checked\" ng-click=\"$ctrl.onClick($event, item)\" aria-label=\"COMPLETE\" ng-disabled=\"$ctrl.ngDisabled\"></md-checkbox></div><div class=\"pip-checklist-text flex\"><pip-markdown pip-text=\"item.text\" pip-rebind=\"true\" ng-disabled=\"true\"></pip-markdown></div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipComposite.Templates');\n} catch (e) {\n  module = angular.module('pipComposite.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('composite_edit/CompositeEdit.html',\n    '<div class=\"divider-top\"><div class=\"pip-composite-body\" ng-show=\"$ctrl.compositeContent.length != 0\" ng-class=\"{\\'drag-active\\': $ctrl.selected.drag}\"><div class=\"pip-composite-item\" ng-repeat=\"obj in $ctrl.compositeContent track by obj.id\" ng-mousedown=\"$ctrl.onClick($event, $index, obj)\" ng-class=\"{\\'selected-content\\': $ctrl.isSelectedSection($index, obj), \\'composite-animate\\': !obj.empty && $ctrl.compositeContent.length > 1}\" ng-keyup=\"$ctrl.onKeyUp($event)\" ng-keydown=\"$ctrl.onKeyDown($event, $index, obj)\" pip-drag=\"$ctrl.compositeContent.length > 1 && $ctrl.selected.drag\" pip-touch-delay=\"10\" pip-drag-data=\"obj\" pip-scroll-container=\"$ctrl.pipScrollContainer\" pip-drop=\"true\" pip-force-touch=\"true\" pip-drag-stop=\"$ctrl.onStop($ctrl.selected.id)\" pip-drag-start=\"$ctrl.onStart($ctrl.selected.id)\" pip-drop-success=\"$ctrl.onDropComplete($index, $data, $event, $ctrl.selected.id)\" id=\"{{\\'composite-item-\\' + $ctrl.selected.id + \\'-\\' + $index}}\"><div class=\"putt_box\"></div><div class=\"pip-section-header layout-row layout-align-start-center\" ng-if=\"!obj.empty\"><div class=\"w38\"></div><md-button class=\"md-icon-button md-icon-button-little icon-rearrange-btn no-ripple-container rm8 cursor-move\" ng-if=\"!$ctrl.ngDisabled && $ctrl.compositeContent.length > 1\" pip-drag-handle=\"\" pip-mobile-mousedown=\"$ctrl.onDownDragg($event, obj)\" pip-mobile-mouseup=\"$ctrl.onDraggEnd()\" tabindex=\"-1\" aria-label=\"COMPOSITE-DRAGG\" ng-hide=\"$ctrl.compositeContent.length == 1\"><md-icon class=\"composite-icon cursor-move\" md-svg-icon=\"icons:handle\"></md-icon></md-button><div><md-button class=\"md-icon-button md-icon-button-little rm8\" ng-click=\"$ctrl.onDeleteItem($index)\" ng-disabled=\"$ctrl.ngDisabled\" aria-label=\"COMPOSITE-DELETE\"><md-icon class=\"composite-icon\" md-svg-icon=\"icons:cross\"></md-icon></md-button></div></div><div class=\"pip-section-content rp24-flex lp24-flex tp16 bp16\" ng-if=\"obj.type == \\'text\\'\" pip-cancel-drag=\"true\"><md-input-container class=\"p0 m0 w-stretch\" md-no-float=\"\"><textarea ng-model=\"obj.text\" aria-label=\"text\" placeholder=\"{{ $ctrl.isFirst ? $ctrl.compositePlaceholder : \\'TEXT\\' | translate}}\" id=\"{{\\'composite-item-text-\\' + $ctrl.selected.id + \\'-\\' + $index}}\" ng-change=\"$ctrl.onContentChange(obj)\" pip-cancel-drag=\"true\" ng-disabled=\"$ctrl.ngDisabled\">\\n' +\n    '                            </textarea></md-input-container></div><div class=\"pip-section-content rp24-flex lp24-flex vp20\" ng-if=\"obj.type == \\'pictures\\'\" pip-cancel-drag=\"true\"><pip-picture-list-edit class=\"w-stretch\" pip-cancel-drag=\"true\" pip-pictures=\"obj.picIds\" pip-changed=\"$ctrl.onContentChange(obj)\" pip-created=\"obj.pictures = $event.sender\" pip-added-picture=\"$ctrl.addedContent\" ng-disabled=\"$ctrl.ngDisabled\"></pip-picture-list-edit></div><div class=\"pip-section-content rp24-flex lp24-flex vp20\" ng-if=\"obj.type == \\'documents\\'\" pip-cancel-drag=\"true\"><pip-document-list-edit class=\"w-stretch\" pip-documents=\"obj.docs\" pip-cancel-drag=\"true\" pip-changed=\"$ctrl.onContentChange(obj)\" pip-created=\"obj.documents = $event.sender\" pip-added-document=\"$ctrl.addedContent\" ng-disabled=\"$ctrl.ngDisabled\"></pip-document-list-edit></div><div class=\"pip-section-embedded rp24-flex lp24-flex vp20\" ng-if=\"obj.type == \\'embedded\\'\" pip-cancel-drag=\"true\"><pip-embedded-edit pip-embedded-type=\"obj.embed_type\" pip-embedded_uri=\"obj.embed_uri\" pip-cancel-drag=\"true\" pip-changed=\"$ctrl.onContentChange(obj)\" ng-disabled=\"$ctrl.ngDisabled\"></pip-embedded-edit></div><div class=\"pip-section-content layout-row layout-align-start-center\" ng-if=\"obj.type == \\'checklist\\'\" pip-cancel-drag=\"true\"><pip-checklist-edit pip-options=\"obj.checklist\" pip-draggable=\"$ctrl.isActiveChecklist(obj)\" pip-changed=\"$ctrl.onContentChange(obj)\" ng-disabled=\"$ctrl.ngDisabled\" pip-scroll-container=\"$ctrl.pipScrollContainer\" pip-rebind=\"true\"></pip-checklist-edit></div><div class=\"pip-section-content vp20 rp24-flex lp24-flex\" ng-if=\"obj.type == \\'location\\'\" pip-cancel-drag=\"true\"><pip-location-edit class=\"pip-location-attachments w-stretch\" pip-location-name=\"obj.loc_name\" pip-location-pos=\"obj.loc_pos\" pip-cancel-drag=\"true\" xxxpip-location-holder=\"$ctrl.pipLocationHolder\" pip-changed=\"$ctrl.onContentChange(obj)\" ng-disabled=\"$ctrl.ngDisabled\"></pip-location-edit></div><div class=\"pip-section-content bp16-flex rp24-flex lp24-flex tp20\" ng-if=\"obj.type == \\'time\\'\" pip-cancel-drag=\"true\"><pip-time-range-edit class=\"w-stretch\" pip-start-date=\"obj.start\" pip-end-date=\"obj.end\" xxxpip-size=\"$sizeGtSmall\" pip-changed=\"$ctrl.onContentChange(obj)\" ng-disabled=\"$ctrl.ngDisabled\" pip-start-label=\"{{ \\'COMPOSITE_START_TIME\\' | translate }}\" pip-end-label=\"{{ \\'COMPOSITE_END_TIME\\' | translate }}\"></pip-time-range-edit></div></div><div class=\"pip-composite-item w-stretch\" pip-drag=\"false\" pip-drop=\"true\" pip-drop-success=\"$ctrl.onDropComplete($ctrl.compositeContent.length, $data, $event, $ctrl.selected.id)\" pip-drag-stop=\"$ctrl.onStop($ctrl.selected.id)\" pip-drag-start=\"$ctrl.onStart($ctrl.selected.id)\" id=\"{{\\'pip-composite-last-\\' + $ctrl.selected.id}}\"><div class=\"putt_box\"></div><div class=\"pip-section-content h24\" style=\"border: 0px!important;\"></div></div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipComposite.Templates');\n} catch (e) {\n  module = angular.module('pipComposite.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('composite_summary/CompositeSummary.html',\n    '<div ng-repeat=\"item in $ctrl.compositeContent track by $index\"><div class=\"pip-composite-text\" ng-if=\"item.type == \\'text\\' && item.text\"><pip-markdown pip-text=\"item.text\" pip-line-count=\"$ctrl.textSize\" pip-rebind=\"true\" ng-disabled=\"true\"></pip-markdown></div><div ng-if=\"item.type == \\'pictures\\' && item.picIds && item.picIds.length > 0\" ng-class=\"$ctrl.compositeContent[$index - 1].type != \\'pictures\\' ? $ctrl.compositeContent[$index + 1].type != \\'pictures\\' ? \\'tm16 bm16\\' : \\'tm16 bm0\\' : $ctrl.compositeContent[$index + 1].type != \\'pictures\\' ? \\'tm8 bm16\\' : \\'tm8 bm0\\'\" class=\"pip-composite-pictures\"><pip-collage pip-pictures=\"item.picIds\" pip-unique-code=\"item.id\" pip-multiple=\"true\" pip-open=\"$ctrl.disableControl\" pip-rebind=\"true\" ng-disabled=\"$ctrl.disableControl\"></pip-collage></div><div ng-if=\"item.type == \\'documents\\' && item.docs && item.docs.length > 0\" class=\"pip-composite-documents layout-row flex\"><pip-document-list class=\"flex\" pip-documents=\"item.docs\" pip-rebind=\"true\" pip-document-icon=\"true\" pip-collapse=\"true\" ng-disabled=\"$ctrl.disableControl\"></pip-document-list></div><div ng-if=\"item.type == \\'checklist\\' && item.checklist && item.checklist.length > 0\" class=\"pip-composite-checklist\"><pip-checklist-view pip-options=\"item.checklist\" pip-changed=\"$ctrl.onContentChange()\" pip-rebind=\"true\" pip-collapse=\"true\" ng-disabled=\"$ctrl.disabledChecklist\"></pip-checklist-view></div><div class=\"pip-composite-location layout-row layout-align-start-center flex\" ng-if=\"item.type == \\'location\\' && (item.loc_pos || item.loc_name)\"><pip-location class=\"flex\" pip-location-name=\"item.loc_name\" pip-location-pos=\"item.loc_pos\" pip-collapse=\"true\" pip-show-location-icon=\"true\" ng-disabled=\"$ctrl.disableControl\" pip-rebind=\"true\"></pip-location></div><div class=\"pip-composite-time layout-row layout-align-start-center flex\" ng-if=\"item.type == \\'time\\' && (item.start || item.end)\"><md-icon md-svg-icon=\"icons:time\" class=\"rm24 lm0\"></md-icon><pip-time-range pip-start-date=\"item.start\" pip-end-date=\"item.end\" pip-rebind=\"true\" ng-disabled=\"$ctrl.disableControl\"></pip-time-range></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipComposite.Templates');\n} catch (e) {\n  module = angular.module('pipComposite.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('composite_toolbar/CompositeToolbar.html',\n    '<div class=\"layout-row layout-align-start-start flex\"><md-button class=\"pip-composite-button\" ng-if=\"!$ctrl.emptyState\" ng-class=\"{ \\'remove-item\\': !$ctrl.emptyState , \\'new-item\\': !$ctrl.emptyState }\" ng-click=\"$ctrl.onAddItem(\\'text\\');\" aria-label=\"COMPOSITE-BUTTON-TEXT\" ng-disabled=\"$ctrl.ngDisabled\"><md-icon class=\"icon-text-block\" md-svg-icon=\"icons:text\"></md-icon><md-tooltip>{{::\\'TEXT\\'| translate}}</md-tooltip></md-button><md-button ng-if=\"$ctrl.toolbarButton.checklist\" ng-click=\"$ctrl.onAddItem(\\'checklist\\')\" ng-disabled=\"$ctrl.ngDisabled\" class=\"pip-composite-button\" aria-label=\"COMPOSITE-BUTTON-CHECKLIST\"><md-icon class=\"icon-checkbox-on\" md-svg-icon=\"icons:checkbox-on\"></md-icon><md-tooltip>{{::\\'CHECKLIST\\'| translate}}</md-tooltip></md-button><md-button ng-if=\"$ctrl.toolbarButton.picture\" ng-click=\"$ctrl.onAddItem(\\'pictures\\')\" ng-disabled=\"$ctrl.ngDisabled\" class=\"pip-composite-button\" aria-label=\"COMPOSITE-BUTTON-PICTURES\"><md-icon class=\"icon-camera\" md-svg-icon=\"icons:camera\"></md-icon><md-tooltip>{{::\\'PICTURE\\'| translate}}</md-tooltip></md-button><md-button ng-click=\"$ctrl.onAddItem(\\'documents\\')\" ng-if=\"$ctrl.toolbarButton.document\" ng-disabled=\"$ctrl.ngDisabled\" class=\"pip-composite-button\" aria-label=\"COMPOSITE-BUTTON-DOCUMENTS\"><md-icon class=\"icon-document\" md-svg-icon=\"icons:document\"></md-icon><md-tooltip>{{::\\'DOCUMENT\\'| translate}}</md-tooltip></md-button><md-button ng-click=\"$ctrl.onAddItem(\\'location\\')\" ng-if=\"$ctrl.toolbarButton.location\" ng-disabled=\"$ctrl.ngDisabled\" class=\"pip-composite-button\" aria-label=\"COMPOSITE-BUTTON-LOCATIONS\"><md-icon class=\"icon-location\" md-svg-icon=\"icons:location\"></md-icon><md-tooltip>{{::\\'LOCATION\\'| translate}}</md-tooltip></md-button><md-button ng-click=\"$ctrl.onAddItem(\\'time\\')\" ng-if=\"$ctrl.toolbarButton.event\" ng-disabled=\"$ctrl.ngDisabled\" class=\"pip-composite-button\" aria-label=\"COMPOSITE-BUTTON-TIME\"><md-icon class=\"icon-time\" md-svg-icon=\"icons:time\"></md-icon><md-tooltip>{{::\\'TIME\\'| translate}}</md-tooltip></md-button></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipComposite.Templates');\n} catch (e) {\n  module = angular.module('pipComposite.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('composite_view/CompositeView.html',\n    '<div ng-repeat=\"item in $ctrl.compositeContent track by $index\"><div class=\"pip-composite-text lp24-flex rp24-flex\" ng-if=\"item.type == \\'text\\' && item.text\" ng-class=\"{\\'bm16\\': $last}\"><pip-markdown pip-text=\"item.text\" pip-rebind=\"true\" ng-disabled=\"true\"></pip-markdown></div><div ng-if=\"item.type == \\'pictures\\' && item.picIds && item.picIds.length > 0\" ng-class=\"$ctrl.compositeContent[$index - 1].type != \\'pictures\\' ? $ctrl.compositeContent[$index + 1].type != \\'pictures\\' ? \\'tm16 bm16\\' : \\'tm16 bm0\\' : $ctrl.compositeContent[$index + 1].type != \\'pictures\\' ? \\'tm8 bm16\\' : \\'tm8 bm0\\'\" class=\"pip-composite-pictures lp24-flex rp24-flex\"><pip-collage pip-pictures=\"item.picIds\" pip-unique-code=\"item.id\" pip-multiple=\"true\" pip-open=\"true\" pip-rebind=\"true\" ng-disabled=\"$ctrl.ngDisabled\"></pip-collage></div><div ng-if=\"item.type == \\'documents\\' && item.docs && item.docs.length > 0\" class=\"pip-composite-documents layout-row layout-align-start-start flex\"><pip-document-list pip-documents=\"item.docs\" pip-document-icon=\"true\" pip-rebind=\"true\" ng-disabled=\"$ctrl.ngDisabled\"></pip-document-list></div><div ng-if=\"item.type == \\'checklist\\' && item.checklist && item.checklist.length > 0\" class=\"pip-composite-checklist lp24-flex rp24-flex\"><pip-checklist-view pip-options=\"item.checklist\" pip-changed=\"$ctrl.onContentChange()\" pip-rebind=\"true\" ng-disabled=\"$ctrl.isDisabled()\"></pip-checklist-view></div><div class=\"pip-composite-location layout-row layout-align-start-start flex\" ng-if=\"item.type == \\'location\\' && (item.loc_pos || item.loc_name)\"><pip-location class=\"flex\" pip-location-name=\"item.loc_name\" pip-location-pos=\"item.loc_pos\" pip-show-location-icon=\"true\" pip-collapse=\"false\" ng-disabled=\"$ctrl.ngDisabled\" pip-rebind=\"true\"></pip-location></div><div class=\"pip-composite-time lp24-flex rp24-flex layout-row layout-align-start-center flex\" ng-if=\"item.type == \\'time\\'\"><md-icon md-svg-icon=\"icons:time\" class=\"lm0\"></md-icon><pip-time-range pip-start-date=\"item.start\" pip-end-date=\"item.end\" pip-rebind=\"true\" ng-disabled=\"ngDisabled()\"></pip-time-range></div><div class=\"pip-composite-embedded lp24-flex rp24-flex layout-row layout-align-start-center flex\" ng-if=\"item.type == \\'embedded\\' && item.embed_uri\"><pip-embedded-view class=\"bm8\" pip-embedded-type=\"item.embed_type\" pip-embedded-uri=\"item.embed_uri\"></pip-embedded-view></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipComposite.Templates');\n} catch (e) {\n  module = angular.module('pipComposite.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('content_switch/ContentSwitch.html',\n    '<md-button ng-click=\"showPictures = !showPictures; onButtonClick(\\'pictures\\')\" aria-label=\"showPictures\" class=\"md-icon-button\" ng-show=\"showIconPicture\" ng-disabled=\"transaction.busy()\"><md-icon class=\"active-camera\" ng-class=\"{ \\'active-camera\\': showPictures }\" md-svg-icon=\"icons:camera\"></md-icon></md-button><md-button ng-click=\"showDocuments = !showDocuments; onButtonClick(\\'documents\\')\" aria-label=\"showDocuments\" class=\"md-icon-button\" ng-show=\"showIconDocument\" ng-disabled=\"transaction.busy()\"><md-icon ng-class=\"{ \\'active-document\\': showDocuments }\" md-svg-icon=\"icons:document\"></md-icon></md-button><md-button ng-click=\"showEvent = !showEvent; onButtonClick(\\'event\\')\" aria-label=\"showEvent\" class=\"md-icon-button\" ng-show=\"showIconEvent\" ng-disabled=\"transaction.busy()\"><md-icon ng-class=\"{ \\'active-time\\': showEvent }\" md-svg-icon=\"icons:time\"></md-icon></md-button><md-button ng-click=\"showLocation = !showLocation; onButtonClick(\\'location\\')\" aria-label=\"showLocation\" class=\"md-icon-button\" ng-show=\"showIconLocation\" ng-disabled=\"transaction.busy()\"><md-icon ng-class=\"{ \\'active-location\\': showLocation }\" md-svg-icon=\"icons:location\"></md-icon></md-button>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipComposite.Templates');\n} catch (e) {\n  module = angular.module('pipComposite.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('embedded_edit/EmbeddedEdit.html',\n    '<form name=\"embedded\"><md-input-container class=\"md-block flex bm24\"><label>{{ ::\\'EMBEDDED_TYPE_LABEL\\'| translate }}</label><md-select ng-model=\"$ctrl.embed_type\" ng-change=\"$ctrl.onChangeType()\" ng-disabled=\"$ctrl.isDisabled()\"><md-option ng-repeat=\"t in $ctrl.embeddedTypeCollection track by $index\" ng-value=\"t.id\">{{ ::t.title | translate }}</md-option></md-select></md-input-container><md-input-container class=\"md-block flex\"><label>{{::\\'EMBEDDED_URL_LABEL\\' | translate}}</label> <input ng-model=\"$ctrl.embed_uri\" ng-required=\"$ctrl.embed_uri\" type=\"url\" name=\"url\" ng-change=\"$ctrl.onChangeUrl()\" ng-disabled=\"$ctrl.isDisabled()\" ng-model-options=\"{ delay: 500 }\"><div class=\"hint\" ng-if=\"!embedded.url.$error\">{{::\\'EMBEDDED_TYPE_HINT\\' | translate}}</div><div ng-messages=\"embedded.url.$error\" role=\"alert\"><div ng-message=\"url\">{{ \\'EMBEDDED_URL_ERROR\\' | translate }}</div></div></md-input-container></form>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipComposite.Templates');\n} catch (e) {\n  module = angular.module('pipComposite.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('embedded_view/EmbeddedView.html',\n    '<iframe width=\"100%\" height=\"170\" frameborder=\"0\" allowfullscreen=\"\" ng-if=\"$ctrl.embed_type == \\'youtube\\'\" ng-src=\"{{ $ctrl.embed_uri }}\" style=\"margin: 0 auto;\"></iframe><iframe width=\"100%\" height=\"170\" frameborder=\"0\" allowfullscreen=\"\" style=\"margin: 0 auto;\" ng-src=\"{{ $ctrl.embed_uri }}\" ng-if=\"$ctrl.embed_type == \\'custom\\'\"><p><a href=\"{{ $ctrl.embed_uri }}\">{{ $ctrl.embed_uri }}</a></p></iframe>');\n}]);\n})();\n\n//# sourceMappingURL=pip-suite-composite-html.min.js.map\n","import { GuidePage } from './GuidePage';\n\n\nexport class Guide {\n\n    /* Identification */\n    public id: string;\n    public name?: string;\n    public type: string;\n    public app?: string;\n    public min_ver?: number;\n    public max_ver?: number;\n\n    /* Automatically managed fields */\n    public create_time: Date;\n\n    /* Content */\n    public pages: GuidePage[];\n\n    /* Search */\n    public tags?: string[];\n    public all_tags?: string[];\n\n    /* Status */\n    public status?: string;\n\n    /* Custom fields */\n    public custom_hdr?: any;\n    public custom_dat?: any;\n}\n","import { IGuideDataService } from './IGuideDataService';\nimport { Guide } from './Guide';\nimport { GuideType } from './GuideType';\nimport { GuideStatus } from './GuideStatus';\nimport { PageData } from './PageData';\n\nclass GuideData implements IGuideDataService {\n    private RESOURCE: string = 'guides';\n    private RESOURCE_RANDOM: string = 'guidesRandom'; \n\n    private PAGE_SIZE: number = 100;\n    private PAGE_START: number = 0;\n    private PAGE_TOTAL: boolean = true;\n\n    constructor(\n        private pipRest: pip.rest.IRestService,\n        private pipFormat: pip.services.IFormat\n    ) {\n        \"ngInject\";\n\n    }\n\n    public readGuides(params: any, successCallback?: (data: PageData) => void, errorCallback?: (error: any) => void): angular.IPromise<any> {\n        params = params || {};\n        if (params.filter) {\n            params.filer = this.pipFormat.filterToString(params.filer);\n        }\n\n        return this.pipRest.getResource(this.RESOURCE).page(params, successCallback, errorCallback);\n    }\n\n    public readRandomGuide(params: any, successCallback?: (data: Guide) => void, errorCallback?: (error: any) => void): angular.IPromise<any> {\n        params = params || {};\n        if (params.filter) {\n            params.filer = this.pipFormat.filterToString(params.filer);\n        }\n\n        return this.pipRest.getResource(this.RESOURCE_RANDOM).get(params, successCallback, errorCallback);\n    }\n\n    public readIntroGuides(params: any, successCallback?: (data: PageData) => void, errorCallback?: (error: any) => void): angular.IPromise<any> {\n        params = params || {};\n        let filter = params.filter || {};\n        filter.type = GuideType.Introduction;\n        filter.status = GuideStatus.Completed; \n        params.filer = this.pipFormat.filterToString(filter);\n\n        return this.pipRest.getResource(this.RESOURCE).page(\n            params,\n            successCallback,\n            errorCallback\n        );\n    }\n\n    public readGuide(id: string, successCallback?: (data: Guide) => void, errorCallback?: (error: any) => void): angular.IPromise<any> {\n        return this.pipRest.getResource(this.RESOURCE).get(\n            { guide_id: id },\n            successCallback,\n            errorCallback\n        );\n    }\n\n    public createGuide(data: Guide, successCallback?: (data: Guide) => void, errorCallback?: (error: any) => void): void {\n        this.pipRest.getResource(this.RESOURCE).save(\n            null,\n            data,\n            successCallback,\n            errorCallback\n        );\n    }\n\n    public updateGuide(id: string, data: Guide, successCallback?: (data: Guide) => void, errorCallback?: (error: any) => void): void {\n        this.pipRest.getResource(this.RESOURCE).update(\n            { guide_id: id },\n            data,\n            successCallback,\n            errorCallback\n        );\n    }\n\n    public deleteGuide(id: string, successCallback?: () => void, errorCallback?: (error: any) => void): void {\n        this.pipRest.getResource(this.RESOURCE).remove(\n            { guide_id: id },\n            null,\n            successCallback,\n            errorCallback\n        );\n    }\n}\n\n\nangular\n    .module('pipGuideData', ['pipRest', 'pipServices'])\n    .service('pipGuideData', GuideData);\n\n\n","import { MultiString } from './MultiString';\n\nexport class GuidePage {\n    public title: MultiString;\n    public content?: MultiString;\n    public more_url?: string;\n    public color?: string;\n    public pic_id?: string;\n    public pic_uri?: string;\n}","export class GuideStatus {\n    public static readonly New = \"new\";\n    public static readonly Writing = \"writing\";\n    public static readonly Translating = \"translating\";\n    public static readonly Verifying = \"verifying\";\n    public static readonly Completed = \"completed\";\n}","export class GuideType {\n    public static readonly Introduction = \"introduction\";\n    public static readonly NewRelease = \"new release\";\n}","export class MultiString {\n    [language: string]: string;\n}","export class PageData {\n    data: any[];\n    total: number;\n} ","export class PartyReference {\n\n    public constructor(id: string, name?: string, email?: string) {\n        this.id = id;\n        this.name = name;\n        this.email = email;\n    }\n\n    public id: string;\n    public name?: string;\n    public email?: string;\n}","import { MultiString } from './MultiString';\nimport { QuoteStatus } from './QuoteStatus';\n\nexport class Quote {\n    public id: string;\n    public text: MultiString;\n    public author: MultiString;\n    public status: string;\n    public tags: string[];\n    public all_tags: string[];\n}\n","import { IQuoteDataService } from './IQuoteDataService';\nimport { Quote } from './Quote';\nimport { PageData } from './PageData';\n\nclass QuoteData implements IQuoteDataService {\n    private RESOURCE: string = 'quotes';\n    private RESOURCE_RANDOM: string = 'quotesRandom'; \n\n    private PAGE_SIZE: number = 100;\n    private PAGE_START: number = 0;\n    private PAGE_TOTAL: boolean = true;\n\n    constructor(\n        private pipRest: pip.rest.IRestService,\n        private pipFormat: pip.services.IFormat\n    ) {\n        \"ngInject\";\n\n    }\n\n    public readQuotes(params: any, successCallback?: (data: PageData) => void, errorCallback?: (error: any) => void): angular.IPromise<any> {\n        params = params || {};\n        if (params.filter) {\n            params.filer = this.pipFormat.filterToString(params.filer);\n        }\n\n        return this.pipRest.getResource(this.RESOURCE).page(params, successCallback, errorCallback);\n    }\n\n    public readRandomQuote(params: any, successCallback?: (data: Quote) => void, errorCallback?: (error: any) => void): angular.IPromise<any> {\n        params = params || {};\n        if (params.filter) {\n            params.filer = this.pipFormat.filterToString(params.filer);\n        }\n\n        return this.pipRest.getResource(this.RESOURCE_RANDOM).get(params, successCallback, errorCallback);\n    }\n\n    public readQuote(id: string, successCallback?: (data: Quote) => void, errorCallback?: (error: any) => void): angular.IPromise<any> {\n        return this.pipRest.getResource(this.RESOURCE).get(\n            { quote_id: id },\n            successCallback,\n            errorCallback\n        );\n    }\n\n    public createQuote(data: Quote, successCallback?: (data: Quote) => void, errorCallback?: (error: any) => void): void {\n        this.pipRest.getResource(this.RESOURCE).save(\n            null,\n            data,\n            successCallback,\n            errorCallback\n        );\n    }\n\n    public updateQuote(id: string, data: Quote, successCallback?: (data: Quote) => void, errorCallback?: (error: any) => void): void {\n        this.pipRest.getResource(this.RESOURCE).update(\n            { quote_id: id },\n            data,\n            successCallback,\n            errorCallback\n        );\n    }\n\n    public deleteQuote(id: string, successCallback?: () => void, errorCallback?: (error: any) => void): void {\n        this.pipRest.getResource(this.RESOURCE).remove(\n            { quote_id: id },\n            null,\n            successCallback,\n            errorCallback\n        );\n    }\n\n}\n\n\nangular\n    .module('pipQuoteData', ['pipRest', 'pipServices'])\n    .service('pipQuoteData', QuoteData);\n\n","export class QuoteStatus {\n    public static readonly New = \"new\";\n    public static readonly Writing = \"writing\";\n    public static readonly Translating = \"translating\";\n    public static readonly Verifying = \"verifying\";\n    public static readonly Completed = \"completed\";\n}","import { MultiString } from './MultiString';\nimport { PartyReference } from './PartyReference';\nimport { Attachment } from './Attachment';\n\nexport class Tip {\n    public id: string;\n    public topics: string[];\n\n    /* Automatically managed fields */\n    public creator: PartyReference;\n    public create_time: Date;\n\n    /* Content */\n    public title?: MultiString;\n    public content?: MultiString;\n    public more_url?: string;\n    public pics?: Attachment[];\n    public docs?: Attachment[];\n\n    /* Search */\n    public tags?: string[];\n    public all_tags?: string[];\n\n    /* Status */\n    public status?: string;\n\n    /* Custom fields */\n    public custom_hdr?: any;\n    public custom_dat?: any;\n}","import { ITipDataService } from './ITipDataService';\nimport { Tip } from './Tip';\nimport { PageData } from './PageData';\n\nclass TipData implements ITipDataService {\n    private RESOURCE: string = 'tips';\n    private RESOURCE_RANDOM: string = 'tipsRandom'; \n\n    private PAGE_SIZE: number = 100;\n    private PAGE_START: number = 0;\n    private PAGE_TOTAL: boolean = true;\n\n    constructor(\n        private pipRest: pip.rest.IRestService,\n        private pipFormat: pip.services.IFormat\n    ) {\n        \"ngInject\";\n\n    }\n\n    public readTips(params: any, successCallback?: (data: PageData) => void, errorCallback?: (error: any) => void): angular.IPromise<any> {\n        params = params || {};\n        if (params.filter) {\n            params.filer = this.pipFormat.filterToString(params.filer);\n        }\n\n        return this.pipRest.getResource(this.RESOURCE).page(params, successCallback, errorCallback);\n    }\n\n    public readRandomTip(params: any, successCallback?: (data: Tip) => void, errorCallback?: (error: any) => void): angular.IPromise<any> {\n        params = params || {};\n        if (params.filter) {\n            params.filer = this.pipFormat.filterToString(params.filer);\n        }\n\n        return this.pipRest.getResource(this.RESOURCE_RANDOM).get(params, successCallback, errorCallback);\n    }\n\n    public readTip(id: string, successCallback?: (data: Tip) => void, errorCallback?: (error: any) => void): angular.IPromise<any> {\n        return this.pipRest.getResource(this.RESOURCE).get(\n            { tip_id: id },\n            successCallback,\n            errorCallback\n        );\n    }\n\n    public createTip(data: Tip, successCallback?: (data: Tip) => void, errorCallback?: (error: any) => void): void {\n        this.pipRest.getResource(this.RESOURCE).save(\n            null,\n            data,\n            successCallback,\n            errorCallback\n        );\n    }\n\n    public updateTip(id: string, data: Tip, successCallback?: (data: Tip) => void, errorCallback?: (error: any) => void): void {\n        this.pipRest.getResource(this.RESOURCE).update(\n            { tip_id: id },\n            data,\n            successCallback,\n            errorCallback\n        );\n    }\n\n    public deleteTip(id: string, successCallback?: () => void, errorCallback?: (error: any) => void): void {\n        this.pipRest.getResource(this.RESOURCE).remove(\n            { tip_id: id },\n            null,\n            successCallback,\n            errorCallback\n        );\n    }\n\n}\n\n\nangular\n    .module('pipTipData', ['pipRest', 'pipServices'])\n    .service('pipTipData', TipData);\n\n","export class TipStatus {\n    public static readonly New = \"new\";\n    public static readonly Writing = \"writing\";\n    public static readonly Translating = \"translating\";\n    public static readonly Verifying = \"verifying\";\n    public static readonly Completed = \"completed\";\n}","{\n\n    /**\n     * @ngdoc service\n     * @name pipGuidance.Dialog:pipGuidanceDialog\n     *\n     * @description\n     * Reproduced API to show guidance dialog stretched out on a whole screen.\n     * It is included a navigation and allows users to go back through guide.\n     */\n    class GuidanceDialog {\n        constructor(private $mdDialog: angular.material.IDialogService) {}\n        /**\n         * @ngdoc method\n         * @methodOf pipGuidance.Dialog:pipGuidanceDialog\n         * @name pipGuidance.Dialog.pipGuidanceDialog:show\n         *\n         * @description\n         * Shows guidance panel. Shown guidance can be close by click on backdrop space. Into callback function is\n         * passed nothing data.\n         *\n         * {@link https://github.com/pip-webui/pip-webui-guidance/blob/master/src/guidance/guidance_dialog.js#L50 View source}\n         *\n         * @param {Object} params   Options for dialog panel.\n         * @param {Function=} successCallback   Callback function is invoked on success dialog close.\n         * @param {Function=} cancelCallback    Callback function is invoked on error event.\n         */\n        public show(params, successCallback, cancelCallback) {\n            this.$mdDialog.show({\n                    targetEvent: params.event,\n                    templateUrl: 'guidance/GuidanceDialog.html',\n                    controller: GuidanceDialogController,\n                    controllerAs: '$ctrl',\n                    locals: {\n                        params: params\n                    },\n                    clickOutsideToClose: true\n                })\n                .then(() => {\n                    if (successCallback) {\n                        successCallback();\n                    }\n                }, () => {\n                    if (cancelCallback) {\n                        cancelCallback();\n                    }\n                });\n        }\n    }\n\n    const config = (pipTranslateProvider: pip.services.ITranslateProvider) => {\n        pipTranslateProvider.translations('en', {\n            GUIDANCE_TITLE: 'What should you do here?',\n            GUIDANCE_ACTION: 'Do it now!',\n            GUIDANCE_DO_NOT_SHOW: \"Don't show it again\"\n        });\n        pipTranslateProvider.translations('ru', {\n            GUIDANCE_TITLE: 'Что здесь делать?',\n            GUIDANCE_ACTION: 'Сделать это сейчас!',\n            GUIDANCE_DO_NOT_SHOW: 'Не показывать это снова'\n        });\n    };\n\n    class GuidanceDialogController {\n        public theme: string;\n        public title: string;\n        public imageUrl: string;\n        public imageWidth: string;\n        public imageHeight: string;\n        public action: string;\n        public content: any;\n        public hideToggle: any;\n        public showHideToggle: any;\n        \n\n        constructor(\n            $scope: ng.IScope, \n            $rootScope: ng.IRootScopeService, \n            private $mdDialog: angular.material.IDialogService, \n            private pipTranslate: pip.services.ITranslateService,\n            private params: any\n        ) {\n            this.theme = $rootScope[pip.themes.ThemeRootVar];\n            this.title = params.title || 'GUIDANCE_TITLE';\n\n            this.imageUrl = params.imageUrl || '';\n            this.imageWidth = params.imageWidth || '100%';\n            this.imageHeight = params.imageHeight || '150px';\n\n            this.content = params.content;\n            this.action = params.action || 'GUIDANCE_ACTION';\n            this.hideToggle = params.hideToggle;\n            this.showHideToggle = params.hideToggleCallback != null;\n        }\n\n        public onCancel() {\n            this.$mdDialog.cancel();\n        }\n\n        public onAction() {\n            this.$mdDialog.hide();\n        }\n\n        public onHideToggle() {\n            if (this.params.hideToggleCallback) {\n                this.params.hideToggleCallback(this.hideToggle);\n            }\n        }\n\n        public getContent(content) {\n            let language = this.pipTranslate.language || 'en';\n            return content && content[language] ? content[language] : '';\n        }\n\n    }\n\n    angular.module('pipGuidance.Dialog', ['ngMaterial', 'pipTranslate', 'pipGuidance.Templates'])\n        .config(config)\n        .service('pipGuidanceDialog', GuidanceDialog);\n\n}","/// <reference path=\"../../typings/tsd.d.ts\" />\n\n{\n    /**\n     * @ngdoc service\n     * @name pipReleaseIntroDialog.pipReleaseIntroDialog\n     *\n     * @description\n     * Provides API to show intro dialog.\n     */\n    class ReleaseIntroDialog {\n        constructor(\n            private $mdDialog: angular.material.IDialogService\n        ) {}\n\n        /**\n         * @ngdoc method\n         * @methodOf pipReleaseIntroDialog.pipReleaseIntroDialog\n         * @name pipReleaseIntroDialog.pipReleaseIntroDialog:show\n         *\n         * @description\n         * Shows dialog panel. Shown dialog can be close by click on backdrop space. Into callback function is\n         * passed nothing data.\n         *\n         * {@link https://github.com/pip-webui/pip-webui-guidance/blob/master/src/intro_guidance/intro_guidance_dialog.js#L50 View source}\n         * \n         * @param {Object} params   Options for dialog panel.\n         * @param {Function=} successCallback   Callback function is invoked on success dialog close.\n         * @param {Function=} cancelCallback    Callback function is invoked on error event.\n         *\n         */\n        public show(params, successCallback, cancelCallback) {\n            this.$mdDialog.show({\n                    targetEvent: params.event,\n                    templateUrl: 'intro_guidance/IntroGuidanceDialog.html',\n                    controller: ReleaseIntroDialogController,\n                    controllerAs: '$ctrl',\n                    locals: {\n                        params: params // todo params class\n                    },\n                    clickOutsideToClose: true\n                })\n                .then(() => {\n                    if (successCallback) {\n                        successCallback();\n                    }\n                }, () => {\n                    if (cancelCallback) {\n                        cancelCallback();\n                    }\n                });\n        }\n    }\n\n    const config = (pipTranslateProvider: pip.services.ITranslateProvider) => {\n        pipTranslateProvider.translations('en', {\n            GUIDANCE_TITLE: 'What should you do here?',\n            GUIDANCE_ACTION: 'Do it now!',\n            GUIDANCE_DO_NOT_SHOW: \"Don't show it again\",\n            GUIDE_COMPLETE_BUTTON: 'GOT IT !'\n        });\n        pipTranslateProvider.translations('ru', {\n            GUIDANCE_TITLE: 'Что здесь делать?',\n            GUIDANCE_ACTION: 'Сделать это сейчас!',\n            GUIDANCE_DO_NOT_SHOW: 'Не показывать это снова',\n            GUIDE_COMPLETE_BUTTON: 'Закончить просмотр'\n        });\n    };\n\n    class ReleaseIntroDialogController {\n        public theme: string;\n        public number: number;\n        public ln: string;\n        public data: any;\n        public isOpen: boolean = true;\n\n        constructor(\n            private $scope: ng.IScope,\n            private $rootScope: ng.IRootScopeService,\n            private pipTranslate: pip.services.ITranslateService,\n            private $mdDialog: angular.material.IDialogService,\n            public pipMedia: pip.layouts.IMediaService,\n            private pipPictureData: pip.pictures.IPictureDataService,\n            private params: any\n        ) {\n            this.theme = $rootScope[pip.themes.ThemeRootVar];\n\n            const guide = this.params.guide;\n            this.number = 0;\n            this.ln = this.params.ln || this.pipTranslate.language || 'en';\n            this.data = guide;\n\n            _.each(this.data.pages, function (page) {\n                if (page.pic_id) {\n                    var picId = page.pic_id;\n\n                    page.picIds = [];\n                    page.picIds.push(picId);\n\n                    page.pic_id_url = pipPictureData.getPictureUrl(page.pic_id);\n                }\n                if (page.pic_uri) {\n                    var picUri = page.pic_uri;\n\n                    page.picUris = [];\n                    page.picUris.push(picUri);\n                }\n            });\n\n        }\n\n        // Process user actions\n        // --------------------\n\n        public onChangePage(newNumber) {\n            this.number = newNumber;\n            this.isOpen = false;\n        };\n\n        public onBackPage() {\n            if (this.number !== 0) {\n                this.number -= 1;\n            }\n            this.isOpen = false;\n        };\n        \n        public onNextPage() {\n            if (this.number !== this.data.pages.length - 1) {\n                this.number += 1;\n            }\n            this.isOpen = false;\n        };\n\n        public onKeyDown($event: KeyboardEvent): void {\n            if (!$event) return\n            if ($event.key == 'ArrowRight') {\n                this.onNextPage();\n            }\n            if ($event.key == 'ArrowLeft') {\n                this.onBackPage();\n            }\n            if ($event.keyCode == 32) {\n                this.onNextPage();\n            }\n            this.isOpen = false;\n        }\n\n\n        public onClose() {\n            // if intro show\n            this.$mdDialog.hide();\n        };\n    }\n\n    angular.module('pipReleaseIntroDialog')\n        .config(config)\n        .service('pipReleaseIntroDialog', ReleaseIntroDialog);\n\n}","import { IGuideDataService } from '../data';\nimport { GuideType } from '../data';\nimport { GuideStatus } from '../data';\nimport { Guide } from '../data';\nimport { IIntroGuidanceService } from './IIntroGuidanceService';\n\n{\n    /**\n     * @ngdoc service\n     * @name pipIntroGuidance.Service.pipGuidance\n     *\n     * @description\n     * Service provides an interface to show introduction guide.\n     *\n     * @requires pipReleaseIntroDialog\n     */\n\n    class IntroGuidanceService implements IIntroGuidanceService {\n        constructor(\n            private pipReleaseIntroDialog: any, \n            private pipGuideData: IGuideDataService,\n            private pipTranslate: pip.services.ITranslateService,\n            private $rootScope: ng.IRootScopeService\n        ) { }\n\n        public showReleaseGuidance(filter: string, successCallback?: () => void, errorCallback?: () => void): void {\n            this.pipGuideData.readGuides(\n                {\n                    filter: filter\n                },\n                (guides: any) => {\n                    guides = _.filter(guides.data, (guide: any) => {\n                        return guide.type = GuideType.NewRelease && guide.status === GuideStatus.Completed;\n                    });\n                    if (guides.length > 0) {\n                        this.pipReleaseIntroDialog.show({\n                            guide: guides[0],\n                            ln: this.pipTranslate.language\n                        }, successCallback, errorCallback);\n                    }\n                }, errorCallback);\n        }\n\n        public showIntroGuidance(filter: string, successCallback?: () => void, errorCallback?: () => void): void {\n            this.pipGuideData.readIntroGuides(\n                {\n                    filter: filter\n                },\n                (guides: any) => {\n                    guides = _.filter(guides.data, function (guide: any) {\n                        return guide.type = GuideType.Introduction && guide.status === GuideStatus.Completed;\n                    });\n                    if (guides.length > 0) {\n                        this.pipReleaseIntroDialog.show({\n                            guide: guides[0],\n                            ln: this.pipTranslate.language\n                        }, successCallback, errorCallback);\n                    }\n                }, errorCallback);\n        }\n\n        /**\n         * @ngdoc method\n         * @methodOf pipIntroGuidance.Service.pipGuidance\n         * @name pipIntroGuidance.Service.pipGuidance:showIntroReleaseGuide\n         *\n         * @description\n         * Shows introduction guide\n         *\n         * {@link https://github.com/pip-webui/pip-webui-guidance/blob/master/src/intro_guidance/intro_guidance_service.js#L51 View source}\n         *\n         * @param {Object} guide    Collection with intro information\n         * @param {string} ln       Tips content language\n         *\n         * @example\n         * <pre>\n         *     pipGuidance.showIntroReleaseGuide($scope.guide, 'en');\n         * </pre>\n         */\n        public showGuide(guide: Guide, ln: string, successCallback?: () => void, errorCallback?: () => void): void {\n            if (guide) {\n                this.pipReleaseIntroDialog.show({\n                    guide: guide,\n                    ln: ln\n                }, successCallback, errorCallback);\n            }\n        }\n\n        /**\n         * @ngdoc method\n         * @methodOf pipIntroGuidance.Service.pipGuidance\n         * @name  pipIntroGuidance.Service.pipGuidance:findIntroReleaseGuide\n         *\n         * @description\n         * Finds guideline due to passed settings options.\n         *\n         * {@link https://github.com/pip-webui/pip-webui-guidance/blob/master/src/intro_guidance/intro_guidance_service.js#80 View source}\n         *\n         * @param {Object} guides   Collection of guides\n         *\n         * @return {Object} Sorted guideline. Result is dependece on 'settings.intro' field. If it is existed than it returns\n         * intro guide with 'completed' status.\n         */\n        public findIntroReleaseGuide(guides: Guide[], settings: any, appName: string): Guide {\n            let guidesSort;\n            // TODO intro and release - key constant\n            const app = appName;\n            if (!settings && !settings[app] || !settings[app].intro || !settings[app].intro.lastId) {\n                // TODO [apidhirnyi] Make chaining for filter and sortBy\n                guidesSort = _.filter(guides, (guide: Guide) => {\n                    return guide.type === GuideType.Introduction && guide.status === GuideStatus.Completed && guide.app === app;\n                });\n\n                guidesSort = _.sortBy(guidesSort, (guide: Guide) => {\n                    return -moment(guide.create_time).valueOf();\n                });\n\n                return guidesSort[0];\n            }\n\n            guidesSort = _.filter(guides, (guide: Guide) => {\n                return guide.type === GuideType.NewRelease && guide.status === GuideStatus.Completed && guide.app === app;\n            });\n\n            guidesSort = _.sortBy(guidesSort, (guide: Guide) => {\n                return -moment(guide.create_time).valueOf();\n            });\n\n            if (!settings[app].intro.create_time || (guidesSort.length > 0 &&\n                new Date(settings[app].intro.create_time) < new Date(guidesSort[0].create_time) &&\n                guidesSort[0].id != settings.release.lastId)) {\n\n                return guidesSort[0];\n            }\n\n            return null;\n        }\n\n    }\n\n    angular.module('pipIntroGuidance.Service', ['pipReleaseIntroDialog', 'pipGuideData', 'pipPictures.Data'])\n        .service('pipGuidance', IntroGuidanceService);\n}"," angular.module('pipReleaseIntroDialog', ['ngMaterial', 'pipTranslate', 'pipGuidance.Templates']);\n\n import './IntroGuidanceDialog';\n import './IntroGuidanceService';\n\n export * from './IIntroGuidanceService';","import { ITipsService } from '../tips/ITipsService';\nimport { IQuotesService } from './IQuotesService';\nimport { Quote } from '../data/Quote';\n{\n    class QuotesService implements IQuotesService {\n        private quotes: any[];\n\n        constructor(\n            private pipPopoverService: pip.controls.IPopoverService,\n            private $timeout: angular.ITimeoutService,\n            private $rootScope: angular.IRootScopeService,\n            private pipTips: ITipsService\n        ) { }\n\n        private checkStatus(item): boolean {\n            return item.status == 'completed' ? true : false;\n        }\n\n        private compareRandom(a, b): number {\n            return Math.random() - 0.5;\n        }\n\n        public filterQuotes(data: any[], topic: string): any {\n            let quotes: any[];\n            let quotesCollection: any[] = _.filter(data, this.checkStatus);\n            if (topic) {\n                quotes = [];\n                for (let index = 0; index < quotesCollection.length; index++) {\n                    const topic = _.find(quotesCollection[index].tags, function (t) {\n                        return t == topic\n                    });\n                    if (topic) {\n                        quotes.push(quotesCollection[index]);\n                    }\n                }\n            } else {\n                quotes = quotesCollection;\n            }\n\n            quotes.sort(this.compareRandom);\n\n            return quotes;\n        }\n\n        public quoteController($scope, pipMedia): void {\n            const init = () => {\n                if ($scope.locals.quotes[$scope.index].author)\n                    $scope.author = $scope.locals.quotes[$scope.index].author[$scope.locals.ln] ?\n                    $scope.locals.quotes[$scope.index].author[$scope.locals.ln] : $scope.locals.quotes[$scope.index].author['en'];\n                if ($scope.locals.quotes[$scope.index].text)\n                    $scope.content = $scope.locals.quotes[$scope.index].text[$scope.locals.ln] ? $scope.locals.quotes[$scope.index].text[$scope.locals.ln] :\n                    $scope.locals.quotes[$scope.index].text['en'];\n\n                $scope.link = $scope.locals.quotes[$scope.index].more_url;\n            }\n\n            $scope.index = 0;\n            $scope.pipMedia = pipMedia;\n\n            init();\n\n            $scope.onNextClick = function () {\n                $scope.index++;\n                if ($scope.index == $scope.locals.quotes.length)\n                    this.pipPopoverService.hide();\n                else {\n                    init();\n                    this.pipPopoverService.resize();\n                }\n\n            };\n\n            $scope.$on('pipWindowResized', init);\n        }\n\n        public showQuotes(quotes: any[], ln: string, $event? : any): void {\n            if (quotes && quotes.length > 0) {\n                this.pipPopoverService.hide();\n\n                this.pipPopoverService.show({\n                    element: $event ? $event.currentTarget : null,\n                    class: 'pip-quote',\n                    cancelCallback: () => {\n                        return false;\n                    },\n                    locals: {\n                        quotes: quotes,\n                        ln: ln || 'en'\n                    },\n                    controller: ['$scope', 'pipMedia', this.quoteController],\n                    templateUrl: 'quotes/QuoteTemplate.html'\n                });\n            }\n        }\n\n        public waitUserTipsQuotes(tips: any[], quotes: any[], ln: string): void {\n            let idleTimer = null;\n            let idleState = false;\n            let idleWait = 180000;\n\n            $(document).ready(() => {\n                $(document).bind('click keydown scroll', () => {\n                    this.$timeout.cancel(idleTimer);\n\n                    idleState = false;\n                    idleTimer = this.$timeout(() => {\n                        this.pipPopoverService.hide();\n                        if (!quotes) {\n                            this.pipTips.showTips(tips, ln);\n                        } else {\n                            if (!tips) {\n                                this.showQuotes(quotes, ln, null);\n                            } else {\n                                Math.random() < 0.5 ? this.pipTips.showTips(tips, ln) : this.showQuotes(quotes, ln, null);\n                            }\n                        }\n                        idleState = true;\n                    }, idleWait);\n                });\n\n                $(\"body\").trigger(\"click\");\n            });\n        }\n\n    }\n\n    angular.module('pipQuotes.Service', ['pipGuidance.Templates', 'pipGuidance', 'pipControls', 'pipQuoteData'])\n        .service('pipQuotes', QuotesService);\n}","// configured Rest resource\nfunction pipGuideDataConfig(pipRestProvider: pip.rest.IRestProvider) {\n    pipRestProvider.registerPagedCollection('guides', '/api/v1/guides/:guide_id');\n    pipRestProvider.registerResource('guidesRandom', '/api/v1/guides/random');\n}\n        // this.registerRoute('get', '/guides', this.getGuides);\n        // this.registerRoute('get', '/guides/random', this.getRandomGuide);\n        // this.registerRoute('get', '/guides/:guide_id', this.getGuide);\n        // this.registerRouteWithAuth('post', '/guides', this._auth.admin(), this.createGuide);\n        // this.registerRouteWithAuth('put', '/guides/:guide_id', this._auth.admin(), this.updateGuide);\n        // this.registerRouteWithAuth('del', '/guides/:guide_id', this._auth.admin(), this.deleteGuide);\nangular\n    .module('pipGuidance.Rest')\n    .config(pipGuideDataConfig);\n\n\n","function configQuoteResources(pipRestProvider: pip.rest.IRestProvider) {\n    pipRestProvider.registerPagedCollection('quotes', '/api/v1/quotes/:quote_id');\n    pipRestProvider.registerResource('quotesRandom', '/api/v1/quotes/random');\n}\n        // this.registerRoute('get', '/quotes', this.getQuotes);\n        // this.registerRoute('get', '/quotes/random', this.getRandomQuote);\n        // this.registerRoute('get', '/quotes/:quote_id', this.getQuote);\n        // this.registerRouteWithAuth('post', '/quotes', this._auth.admin(), this.createQuote);\n        // this.registerRouteWithAuth('put', '/quotes/:quote_id', this._auth.admin(), this.updateQuote);\n        // this.registerRouteWithAuth('del', '/quotes/:quote_id', this._auth.admin(), this.deleteQuote);\n\nangular\n    .module('pipGuidance.Rest')\n    .config(configQuoteResources);\n","// configured Rest resource\nfunction pipTipDataConfig(pipRestProvider: pip.rest.IRestProvider) {\n    pipRestProvider.registerPagedCollection('tips', '/api/v1/tips/:tip_id');\n    pipRestProvider.registerResource('tipsRandom', '/api/v1/tips/random');\n}\n        // this.registerRoute('get', '/tips', this.getTips);\n        // this.registerRoute('get', '/tips/random', this.getRandomTip);\n        // this.registerRoute('get', '/tips/:tip_id', this.getTip);\n        // this.registerRouteWithAuth('post', '/tips', this._auth.admin(), this.createTip);\n        // this.registerRouteWithAuth('put', '/tips/:tip_id', this._auth.admin(), this.updateTip);\n        // this.registerRouteWithAuth('del', '/tips/:tip_id', this._auth.admin(), this.deleteTip);\nangular\n    .module('pipGuidance.Rest')\n    .config(pipTipDataConfig);\n\n","import { ITipsService } from './ITipsService';\nimport { ITipDataService } from '../data';\n\n\n{\n    /**\n     * @ngdoc service\n     * @name pipTips.Service.pipTips\n     *\n     * @description\n     * Service provides an interface to manage tips state.\n     * The service is available only on run phase.\n     */\n    class TipsService implements ITipsService {\n        private tips: any[]; // todo\n\n        constructor(\n            private $rootScope: ng.IRootScopeService,\n            private pipPopoverService: pip.controls.IPopoverService,\n            private pipTipData: ITipDataService\n            // private pipRest: pip.rest.IRestService,\n            // private pipSettingsData: any\n        ) {}\n\n        private checkStatus = (item) => {\n            return item.status === 'completed';\n        }\n\n        private compareRandom = () => {\n            return Math.random() - 0.5;\n        }\n\n        /**\n         * @ngdoc method\n         * @methodOf pipTips.Service.pipTips\n         * @name pipTips.Service.pipTips:filterTips\n         *\n         * @description\n         * Filters passed tips by passed topic and sorts result collection.\n         *\n         * {@link https://github.com/pip-webui/pip-webui-guidance/blob/master/src/tips/tips_service.js#L63 View source}\n         *\n         * @param {Array} data  Source array of tips entities\n         * @param {string} topic    Name of topic to filter by it\n         *\n         * @returns {Array} Filtered and sorted collection.\n         *\n         * @example\n         * <pre>\n         *     pipTips.filterTips(tips, 'goals');\n         * </pre>\n         */\n        public filterTips(data: any[], topic: string) {\n            this.tips = [];\n            let tipsCollection = _.filter(data, this.checkStatus);\n\n            for (let index = 0; index < tipsCollection.length; index++) {\n                const t = _.find(tipsCollection[index].topics, (t) => {\n                    return t == topic;\n                });\n\n                if (t) {\n                    this.tips.push(tipsCollection[index]);\n                }\n            }\n\n            this.tips.sort(this.compareRandom);\n\n            return this.tips;\n        }\n\n        public tipController($scope, $timeout, pipMedia) {\n            const init = () => {\n                $scope.title = $scope.locals.tips[$scope.index].title[$scope.locals.ln];\n                $scope.content = $scope.locals.tips[$scope.index].content[$scope.locals.ln];\n                // todo grab pictures\n                // if ($scope.locals.tips[$scope.index].pic_id) {\n                //     $scope.image = this.pipRest.serverUrl + '/api/parties/' + $scope.locals.tips[$scope.index].creator_id +\n                //         '/files/' + $scope.locals.tips[$scope.index].pic_id + '/content';\n                // }\n\n                $scope.link = $scope.locals.tips[$scope.index].more_url;\n\n                if ($scope.image) {\n                    $timeout(() => {\n                        const backdropElement = $('.pip-popover-backdrop'),\n                            popover = backdropElement.find('.pip-popover');\n\n                        popover.find('.pip-pic').css('background-image', 'url(' + $scope.image + ')');\n                    }, 100);\n                }\n            }\n\n            $scope.index = 0;\n            $scope.pipMedia = pipMedia;\n\n            init();\n\n            $scope.onNextClick = () => {\n                $scope.index++;\n\n                if ($scope.index === $scope.locals.tips.length) {\n                    this.pipPopoverService.hide();\n                } else {\n                    init();\n                    this.pipPopoverService.resize();\n                }\n            };\n\n            $scope.$on('pipWindowResized', init);\n        }\n\n        /**\n         * @ngdoc method\n         * @methodOf pipTips.Service.pipTips\n         * @name pipTips.Service.pipTips:showTips\n         *\n         * @description\n         * Shows tip to user.\n         *\n         * {@link https://github.com/pip-webui/pip-webui-guidance/blob/master/src/tips/tips_service.js#L144 View source}\n         *\n         * @param {Array} tips  Array of tips\n         * @param {string} ln   Chosen language\n         * @param {Object=} [$event=null]    Event object\n         *\n         * @example\n         * <pre>\n         *      pipTips.showTips(tips, 'en');\n         * </pre>\n         */\n        public showTips(tips: any[], ln: string, $event ? : any) {\n            if (tips && tips.length > 0) {\n                this.pipPopoverService.hide();\n                this.pipPopoverService.show({\n                    element: $event ? $event.currentTarget : null,\n                    class: 'pip-tip',\n                    cancelCallback: function () {\n                        return false;\n                    },\n                    locals: {\n                        tips: tips,\n                        ln: ln || 'en'\n                    },\n                    controller: ['$scope', '$timeout', 'pipMedia', this.tipController],\n                    templateUrl: 'tips/TipTemplate.html'\n                });\n            }\n        }\n\n        /**\n         * @ngdoc method\n         * @methodOf pipTips.Service.pipTips\n         * @name pipTips.Service.pipTips:firstShowTips\n         *\n         * @description\n         * Shows a tip\n         *\n         * {@link https://github.com/pip-webui/pip-webui-guidance/blob/master/src/tips/tips_service.js#L181 View source}\n         *\n         * @param {Array} tips  Collection of tips\n         * @param {string} [ln='en']   Language for tip content\n         * @param {string} topic    Name of needed topic\n         * @param {Object} settings Settings object\n         * @param {Object} [dayC=2]   Days amount throughout tips should be shown\n         */\n        public firstShowTips(tips: any[], language: string, topic: string, settings: any, dayC: number) {\n            // let ln = language || 'en',\n            //     dayCount = dayC || 2,\n            //     now = new Date(),\n            //     show;\n\n            // if (settings && settings[topic].tips) {\n            //     show = (now.getTime() - new Date(settings[topic].tips).getTime()) / (1000 * 60 * 60 * 24);\n\n            //     // TODO [apidhirnyi] Extract the same code part into the function\n            //     if (show > dayCount) {\n            //         this.pipPopoverService.hide();\n            //         this.showTips(tips, ln);\n            //         settings[topic].tips = new Date();\n            //         this.pipSettingsData.saveSettings(settings, topic);\n            //     }\n            // } else if (settings[topic]) {\n            //     this.pipPopoverService.hide();\n            //     this.showTips(tips, ln);\n            //     settings[topic].tips = new Date();\n            //     this.pipSettingsData.saveSettings(settings, topic);\n            // }\n        }\n\n        /**\n         * @ngdoc method\n         * @methodOf pipTips.Service.pipTips\n         * @name pipTips.Service.pipTips:getTips\n         *\n         * @description\n         * Returns tips collection according to topic.\n         *\n         * {@link https://github.com/pip-webui/pip-webui-guidance/blob/master/src/tips/tips_service.js#L220 View source}\n         *\n         * @param {Object} party    User's party object\n         * @param {string} ln       Language for tip content\n         * @param {string} topic    Name of needed topic\n         * @param {Function} callback   Callback function. It gets tips collection as argument.\n         */\n        public getTips(party: any, ln: string, topic: string, callback ?: (...args) => void) {\n\n            this.pipTipData.readTips({},\n                (result) => {\n                    this.filterTips(result.data, topic);\n\n                    if (callback) {\n                        callback(this.tips);\n                    }\n\n                    return this.tips;\n                },\n                () => {\n                    return null;\n                }\n            );\n        }\n    }\n\n    angular.module('pipTips.Service', ['pipGuidance.Templates', 'pipControls', 'pipTipData'])\n        .service('pipTips', TipsService);\n}","(function(module) {\ntry {\n  module = angular.module('pipGuidance.Templates');\n} catch (e) {\n  module = angular.module('pipGuidance.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('guidance/GuidanceDialog.html',\n    '<md-dialog class=\"pip-dialog pip-guidance-dialog layout-column\" width=\"768\" md-theme=\"{{$ctrl.theme}}\"><div class=\"pip-header layout-row\"><h3 class=\"rm16 flex\">{{$ctrl.title | translate}}</h3><md-button class=\"pip-dialog-close\" ng-click=\"$ctrl.onCancel()\" aria-label=\"{{::\\'CLOSE\\' | translate}}\"><span class=\"icon-cross\"></span></md-button></div><div class=\"pip-body\"><div class=\"pip-content\"><pip-picture pip-src=\"$ctrl.imageUrl\" ng-hide=\"!$ctrl.imageUrl || $ctrl.imageUrl == \\'\\'\" class=\"bm16 center-block\" ng-style=\"{ width: $ctrl.imageWidth, height: $ctrl.imageHeight, display: \\'block\\' }\"></pip-picture><div class=\"bm16\" ng-bind-html=\"{{$ctrl.getContent($ctrl.content)}}\"></div><md-button class=\"md-raised md-accent w-stretch\" ng-click=\"$ctrl.onAction()\" ng-hide=\"!$ctrl.action || $ctrl.action==\\'\\'\" arial-label=\"{{$ctrl.action | translate}}\">{{::action | translate}}</md-button><md-checkbox aria-label=\"{{\\'DO_NOT_SHOW\\' | translate}}\" class=\"w-stretch m0 tm16 regular_14\" ng-model=\"$ctrl.hideToggle\" ng-change=\"$ctrl.onHideToggle()\" ng-show=\"$ctrl.showHideToggle\">{{::\\'GUIDANCE_DO_NOT_SHOW\\' | translate}}</md-checkbox></div></div></md-dialog>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipGuidance.Templates');\n} catch (e) {\n  module = angular.module('pipGuidance.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('intro_guidance/IntroGuidanceDialog.html',\n    '<md-dialog class=\"pip-dialog pip-guidance-dialog pip-guide-preview layout-column\" md-theme=\"{{$ctrl.theme}}\" ng-keydown=\"$ctrl.onKeyDown($event)\"><div ng-if=\"!$ctrl.$routing\" ng-swipe-left=\"$ctrl.onNextPage()\" ng-swipe-right=\"$ctrl.onBackPage()\" class=\"h-stretch flex layout layout-column\" ng-style=\"{\\'background-color\\':$ctrl.data.pages[$ctrl.number].color}\"><div class=\"layout layout-row layout-align-space-between-center layout-align-xs-center-center w-stretch pip-guide-page pip-scroll-y\"><md-button ng-click=\"$ctrl.onBackPage()\" class=\"md-icon-button lm8 flex-fixed hide-xs\" aria-label=\"BACK\" ng-disabled=\"$ctrl.transaction.busy() || $ctrl.number == 0\"><md-icon md-svg-icon=\"icons:arrow-left\" class=\"pip-arrow-button\" ng-class=\"{\\'opacity-disabled\\' :$ctrl.number == 0}\"></md-icon></md-button><div style=\"visibility: hidden; position: fixed; width:0px; height: 0px;\" ng-if=\"$ctrl.isOpen\"><div ng-repeat=\"page in $ctrl.data.pages\"><img style=\"visibility: hidden; position: absolute\" ng-if=\"page.pic_uri\" src=\"{{page.pic_uri}}\" aria-hidden=\"true\" alt=\"\"> <img style=\"visibility: hidden; position: absolute\" ng-if=\"page.pic_id_url\" src=\"{{page.pic_id_url}}\" aria-hidden=\"true\" alt=\"\"></div></div><div class=\"layout layout-column layout-align-center-center bm16\"><div class=\"pip-pic\" ng-if=\"$ctrl.data.pages[$ctrl.number].pic_uri\" ng-style=\"{\\'background-image\\':\\'url(\\' + $ctrl.data.pages[$ctrl.number].pic_uri + \\')\\'}\"></div><div class=\"pip-pic\" ng-if=\"$ctrl.data.pages[$ctrl.number].pic_id_url\" ng-style=\"{\\'background-image\\':\\'url(\\' + $ctrl.data.pages[$ctrl.number].pic_id_url + \\')\\'}\"></div><div class=\"layout layout-column layout-align-center-center pip-text\"><p class=\"pip-preview-title\" ng-if=\"$ctrl.data.pages[$ctrl.number].title[$ctrl.ln]\" ng-bind-html=\"$ctrl.data.pages[$ctrl.number].title[$ctrl.ln]\"></p><p class=\"pip-preview-content\" ng-if=\"$ctrl.data.pages[$ctrl.number].content[$ctrl.ln]\" ng-bind-html=\"$ctrl.data.pages[$ctrl.number].content[$ctrl.ln]\"></p></div></div><md-button ng-click=\"$ctrl.onNextPage()\" class=\"rm8 flex-fixed hide-xs md-icon-button\" aria-label=\"DOWN\" ng-disabled=\"$ctrl.transaction.busy() || $ctrl.number == $ctrl.data.pages.length - 1\"><md-icon md-svg-icon=\"icons:arrow-right\" class=\"pip-arrow-button\" ng-class=\"{\\'opacity-disabled\\' : $ctrl.number == $ctrl.data.pages.length - 1}\"></md-icon></md-button></div><div class=\"flex-fixed flex w-stretch pip-guide-page-footer bp16\" ng-style=\"{\\'background-color\\':$ctrl.data.pages[$ctrl.number].color}\"><div class=\"layout-row layout-align-center-center\" ng-if=\"$ctrl.data.pages.length > 1\"><md-icon ng-repeat=\"radio in $ctrl.data.pages\" ng-click=\"$ctrl.onChangePage($index)\" class=\"pip-radio-button\" md-svg-icon=\"{{radio != $ctrl.data.pages[$ctrl.number] ? \\'icons:radio-off\\' : \\'icons:circle\\'}}\"></md-icon></div><div class=\"h64 layout-row layout-align-xs-space-between-center layout-align-center-center\"><md-button ng-click=\"$ctrl.onBackPage()\" class=\"lm8 flex-fixed md-icon-button\" ng-if=\"$ctrl.pipMedia(\\'xs\\')\" aria-label=\"BACK\" ng-disabled=\"$ctrl.transaction.busy() || $ctrl.number == 0\"><md-icon md-svg-icon=\"icons:arrow-left\" class=\"pip-arrow-button\" ng-class=\"{\\'opacity-disabled\\' :$ctrl.number == 0}\"></md-icon></md-button><md-button ng-click=\"$ctrl.onClose()\" ng-if=\"$ctrl.number == $ctrl.data.pages.length - 1\" class=\"pip-button-got rm8 lm8 md-raised\" ng-style=\"{ \\'color\\':$ctrl.data.pages[$ctrl.number].color }\" aria-label=\"NEXT\" ng-disabled=\"$ctrl.transaction.busy()\">{{ :: \\'GUIDE_COMPLETE_BUTTON\\' | translate }}</md-button><md-button ng-click=\"$ctrl.onClose()\" ng-if=\"$ctrl.number != $ctrl.data.pages.length - 1\" class=\"pip-button-got rm8 lm8 pip-button-got-not-raised\" ng-style=\"{ \\'background-color\\':$ctrl.data.pages[$ctrl.number].color}\" aria-label=\"NEXT\" ng-disabled=\"$ctrl.transaction.busy()\">{{ :: \\'GUIDE_COMPLETE_BUTTON\\' | translate }}</md-button><md-button ng-click=\"$ctrl.onNextPage()\" class=\"rm8 flex-fixed md-icon-button\" ng-if=\"$ctrl.pipMedia(\\'xs\\')\" aria-label=\"DOWN\" ng-disabled=\"$ctrl.transaction.busy() || $ctrl.number == $ctrl.data.pages.length - 1\"><md-icon md-svg-icon=\"icons:arrow-right\" class=\"pip-arrow-button\" ng-class=\"{\\'opacity-disabled\\' : $ctrl.number == $ctrl.data.pages.length - 1}\"></md-icon></md-button></div></div></div></md-dialog>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipGuidance.Templates');\n} catch (e) {\n  module = angular.module('pipGuidance.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('quotes/QuoteTemplate.html',\n    '<img src=\"images/quotes.svg\" class=\"pip-bg\"><div class=\"pip-content pip-popover-content lp24-flex rp24-flex pip-scroll\"><div>{{ ::content | translate }}</div></div><div class=\"pip-footer lm24-flex rm24-flex position-bottom layout-row layout-align-start-center\"><div class=\"pip-author flex color-secondary-text\">{{ ::author | translate }}</div><md-button ng-click=\"onNextClick()\" class=\"tm0 bm0 rm0\">{{ ::\\'NEXT\\' | translate }}</md-button></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipGuidance.Templates');\n} catch (e) {\n  module = angular.module('pipGuidance.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('tips/TipTemplate.html',\n    '<div ng-if=\"title\" class=\"pip-title p24-flex flex-fixed bp16\">{{ title | translate }}</div><div class=\"pip-content pip-popover-content lp24-flex rp24-flex text-body1 bm64 pip-scroll\" ng-class=\"{\\'tm24\\' : !title }\"><div ng-if=\"image && pipMedia(\\'gt-xs\\')\" class=\"pip-pic\"></div><pip-markdown pip-text=\"content\" pip-rebind=\"true\"></pip-markdown></div><div class=\"pip-footer lm24-flex rm24-flex position-bottom layout-row layout-align-start-center\"><a ng-if=\"link\" target=\"_blank\" href=\"{{ link }}\" class=\"text-body2 flex\">{{:: \\'MORE_URL\\' | translate }}</a><div ng-if=\"!link\" class=\"flex\"></div><md-button ng-click=\"onNextClick()\" class=\"rm0\">{{:: \\'NEXT\\' | translate }}</md-button></div>');\n}]);\n})();\n\n//# sourceMappingURL=pip-suite-guidance-html.min.js.map\n","import { IAnalyticsProvider } from './IAnalyticsProvider';\n\nclass AnalyticsProvider implements IAnalyticsProvider {\n    public enabled: boolean = false;\n    public trackingId: string = null;\n    public window: any;\n\n    public enable(newTrackingId: string): boolean {\n        if (newTrackingId) {\n            this.trackingId = newTrackingId;\n            this.enabled = true;\n\n            let wnd: any = window;\n            wnd['GoogleAnalyticsObject'] = 'ga';\n            wnd.ga = wnd.ga || function () {\n                (wnd.ga.q = wnd.ga.q || []).push(arguments)\n            };\n            wnd.ga.l = 1 * new Date().getTime();\n\n            wnd.ga('create', newTrackingId, 'auto');\n            var script = document.createElement('script');\n            var prevScript = document.getElementsByTagName('script')[0];\n            script.async = true;\n            script.src = '//www.google-analytics.com/analytics.js';\n            prevScript.parentNode.insertBefore(script, prevScript);\n        }\n        return this.enabled;\n    };\n\n    public pageView(url: string, user: any, language: string): void {\n        let wnd: any = window;\n\n        if (this.enabled && wnd.ga) {\n            wnd.ga('send', 'pageview', {\n                page: url,\n                userId: user,\n                language: language\n            });\n        }\n    };\n\n    public event(category: string, action: string, value: string, user: any, language: string) {\n        let wnd: any = window;\n       \n        if (this.enabled && wnd.ga) {\n            wnd.ga('send', 'event', {\n                eventCategory: category,\n                eventAction: action,\n                eventValue: value,\n                userId: user,\n                language: language\n            });\n        }\n    };\n\n    public $get() {\n        \"ngInject\";\n        return {\n            enabled: this.enabled,\n            trackingId: this.trackingId,\n            pageView: this.pageView,\n            event: this.event\n        };\n    }\n}\n\n\n(() => {\n    function AnalyticsRun(\n        $rootScope: ng.IRootScopeService,\n        $location: ng.ILocationService,\n        pipAnalytics: AnalyticsProvider) {\n        $rootScope.$on('$stateChangeSuccess',\n            function (event, toState, toParams, fromState, fromParams) {\n                let url: string = $location.url(),\n                    user = $rootScope['$session'] && $rootScope['$session'].userId ? $rootScope['$session'].userId : ($rootScope['$identity'] || {}).id, \n                    language: string = ($rootScope['$language'] || 'en');\n\n                // Remove query parameters from URL\n                let pos: number = url.indexOf('?');\n                if (pos > 0) url = url.substring(0, pos);\n\n                // Record web analytics (if enabled)\n                pipAnalytics.pageView(url, user, language);\n            }\n        );\n    }\n    angular.module('pipAnalytics', [])\n        .run(AnalyticsRun)\n        .provider('pipAnalytics', AnalyticsProvider);\n})();","import { PartyReference } from './PartyReference';\nimport { Attachment } from './Attachment';\n\nexport class Feedback {\n\n    public constructor(id: string, category: string, app?: string,\n        sender?: PartyReference, title?: string, content?: string, sent_time?: Date) {\n        this.id = id;\n        this.category = category;\n        this.app = app;\n        this.sender = sender;\n        this.title = title;\n        this.content = content;\n\n        this.pics = [];\n        this.docs = [];\n        this.sent_time = sent_time;\n    }\n\n    /* Identification */\n    public id: string;\n    public category: string;\n    public app?: string;\n\n    /* Generic request properties */\n    public sender: PartyReference;\n    public sent_time: Date;\n\n    /* Common properties */\n    public title?: string;\n    public content?: string;\n    public pics: Attachment[];\n    public docs: Attachment[];\n\n    /* Copyright/Trademark Violation */\n    public company_name?: string;\n    public company_addr?: string;\n    public copyright_holder?: string;\n    public original_loc?: string;\n    public copyrighted_work?: string;\n    public unauth_loc?: string;\n\n    /* Generic reply properties */\n    public reply_time?: Date;\n    public replier?: PartyReference;\n    public reply?: string;\n\n    /* Custom fields */\n    public custom_hdr?: any;\n    public custom_dat?: any;\n}\n","import { IFeedbackDataService } from './IFeedbackDataService';\nimport { Feedback } from './Feedback';\nimport { PageData } from './PageData';\n\nclass FeedbackData implements IFeedbackDataService {\n    private RESOURCE: string = 'feedbacks'; \n\n    private PAGE_SIZE: number = 100;\n    private PAGE_START: number = 0;\n    private PAGE_TOTAL: boolean = true;\n\n    constructor(\n        private pipRest: pip.rest.IRestService,\n        private pipFormat: pip.services.IFormat\n    ) { \n         \"ngInject\";\n    }\n\n    public readFeedbacks(params: any, successCallback?: (data: PageData) => void, errorCallback?: (error: any) => void): angular.IPromise<any> {\n        params = params || {};\n        if (params.filter) {\n            params.filer = this.pipFormat.filterToString(params.filer);\n        }\n\n        return this.pipRest.getResource(this.RESOURCE).page(params, successCallback, errorCallback);\n    }\n\n    public readFeedback(id: string, successCallback?: (data: Feedback) => void, errorCallback?: (error: any) => void): angular.IPromise<any> {\n        return this.pipRest.getResource(this.RESOURCE).get(\n            { Feedback_id: id },\n            successCallback,\n            errorCallback\n        );\n    }\n\n    public createFeedback(data: Feedback, successCallback?: (data: Feedback) => void, errorCallback?: (error: any) => void): void {\n        this.pipRest.getResource(this.RESOURCE).save(\n            data,\n            successCallback,\n            errorCallback\n        );\n    }\n\n    public updateFeedback(id: string, data: Feedback, successCallback?: (data: Feedback) => void, errorCallback?: (error: any) => void): void {\n        this.pipRest.getResource(this.RESOURCE).update(\n            { Feedback_id: id },\n            data,\n            successCallback,\n            errorCallback\n        );\n    }\n\n    public deleteFeedback(id: string, successCallback?: () => void, errorCallback?: (error: any) => void): void {\n        this.pipRest.getResource(this.RESOURCE).remove(\n            { Feedback_id: id },\n            null,\n            successCallback,\n            errorCallback\n        );\n    }\n\n}\n\n\nangular\n    .module('pipFeedbackData', ['pipRest', 'pipServices'])\n    .service('pipFeedbackData', FeedbackData);\n\n","class FeedbackController {\n    public data: any;\n    public contentSwitchOption = {\n        picture: true,\n        document: true,\n        location: false,\n        event: false\n    };\n    public $panel: any;\n    public callback: Function;\n    constructor(\n        $rootScope: ng.IRootScopeService,\n        $state: ng.ui.IStateService,\n        pipAppBar: pip.nav.IAppBarService,\n        private pipToasts: pip.controls.IToastService,\n        private pipTranslate: pip.services.ITranslateService) {\n        \n        this.callback = () => { this.saveCallback(); }\n    }\n\n    public showAppBar() {\n    }\n\n    public onSave() {\n        if (this.$panel) this.$panel.onSave();\n    }\n    public onTypeChange() {\n        if (this.$panel) this.$panel.onTypeChange(this.data);\n    }\n\n    public saveCallback() {\n        this.pipToasts.showNotification(this.pipTranslate.translate('FEEDBACK_SUCCESS'), null, null, null, null);\n    }\n}\n\n(() => {\n    function FeedbackConfig(pipAuthStateProvider) {\n        // Configure module routes\n        pipAuthStateProvider\n            .state('feedback', {\n                url: '/feedback',\n                controller: FeedbackController,\n                controllerAs: '$ctrl',\n                templateUrl: 'feedback/Feedback.html',\n                auth: true\n            });\n    }\n\n    angular.module('pipFeedback', [\n        'pipAppBar', 'pipServices', 'pipCommonRest', 'pipFeedbackData', 'pipDropdown',\n        'ngMaterial', 'pipTranslate', 'pipFeedbackData', 'pipToasts',\n        'pipFeedback.Strings', \"pipFeedbackPanel\", 'pipSupport.Templates'\n    ])\n        .config(FeedbackConfig)\n\n})();","import { IFeedbackDialogService } from './IFeedbackDialogService';\n\n{\n    class FeedbackDialogController {\n        public $panel: any;\n        public data: any;\n        public callback: Function;\n        public contentSwitchOption = {\n            picture: true,\n            document: true,\n            location: false,\n            event: false\n        };\n        constructor(\n            $rootScope: ng.IRootScopeService,\n            $state: ng.ui.IState,\n            party,\n            private $mdDialog: angular.material.IDialogService,\n            private pipToasts: pip.controls.IToastService,\n            private pipTranslate: pip.services.ITranslateService) {\n            this.callback = () => {\n                this.saveCallback();\n            }\n        }\n\n        public onSave() {\n            if (this.$panel) {\n                this.$panel.onSave();\n\n            }\n        }\n\n        public onTypeChange() {\n            if (this.$panel) {\n                this.$panel.onTypeChange(this.data);\n            }\n        }\n\n        public saveCallback() {\n            this.$mdDialog.cancel();\n            this.pipToasts.showNotification(this.pipTranslate.translate('FEEDBACK_SUCCESS'), null, null, null, null);\n        }\n\n        public goBack() {\n            this.$mdDialog.cancel();\n        }\n    }\n\n    class FeedbackDialogService implements IFeedbackDialogService {\n        constructor(private $mdDialog: angular.material.IDialogService) { };\n\n        public show(params: any, successCallback?: (result) => void, cancelCallback?: () => void) {\n\n            this.$mdDialog.show({\n                targetEvent: params.event,\n                controller: FeedbackDialogController,\n                templateUrl: 'feedback/FeedbackDialog.html',\n                clickOutsideToClose: true,\n                controllerAs: '$ctrl',\n                locals: {\n                    party: params.party\n                }\n            })\n                .then((result) => {\n\n                    if (successCallback) {\n                        successCallback(result);\n                    }\n                }, () => {\n\n                    if (cancelCallback) {\n                        cancelCallback();\n                    }\n                });\n        }\n    }\n\n\n    angular.module('pipFeedbackDialog', [\n        'pipAppBar', 'pipCommonRest', 'pipDropdown',\n        'ngMaterial', 'pipTranslate', 'pipFeedbackData', 'pipToasts',\n        'pipFeedback.Strings', 'pipFeedbackPanel', 'pipSupport.Templates'\n    ])\n        .service('pipFeedbackDialog', FeedbackDialogService)\n\n\n}\n","interface IFeedbackPanelBindings {\n    [key: string]: any;\n\n    data: any;\n    created: any;\n    showPictures: any;\n    showDocuments: any;\n    typeCollection: any;\n    saveCallback: any;\n}\n\nconst FeedbackPanelBindings: IFeedbackPanelBindings = {\n\n    data: '=',\n    created: '&pipCreated',\n    showPictures: '=',\n    showDocuments: '=',\n    typeCollection: '<typeCollection',\n    saveCallback: '='\n}\n\nclass FeedbackPanelChanges implements ng.IOnChangesObject, IFeedbackPanelBindings {\n    [key: string]: ng.IChangesObject<any>;\n\n    data: ng.IChangesObject<FeedbackPanelEntity>;\n    created: ng.IChangesObject<any>;\n    showPictures: ng.IChangesObject<boolean>;\n    showDocuments: ng.IChangesObject<boolean>;\n    typeCollection: ng.IChangesObject<FeedbackPanelTypeCollection[]>;\n    saveCallback: ng.IChangesObject<Function>;\n\n}\n\n\nclass FeedbackPanelEntity {\n    public sender_id: string;\n    public sender_name: string;\n    public sender_email: string;\n    public pic_ids: any[] = [];\n    public docs: any[] = [];\n    public type: string;\n    public signature?: string;\n    public request_conc?: boolean;\n    public copyright_conc?: boolean;\n    public unauth_loc?: string;\n    public copyrighted_work?: string;\n    public original_loc?: string;\n    public copyright_holder?: string;\n    public company_addr?: string;\n    public company_name?: string;\n    public content?: string;\n    public title?: string;\n}\n\nclass FeedbackPanelTypeCollection {\n    public id: string;\n    public name: string;\n}\n\nclass FeedbackPanelController {\n    public form: any;\n    // todo from enums\n    public typeCollection: FeedbackPanelTypeCollection[] = [\n        { id: 'support', name: 'SUPPORT' },\n        { id: 'feedback', name: 'FEEDBACK' },\n        { id: 'copyright', name: 'COPYRIGHT' },\n        { id: 'business', name: 'BUSINESS' },\n        { id: 'advertising', name: 'ADVERTISING' }\n    ];\n    public type: string;\n    public data: FeedbackPanelEntity = new FeedbackPanelEntity();\n    public showPictures: boolean;\n    public showDocuments: boolean;\n    public saveCallback: Function;\n    public $control: any = {};  // todo type\n    public typeIndex: number; // todo type\n    public pictures: any[] = [];  // todo type\n    public docs: any[] = []; // todo type\n    public errorsWithHint: Function;\n    public $party;\n    public created: any;\n    constructor(\n        $rootScope: ng.IRootScopeService,\n        private pipFeedbackData,\n        pipTranslate: pip.services.ITranslateService,\n        pipFormErrors) {\n\n        pipTranslate.translateObjects(this.typeCollection, 'name', 'name');\n        // todo use rootscope variable\n        this.$party = $rootScope['$party'];\n        this.type = pipTranslate.translate('FEEDBACK');\n        this.data.sender_id = this.$party.id;\n        this.data.sender_name = this.$party.name;\n        this.data.sender_email = this.$party.email;\n        this.data.pic_ids = [];\n        this.data.docs = [];\n        this.data.type = this.typeCollection[0].id;\n\n        this.$control.onSave = () => { this.onSave(); };\n        this.$control.onTypeChange = this.onTypeChange;\n        this.errorsWithHint = pipFormErrors.errorsWithHint;\n        if (this.created) {\n            this.created({\n                $control: this.$control\n            });\n        }\n\n    }\n\n    public onSave() {\n\n        this.pipFeedbackData.createFeedbackWithFiles(\n            {\n                transaction: null,//$scope.transaction,\n                pictures: this.pictures,\n                documents: this.docs,\n                item: this.data\n            },\n            (data) => {\n                if (this.saveCallback) {\n                    this.saveCallback(data);\n                }\n            }\n\n        );\n    }\n\n    public onTypeChange(type: FeedbackPanelTypeCollection) {\n        this.data.type = this.typeCollection[this.typeIndex].id;\n        this.type = type.name;\n    }\n}\n\n(() => {\n    angular\n        .module('pipFeedbackPanel', [\n            'pipFocused',\n            'pipCommonRest',\n            'pipFeedbackData',\n            'pipServices',\n            'pipSupport.Templates'\n        ])\n        .component('pipFeedbackPanel', {\n            bindings: FeedbackPanelBindings,\n            templateUrl: 'feedback/FeedbackPanel.html',\n            controller: FeedbackPanelController\n        })\n\n})();\n","(() => {\n    function FeedbackStringsConfig (pipTranslateProvider: pip.services.ITranslateProvider) {\n\n        // Set translation strings for the module\n        pipTranslateProvider.translations('en', {\n            'FEEDBACK_TITLE': 'Contact us',\n            'FEEDBACK_HINT_FEEDBACK': 'If you need help or you have some ideas or suggestions to improve Pip.Life just use form below',\n            'FEEDBACK_HINT_COPYRIGHT': 'If you believe that content available on Pip.Life infringes one or more of your copyrights, you can use the form below to submit a DMCA notice. Upon receipt of a valid notice, we are required by law to respond to it by disabling access to the allegedly infringing content. Your Infringement Notice may be forwarded to the party that made the content available, or to third parties such as ChillingEffects.org.',\n            'FEEDBACK_HINT_COPYRIGHT2': 'If you choose to request removal of content by submitting an infringement notification, please remember that you are initiating a legal process. Do not make false claims. Please be advised that under 17 U.S.C. § 512(f), you may be liable for damages (including costs and attorneys’ fees) if you knowingly misrepresent that a product or activity is infringing your copyrights. Thus, if you are not sure content located on or linked-to by Dribbble infringes your copyright, you should consider first contacting an attorney.',\n            'FEEDBACK_COMPANY': 'Company name',\n            'FEEDBACK_MESSAGE': 'Message',\n            'FEEDBACK_ADDRESS': 'Address',\n            'FEEDBACK_COPYRIGHT_HOLDER': 'Copyright holder you represent',\n            'FEEDBACK_COPYRIGHT_HOLDER_HINT': 'If representing someone other than yourself',\n            'FEEDBACK_ORIGINAL_LOCATION': 'Location of original copyrighted work',\n            'FEEDBACK_DESCRIBE_COPYRIGHTED': 'Describe the copyrighted work',\n            'FEEDBACK_DESCRIBE_COPYRIGHTED_HINT': 'Helps us identify the specific referenced work',\n            'FEEDBACK_UNAUTHORIZE_LOCATION': 'Location of unauthorized material',\n            'FEEDBACK_UNAUTHORIZE_LOCATION_HINT': 'Please provide specific page URLs, one per line',\n            'FEEDBACK_COPYRIGHT_CONC': 'I have a good faith belief that use of the copyrighted materials described above as allegedly infringing is not authorized by the copyright owner, its agent, or the law',\n            'FEEDBACK_REGUEST_CONC': 'I swear, under penalty of perjury, that the information in the notification is accurate and that I am the copyright owner or am authorized to act on behalf of the owner of an exclusive right that is allegedly infringed.',\n            'FEEDBACK_SIGNATURE': 'You first and last name',\n            'FEEDBACK_SIGNATURE_HINT': 'Signature',\n            'FEEDBACK_SUBJECT':'Subject',\n            'FEEDBACK_SUCCESS': 'Your message was sent to Pip.Life support team. They will contact you via personal messaging soon. Thanks for your interest in PipLife!'\n        });\n\n        pipTranslateProvider.translations('ru', {\n            'FEEDBACK_TITLE': 'Обратная связь',\n            'FEEDBACK_HINT_FEEDBACK': 'Если Вам нужна помощь или у вас есть идеи или предложения по улучшению Pip.Life используйте рассположенную ниже форму',\n            'FEEDBACK_HINT_COPYRIGHT': 'Если вы считаете, что контент, доступный на Pip.Life нарушает одно или более ваших авторских прав, вы можете использовать форму ниже, чтобы представить уведомление DMCA. После получения уведомления, мы по закону обязаны ответить на него, отключив доступ к контенту, который предположительно нарушает авторские права. Уведомление может быть направлено со стороны, представившей контент или третьих сторон, таких как ChillingEffects.org.',\n            'FEEDBACK_HINT_COPYRIGHT2': 'Если вы решите запросить удаление содержания, подав уведомление о нарушении, пожалуйста, помните, что вы инициируете судебный процесс. Пожалуйста, обратите внимание, что исодя из статьи 17 U.S.C. § 512 (F), вы можете нести ответственность за убытки (включая расходы и гонорары адвокатам), если вы сознательно искажаете действительность, что продукт или деятельность нарушает ваши авторские права. Таким образом, если вы не уверены, что содержание, расположенное на PipLife нарушает Ваши авторские права посоветуйтесь с адвокатом.',\n            'FEEDBACK_COMPANY': 'Название компании',\n            'FEEDBACK_MESSAGE': 'Сообщение',\n            'FEEDBACK_ADDRESS': 'Адрес',\n            'FEEDBACK_COPYRIGHT_HOLDER': 'Владелец авторского права',\n            'FEEDBACK_COPYRIGHT_HOLDER_HINT': 'Заполните поле, если Вы  представляете кого-то кроме себя',\n            'FEEDBACK_ORIGINAL_LOCATION': 'Расположение оригинальной авторской работы',\n            'FEEDBACK_DESCRIBE_COPYRIGHTED': 'Опишите авторские права на произведение',\n            'FEEDBACK_DESCRIBE_COPYRIGHTED_HINT': 'Это поможет нам идентифицировать ссылки на работу',\n            'FEEDBACK_UNAUTHORIZE_LOCATION': 'Расположение несанкционированного материала',\n            'FEEDBACK_UNAUTHORIZE_LOCATION_HINT': 'Пожалуйста, укажите конкретную страницу URL, по одной в строке',\n            'FEEDBACK_COPYRIGHT_CONC': 'У меня есть добросовестное предположение, что использование защищенных авторским правом материалов, описанных выше, в качестве якобы нарушает авторские права, не разрешено владельцем авторского права, его агентом или законом',\n            'FEEDBACK_REGUEST_CONC': 'Я клянусь под страхом наказания за лжесвидетельство, что содержащаяся в уведомлении информация верна и что я являюсь владельцем авторского права или имею право действовать от имени владельца эксклюзивных прав, которые якобы нарушены.',\n            'FEEDBACK_SIGNATURE': 'Ваше имя и фамилия',\n            'FEEDBACK_SIGNATURE_HINT': 'Подпись',\n            'FEEDBACK_SUBJECT':'Заголовок',\n            'FEEDBACK_SUCCESS': 'Ваш запрос передан команде технической поддержки Pip.Life. C вами свяжутся в ближайшее время по электронной почте. Спасибо за ваш интерес и поддержку PipLife.'\n        });\n\n    }\n    angular.module('pipFeedback.Strings', ['pipTranslate'])\n        .config(FeedbackStringsConfig);\n\n})();","import './IFeedbackDialogService';\nimport './Feedback';\nimport './FeedbackDialog';\nimport './FeedbackPanel';\nimport './FeedbackStrings';\n\nexport * from './IFeedbackDialogService';","\n// configured Rest resource\nfunction pipFeedbackDataConfig(pipRestProvider: pip.rest.IRestProvider) {\n    pipRestProvider.registerPartyCollection('feedbacks', '/api/1.0/feedbacks/:id');\n}\n\n        // this.registerRoute('get', '/feedbacks', this.getFeedbacks);\n        // this.registerRoute('get', '/feedbacks/:feedback_id', this.getFeedback);\n        // this.registerRouteWithAuth('post', '/feedbacks', this._auth.signed(), this.sendFeedback);\n        // this.registerRouteWithAuth('put', '/feedbacks/:feedback_id', this._auth.admin(), this.replyFeedback);\n        // this.registerRouteWithAuth('del', '/feedbacks/:feedback_id', this._auth.admin(), this.deleteFeedback);\n\n\nangular\n    .module('pipFeedbackData')\n    .config(pipFeedbackDataConfig);","(function(module) {\ntry {\n  module = angular.module('pipSupport.Templates');\n} catch (e) {\n  module = angular.module('pipSupport.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('feedback/Feedback.html',\n    '<md-toolbar class=\"pip-appbar-ext\"></md-toolbar><pip-document width=\"800\"><pip-feedback-panel data=\"$ctrl.data\" pip-created=\"$ctrl.$panel = $control\" show-pictures=\"$ctrl.showPictures\" show-documents=\"$ctrl.showDocuments\" save-callback=\"$ctrl.callback\" type-collection=\"$ctrl.typeCollection\"></pip-feedback-panel><div class=\"pip-footer\"><pip-content-switch class=\"hide-xs\"></pip-content-switch><div class=\"flex\"></div><div class=\"flex-fixed layout-row\"><md-button ng-show=\"$ctrl.transaction.busy()\" ng-click=\"$ctrl.transaction.abort()\" class=\"md-raised md-warn\">{{::\\'CANCEL\\' | translate}}</md-button><md-button ng-hide=\"$ctrl.transaction.busy()\" ng-click=\"$ctrl.goBack()\">{{::\\'CANCEL\\' | translate}}</md-button><md-button class=\"md-accent\" ng-hide=\"$ctrl.transaction.busy()\" ng-click=\"$ctrl.onSave()\" ng-disabled=\"$ctrl.data.content == \\'\\' && $ctrl.data.title == \\'\\'\">{{::\\'SEND\\' | translate}}</md-button></div></div></pip-document>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipSupport.Templates');\n} catch (e) {\n  module = angular.module('pipSupport.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('feedback/FeedbackDialog.html',\n    '<md-dialog width=\"800\" class=\"pip-feedback-dialog\"><md-dialog-content class=\"lp24-flex rp24-flex\"><pip-feedback-panel data=\"$ctrl.data\" pip-created=\"$ctrl.$panel = $control\" show-pictures=\"$ctrl.showPictures\" show-documents=\"$ctrl.showDocuments\" save-callback=\"$ctrl.callback\" type-collection=\"$ctrl.typeCollection\"></pip-feedback-panel></md-dialog-content><md-dialog-actions class=\"layout-row\"><pip-content-switch class=\"show-gt-sm\"></pip-content-switch><div class=\"flex\"></div><div class=\"layout-row flex-fixed\"><md-button ng-show=\"$ctrl.transaction.busy()\" ng-click=\"$ctrl.transaction.abort()\" class=\"md-raised md-warn\">{{::\\'CANCEL\\' | translate}}</md-button><md-button ng-hide=\"$ctrl.transaction.busy()\" ng-click=\"$ctrl.goBack()\">{{::\\'CANCEL\\' | translate}}</md-button><md-button class=\"md-accent rm8\" ng-hide=\"$ctrl.transaction.busy()\" ng-click=\"$ctrl.onSave()\" ng-disabled=\"$ctrl.data.content == \\'\\' && $ctrl.data.title == \\'\\'\">{{::\\'SEND\\' | translate}}</md-button></div></md-dialog-actions></md-dialog>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipSupport.Templates');\n} catch (e) {\n  module = angular.module('pipSupport.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('feedback/FeedbackPanel.html',\n    '<div class=\"pip-body tp24-flex\"><div class=\"pip-content layout-column\"><md-progress-linear ng-show=\"$ctrl.transaction.busy()\" md-mode=\"indeterminate\" class=\"pip-progress-ontop\"></md-progress-linear><form name=\"form\" novalidate=\"\"><md-input-container class=\"md-block hide-gt-xs\"><md-select ng-model=\"typeIndex\" ng-disabled=\"$ctrl.transaction.busy()\" aria-label=\"DROPDOWN\"><md-option ng-repeat=\"action in $ctrl.typeCollection\" value=\"{{ ::$index }}\">{{ (action.title || action.name) | translate }}</md-option></md-select></md-input-container><pip-toggle-buttons ng-model=\"$ctrl.data.type\" pip-buttons=\"$ctrl.typeCollection\" class=\"bm16 hide-xs\"></pip-toggle-buttons><p class=\"tm0 bm16 text-small text-grey line-height-string\" ng-if=\"$ctrl.data.type == \\'feedback\\' || $ctrl.data.type == \\'support\\'\">{{::\\'FEEDBACK_HINT_FEEDBACK\\' | translate}}</p><div ng-if=\"$ctrl.data.type == \\'copyright\\'\"><p class=\"tm0 bm16 text-small text-grey line-height-string\">{{::\\'FEEDBACK_HINT_COPYRIGHT\\' | translate}}</p><p class=\"tm0 bm16 text-small text-grey line-height-string\">{{::\\'FEEDBACK_HINT_COPYRIGHT2\\' | translate }}</p></div><div class=\"pip-ref-item\"><pip-avatar pip-party-id=\"$ctrl.$party.id\" pip-party-name=\"$ctrl.$party.name\" class=\"pip-pic pip-face\"></pip-avatar><div class=\"pip-content\"><p class=\"pip-title\">{{$ctrl.$party.name}}</p><p class=\"pip-subtitle\">{{$ctrl.$party.email}}</p></div></div><div ng-if=\"$ctrl.data.type!=\\'copyright\\'\"><md-input-container class=\"md-block\" md-no-float=\"\"><input type=\"text\" ng-model=\"$ctrl.data.title\" ng-disabled=\"$ctrl.transaction.busy()\" placeholder=\"{{:: \\'SUBJECT\\' | translate}}\"></md-input-container><md-input-container class=\"md-block\" md-no-float=\"\"><textarea ng-model=\"$ctrl.data.content\" ng-disabled=\"$ctrl.transaction.busy()\" placeholder=\"{{::\\'FEEDBACK_MESSAGE\\'|translate}}\">\\n' +\n    '                        </textarea></md-input-container></div><div ng-if=\"$ctrl.data.type==\\'copyright\\'\"><md-input-container class=\"md-block\"><label>{{::\\'FEEDBACK_COMPANY\\'|translate}}</label> <input type=\"text\" ng-model=\"$ctrl.data.company_name\" ng-disabled=\"$ctrl.transaction.busy()\" placeholder=\"Company Name\"></md-input-container><md-input-container class=\"md-block\"><label>{{::\\'FEEDBACK_ADDRESS\\'|translate}}</label> <input type=\"text\" ng-model=\"$ctrl.data.company_addr\" ng-disabled=\"$ctrl.transaction.busy()\"></md-input-container><md-input-container class=\"md-block\"><label>{{::\\'FEEDBACK_COPYRIGHT_HOLDER\\' | translate}}</label> <input name=\"$ctrl.data.copyright_holder\" ng-model=\"$ctrl.data.copyright_holder\" ng-disabled=\"$ctrl.transaction.busy()\" step=\"any\" type=\"text\" tabindex=\"0\" required=\"\"><div ng-messages=\"$ctrl.errorsWithHint($ctrl.form.data.copyright_holder)\"><div ng-message=\"hint\">{{::\\'FEEDBACK_COPYRIGHT_HOLDER_HINT\\' | translate}}</div></div></md-input-container><md-input-container class=\"md-block flex\"><label>{{::\\'FEEDBACK_ORIGINAL_LOCATION\\'|translate}}</label> <input type=\"text\" ng-model=\"$ctrl.data.original_loc\" ng-disabled=\"$ctrl.transaction.busy()\"></md-input-container><md-input-container class=\"md-block\"><label>{{::\\'FEEDBACK_DESCRIBE_COPYRIGHTED\\' | translate}}</label> <input name=\"$ctrl.data.copyrighted_work\" ng-model=\"$ctrl.data.copyrighted_work\" ng-disabled=\"$ctrl.transaction.busy()\" step=\"any\" type=\"text\" tabindex=\"0\" required=\"\"><div ng-messages=\"$ctrl.errorsWithHint($ctrl.form.data.copyrighted_work)\"><div ng-message=\"hint\">{{::\\'FEEDBACK_DESCRIBE_COPYRIGHTED_HINT\\'| translate}}</div></div></md-input-container><md-input-container class=\"md-block\"><label>{{::\\'FEEDBACK_UNAUTHORIZE_LOCATION\\' | translate}}</label> <textarea name=\"$ctrl.data.unauth_loc\" ng-model=\"$ctrl.data.unauth_loc\" ng-disabled=\"$ctrl.transaction.busy()\" step=\"any\" type=\"text\" tabindex=\"0\" required=\"\"></textarea><div ng-messages=\"$ctrl.errorsWithHint(form.data.unauth_loc)\"><div ng-message=\"hint\">{{::\\'FEEDBACK_UNAUTHORIZE_LOCATION_HINT\\' | translate}}</div></div></md-input-container><div class=\"bm16 layout-row\"><md-checkbox ng-model=\"$ctrl.data.copyright_conc\" class=\"lm0 bm0 flex-fixed\" aria-label=\"FEEDBACK_COPYRIGHT_CONC\" style=\"min-width: 24px; margin-top: -2px\"></md-checkbox><p class=\"m0 text-small text-grey line-height-string\">{{::\\'FEEDBACK_COPYRIGHT_CONC\\'|translate}}</p></div><div class=\"bm16 layout-row\"><md-checkbox ng-model=\"$ctrl.data.request_conc\" class=\"lm0 bm0 flex-fixed\" aria-label=\"FEEDBACK_REGUEST_CONC\" style=\"min-width: 24px; margin-top: -2px\"></md-checkbox><p class=\"m0 text-small text-grey line-height-string\">{{::\\'FEEDBACK_REGUEST_CONC\\'|translate}}</p></div><md-input-container class=\"md-block\"><label>{{::\\'FEEDBACK_SIGNATURE\\' | translate}}</label> <input name=\"$ctrl.data.signature\" ng-model=\"$ctrl.data.signature\" ng-disabled=\"$ctrl.transaction.busy()\" step=\"any\" type=\"text\" tabindex=\"0\" required=\"\"><div ng-messages=\"$ctrl.errorsWithHint($ctrl.form.data.signature)\"><div ng-message=\"hint\">{{::\\'FEEDBACK_SIGNATURE_HINT\\' | translate}}</div></div></md-input-container></div><pip-picture-list-edit class=\"bm8\" ng-show=\"$ctrl.showPictures\" pip-picture-ids=\"$ctrl.data.pic_ids\" pip-created=\"$ctrl.pictures = $event.sender\" ng-disabled=\"$ctrl.transaction.busy()\"></pip-picture-list-edit><pip-document-list-edit ng-show=\"$ctrl.showDocuments\" pip-documents=\"$ctrl.data.docs\" pip-created=\"$ctrl.docs = $event.sender\" ng-disabled=\"$ctrl.transaction.busy()\"></pip-document-list-edit></form></div></div>');\n}]);\n})();\n\n//# sourceMappingURL=pip-suite-support-html.min.js.map\n","declare let google: any;\n\n(() => {\n    'use strict';\n\n    /**\n     * @ngdoc module\n     * @name pipGoogleMaps\n     *\n     * @description\n     * Module with common helper functionality for Google Maps\n     */\n\n    /**\n     * @ngdoc provider\n     * @name pipGoogleMaps\n     */\n    function GoogleMapsProvider() {\n\n        var mapOptions = {\n            mapTypeId: google.maps.MapTypeId.SATELLITE,\n            disableDefaultUI: true,\n            panControl: false,\n            zoomControl: false\n        };\n\n        /**\n         * Getter/setter for Google Maps options.\n         * @param {Object} options @link https://developers.google.com/maps/documentation/javascript/reference#MapOptions\n         * @returns {Object}\n         */\n        this.mapOptions = function (options) {\n            mapOptions = _.defaults({}, options, mapOptions);\n\n            return _.cloneDeep(mapOptions);\n        };\n\n        this.$get = function ($rootScope) {\n            return {\n                /**\n                 * Getter for Google Maps options.\n                 * @returns {Object} @link https://developers.google.com/maps/documentation/javascript/reference#MapOptions\n                 */\n                mapOptions: function () {\n                    return _.cloneDeep(mapOptions);\n                },\n\n                /**\n                 * Helper function to create new Angular Google Maps object. @link http://angular-ui.github.io/angular-google-maps/#!/api/google-map\n                 * @param {Object} (options={}) - additional map options\n                 * @param {Number} (options.maxZoom) - max map zoom level\n                 * @param {Number} (options.minZoom) - min map zoom level\n                 * @param {Object} (geoRegion) - object with coordinates of map bounds. Has specific format.\n                 * @param {Object} geoRegion.boundary - map bounds object\n                 * @param {Number} geoRegion.boundary.nw_lat - North-West latitude\n                 * @param {Number} geoRegion.boundary.nw_lob - North-West longitude\n                 * @param {Number} geoRegion.boundary.se_lat - South-East latitude\n                 * @param {Number} geoRegion.boundary.se_lon - South-East longitude\n                 * @param {Function} (onMapClickCallback) - function to call when map itself is clicked\n                 * @returns {Object}\n                 */\n                map: function (options, geoRegion, onMapClickCallback) {\n                    options || (options = {});\n\n                    var onTilesLoaded = _.once(function (map) {\n                        google.maps.event.trigger(map, 'resize');  // fix map is not fully loaded issue\n                    });\n\n                  var boundary = geoRegion && geoRegion.boundary || {};\n\n                    return {\n                        center: {\n                            latitude:  (boundary.nw_lat + boundary.se_lat) / 2 || 0,\n                            longitude: (boundary.nw_lon + boundary.se_lon) / 2 || 0\n                        },\n                        zoom: 16,\n                        control: {},\n                        options: _.assign({}, options, mapOptions),\n                        bounds: {},\n                        events: {\n                            click: onMapClickCallback || function () {},\n                            tilesloaded: onTilesLoaded,\n                            zoom_changed: onZoomChanged\n                        }\n                    };\n\n                    function onZoomChanged(map) {\n                        var directiveSpecificMaxZoomLevel = options.maxZoomLevel,\n                            directiveSpecificMinZoomLevel = options.minZoomLevel,\n                            maxZoomLevel = directiveSpecificMaxZoomLevel == null ? mapOptions['maxZoom'] : directiveSpecificMaxZoomLevel,\n                            minZoomLevel = directiveSpecificMinZoomLevel == null ? mapOptions['minZoom'] : directiveSpecificMinZoomLevel,\n                            currentZoomLevel = map.getZoom();\n\n                        if (currentZoomLevel > maxZoomLevel) {\n                            map.setZoom(maxZoomLevel);\n                        } else if (currentZoomLevel < minZoomLevel) {\n                            map.setZoom(minZoomLevel);\n                        }\n                    }\n                },\n\n                /**\n                 * Helper function to create new info window object. @link http://angular-ui.github.io/angular-google-maps/#!/api/window\n                 * @param {String} (additionalClass=\"\") - additional classes to append to info window along with default \"pip-map-info-window\"\n                 * @param {google.maps.Size} (offset=new google.maps.Size(-175, -210, 'px', 'px')) - offset of info window from marker\n                 * @returns {Object}\n                 */\n                infoWindow: function (additionalClass, offset) {\n                    return {\n                        show: false,\n                        control: {},\n                        options: {\n                            boxClass: 'pip-map-info-window ' + additionalClass,\n                            closeBoxURL: '',\n                            pixelOffset: offset || new google.maps.Size(-175, -210, 'px', 'px')\n                        }\n                    };\n                },\n\n                /**\n                 * Set map bounds\n                 * @param {Object} map - Angular Google Maps object\n                 * @param {Object} geoRegion - object with coordinates of map bounds. Has specific format.\n                 * @param {Object} geoRegion.boundary - map bounds object\n                 * @param {Number} geoRegion.boundary.nw_lat - North-West latitude\n                 * @param {Number} geoRegion.boundary.nw_lob - North-West longitude\n                 * @param {Number} geoRegion.boundary.se_lat - South-East latitude\n                 * @param {Number} geoRegion.boundary.se_lon - South-East longitude\n                 */\n                setMapBounds: function (map, geoRegion) {\n                    var unwatchBoundsChange = $rootScope.$watch(function() {\n                        return map.bounds;\n                    }, function (newVal) {\n                        if (newVal.northeast && newVal.southwest) {\n                            map.bounds = {\n                                northeast: {\n                                    latitude: geoRegion.boundary.nw_lat,\n                                    longitude: geoRegion.boundary.se_lon\n                                },\n                                southwest: {\n                                    latitude: geoRegion.boundary.se_lat,\n                                    longitude: geoRegion.boundary.nw_lon\n                                }\n                            };\n\n                            unwatchBoundsChange();\n                        }\n                    }, true);\n                },\n\n                /**\n                 * Fit map to specified bounds\n                 * @param {Object} map - Angular Google Maps object\n                 * @param {google.maps.LatLngBounds} bounds - bounds, @link https://developers.google.com/maps/documentation/javascript/reference#LatLngBounds\n                 */\n                fitMapToBounds: function (map, bounds) {\n                    if (!bounds.isEmpty()) {\n                        var currentMapBounds = map.getBounds();\n\n                        if (_.isEmpty(currentMapBounds)\n                            || (!_.isEmpty(currentMapBounds)\n                            && currentMapBounds.contains\n                            && (!currentMapBounds.contains(bounds.getNorthEast())\n                            || !currentMapBounds.contains(bounds.getSouthWest())))) {\n                            map.fitBounds(bounds);\n                        }\n                    }\n                }\n            };\n        };\n    }\n\n    angular\n        .module('pipMaps')\n        .provider('pipGoogleMaps', <any>GoogleMapsProvider);\n})();\n","(() => {\n  'use strict';\n\n  function uiGmapModelKeyDecorator($delegate) {\n    /**\n     * This is a hot fix to the setChildScope problem\n     * @see https://github.com/angular-ui/angular-google-maps/issues/1562\n     * The issue is that ModelKey.prototype.setChildScope sets childScope.model = model;\n     * where model is always for some reason is undefined\n     * then in BasePolysParentModel.prototype.pieceMeal it extends\n     * _.extend(obj.child.scope, obj.model);\n     *\n     * in scope we have childScope with model: {} and in obj.model we have model: undefined\n     * then we will have undefined as a model and crashes.\n     * For some reason it is not working this way anytime, because sometimes payload.updates is empty\n     * and it works as expected but we should remove this undefined property to avoid this issues\n     *\n     * TODO: Remove this hot-fix when it is resolved inside angular-google-maps\n     */\n\n\n    var setChildScope = $delegate.prototype.setChildScope;\n\n    $delegate.prototype.setChildScope = function (keys, childScope) {\n      var result = setChildScope.apply(this, arguments);\n\n      if (childScope && childScope.hasOwnProperty('model') && !childScope.model) {\n        delete childScope.model;\n      }\n\n      return result;\n    };\n\n    return $delegate;\n  }\n\n\n  /**\n   * @typedef {Object} Map~GeoRegion\n   * @property {Object} boundary Map bounds object\n   * @property {Number} boundary.nw_lat North-West latitude\n   * @property {Number} boundary.nw_lon North-West longitude\n   * @property {Number} boundary.se_lat South-East latitude\n   * @property {Number} boundary.se_lon South-East longitude\n   */\n\n\n  /**\n   * @typedef {Object} Map~position\n   * @property {*} latitude Latitude\n   * @property {*} longitude Longitude\n   */\n\n\n  /**\n   * @ngdoc service\n   * @name pipMapComponent.pipMapHelperSrvProvider\n   *\n   * @description Helper for map. Contains methods to work with icons, map constants, etc.\n   */\n  function /*@ngInject*/ pipMapHelperSrv() {\n    var defaultIconParameters = {\n      iconBaseSize: 96,\n      iconNormalScaleFactor: 0.5,\n      iconActiveScaleFactor: 1,\n      iconsPerSprite: 1\n    };\n\n    var directions = [{\n        name: 'North',\n        numberInSprite: 0,\n        scope: [-22.5, 22.5]\n      },\n      {\n        name: 'Northeast',\n        numberInSprite: 1,\n        scope: [22.5, 67.5]\n      },\n      {\n        name: 'East',\n        numberInSprite: 2,\n        scope: [67.5, 112.5]\n      },\n      {\n        name: 'Southeast',\n        numberInSprite: 3,\n        scope: [112.5, 157.5]\n      },\n      {\n        name: 'South',\n        numberInSprite: 4,\n        scope: [157.5, -157.5]\n      },\n      {\n        name: 'SouthWest',\n        numberInSprite: 5,\n        scope: [-157.5, -112.5]\n      },\n      {\n        name: 'West',\n        numberInSprite: 6,\n        scope: [-112.5, -67.5]\n      },\n      {\n        name: 'Northwest',\n        numberInSprite: 7,\n        scope: [-67.5, -22.5]\n      },\n      {\n        name: 'Stop',\n        numberInSprite: 8,\n        scope: []\n      }\n    ];\n\n    /**\n     * @ngdoc method\n     * @methodOf pipMapComponent.pipMapHelperSrvProvider\n     * @name pipMapComponent.pipMapHelperSrvProvider#setIconSettings\n     * @param {Object} sizes Object with new sizes\n     * @param {number} [sizes.baseSize] Base icon size\n     * @param {number} [sizes.normalFactor] Scale factor for normal icon state\n     * @param {number} [sizes.activeFactor] Scale facor for active icon state\n     * @param {number} [sizes.perSprite] ??\n     *\n     * @description Override service defaults\n     */\n    this.setIconSettings = function (sizes) {\n      angular.extend(defaultIconParameters, sizes);\n    };\n\n\n    this.$get = (uiGmapGoogleMapApi, $timeout) => {\n      /**\n       * @ngdoc service\n       * @name pipMapComponent.pipMapHelperSrv\n       *\n       * @description Helper for map. Contains methods to work with icons, map constants, etc.\n       */\n      var service = {\n        isReady: false,\n        whenReady: uiGmapGoogleMapApi,\n        maps: {},\n        getIconDimensions: null,\n        setIcon: null,\n        triggerEvent: null,\n        createSize: null,\n        createPoint: null,\n        createKML: null,\n        getCenterFromRegion: null,\n        fitMapToRegion: null,\n        getBoundsFromRegion: null,\n        getBoundsFromCoordinates: null,\n        fitMapToBounds: null,\n        forceMapToFitBounds: null,\n        shouldFitBound: null,\n        setModelOptions: null,\n        getDegreesBetweenTwoPoints: null,\n        getDirection: null,\n        getDirectionByAngle: null,\n        getIconOriginByDirection: null\n      };\n\n\n      uiGmapGoogleMapApi.then(onInit.bind(service));\n\n\n      /**\n       * @ngdocs method\n       * @methodOf pipMapComponent.pipMapHelperSrv\n       * @name pipMapComponent.pipMapHelperSrv#getIconDimensions\n       * @private\n       *\n       * @param {Object} icon Icon set dimensions to\n       * @param {number} [icon.numberInSprite] Icon position in sprite\n       * @param {boolean} [isActive = false] Whether to set active scale or normal\n       *\n       * @returns {Object} Icon dimensions\n       * @see http://blog.mridey.com/2010/03/using-markerimage-in-maps-javascript.html for more details\n       * Including method name\n       * 1. It is used only in this service\n       * 2. It seems to count position of an arrow near the icon, which shows it's movement direction\n       */\n      service.getIconDimensions = function (icon, isActive) {\n        var parameters = angular.extend({}, defaultIconParameters, icon);\n        var scaleFactor = isActive ? parameters.iconActiveScaleFactor : parameters.iconNormalScaleFactor;\n        var size = parameters.iconBaseSize * scaleFactor;\n\n        return {\n          origin: this.createPoint(0, size * icon.numberInSprite || 1),\n          anchor: this.createPoint(size / 2, size / 2),\n          size: this.createSize(size, size),\n          scaledSize: this.createSize(size, parameters.iconsPerSprite * size),\n          isActive: isActive\n        };\n      };\n\n\n      /**\n       * @ngdocs method\n       * @methodOf pipMapComponent.pipMapHelperSrv\n       * @name pipMapComponent.pipMapHelperSrv#setIcon\n       *\n       * @param {Object} icon Icon to set position for\n       * @param {boolean} [icon.isActive] True if icon currently is active\n       * @param {number} [icon.numberInSprite] Icon position in sprite\n       * @param {?boolean} isActive True if marker is active. If not boolean - it will leave old value of active\n       *\n       * @description Adds to an icon size properties\n       */\n      service.setIcon = function (icon, isActive) {\n        isActive = typeof isActive === 'boolean' ? isActive : icon.isActive;\n\n        service.whenReady.then(function () {\n          var iconDimensions = this.getIconDimensions(icon, isActive);\n          _.extend(icon, iconDimensions);\n        }.bind(this));\n      };\n\n\n      /**\n       * @ngdocs method\n       * @methodOf pipMapComponent.pipMapHelperSrv\n       * @name pipMapComponent.pipMapHelperSrv#triggerEvent\n       *\n       * @description Triggers event with provided arguments\n       */\n      service.triggerEvent = function () {\n        var event = this.maps.event;\n\n        if (!event) {\n          return null;\n        }\n\n        return event.trigger.apply(event, arguments);\n      };\n\n\n      /**\n       * @ngdocs method\n       * @methodOf pipMapComponent.pipMapHelperSrv\n       * @name pipMapComponent.pipMapHelperSrv#createSize\n       * @param {number} width Width property for the size object\n       * @param {number} height Height property for the size object\n       * @returns {Object} New size instance or empty object\n       *\n       * @description Creates new size object of a given width and height in pixels\n       */\n      service.createSize = function (width, height) {\n        var Size = this.maps.Size;\n\n        if (!Size) {\n          return {};\n        }\n\n        return new Size(width, height, 'px', 'px');\n      };\n\n\n      /**\n       * @ngdocs method\n       * @methodOf pipMapComponent.pipMapHelperSrv\n       * @name pipMapComponent.pipMapHelperSrv#createPoint\n       * @param {number} x X coordinate for the point object\n       * @param {number} y Y coordinate for the point object\n       * @returns {Object} New point instance or empty object\n       *\n       * @description Creates new point object of a given coordinates\n       */\n      service.createPoint = function (x, y) {\n        var Point = this.maps.Point;\n\n        if (!Point) {\n          return {};\n        }\n\n        return new Point(x, y);\n      };\n\n\n      /**\n       * @ngdocs method\n       * @methodOf pipMapComponent.pipMapHelperSrv\n       * @name pipMapComponent.pipMapHelperSrv#createPoint\n       * @param {Object} options Settings for KML layer\n       * @param {google.maps.Map} options.map Map instance to create kml layer for\n       * @param {string} options.url Url of KML file\n       *\n       * @description Creates new point object of a given coordinates\n       */\n      service.createKML = function (options) {\n        var Layer = this.maps.KmlLayer;\n\n        if (!Layer) {\n          return {};\n        }\n\n        return new Layer(options);\n      };\n\n      /**\n       * @ngdoc method\n       * @methodOf pipMapComponent.pipMapHelperSrv\n       * @name pipMapComponent.pipMapHelperSrv#getCenterFromRegion\n       *\n       * @param {Map~GeoRegion} geoRegion - object with coordinates of map bounds. Has specific format.\n       * @return {Map~position} Map center\n       *\n       * @description Get map center from geo region\n       */\n      service.getCenterFromRegion = function (geoRegion) {\n        if (!geoRegion || !geoRegion.boundary) {\n          return {\n            latitude: 0,\n            longitude: 0\n          };\n        }\n\n        return {\n          latitude: (geoRegion.boundary.nw_lat + geoRegion.boundary.se_lat) / 2,\n          longitude: (geoRegion.boundary.nw_lon + geoRegion.boundary.se_lon) / 2\n        };\n      };\n\n\n      /**\n       * @ngdoc method\n       * @methodOf pipMapComponent.pipMapHelperSrv\n       * @name pipMapComponent.pipMapHelperSrv#fitMapToRegion\n       *\n       * @param {google.maps.Map} map Map to fit bounds\n       * @param {Map~GeoRegion} geoRegion bounds\n       * @link https://developers.google.com/maps/documentation/javascript/reference#LatLngBounds\n       *\n       * @description Fit map to specified geo region\n       */\n      service.fitMapToRegion = function (map, geoRegion) {\n        var bounds = this.getBoundsFromRegion(geoRegion);\n\n        // without timeout it sometimes is not working\n        $timeout(this.forceMapToFitBounds.bind(this, map, bounds));\n      };\n\n\n      /**\n       * @ngdoc method\n       * @methodOf pipMapComponent.pipMapHelperSrv\n       * @name pipMapComponent.pipMapHelperSrv#getBoundsFromRegion\n       *\n       * @param {Map~GeoRegion} geoRegion - object with coordinates of map bounds. Has specific format\n       * @returns {google.maps.LatLngBounds|Object} New boundary or\n       * empty object if no geoRegion is not provided or empty\n       *\n       * @description Get map bounds from geo region\n       */\n      service.getBoundsFromRegion = function (geoRegion) {\n        if (!geoRegion || !geoRegion.boundary) {\n          return {};\n        }\n\n        return this.getBoundsFromCoordinates([{\n            latitude: geoRegion.boundary.se_lat,\n            longitude: geoRegion.boundary.se_lon\n          },\n          {\n            latitude: geoRegion.boundary.nw_lat,\n            longitude: geoRegion.boundary.nw_lon\n          }\n        ]);\n      };\n\n\n      /**\n       * @ngdocs method\n       * @methodOf pipMapComponent.pipMapHelperSrv\n       * @name pipMapComponent.pipMapHelperSrv#getBoundsFromCoordinates\n       *\n       * @param {Array<Map~position>} coordinates Coordinates to get bounds from\n       * @returns {google.maps.LatLngBounds|Object} Bounds fit coordinates\n       *\n       * @description Creates google bounds instance from given coordinates\n       */\n      service.getBoundsFromCoordinates = function (coordinates) {\n        var LatLngBounds = this.maps.LatLngBounds;\n        var LatLng = this.maps.LatLng;\n\n        if (!LatLng || !LatLngBounds) {\n          return {};\n        }\n\n        var bounds = new LatLngBounds();\n\n        coordinates.forEach(function (coordinate) {\n          if (!coordinate.latitude || !coordinate.longitude) {\n            return;\n          }\n\n          bounds.extend(new LatLng(coordinate.latitude, coordinate.longitude));\n        });\n\n        return bounds;\n      };\n\n\n      /**\n       * @ngdoc method\n       * @methodOf pipMapComponent.pipMapHelperSrv\n       * @name pipMapComponent.pipMapHelperSrv#fitMapToBounds\n       *\n       * @param {google.maps.Map} map Map to fit bounds\n       * @param {google.maps.LatLngBounds} bounds bounds\n       * @param {boolean} [force = false] force If true - forces setting of the bounds\n       * @link https://developers.google.com/maps/documentation/javascript/reference#LatLngBounds\n       *\n       * @description Checks whether given bounds is larger then current\n       * and fit map to specified bounds if so\n       */\n      service.fitMapToBounds = function (map, bounds, force) {\n        if (bounds.isEmpty()) {\n          return;\n        }\n\n        if (force || this.shouldFitBound(map, bounds)) {\n          map.fitBounds(bounds);\n        }\n      };\n\n\n      /**\n       * @ngdoc method\n       * @methodOf pipMapComponent.pipMapHelperSrv\n       * @name pipMapComponent.pipMapHelperSrv#forceMapToFitBounds\n       *\n       * @param {google.maps.Map} map Map to fit bounds\n       * @param {google.maps.LatLngBounds} bounds bounds\n       * @link https://developers.google.com/maps/documentation/javascript/reference#LatLngBounds\n       *\n       * @description Fit map to specified bounds\n       */\n      service.forceMapToFitBounds = function (map, bounds) {\n        this.fitMapToBounds(map, bounds, true);\n      };\n\n\n      /**\n       * @ngdoc method\n       * @methodOf pipMapComponent.pipMapHelperSrv\n       * @name pipMapComponent.pipMapHelperSrv#shouldFitBound\n       *\n       * @param {google.maps.Map} map Map to fit bounds\n       * @param {google.maps.LatLngBounds} bounds bounds\n       *\n       * @private\n       * @description Checks if map should fit bounds\n       */\n      service.shouldFitBound = function (map, bounds) {\n        var northEast = bounds.getNorthEast();\n        var southWest = bounds.getSouthWest();\n\n        var currentMapBounds = map.getBounds();\n        var mapContainsBounds = currentMapBounds.contains &&\n          (!currentMapBounds.contains(northEast) || !currentMapBounds.contains(southWest));\n\n        return _.isEmpty(currentMapBounds) || mapContainsBounds;\n      };\n\n\n      /**\n       * @ngdoc method\n       * @methodOf pipMapComponent.pipMapHelperSrv\n       * @name pipMapComponent.pipMapHelperSrv#setModelOptions\n       *\n       * @param {Object} pluralModel Plural model to set options for\n       * @param {Object} [pluralModel.gObject] Google object\n       * @param {Object} options New options\n       *\n       * @description Sets options for plural model if it is possible\n       */\n      service.setModelOptions = function (pluralModel, options) {\n        var plainObject = pluralModel && pluralModel.gObject;\n\n        if (plainObject && angular.isFunction(plainObject.setOptions)) {\n          plainObject.setOptions(options);\n        }\n      };\n\n\n      service.getDegreesBetweenTwoPoints = function (point1, point2) {\n        let p1 = {\n          lat: () => {\n            return point1.lat || point1.latitude\n          },\n          lng: () => {\n            return point1.lng || point1.longitude\n          }\n        };\n        let p2 = {\n          lat: () => {\n            return point2.lat || point2.latitude\n          },\n          lng: () => {\n            return point2.lng || point2.longitude\n          }\n        };\n\n        return google.maps.geometry.spherical.computeHeading(p1, p2);\n      }\n\n\n      service.getDirection = function (point1, point2) {\n        const degree = this.getDegreesBetweenTwoPoints(point1, point2);\n\n          if (\n            (point1.lat || point1.latitude) === (point2.lat || point2.latitude) &&\n            (point1.lng || point1.longitude) === (point2.lng || point2.longitude)\n          ) {\n            return directions[8];\n          }\n\n        for (let i = 0; i < 8; i++) {\n          if (degree >= directions[i].scope[0] && degree <= directions[i].scope[1]) {\n            return directions[i];\n          }\n        }\n\n        return directions[8];\n      }\n\n      service.getDirectionByAngle = function(degree) {\n        for (let i = 0; i < 8; i++) {\n          if (degree >= directions[i].scope[0] && degree <= directions[i].scope[1]) {\n            return directions[i];\n          }\n        }\n\n        return directions[8];\n      }\n\n      service.getIconOriginByDirection = function (point1, point2, iconSize: number = 82, gutter: number = 15) {\n        const direction = this.getDirection(point1, point2);\n\n        return new google.maps.Point(0, direction.numberInSprite * iconSize + direction.numberInSprite * gutter);\n      }\n\n\n      function onInit(maps) {\n        var mapTypeId = maps.MapTypeId || {};\n        var mapTypes = {\n          roadMap: mapTypeId.ROADMAP,\n          satellite: mapTypeId.SATELLITE,\n          hybrid: mapTypeId.HYBRID,\n          terrain: mapTypeId.TERRAIN\n        };\n\n\n        var symbolPath = maps.SymbolPath || {};\n        var symbols = {\n          circle: symbolPath.CIRCLE,\n          backwardClosed: symbolPath.BACKWARD_CLOSED_ARROW,\n          forwardClosed: symbolPath.FORWARD_CLOSED_ARROW,\n          backwardOpened: symbolPath.BACKWARD_OPEN_ARROW,\n          forwardCOpened: symbolPath.FORWARD_OPEN_ARROW\n        };\n\n        this.isReady = true;\n\n        angular.extend(this, {\n          mapTypes: mapTypes,\n          symbols: symbols,\n          maps: maps\n        });\n      }\n\n\n      return service;\n    };\n  }\n\n  angular.module('pipMaps')\n    .provider('pipMapHelperSrv', < any > pipMapHelperSrv)\n    .decorator('uiGmapModelKey', uiGmapModelKeyDecorator);\n})();","(() => {\n  'use strict';\n  USGSOverlay.prototype = new google.maps.OverlayView();\n\n  /** @constructor */\n  function USGSOverlay(bounds, image, map, opacity) {\n\n    // Initialize all properties.\n    this.bounds_ = bounds;\n    this.image_ = image;\n    this.map_ = map;\n\n    this.opacity = opacity ? opacity : null;\n    // Define a property to hold the image's div. We'll\n    // actually create this div upon receipt of the onAdd()\n    // method so we'll leave it null for now.\n    this.div_ = null;\n\n    // Explicitly call setMap on this overlay.\n    this.setMap(map);\n  }\n\n  USGSOverlay.prototype.onAdd = function () {\n\n    var div = document.createElement('div');\n    div.style.borderStyle = 'none';\n    div.style.borderWidth = '0px';\n    div.style.position = 'absolute';\n    if (this.opacity) div.style.opacity = this.opacity;\n\n    // Create the img element and attach it to the div.\n    var img = document.createElement('img');\n    img.src = this.image_;\n    img.style.width = '100%';\n    img.style.height = '100%';\n    img.style.position = 'absolute';\n    div.appendChild(img);\n\n    this.div_ = div;\n\n    // Add the element to the \"overlayLayer\" pane.\n    var panes = this.getPanes();\n    panes.overlayLayer.appendChild(div);\n  };\n\n  USGSOverlay.prototype.draw = function (bounds) {\n\n    // We use the south-west and north-east\n    // coordinates of the overlay to peg it to the correct position and size.\n    // To do this, we need to retrieve the projection from the overlay.\n    var overlayProjection = this.getProjection();\n    if (!overlayProjection) return;\n\n    // Retrieve the south-west and north-east coordinates of this overlay\n    // in LatLngs and convert them to pixel coordinates.\n    // We'll use these coordinates to resize the div.\n    if (bounds) {\n      this.bounds_ = bounds\n    }\n    var sw = overlayProjection.fromLatLngToDivPixel(this.bounds_.getSouthWest());\n    var ne = overlayProjection.fromLatLngToDivPixel(this.bounds_.getNorthEast());\n\n\n    // Resize the image's div to fit the indicated dimensions.\n    var div = this.div_;\n\n    if (!div) return;\n\n    // div.style.left = sw.x + 'px';\n    // div.style.top = ne.y + 'px';\n    // div.style.width = (ne.x - sw.x) + 'px';\n    // div.style.height = (sw.y - ne.y) + 'px';\n    div.style.left = sw.x + 'px';\n    div.style.top = sw.y + 'px';\n    div.style.width = (ne.x - sw.x) + 'px';\n    div.style.height = (ne.y - sw.y) + 'px';\n    if (this.opacity) div.style.opacity = this.opacity;\n  };\n\n  // The onRemove() method will be called automatically from the API if\n  // we ever set the overlay's map property to 'null'.\n  USGSOverlay.prototype.onRemove = function () {\n    if (this.div_ && this.div_.parentNode) this.div_.parentNode.removeChild(this.div_);\n    this.div_ = null;\n  };\n\n  /**\n   * @ngdoc directive\n   * @name pipMapComponent.pipMap\n   * @restrict AE\n   *\n   * @scope\n   * @property {Object} pipOptions Options for a map (including options for map provider)\n   *\n   * @property {Map~GeoRegion} pipOptions.geoRegion Geo region to set map center and bounds\n   * @see https://developers.google.com/maps/documentation/javascript/reference#MapOptions\n   * @property {Object} [pipOptions.map] Options for map provider\n   * @property {boolean} [pipOptions.map.mapTypeId = satellite] Map view\n   * @property {boolean} [pipOptions.map.disableDefaultUI = true] Disabling default UI controls\n   * @property {boolean} [pipOptions.map.panControl = false] Allows pan control\n   * @property {boolean} [pipOptions.map.zoomControl = false] Allows zoom control\n   * @property {boolean} [pipOptions.setInitBounds = false] True if need to set bounds on init from geoRegion\n   *\n   * @property {Object} pipInstance Instance of the directive's controller to be able to use it's methods manually\n   *\n   * @description Directive to create map. It is an abstraction between a map provider and the framework\n   * Also it provides methods with controller to zoom, fit map, etc\n   */\n\n  function MapComponentCtrl($injector, $scope, $element) {\n    var mapEventHandlerMixinFct = $injector.get('mapEventHandlerMixinFct');\n    mapEventHandlerMixinFct.mixTo(this, $scope.$applyAsync.bind($scope));\n    this.sidePanel = {};\n\n    this.embededMap = null;\n\n    this.pipMapHelperSrv = $injector.get('pipMapHelperSrv');\n    this.uiGmapIsReady = $injector.get('uiGmapIsReady');\n    this.$timeout = $injector.get('$timeout');\n    this.$rootScope = $injector.get('$rootScope');\n    this.MapPopupFct = $injector.get('MapPopupFct');\n\n    this.pipMapHelperSrv.whenReady.then(this.init.bind(this));\n\n    $element.addClass('pip-map flex layout-row');\n\n    $scope.$watch('ctrl.componentOptions.center', (newVal) => {\n      if (this.justResized == true) {\n        //this.justResized = false;\n        return;\n      }\n\n      if (this.gMap && newVal) {\n        let newCenter = { lat: newVal.latitude || newVal.lat, lng: newVal.longitude || newVal.lng };\n\n        if (_.isNumber(newCenter.lat) && _.isNumber(newCenter.lng)) {\n          this.gMap.panTo(newCenter);\n        }\n      }\n    }, true);\n\n    $scope.$watch('ctrl.componentOptions.zoom', (newVal) => {\n      if (this.map) this.map.zoom = newVal;\n    });\n\n    $scope.$watch('ctrl.componentOptions.embededMap', (newVal, oldVal) => {\n      if (newVal && oldVal && newVal.embededSrc && oldVal.embededSrc && newVal.embededSrc == oldVal.embededSrc) {\n        if (this.embededOverlay) {\n          var bounds = new google.maps.LatLngBounds(new google.maps.LatLng(newVal.map_north, newVal.map_west), new google.maps.LatLng(newVal.map_south, newVal.map_east));\n          this.embededOverlay.draw(bounds)\n          return;\n        }\n      }\n      this.setEmbededBounds();\n    });\n\n    this.$rootScope.$on('pipMainResized', () => {\n      //this.$timeout(this.updateMapTiles(true));\n      this.throttleResize();\n    });\n  }\n\n\n  /**\n   * @ngdoc property\n   * @propertyOf pipMapComponent.MapComponentCtrl\n   * @name pipMapComponent.MapComponentCtrl#defaultOptions\n   * @type {{mapTypeId: *, disableDefaultUI: boolean, panControl: boolean, zoomControl: boolean}}\n   *\n   * @description Default map components\n   */\n  MapComponentCtrl.prototype.defaultOptions = {\n    map: {\n      disableDefaultUI: true,\n      panControl: false,\n      zoomControl: false,\n      disableDoubleClickZoom: true\n    },\n\n    setInitBounds: false,\n\n    popup: {}\n  };\n\n\n  /**\n   * @ngdoc method\n   * @methodOf pipMapComponent.MapComponentCtrl\n   * @name pipMapComponent.MapComponentCtrl#init\n   *\n   * @description Init map\n   */\n  MapComponentCtrl.prototype.init = function () {\n    /**\n     * @ngdoc property\n     * @propertyOf pipMapComponent.MapComponentCtrl\n     * @name pipMapComponent.MapComponentCtrl#componentOptions\n     * @type {Object}\n     *\n     * @description Options from outer scope\n     */\n    this.options = angular.merge({\n      map: {\n        mapTypeId: this.pipMapHelperSrv.mapTypes.satellite\n      }\n    }, this.defaultOptions, this.componentOptions);\n\n    if (!this.componentOptions.control) this.componentOptions.control = {};\n    this.map = this.getMap();\n    this.map.zoom = this.componentOptions.zoom;\n    this.map.center = this.componentOptions.center;\n\n    if (this.options.sidePanel && this.options.sidePanel.templateUrl) {\n      this.showSidePanel(this.options.sidePanel.templateUrl);\n    }\n\n    this.uiGmapIsReady.promise()\n      .finally(this.onMapReady.bind(this));\n  };\n\n\n  /**\n   * @ngdoc method\n   * @methodOf pipMapComponent.MapComponentCtrl\n   * @name pipMapComponent.MapComponentCtrl#onMapReady\n   *\n   * @description On map ready handler\n   */\n  MapComponentCtrl.prototype.onMapReady = function () {\n    this.setInitBounds();\n    this.setEmbededBounds();\n  };\n\n\n  /**\n   * @ngdoc method\n   * @methodOf pipMapComponent.MapComponentCtrl\n   * @name pipMapComponent.MapComponentCtrl#setInitBounds\n   *\n   * @description On map ready handler\n   */\n  MapComponentCtrl.prototype.setInitBounds = function () {\n    var map = this.getMapInstance();\n\n    if (this.options.setInitBounds && map) {\n      this.pipMapHelperSrv.fitMapToRegion(map, this.options.geoRegion);\n    }\n  };\n\n  MapComponentCtrl.prototype.setEmbededBounds = function () {\n    var map = this.getMapInstance();\n    if (this.componentOptions.embededMap && this.componentOptions.embededMap.embededSrc) {\n      var bounds = new google.maps.LatLngBounds(new google.maps.LatLng(this.componentOptions.embededMap.map_north, this.componentOptions.embededMap.map_west), new google.maps.LatLng(this.componentOptions.embededMap.map_south, this.componentOptions.embededMap.map_east));\n      var srcImage = this.componentOptions.embededMap.embededSrc;\n      this.embededOverlay = new USGSOverlay(bounds, srcImage, map, this.componentOptions.embededMap.opacity);\n    } else {\n      if (this.embededOverlay) this.embededOverlay.onRemove();\n      this.embededOverlay = null;\n    }\n  };\n\n  /**\n   * @ngdoc method\n   * @methodOf pipMapComponent.MapComponentCtrl\n   * @name pipMapComponent.MapComponentCtrl#getMapInstance\n   * @returns {google.maps.Map} Google map instance\n   *\n   * @protected\n   * @description Returns Google map object\n   */\n  MapComponentCtrl.prototype.getMapInstance = function () {\n    if (!this.gMap && this.componentOptions && this.componentOptions.control && this.componentOptions.control.getGMap) {\n      this.gMap = this.componentOptions.control.getGMap();\n    }\n\n    return this.gMap;\n  };\n\n\n  /**\n   * @ngdoc method\n   * @methodOf pipMapComponent.MapComponentCtrl\n   * @name pipMapComponent.MapComponentCtrl#getMap\n   *\n   * @link http://angular-ui.github.io/angular-google-maps/#!/api/google-map\n   * @description Helper function to create new Angular Google Maps object.\n   */\n  MapComponentCtrl.prototype.getMap = function () {\n    let externalClick = this.options.events && this.options.events.click ? this.options.events.click : angular.noop;\n    let externalZoom = this.options.events && this.options.events.zoom_changed ? this.options.events.zoom_changed : angular.noop;\n    let externalCenter = this.options.events && this.options.events.center_changed ? this.options.events.center_changed : angular.noop;\n    var debounceCenterChange = _.debounce(function (event) {\n      externalCenter(event);\n    }, 500)\n    // var debounceZoomChange = _.debounce(function (event) {\n    //   externalZoom(event);\n    // }, 50)\n    return {\n      control: {},\n      options: this.options.map,\n      bounds: this.options.bounds || {},\n      events: _.extend(this.options.events, {\n        click: (event) => {\n          this.onClick(event);\n          externalClick();\n        },\n        zoom_changed: (event) => {\n          if (event && this.componentOptions && this.componentOptions.mapId) {\n            event.mapId = this.componentOptions.mapId;\n            externalZoom(event);\n            // debounceZoomChange(event);\n          }\n        },\n        center_changed: (event) => {\n          if (event && this.componentOptions && this.componentOptions.mapId) {\n            event.mapId = this.componentOptions.mapId;\n            // externalCenter(event);\n            debounceCenterChange(event);\n          }\n        },\n        dblclick: this.onEventHandler.bind(this),\n        tilesloaded: this.updateMapTiles.bind(this)\n      })\n    };\n  };\n\n\n  /**\n   * @ngdoc method\n   * @methodOf pipMapComponent.MapComponentCtrl\n   * @name pipMapComponent.MapComponentCtrl#updateMapTiles\n   *\n   * @description Updates map tiles. It is fix for all problems related to not fully loaded tiles\n   */\n  MapComponentCtrl.prototype.updateMapTiles = function (updateCenter = false) {\n    var gMap = this.getMapInstance();\n    if (!gMap) return;\n    this.pipMapHelperSrv.triggerEvent(gMap, 'resize'); // fix map is not fully loaded issue\n  };\n\n  var throttleUpdatingCenter = _.throttle((gMap, center) => {\n    if (!center) return;\n\n    gMap.panTo(center);\n    gMap.setCenter(center);\n  }, 400);\n\n  MapComponentCtrl.prototype.throttleResize = function () {\n    var gMap = this.getMapInstance();\n    if (!gMap)\n      return;\n    if (this.justResized != true) {\n      this.justResized = true;\n      var center = gMap.getCenter();\n      this.$timeout(() => {\n        throttleUpdatingCenter(gMap, center);\n      });\n      this.$timeout(() => {\n        this.justResized = false;\n      }, 400)\n    }\n\n    this.pipMapHelperSrv.triggerEvent(gMap, 'resize');\n  };\n\n  /**\n   * @ngdoc method\n   * @methodOf pipMapComponent.MapComponentCtrl\n   * @name pipMapComponent.MapComponentCtrl#fitMapToBounds\n   *\n   * @param {google.maps.LatLngBounds} bounds bounds\n   * @link https://developers.google.com/maps/documentation/javascript/reference#LatLngBounds\n   *\n   * @description Fit map to specified bounds\n   */\n  MapComponentCtrl.prototype.fitMapToBounds = function (bounds) {\n    this.pipMapHelperSrv.fitMapToBounds(this.getMapInstance(), bounds);\n  };\n\n\n  /**\n   * @ngdoc method\n   * @methodOf pipMapComponent.MapComponentCtrl\n   * @name pipMapComponent.MapComponentCtrl#showSidePanel\n   * @param {string} template Template url to pass to ng-include directive\n   *\n   * @description Shows side panel\n   */\n  MapComponentCtrl.prototype.showSidePanel = function (template) {\n    this.sidePanel.template = template;\n    this.sidePanel.show = true;\n    this.$timeout(this.updateMapTiles.bind(this));\n  };\n\n\n  /**\n   * @ngdoc method\n   * @methodOf pipMapComponent.MapComponentCtrl\n   * @name pipMapComponent.MapComponentCtrl#hideSidePanel\n   *\n   * @description Hides side panel\n   */\n  MapComponentCtrl.prototype.hideSidePanel = function () {\n    this.sidePanel.template = null;\n    this.sidePanel.show = false;\n    this.$timeout(this.updateMapTiles.bind(this));\n  };\n\n\n  /**\n   * @ngdoc method\n   * @methodOf pipMapComponent.MapComponentCtrl\n   * @name pipMapComponent.MapComponentCtrl#onClick\n   *\n   * @description On click default handler\n   */\n  MapComponentCtrl.prototype.onClick = function () {\n    this.closePopup();\n  };\n\n\n  /**\n   * @ngdoc method\n   * @methodOf pipMapComponent.MapComponentCtrl\n   * @name pipMapComponent.MapComponentCtrl#freeze\n   *\n   * @description Freezes map's pan and zoom with mouse\n   */\n  MapComponentCtrl.prototype.freeze = function () {\n    if (this.isFrozen) {\n      return;\n    }\n\n    this.setMapOptions({\n      draggable: false,\n      disableDoubleClickZoom: true,\n      scrollwheel: false\n    });\n    this.isFrozen = true;\n  };\n\n\n  /**\n   * @ngdoc method\n   * @methodOf pipMapComponent.MapComponentCtrl\n   * @name pipMapComponent.MapComponentCtrl#unfreeze\n   *\n   * @description Unfreezes map's pan and zoom with mouse\n   */\n  MapComponentCtrl.prototype.unfreeze = function () {\n    if (!this.isFrozen) {\n      return;\n    }\n\n    this.setMapOptions({\n      draggable: true,\n      disableDoubleClickZoom: true,\n      scrollwheel: true\n    });\n    this.isFrozen = false;\n  };\n\n\n  /**\n   * @ngdoc method\n   * @methodOf pipMapComponent.MapComponentCtrl\n   * @name pipMapComponent.MapComponentCtrl#setCursor\n   * @param {string} [cursor] Cursor code. If empty - the default behaviour is restored\n   *\n   * @description Overrides cursor for the map or set back default behaviour if cursor is not provided\n   * @todo: I couldn't find any possibility to set a cursor for a map.\n   * We can only set cursor for draggableMap and map dragging.\n   * Also it is possible to set cursors for markers (not polys)\n   */\n  MapComponentCtrl.prototype.setCursor = function (cursor) {\n    this.cursor = cursor;\n  };\n\n\n  /**\n   * @ngdoc method\n   * @methodOf pipMapComponent.MapComponentCtrl\n   * @name pipMapComponent.MapComponentCtrl#setMapOptions\n   * @param {google.maps.MapOptions} options Options to set\n   *\n   * @description Sets map options from given options object\n   */\n  MapComponentCtrl.prototype.setMapOptions = function (options) {\n    var mapInstance = this.getMapInstance();\n    mapInstance.setOptions(options);\n  };\n\n\n  /**\n   * @ngdoc method\n   * @methodOf pipMapComponent.MapComponentCtrl\n   * @name pipMapComponent.MapComponentCtrl#createElementPopup\n   * @param {Object} options Popup options\n   * @returns {Object} Popup instance\n   *\n   * @description Creates popup instance and returns it\n   */\n  MapComponentCtrl.prototype.createElementPopup = function (options) {\n    this.createPopupInstance();\n\n    return this.popup.add(options);\n  };\n\n\n  /**\n   * @ngdoc method\n   * @methodOf pipMapComponent.MapComponentCtrl\n   * @name pipMapComponent.MapComponentCtrl#createPopupInstance\n   *\n   * @description Creates popup instance\n   */\n  MapComponentCtrl.prototype.createPopupInstance = function () {\n    if (this.popup) {\n      return;\n    }\n\n    this.popup = this.MapPopupFct.create();\n  };\n\n\n  /**\n   * @ngdoc method\n   * @methodOf pipMapComponent.MapComponentCtrl\n   * @name pipMapComponent.MapComponentCtrl#closePopup\n   *\n   * @description Closes popup\n   */\n  MapComponentCtrl.prototype.closePopup = function () {\n    if (!this.popup) {\n      return;\n    }\n    console.log('this.popup', this.popup);\n    this.popup.close();\n  };\n\n  function pipMapComponent() {\n    return {\n      strict: 'AE',\n      scope: true,\n      transclude: true,\n      bindToController: {\n        componentOptions: '=pipOptions'\n      },\n      controller: 'MapComponentCtrl',\n      controllerAs: 'ctrl',\n      templateUrl: 'map.html'\n    };\n  }\n\n  angular.module('pipMaps')\n    .controller('MapComponentCtrl', MapComponentCtrl)\n    .directive('pipMap', pipMapComponent);\n})();","\n(() => {\n  'use strict';\n\n  /**\n   * @typedef {Object} Map~eventObj\n   * @property {Object} gModel Google native model passed to event handler\n   * @property {string} eventName Event name\n   * @property {Array} args Arguments passed to the original handler\n   * @property {Object} [model] Model related to an element, fired an event\n   * @property {Object} [position] Clicked position coordinates\n   * @property {Object} [position.latitude] Clicked position latitude\n   * @property {Object} [position.longitude] Clicked position longitude\n   */\n\n\n  /**\n   * @ngdoc service\n   * @name pipMapComponent.mapEventHandlerMixinFct\n   * @description Provides methods for types conversion\n   * @mixin\n   */\n  function mapEventHandlerMixinFct() {\n    /**\n     *  @param {Object} gModel Google element class instance\n     * @param {string} eventName Fired event name\n     * @param {Object|Array} model Element model (settings object like we create here) or 'args'\n     * @param {Array} [args] Arguments passed to google native handler\n     * @returns {Map~eventObj}\n     *\n     * @private\n     * @description Creates event object from arguments\n     * Can be used for both map and model clickers\n     */\n\n    var createEventObjFromHandlerArguments = function (gModel, eventName, model, args) {\n      if (!args || !args.length) {\n        args  = model;\n        model = null;\n      }\n\n      var position = args[0] && args[0].latLng && getPositionFromLatLng(args[0].latLng);\n\n      return {\n        gModel   : gModel,\n        eventName: eventName,\n        args     : args,\n        model    : model,\n        position : position\n      };\n    };\n\n    /**\n     * @param {Object} latLng Google longitude-latitude class instance\n     * @returns {Map~position}\n     *\n     * @private\n     * @description Gets latitude and longitude from latLng instance\n     */\n    var getPositionFromLatLng = function (latLng) {\n      return {\n        latitude : latLng.lat(),\n        longitude: latLng.lng()\n      };\n    };\n\n\n    var mixin = function (postHandler) {\n      postHandler = postHandler || angular.noop;\n\n      return {\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.mapEventHandlerMixinFct\n         * @name pipMapComponent.mapEventHandlerMixinFct#addEventHandler\n         * @param {string} eventName Event name\n         * @param {Function} callback Callback to call\n         *\n         * @returns {Function} Remove handler method\n         * @description Add event handler for given event name\n         */\n        addEventHandler: function (eventName, callback) {\n          var handlerName   = '__onEventOverridden_' + eventName;\n          this[handlerName] = callback;\n\n          return function () {\n            this[handlerName] = null;\n          }.bind(this);\n        },\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.mapEventHandlerMixinFct\n         * @name pipMapComponent.mapEventHandlerMixinFct#onEventHandler\n         * @param {Object} gObject Google map class instance\n         * @param {string} eventName Fired event name\n         * @param {Object|Array} args Model on which event was fired or args\n         * @param {Array} [model] Arguments passed to google native handler\n         *\n         * @description Event handler\n         */\n        onEventHandler: function (gObject, eventName) {\n          var handlerName = '__onEventOverridden_' + eventName;\n          var eventObj    = createEventObjFromHandlerArguments.apply(null, arguments);\n\n          if (angular.isFunction(this[handlerName])) {\n            this[handlerName](eventObj);\n            postHandler();\n\n            return;\n          }\n\n          var defaultHandlerName = 'on' + eventName.charAt(0).toUpperCase() + eventName.slice(1);\n\n          if (angular.isFunction(this[defaultHandlerName])) {\n            this[defaultHandlerName](eventObj);\n            postHandler();\n          }\n        }\n      };\n    };\n\n    return {\n      mixTo: function (obj, $scope) {\n        angular.extend(obj, mixin($scope));\n      }\n    };\n  }\n\n  angular.module('pipMaps')\n    .factory('mapEventHandlerMixinFct', mapEventHandlerMixinFct);\n})();\n","{\n    const config = function (uiGmapGoogleMapApiProvider) {\n        uiGmapGoogleMapApiProvider.configure({\n            key: 'AIzaSyBg6cm-FDBFPWzRcn39AuSHGQSrdtVIjEo',\n            v: '3.23',\n            libraries: 'geometry'\n        });\n    };\n\n    angular.module('pipMaps')\n        .config(config);\n}","interface IMapEditBindings {\n    [key: string]: any;\n\n    overlay: any;\n    onEdit: any;\n    mapOptions: any;\n    showActionPanel: any;\n    actionTypes: any;\n    control: any;\n    disabled: any;\n}\n\nconst MapEditBindings: IMapEditBindings = {\n    overlay: '<pipOverlay',\n    onEdit: '&?pipOnEdit',\n    mapOptions: '=?pipMapOptions',\n    showActionPanel: '<?pipShowActionPanel',\n    actionTypes: '<?pipActionTypes',\n    control: '&?pipControl',\n    disabled: '<?pipDisabled',\n    disabledPolygons: '<?pipDisabledPolygons',\n    disabledPolygonsOptions: '<?pipDisabledPolygonsOptions',\n    disabledPolylines: '<?pipDisabledPolylines',\n    disabledPolylinesOptions: '<?pipDisabledPolylinesOptions',\n    disabledCircles: '<?pipDisabledCircles',\n    disabledCirclesOptions: '<?pipDisabledCirclesOptions'\n}\n\nclass actionTypes {\n    public static clearMap: string = 'clear';\n    public static addCircle: string = 'circle';\n    public static addRectangle: string = 'rectangle';\n    public static addPolygon: string = 'polygon';\n    public static addLine: string = 'line';\n}\n\nclass MapEditChanges implements ng.IOnChangesObject, IMapEditBindings {\n    [key: string]: ng.IChangesObject<any>;\n\n    overlay: ng.IChangesObject<any>;\n    mapOptions: ng.IChangesObject<any>;\n    showActionPanel: ng.IChangesObject<boolean>;\n    actionTypes: ng.IChangesObject<any>;\n    disabled: ng.IChangesObject<boolean>;\n    control: any;\n    onEdit: any;\n}\n\n\nclass MapEditController {\n    public map = {\n        control: {},\n        options: {\n            disableDefaultUI: true,\n            mapTypeId: \"satellite\",\n            panControl: false,\n            zoomControl: false,\n            mapTypeControl: false,\n            streetViewControl: false\n        }\n    };\n    public drawingManagerControl: any = {};\n    public drawingManagerOptions: any = {};\n    public currentOverlay: any = {};\n    public actionTypes: any[];\n\n    public showActionPanel: boolean;\n    public overlay: any;\n    public mapOptions: any;\n    public onEdit: Function;\n    public control: Function;\n    public disabled: boolean;\n\n    private _circleOptions = {\n        fillColor: '#F8E81C',\n        fillOpacity: 0.2,\n        strokeWeight: 3,\n        strokeColor: '#F8E81C',\n        clickable: false,\n        editable: !this.disabled,\n        zIndex: 1\n    };\n    private _polygonOptions = {\n        fillColor: '#F8E81C',\n        fillOpacity: 0.2,\n        strokeWeight: 3,\n        strokeColor: '#F8E81C',\n        clickable: false,\n        editable: !this.disabled,\n        draggable: !this.disabled,\n        zIndex: 1\n    };\n    private _polylineOptions = {\n        strokeWeight: 6,\n        strokeColor: '#F8E81C',\n        clickable: false,\n        editable: !this.disabled,\n        zIndex: 1\n    };\n    private _markerOptions = {\n        icon: {\n            path: 0,\n            scale: 4,\n            strokeWeight: 8,\n            fillColor: '#F8E81C',\n            strokeColor: '#F8E81C',\n            strokeOpacity: 0.9,\n            draggable: !this.disabled\n        }\n    };\n\n    private _rectangleOptions = {\n        fillColor: '#F8E81C',\n        fillOpacity: 0.2,\n        strokeWeight: 3,\n        strokeColor: '#F8E81C',\n        clickable: false,\n        editable: !this.disabled,\n        draggable: !this.disabled,\n        zIndex: 1\n    };\n\n    constructor(\n        private $element: JQuery,\n        private $scope: ng.IScope,\n        private $mdConstant: any,\n        private $document: ng.IDocumentService,\n        private $timeout: ng.ITimeoutService,\n        private uiGmapGoogleMapApi: any\n    ) {\n        $element.addClass('pip-map-edit');\n\n        uiGmapGoogleMapApi.then((maps) => {\n            this.drawingManagerOptions = {\n                drawingControl: false,\n                drawingControlOptions: {\n                    position: google.maps.ControlPosition.TOP_CENTER,\n                    drawingModes: [\n                        google.maps.drawing.OverlayType.CIRCLE,\n                        google.maps.drawing.OverlayType.POLYGON,\n                        google.maps.drawing.OverlayType.POLYLINE\n                    ]\n                },\n                circleOptions: this._circleOptions,\n                polygonOptions: this._polygonOptions,\n                polylineOptions: this._polylineOptions,\n                markerOptions: this._markerOptions,\n                rectangleOptions: this._rectangleOptions\n                \n            };\n        });\n\n        $scope.$watch('$ctrl.map.control.getGMap', () => {\n            if (this.currentOverlay && this.currentOverlay.setMap && _.isFunction(this.map.control['getGMap'])) {\n                this.currentOverlay.setMap(this.map.control['getGMap']());\n                this.fitBounds();\n            }\n        });\n\n        $scope.$watch('$ctrl.mapOptions.embededMap', () => {\n            _.assign(this.map, this.mapOptions);\n        }, true);\n\n        $scope.$watch('$ctrl.mapOptions.isEmbeded', () => {\n            _.assign(this.map, this.mapOptions);\n        });\n\n\n        $scope.$watch('$ctrl.drawingManagerControl.getDrawingManager', (val) => {\n            if (!this.drawingManagerControl.getDrawingManager) {\n                return;\n            }\n\n            google.maps.event.addListener(this.drawingManagerControl.getDrawingManager(), 'overlaycomplete', (e) => {\n                this.drawingManagerControl.getDrawingManager().setDrawingMode(null);\n                this.setOverlay(e.overlay, e.type, false);\n                this.onEditOverlay();\n            });\n\n            google.maps.event.addListener(this.drawingManagerControl.getDrawingManager(), 'drawingmode_changed', () => {\n                if (this.drawingManagerControl.getDrawingManager().getDrawingMode() !== null) {\n                    if (this.currentOverlay && this.currentOverlay.map) this.currentOverlay.setMap(null);\n                }\n            });\n\n            google.maps.event.addDomListener(document, 'keyup', (e) => {\n                const code = (e.keyCode ? e.keyCode : e.which);\n\n                if (code === 27) {\n                    this.drawingManagerControl.getDrawingManager().setDrawingMode(null);\n                }\n\n                if (code === 46) {\n                    this.clearMap();\n                }\n            });\n\n        });\n    }\n\n    public $onDestroy(): void {\n\n    }\n\n    public $onChanges(changes: MapEditChanges): void {\n        if (changes.overlay && changes.overlay.currentValue) {\n            this.setOverlay(this.convertToGoogleMapOverlay(changes.overlay.currentValue), changes.overlay.currentValue.type);\n        }\n\n        if (changes.disabled) {\n            if (this.currentOverlay) {\n                this.currentOverlay.setDraggable(!changes.disabled.currentValue);\n                if (this.currentOverlay.setEditable) this.currentOverlay.setEditable(!changes.disabled.currentValue);\n            }\n        }\n    }\n\n    public $onInit() {\n        angular.extend(this.map, this.mapOptions);\n\n        if (this.control) {\n            this.control({ control: this });\n        }\n    }\n\n    private fitBounds() {\n        if (!this.map.control['getGMap'] || !this.currentOverlay) return;\n\n        switch (this.overlay.type) {\n            case 'circle': {\n                this.map.control['getGMap']().fitBounds(this.currentOverlay.getBounds());\n                break;\n            }\n\n            case 'marker': {\n                if (this.currentOverlay.getPosition) {\n                    this.map.control['getGMap']().panTo(this.currentOverlay.getPosition());\n                }\n                break;\n            }\n\n            case 'rectangle': {\n                this.map.control['getGMap']().fitBounds(this.currentOverlay.getBounds());\n                break;\n            }\n\n            default: {\n                if (this.currentOverlay.getPath().getArray().length > 0) {\n                    var bounds = new google.maps.LatLngBounds();\n                    _.each(this.currentOverlay.getPath().getArray(), (coor) => {\n                        bounds.extend(coor);\n                    });\n                    this.map.control['getGMap']().fitBounds(bounds);\n                }\n            }\n        }\n    }\n\n    private convertToGoogleMapOverlay(overlay) {\n        if (overlay.type === 'polygon') {\n            return this.createPolygon(overlay);\n        }\n\n        if (overlay.type === 'line' || overlay.type === 'polyline') {\n            return this.createPolyline(overlay);\n        }\n\n        if (overlay.type === 'circle') {\n            return this.createCircle(overlay);\n        }\n\n        if (overlay.type === 'marker') {\n            return this.createMarker(overlay);\n        }\n\n        if (overlay.type === 'rectangle') {\n            return this.createRectangle(overlay);\n        }\n    }\n\n    private createMarker(overlay: any) {\n        if ((overlay.pos && overlay.pos.coordinates) || (overlay.latitude && overlay.longitude)) {\n            let centerCoords = {};\n            centerCoords = {\n                lat: overlay.pos.coordinates ? overlay.pos.coordinates[1] : overlay.latitude,\n                lng: overlay.pos.coordinates ? overlay.pos.coordinates[0] : overlay.longitude\n            };\n\n            const marker = new google.maps.Marker(angular.extend(\n                this.getOptionsByType('marker'),\n                { position: centerCoords }\n            ));\n\n            if (this.map.control['getGMap']) marker.setMap(this.map.control['getGMap']());\n\n            return marker;\n        }\n\n        return new google.maps.Circle(this.getOptionsByType('circle'));\n    }\n\n    private createCircle(overlay: any) {\n        if (overlay.center && (overlay.center.coordinates || (overlay.center.latitude && overlay.center.longitude)) && overlay.distance) {\n            let centerCoords = {};\n            centerCoords = {\n                lat: overlay.center.coordinates ? overlay.center.coordinates[1] : overlay.center.latitude,\n                lng: overlay.center.coordinates ? overlay.center.coordinates[0] : overlay.center.longitude\n            };\n\n            const circle = new google.maps.Circle(angular.extend(\n                this.getOptionsByType('circle'),\n                { center: centerCoords, radius: overlay.distance }\n            ));\n\n            if (this.map.control['getGMap']) circle.setMap(this.map.control['getGMap']());\n\n            return circle;\n        }\n\n        return new google.maps.Circle(this.getOptionsByType('circle'));\n    }\n\n    private createPolygon(overlay) {\n        if (overlay.geometry && overlay.geometry.coordinates) {\n            const polygonCoords = [];\n\n            _.each(overlay.geometry.coordinates[0], (coor) => {\n                polygonCoords.push({ lat: coor[1], lng: coor[0] });\n            });\n\n            const polygon = new google.maps.Polygon(angular.extend(\n                this.getOptionsByType('polygon'),\n                { paths: polygonCoords }\n            ));\n\n            if (this.map.control['getGMap']) polygon.setMap(this.map.control['getGMap']());\n\n            return polygon;\n        }\n\n        return new google.maps.Polygon(this.getOptionsByType('polygon'));;\n    }\n\n    private createPolyline(overlay) {\n        if (overlay.geometry && overlay.geometry.coordinates) {\n            const polylineCoords = [];\n\n            _.each(overlay.geometry.coordinates, (coor) => {\n                polylineCoords.push({ lat: coor[1], lng: coor[0] });\n            });\n\n            const polyline = new google.maps.Polyline(angular.extend(\n                this.getOptionsByType('line'),\n                { path: polylineCoords }\n            ));\n\n            if (this.map.control['getGMap']) polyline.setMap(this.map.control['getGMap']());\n\n            return polyline;\n        }\n\n        return new google.maps.Polyline(this.getOptionsByType('line'));\n    }\n\n    private createRectangle(overlay) {\n        if (overlay.bounds) {\n            var rectangleBounds = overlay.bounds;\n            var rectangle = new google.maps.Rectangle(angular.extend(this.getOptionsByType('rectangle'), { bounds: rectangleBounds }));\n\n            if (this.map.control['getGMap'])\n                rectangle.setMap(this.map.control['getGMap']());\n            \n            return rectangle;\n        }\n        return new google.maps.Rectangle(this.getOptionsByType('rectangle'));\n    };\n\n    private getOptionsByType(type: string): any {\n        switch (type) {\n            case 'polygon':\n                return _.cloneDeep(angular.extend(this._polygonOptions, this.getDisableOptions()));\n            case 'circle':\n                return _.cloneDeep(angular.extend(this._circleOptions, this.getDisableOptions()));\n            case 'line':\n                return _.cloneDeep(angular.extend(this._polylineOptions, this.getDisableOptions()));\n            case 'polyline':\n                return _.cloneDeep(angular.extend(this._polylineOptions, this.getDisableOptions()));\n            case 'marker':\n                return _.cloneDeep(angular.extend(this._markerOptions, this.getDisableOptions()));\n            case 'rectangle':\n                return _.cloneDeep(angular.extend(this._rectangleOptions, this.getDisableOptions()));\n        }\n    }\n\n    private getDisableOptions() {\n        return {\n            editable: !this.disabled,\n            draggable: !this.disabled\n        }\n    }\n\n    private setOverlay(overlay, type, fitBounds = true) {\n        if (!overlay) return;\n\n        this.clearMap();\n        this.currentOverlay = overlay || {};\n        this.currentOverlay.type = type;\n        switch (type) {\n            case 'circle': {\n                this.currentOverlay.center_changed = () => {\n                    this.onEditOverlay();\n                };\n\n                this.currentOverlay.radius_changed = () => {\n                    this.onEditOverlay();\n                };\n                break;\n            }\n\n            case 'marker': {\n                if (!this.currentOverlay.addListener) return;\n\n                this.currentOverlay.addListener('position_changed', () => {\n                    this.onEditOverlay();\n                });\n                break;\n            }\n\n            case 'rectangle': {\n                if (!this.currentOverlay.addListener)\n                    return;\n                this.currentOverlay.addListener('bounds_changed', () => {\n                    this.onEditOverlay();\n                });\n                break;\n            }\n\n            default: {\n                if (!this.currentOverlay.getPath) return;\n\n                google.maps.event.addListener(this.currentOverlay.getPath(), 'set_at', () => {\n                    this.onEditOverlay();\n                });\n\n                google.maps.event.addListener(this.currentOverlay.getPath(), 'insert_at', () => {\n                    this.onEditOverlay();\n                });\n            }\n        }\n\n        if (fitBounds) this.fitBounds();\n    }\n\n    private onEditOverlay() {\n        if (this.onEdit) this.onEdit({\n            overlay: this.currentOverlay,\n            bounds: this.currentOverlay && this.currentOverlay.type === 'rectangle' ? {\n                north: this.currentOverlay.getBounds().getNorthEast().lat(),\n                east: this.currentOverlay.getBounds().getNorthEast().lng(),\n                south: this.currentOverlay.getBounds().getSouthWest().lat(),\n                west: this.currentOverlay.getBounds().getSouthWest().lng(),\n            } : {},\n            type: this.currentOverlay ? this.currentOverlay.type : null,\n            path: this.currentOverlay && (this.currentOverlay.type === 'polygon' || this.currentOverlay.type === 'polyline') ? this.currentOverlay.getPath() : [],\n            center: this.currentOverlay && this.currentOverlay.type === 'circle' ?\n                this.currentOverlay.getCenter() : this.currentOverlay && this.currentOverlay.getPosition && this.currentOverlay.type === 'marker' ? this.currentOverlay.getPosition() : {},\n            radius: this.currentOverlay && this.currentOverlay.type === 'circle' ? this.currentOverlay.getRadius() : {}\n        });\n    }\n\n    public showAction(action) {\n        return !this.actionTypes ? true : this.actionTypes.includes(action);\n    }\n\n    public get showPanel() {\n        return this.showActionPanel === false ? false : true;\n    }\n\n    public addCircle() {\n        this.drawingManagerOptions.drawingMode = google.maps.drawing.OverlayType.CIRCLE;\n    }\n\n    public addPolygon() {\n        this.drawingManagerOptions.drawingMode = google.maps.drawing.OverlayType.POLYGON;\n    }\n    \n    public addRectangle() {\n        this.drawingManagerOptions.drawingMode = google.maps.drawing.OverlayType.RECTANGLE;\n    }\n\n    public addLine() {\n        this.drawingManagerOptions.drawingMode = google.maps.drawing.OverlayType.POLYLINE;\n    }\n\n    public addMarker() {\n        this.drawingManagerOptions.drawingMode = google.maps.drawing.OverlayType.MARKER;\n    }\n\n    public clearMap() {\n        this.drawingManagerOptions.drawingMode = null;\n        if (this.currentOverlay && this.currentOverlay.map) {\n            this.currentOverlay.setMap(null);\n            this.currentOverlay = null;\n            this.onEditOverlay();\n        }\n    }\n\n}\n\nlet config = function (uiGmapGoogleMapApiProvider) {\n    uiGmapGoogleMapApiProvider.configure({\n        libraries: 'drawing'\n    });\n};\n\n(() => {\n    angular.module('pipMapsEdit')\n        .component('pipMapEdit', {\n            bindings: MapEditBindings,\n            templateUrl: 'edit/MapEdit.html',\n            controller: MapEditController,\n            controllerAs: '$ctrl'\n        })\n        .config(config);\n})();\n","angular.module('pipMapsEdit', []);\n\nimport './MapEdit';","(function () {\n    'use strict';\n\n    function MapElementsCtrlFct() {\n        /*@ngInject*/\n        /**\n         * @ngdoc Controller\n         * @name pipMapComponent.MapElementsCtrl\n         * @mixes pipMapComponent.mapEventHandlerMixinFct\n         * @constructor\n         *\n         * @description Controller for a map component (directive)\n         */\n        function MapElementsCtrl($injector, $scope) {\n            var mapEventHandlerMixinFct = $injector.get('mapEventHandlerMixinFct');\n            mapEventHandlerMixinFct.mixTo(this, $scope.$applyAsync.bind($scope));\n\n            this.control = {};\n            this.popUpOpened = null;\n            this.pipMapHelperSrv = $injector.get('pipMapHelperSrv');\n            this.uiGmapIsReady = $injector.get('uiGmapIsReady');\n            this.$q = $injector.get('$q');\n        }\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapElementsCtrl\n         * @name pipMapComponent.MapElementsCtrl#$onInit\n         *\n         * @description Init component\n         */\n        MapElementsCtrl.prototype.$onInit = function () {\n            /**\n             * @ngdoc property\n             * @propertyOf pipMapComponent.MapElementsCtrl\n             * @name pipMapComponent.MapElementsCtrl#componentOptions\n             * @type {Object}\n             *\n             * @description Options from outer scope\n             */\n            this.options = angular.merge({}, this.defaultOptions, this.componentOptions);\n            this.models = this.models || [];\n\n            this.externalDblclick = this.options.events && this.options.events.dblclick ? this.options.events.dblclick : angular.noop;\n            this.externalClick = this.options.events && this.options.events.click ? this.options.events.click : angular.noop;\n            this.externalRightclick = this.options.events && this.options.events.rightclick ? this.options.events.rightclick : angular.noop;\n\n            this.events = _.extend(this.options.events,\n                {\n                    dblclick: this.onEventHandler.bind(this),\n                    mousedown: this.onEventHandler.bind(this),\n                    mouseup: this.onEventHandler.bind(this),\n                    rightclick: this.onEventHandler.bind(this),\n                    click: this.onEventHandler.bind(this),\n                    position_changed: (objEvent) => {\n                        this.updatePopupPosition(objEvent);\n                    }\n                });\n        };\n        \n        MapElementsCtrl.prototype.$onDestroy = function () { \n            this.closePopup();\n        };\n\n\n        /**\n         * @ngdoc property\n         * @propertyOf pipMapComponent.MapElementsCtrl\n         * @name pipMapComponent.MapElementsCtrl#defaultOptions\n         * @type {Object}\n         *\n         * @description Default map components\n         */\n        MapElementsCtrl.prototype.defaultOptions = {\n            popup: false,\n            fitBounds: false\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapElementsCtrl\n         * @name pipMapComponent.MapElementsCtrl#init\n         * @param {Object} mapCtrl Instance of the map controller\n         *\n         * @description Init edition\n         */\n        MapElementsCtrl.prototype.init = function (mapCtrl) {\n            this.mapCtrl = mapCtrl;\n            this.initPopup();\n        };\n\n        MapElementsCtrl.prototype.setNewOptions = function (popupOptions) {\n            if (this.popup) this.popup.setNewOptions(popupOptions);\n        };\n\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapElementsCtrl\n         * @name pipMapComponent.MapElementsCtrl#initPopup\n         *\n         * @description Init popup for an element\n         */\n        MapElementsCtrl.prototype.initPopup = function () {\n            if (!this.options.popup) {\n                return;\n            }\n\n            this.options.popup = angular.merge({}, this.options.popup, {\n                onShow: this.onShowPopup.bind(this),\n                onClose: this.onClosePopup.bind(this)\n            });\n\n            this.pipMapHelperSrv.whenReady.then(function () {\n                this.popup = this.mapCtrl.createElementPopup(this.options.popup);\n            }.bind(this));\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapElementsCtrl\n         * @name pipMapComponent.MapElementsCtrl#onShowPopup\n         * @param {Object} model Model to which popup is shown\n         * @param {Object} options Options of the popup\n         *\n         * @description On popup show handler\n         */\n        MapElementsCtrl.prototype.onShowPopup = function () {\n            this.popUpOpened = true;\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapElementsCtrl\n         * @name pipMapComponent.MapElementsCtrl#onClosePopup\n         *\n         * @description On popup close handler\n         */\n        MapElementsCtrl.prototype.onClosePopup = function () {\n            this.popUpOpened = false;\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapElementsCtrl\n         * @name pipMapComponent.MapElementsCtrl#getBoundsToFitAsync\n         * @return {Promise} Promise for getting bounds\n         *\n         * @description Gets bounds from model positions to fit them. Does so async, after map is ready\n         * If options for fitting is switched off - it rejects the promise\n         */\n        MapElementsCtrl.prototype.getBoundsToFitAsync = function () {\n            if (!this.options.fitBounds) {\n                return this.$q.reject('Fit is switched off');\n            }\n\n            return this.uiGmapIsReady.promise()\n                .then(function () {\n                    return this.getBounds();\n                }.bind(this));\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapElementsCtrl\n         * @name pipMapComponent.MapElementsCtrl#getBounds\n         * @return {Object} Bounds for the models\n         *\n         * @description Gets bounds from model positions to fit them\n         */\n        MapElementsCtrl.prototype.getBounds = function () {\n            return this.pipMapHelperSrv.getBoundsFromCoordinates(this.getAllPositions());\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapElementsCtrl\n         * @name pipMapComponent.MapElementsCtrl#getAllPositions\n         * @returns {Array<Object>} Positions for given model or an empty array\n         *\n         * @description Gets model positions array.\n         */\n        MapElementsCtrl.prototype.getAllPositions = function () {\n            if (!angular.isArray(this.models)) {\n                return [];\n            }\n\n            return this.models.map(function (model) {\n                return this.getPosition(model);\n            }, this);\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapElementsCtrl\n         * @name pipMapComponent.MapElementsCtrl#getPosition\n         * @param {Object} model Model to get position for\n         * @returns {Array<Map~position>|<Map~position>} Position for a model\n         *\n         * @description Default maker position getter. We use it if coords is set to 'self'\n         */\n        MapElementsCtrl.prototype.getPosition = function (model) {\n            return {\n                latitude: model.latitude,\n                longitude: model.longitude\n            };\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapElementsCtrl\n         * @name pipMapComponent.MapElementsCtrl#isModelEmpty\n         * @param {Object} model Model to check position for\n         * @returns {boolean} True if current model is empty\n         *\n         * @description Checks whether model is empty\n         */\n        MapElementsCtrl.prototype.isModelEmpty = function (model) {\n            var position = this.getPosition(model);\n            return !position.latitude || !position.longitude;\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapElementsCtrl\n         * @name pipMapComponent.MapElementsCtrl#onClick\n         * @param {Map~eventObj} eventObj Event object\n         *\n         * @description Handler on model click\n         */\n        MapElementsCtrl.prototype.onDblclick = function (eventObj) {\n            this.externalDblclick(eventObj);\n            //this.correctCircleModel(eventObj);\n            //this.togglePopup(eventObj);\n        };\n\n        MapElementsCtrl.prototype.onClick = function (eventObj) {\n            this.externalClick(eventObj);\n            if (this.longClick) {\n                this.correctCircleModel(eventObj);\n                this.togglePopup(eventObj);\n                this.longClick = false;\n            } else {\n                this.closePopup();\n            }\n            \n        };\n\n        MapElementsCtrl.prototype.correctCircleModel = function (eventObj) {\n            if (eventObj.gModel.radius && eventObj.gModel.center) {\n                let model = {};\n\n                _.each(this.models, (m) => {\n                    if (m[this.options.center] && m[this.options.radius]) {\n                        if (m[this.options.center].latitude.toFixed(5) == eventObj.gModel.center.lat().toFixed(5) &&\n                            m[this.options.center].longitude.toFixed(5) == eventObj.gModel.center.lng().toFixed(5) &&\n                            m[this.options.radius].toFixed(5) === eventObj.gModel.radius.toFixed(5)) {\n                            model = m;\n                        }\n                    }\n                });\n\n                eventObj.model = model;\n            }\n        };\n\n        MapElementsCtrl.prototype.onRightclick = function (eventObj) {\n            this.externalRightclick(eventObj);\n            this.correctCircleModel(eventObj);\n            this.togglePopup(eventObj);\n        };\n\n        MapElementsCtrl.prototype.onMousedown = function (eventObj) {\n            this.start = new Date().getTime();\n        };\n\n        MapElementsCtrl.prototype.onMouseup = function (eventObj) {\n            this.end = new Date().getTime();\n            this.longClick = (this.end - this.start > 300);\n        };\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapElementsCtrl\n         * @name pipMapComponent.MapElementsCtrl#togglePopup\n         * @param {Map~eventObj} eventObj Event object\n         *\n         * @description Toggles popup\n         */\n        MapElementsCtrl.prototype.togglePopup = function (eventObj) {\n            if (!this.popup) {\n                return;\n            }\n\n            this.popup.toggle(eventObj);\n        };\n\n        MapElementsCtrl.prototype.closePopup = function (eventObj) {\n            if (!this.popup) {\n                return;\n            }\n\n            this.popup.close();\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapElementsCtrl\n         * @name pipMapComponent.MapElementsCtrl#getModels\n         * @returns {Array<Object>} Array of current models\n         *\n         * @description Returns current models list\n         */\n        MapElementsCtrl.prototype.getModels = function () {\n            return this.models;\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapElementsCtrl\n         * @name pipMapComponent.MapElementsCtrl#checkContainsModel\n         * @param {Object} model Model to check\n         * @returns {boolean} True if contains\n         *\n         * @description Check whether current element contains given model\n         */\n        MapElementsCtrl.prototype.checkContainsModel = function (model) {\n            return this.models.indexOf(model) > -1;\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapElementsCtrl\n         * @name pipMapComponent.MapElementsCtrl#getPlural\n         * @param {*} id Id of the model to get plural for\n         * @returns {Object} Plural model with given id\n         *\n         * @description Returns plural models with given id.\n         */\n        MapElementsCtrl.prototype.getPlural = function (id) {\n            return this.getPlurals().get(id);\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapElementsCtrl\n         * @name pipMapComponent.MapElementsCtrl#getPlurals\n         * @returns {Object} Plural object with methods\n         *\n         * @description Returns plurals models\n         */\n        MapElementsCtrl.prototype.getPlurals = function () {\n            return this.control.getPlurals();\n        };\n\n        MapElementsCtrl.prototype.updatePopupPosition = function (objEvent) {\n            if (this.popUpOpened === objEvent.model.id) {\n                this.popup.setPosition({\n                    latitude: objEvent.position.lat(),\n                    longitude: objEvent.position.lng()\n                });\n            }\n        }\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapElementsCtrl\n         * @name pipMapComponent.MapElementsCtrl#freezeMap\n         *\n         * @description Freezes map\n         */\n        MapElementsCtrl.prototype.freezeMap = function () {\n            return this.mapCtrl.freeze();\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapElementsCtrl\n         * @name pipMapComponent.MapElementsCtrl#unfreezeMap\n         *\n         * @description unfreezes map\n         */\n        MapElementsCtrl.prototype.unfreezeMap = function () {\n            return this.mapCtrl.unfreeze();\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapElementsCtrl\n         * @name pipMapComponent.MapElementsCtrl#setCursor\n         * @param {string} [cursor] Cursor code. If empty - the default behaviour is restored\n         *\n         * @description Overrides cursor for the map or set back default behaviour if cursor is not provided\n         * @todo: This is not used currently. It was developed to able change cursors from actions\n         */\n        MapElementsCtrl.prototype.setCursor = function (cursor) {\n            return this.mapCtrl.setCursor(cursor);\n        };\n\n\n        return MapElementsCtrl;\n    }\n\n    angular.module('pipMapsElements')\n        .factory('MapElementsCtrlFct', MapElementsCtrlFct);\n})();","(function () {\n    'use strict';\n\n    /**\n     * @typedef {Object} Map~PopupBreakpoint\n     * @property {string} name Name of the breakpoint (according to material docs)\n     * @property {number} width Width of the offset\n     * @property {number} height Height of the offset\n     */\n    /**\n     * @ngdoc service\n     * @name pipMapComponent.pipMapElementsFct\n     * @restrict AE\n     *\n     * @scope\n     * @property {Array<Object>} pipModels Models array\n     * @property {Object} pipOptions Options for a map elements\n     * @property {boolean} [pipOptions.fitBounds = true] Whether map fit bounds method should work\n     * @property {boolean|Object} [pipOptions.popup = false] Popup for an element settings.\n     * If set to false - popup is disabled\n     * @property {string} [pipOptions.popup.className] Class name to add to a popup\n     * @property {string} [pipOptions.popup.templateUrl] Template url for a popup\n     * @property {Object} [pipOptions.popup.offset] Offset for a popup from current position\n     * @property {number} [pipOptions.popup.width] Width of the offset\n     * @property {number} [pipOptions.popup.height] Height of the offset\n     * @property {Array.<Map~PopupBreakpoint>} [pipOptions.popup.breakpoints] Breakpoints to change offset for\n     * Array is used for ability to prioritize them. If no breakpoint is matched - default offset is used\n     *\n     * @description\n     * This is a template for a directive.\n     * You SHOULD provide proper 'require', 'controller' and 'template' properties\n     * Also you can decorate anything in it\n     */\n    function pipMapElementsFct($timeout) {\n        return {\n            strict: 'AE',\n            scope: {},\n            require: ['^pipMap', 'pipMapElements'],\n            link: function ($scope, $element, $attrs, $controllers) {\n                var mapCtrl = $controllers[0];\n                var elementController = $controllers[1];\n\n                elementController.init(mapCtrl);\n\n                $scope.$watch('ctrl.models', function (models) {\n                    if (models) {\n                        elementController.getBoundsToFitAsync().then(function (bounds) {\n                            // fix issue with map zooming.\n                            // We need timeout because map is fit bound on this call, but then it fits given zoom and bounds are lost\n                            $timeout(mapCtrl.fitMapToBounds.bind(mapCtrl, bounds), 200);\n                        });\n                    }\n                });\n\n                $scope.$watch('ctrl.componentOptions.popup', (popupOptions) => {\n                    elementController.setNewOptions(popupOptions);\n                }, true);\n            },\n\n            bindToController: {\n                componentOptions: '=pipOptions',\n                models: '=pipModels'\n            },\n\n            controller: 'MapElementsCtrl',\n            controllerAs: 'ctrl',\n            templateUrl: 'elements/map-elements.html'\n        };\n    }\n\n    angular.module('pipMapsElements')\n        .factory('pipMapElementsFct', pipMapElementsFct);\n})();","(function () {\n  'use strict';\n\n  /**\n   * @ngdoc service\n   * @name pipMapComponent.mapElementsRequireFct\n   *\n   * @description Provide methods for requiring elements, detect there controllers and types\n   */\n  function mapElementsRequireFct() {\n    return {\n      /**\n       * @ngdoc property\n       * @propertyOf pipMapComponent.mapElementsRequireFct\n       * @name pipMapComponent.mapElementsRequireFct#elements\n       *\n       * @type {Array<string>}\n       */\n      elements: ['?^pipMapMarkers', '?^pipMapPolylines', '?^pipMapPolygons', '?^pipMapKml'],\n\n\n      /**\n       * @ngdoc method\n       * @methodOf pipMapComponent.mapElementsRequireFct\n       * @name pipMapComponent.mapElementsRequireFct#getType\n       *\n       * @param {Array<Object>} $controllers Controllers instances which were required\n       * @param {number} [startIndex = 0] Index to start searching from\n       * @returns {string} Type of the element on which this directive is used\n       *\n       * @description Detects by controllers names element type on which this directive is being used\n       */\n      getType: function ($controllers, startIndex) {\n        try {\n          return $controllers.slice(startIndex)\n            .map(function (ctrl, index) {\n              return ctrl && this.elements[index];\n            }, this)\n            .filter(function (ctrlName) {\n              return ctrlName;\n            })[0]\n            .replace('?^pipMap', '')\n            .toLowerCase();\n        } catch (e) {\n          throw new Error('pip-map-editable-element can be used only with map elements directives');\n        }\n      },\n\n\n      /**\n       * @ngdoc method\n       * @methodOf pipMapComponent.mapElementsRequireFct\n       * @name pipMapComponent.mapElementsRequireFct#getController\n       *\n       * @param {Array<Object>} $controllers Controllers instances which were required\n       * @param {number} [startIndex = 0] Index to start searching from\n       * @returns {Object} Instance of the controller\n       *\n       * @description Returns element's controllers among other controllers instances\n       */\n      getController: function ($controllers, startIndex) {\n        return $controllers.slice(startIndex)\n          .filter(function (ctrl) {\n            return ctrl;\n          })[0];\n      }\n    };\n  }\n\n  angular.module('pipMapsElements')\n    .factory('mapElementsRequireFct', mapElementsRequireFct);\n})();\n","(function () {\n    'use strict';\n\n    /**\n     * @ngdoc directive\n     * @name pipMapComponent.pipMapCircles\n     * @restrict AE\n     *\n     * @scope\n     * @property {Array<Object>} pipModels Circles array\n     * @property {Object} pipOptions Options for a map circles\n     *\n     * @description  it extends pipMapElementsFct\n     * @see pipMapComponent.pipMapElementsFct\n     */\n\n    function MapCirclesCtrlFct(MapElementsCtrlFct) {\n        /*@ngInject*/\n        /**\n         * @ngdoc Controller\n         * @name pipMapComponent.MapCirclesCtrl\n         * @mixes pipMapComponent.mapEventHandlerMixinFct\n         * @constructor\n         * @extends pipMapComponent.MapElementsCtrl\n         *\n         * @description Controller for a map circles\n         */\n        function MapCirclesCtrl($injector, $scope) {\n            MapElementsCtrlFct.call(this, $injector, $scope);\n            this.$parse = $injector.get('$parse');\n        }\n\n\n        var _super = MapElementsCtrlFct.prototype;\n        MapCirclesCtrl.prototype = Object.create(_super);\n\n\n        /**\n         * @ngdoc property\n         * @propertyOf pipMapComponent.MapCirclesCtrl\n         * @name pipMapComponent.MapCirclesCtrl#defaultOptions\n         * @type {Object}\n         *\n         * @description Default map components\n         */\n        MapCirclesCtrl.prototype.defaultOptions = angular.merge({}, _super.defaultOptions, {\n            stroke: 'stroke',\n            fill: 'fill',\n            radius: 'radius',\n            center: 'center',\n            fitBounds: false\n        });\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapCirclesCtrl\n         * @name pipMapComponent.MapCirclesCtrl#$onInit\n         *\n         * @description Init component\n         */\n        MapCirclesCtrl.prototype.$onInit = function () {\n            _super.$onInit.call(this);\n            this.setPositionGetterSetter();\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapCirclesCtrl\n         * @name pipMapComponent.MapCirclesCtrl#setPositionGetterSetter\n         *\n         * @description Sets getter for coordinates or null if it not needed. Treats options.model.coords\n         */\n        MapCirclesCtrl.prototype.setPositionGetterSetter = function () {\n            var pathProp = this.options.path;\n\n            this.getPosition = this.$parse(pathProp);\n            this.setPosition = this.getPosition.assign;\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapCirclesCtrl\n         * @name pipMapComponent.MapCirclesCtrl#setDefaultPositionsIfNeeded\n         * @param {Object} model Marker to set position for\n         *\n         * @description Checks if current positions is empty and sets default if needed\n         */\n        MapCirclesCtrl.prototype.setDefaultPositionsIfNeeded = function (model) {\n            var positions = this.getPosition(model);\n\n            if (!angular.isArray(positions)) {\n                this.setPosition(model, []);\n            }\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapCirclesCtrl\n         * @name pipMapComponent.MapCirclesCtrl#getAllPositions\n         * @returns {Array<Object>} Positions for given model or an empty array\n         *\n         * @description Gets model positions array.\n         */\n        MapCirclesCtrl.prototype.getAllPositions = function () {\n            var paths = _super.getAllPositions.call(this);\n            return Array.prototype.concat.apply([], paths); //flatten array of arrays\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapCirclesCtrl\n         * @name pipMapComponent.MapCirclesCtrl#setPosition\n         * @param {Object} model Marker to set position for\n         * @param {Array<Map~position>|<Map~position>} position Position to set\n         *\n         * @description Default maker position setter. We use it if coords is set to 'self'\n         */\n        MapCirclesCtrl.prototype.setPosition = function (model, position) {\n            model[this.defaultOptions.center] = position;\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapCirclesCtrl\n         * @name pipMapComponent.MapCirclesCtrl#getPosition\n         * @param {Object} model Marker to get position for\n         * @returns {Array<Map~position>|<Map~position>} Position for a model\n         *\n         * @description Default polygon position getter. We use it if coords is set to 'self'\n         */\n        MapCirclesCtrl.prototype.getPosition = function (model) {\n            return model[this.defaultOptions.center];\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapCirclesCtrl\n         * @name pipMapComponent.MapCirclesCtrl#isModelEmpty\n         * @param {Object} model Model to check position for\n         * @returns {boolean} True if current model is empty\n         *\n         * @description Checks whether model is empty\n         */\n        MapCirclesCtrl.prototype.isModelEmpty = function (model) {\n            var position = this.getPosition(model);\n            return !position;\n        };\n\n\n        return MapCirclesCtrl;\n    }\n\n\n    /**\n     * Create controller\n     */\n    function MapCirclesCtrlBuilder($controller, $scope, MapCirclesCtrlFct) {\n        var instance = $controller(MapCirclesCtrlFct, {\n            $scope: $scope\n        });\n\n        angular.extend(instance, this);\n        instance.$onInit();\n\n        return instance;\n    }\n\n    function pipMapCircles(pipMapElementsFct) {\n        return angular.extend({}, pipMapElementsFct, {\n            require: ['^pipMap', 'pipMapCircles'],\n            controller: 'MapCirclesCtrl',\n            templateUrl: 'elements/circles/map-circles.html'\n        });\n    }\n\n    angular.module('pipMapsElements')\n        .factory('MapCirclesCtrlFct', MapCirclesCtrlFct)\n        .controller('MapCirclesCtrl', MapCirclesCtrlBuilder)\n        .directive('pipMapCircles', pipMapCircles);\n})();","angular.module('pipMapsElements', []);\n\nimport './MapElementControllerService';\nimport './MapElementDirectiveService';\nimport './MapElementRequireService';\n\nimport './kml/MapKml';\nimport './markers/MapMarkers';\nimport './polygons/MapPolygons';\nimport './polylines/MapPolylines';\nimport './circles/MapCircles';","(function () {\n    'use strict';\n\n    /**\n     * @ngdoc directive\n     * @name pipMapComponent.pipMapKml\n     * @restrict AE\n     *\n     * @scope\n     * @property {Array<Object>} pipModels Kml array\n     * @property {Object} pipOptions Options for a map markers\n     * @property {boolean|Object} [pipOptions.connect = false] Connection lines settings\n     * (connect markers or groups together). If set to false - connections are disabled\n     * @property {Object} [pipOptions.connect.stroke] Settings for connections stroke\n     * @property {Object} [pipOptions.connect.icons] Settings for connection icons\n     * @property {Object} [pipOptions.connect.property] Settings for connection data\n     * from which property it should take data to show connections.\n     *\n     * @description  it extends pipMapElementsFct\n     * @see pipMapComponent.pipMapElementsFct\n     */\n\n    function MapKmlCtrlFct(MapElementsCtrlFct) {\n        /*@ngInject*/\n        /**\n         * @ngdoc Controller\n         * @name pipMapComponent.MapKmlCtrl\n         * @mixes pipMapComponent.mapEventHandlerMixinFct\n         * @constructor\n         * @extends pipMapComponent.MapElementsCtrl\n         *\n         * @description Controller for a map KML\n         */\n        function MapKmlCtrl($injector, $scope) {\n            MapElementsCtrlFct.call(this, $injector, $scope);\n\n            this.pipMapHelperSrv = $injector.get('pipMapHelperSrv');\n            this.existingModels = [];\n        }\n\n\n        var _super = MapElementsCtrlFct.prototype;\n        MapKmlCtrl.prototype = Object.create(_super);\n\n\n        /**\n         * @ngdoc property\n         * @propertyOf pipMapComponent.MapKmlCtrl\n         * @name pipMapComponent.MapKmlCtrl#defaultOptions\n         * @type {Object}\n         *\n         * @description Default map components\n         */\n        MapKmlCtrl.prototype.defaultOptions = angular.merge({}, _super.defaultOptions, {\n            layer: {\n                preserveViewport: true,\n                suppressInfoWindows: true\n            }\n        });\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapKmlCtrl\n         * @name pipMapComponent.MapKmlCtrl#getPopupParameters\n         * @returns {Object} Parameters object\n         *\n         * @description Gets parameters object for a popup template\n         * @todo: Check whether this code is actual after moving to one popup instance per map\n         */\n        MapKmlCtrl.prototype.getPopupParameters = function (): any {\n            if (!this.popup.model) {\n                return {};\n            }\n\n            return {\n                model: this.popup.model,\n                position: this.popup.position,\n                meta: this.popup.model.instance.getMetadata()\n            };\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapKmlCtrl\n         * @name pipMapComponent.MapKmlCtrl#update\n         *\n         * @description Updates models\n         */\n        MapKmlCtrl.prototype.update = function () {\n            this.pipMapHelperSrv.whenReady.then(function () {\n                this.removeOldModels();\n                this.addNewModels();\n            }.bind(this));\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapKmlCtrl\n         * @name pipMapComponent.MapKmlCtrl#removeOldModels\n         *\n         * @description Removes old models\n         */\n        MapKmlCtrl.prototype.removeOldModels = function () {\n            this.getOldModels()\n                .forEach(function (model) {\n                    model.instance.setMap(null);\n                    this.deRegisterModel(model);\n                }, this);\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapKmlCtrl\n         * @name pipMapComponent.MapKmlCtrl#getOldModels\n         * @returns {Array<Object>} Old models\n         *\n         * @description Returns old models\n         */\n        MapKmlCtrl.prototype.getOldModels = function () {\n            var newUrls = this.models.map(function (model) {\n                return model.url;\n            });\n\n            return this.existingModels\n                .filter(function (model) {\n                    return newUrls.indexOf(model.url) === -1;\n                });\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapKmlCtrl\n         * @name pipMapComponent.MapKmlCtrl#addNewModels\n         *\n         * @description Adds new models to the map models\n         */\n        MapKmlCtrl.prototype.addNewModels = function () {\n            this.getNewModels()\n                .forEach(function (model) {\n                    var copy = angular.copy(model);\n                    this.addModel(copy);\n                    this.registerModel(copy);\n                    this.addEvents(copy);\n                }, this);\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapKmlCtrl\n         * @name pipMapComponent.MapKmlCtrl#getNewModels\n         * @returns {Array<Object>} New models\n         *\n         * @description Returns array of models to add\n         */\n        MapKmlCtrl.prototype.getNewModels = function () {\n            var existingUrls = this.existingModels.map(function (model) {\n                return model.url;\n            });\n\n            return this.models\n                .filter(function (model) {\n                    return existingUrls.indexOf(model.url) === -1;\n                });\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapKmlCtrl\n         * @name pipMapComponent.MapKmlCtrl#addModel\n         * @param {Object} model Model to add\n         *\n         * @description Adds a model to the map\n         */\n        MapKmlCtrl.prototype.addModel = function (model) {\n            var mapInstance = this.mapCtrl.getMapInstance();\n            var options = angular.merge({\n                map: mapInstance,\n                url: model.url\n            }, this.options.layer);\n\n            model.instance = this.pipMapHelperSrv.createKML(options);\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapKmlCtrl\n         * @name pipMapComponent.MapKmlCtrl#addEvents\n         * @param {Object} model Model to add\n         * @param {Object} model.instance Instance of the model's map element\n         *\n         * @description Adds events to a model\n         */\n        MapKmlCtrl.prototype.addEvents = function (model) {\n            var clickHandler = this.onEvent.bind(this, model, 'click');\n            model.instance.addListener('click', clickHandler);\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapKmlCtrl\n         * @name pipMapComponent.MapKmlCtrl#onEvent\n         * @param {Object} model Model to add\n         * @param {Object} model.instance Instance of the model's map element\n         * @param {string} name Event name\n         *\n         * @description Event handler - adapter between mixin's handler and native events\n         */\n        MapKmlCtrl.prototype.onEvent = function (model, name) {\n            var args = this.copyArguments(arguments, 2);\n            this.onEventHandler(model.instance, name, model, args);\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapKmlCtrl\n         * @name pipMapComponent.MapKmlCtrl#copyArguments\n         *\n         * @param {Arguments} args Arguments array\n         * @param {number} startIndex Starting index for copying\n         * @return {Array} Copied arguments\n         *\n         * @description Copies arguments into an array.\n         * @see https://github.com/petkaantonov/bluebird/wiki/Optimization-killers#3-managing-arguments\n         */\n        MapKmlCtrl.prototype.copyArguments = function (args, startIndex) {\n            var result = [];\n\n            for (var i = 0; i < args.length - startIndex; ++i) {\n                result[i] = args[i + startIndex];\n            }\n\n            return result;\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapKmlCtrl\n         * @name pipMapComponent.MapKmlCtrl#getPopupMetaData\n         * @returns {?Object} Metadata for current model in popup\n         *\n         * @description Returns metadata\n         * @todo: Check whether this code is actual after moving to one popup instance per map\n         */\n        MapKmlCtrl.prototype.getPopupMetaData = function () {\n            return this.popup.model && this.popup.model.instance.getMetadata();\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapKmlCtrl\n         * @name pipMapComponent.MapKmlCtrl#registerModel\n         * @param {Object} model Model to register\n         *\n         * @description Registers model as existing\n         */\n        MapKmlCtrl.prototype.registerModel = function (model) {\n            this.existingModels.push(model);\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapKmlCtrl\n         * @name pipMapComponent.MapKmlCtrl#deRegisterModel\n         * @param {Object} model Model to de-register\n         *\n         * @description De-registers model as existing\n         */\n        MapKmlCtrl.prototype.deRegisterModel = function (model) {\n            var index = this.existingModels.indexOf(model);\n            this.existingModels.splice(index, 1);\n        };\n\n\n        return MapKmlCtrl;\n    }\n\n\n    /**\n     * Create controller\n     */\n    function MapKmlCtrlBuilder($controller, $scope, MapKmlCtrlFct) {\n        var instance = $controller(MapKmlCtrlFct, {\n            $scope: $scope\n        });\n\n        angular.extend(instance, this);\n        instance.$onInit();\n\n        return instance;\n    }\n\n\n    function pipMapKml(pipMapElementsFct) {\n        var definition = angular.extend({}, pipMapElementsFct, {\n            require: ['^pipMap', 'pipMapKml'],\n            controller: 'MapKmlCtrl',\n            templateUrl: 'elements/kml/map-kml.html'\n        });\n\n        var link = definition.link;\n        definition.link = function ($scope, $element, $attrs, $controllers) {\n            link.apply(this, arguments);\n\n            var mapCtrl = $controllers[0];\n            var elementController = $controllers[1];\n\n            elementController.mapCtrl = mapCtrl;\n            $scope.$watchCollection('ctrl.models', function (models) {\n                if (models) {\n                    elementController.update();\n                }\n            });\n        };\n\n        return definition;\n    }\n\n    angular.module('pipMapsElements')\n        .directive('pipMapKml', pipMapKml)\n        .factory('MapKmlCtrlFct', MapKmlCtrlFct)\n        .controller('MapKmlCtrl', MapKmlCtrlBuilder);\n})();","(function () {\n    'use strict';\n\n    /**\n     * @ngdoc directive\n     * @name pipMapComponent.pipMapMarkers\n     * @restrict AE\n     *\n     * @scope\n     * @property {Array<Object>} pipModels Markers array\n     * @property {Object} pipOptions Options for a map markers\n     * @property {boolean|Object} [pipOptions.connect = false] Connection lines settings\n     * (connect markers or groups together). If set to false - connections are disabled\n     * @property {Object} [pipOptions.connect.stroke] Settings for connections stroke\n     * @property {Object} [pipOptions.connect.icons] Settings for connection icons\n     * @property {Object} [pipOptions.connect.property] Settings for connection data\n     * from which property it should take data to show connections.\n     *\n     * @description  it extends pipMapElementsFct\n     * @see pipMapComponent.pipMapElementsFct\n     */\n\n    function MapMarkersCtrlFct(MapElementsCtrlFct) {\n        /*@ngInject*/\n        /**\n         * @ngdoc Controller\n         * @name pipMapComponent.MapMarkersCtrl\n         * @mixes pipMapComponent.mapEventHandlerMixinFct\n         * @constructor\n         * @extends pipMapComponent.MapElementsCtrl\n         *\n         * @description Controller for a map marker\n         */\n        function MapMarkersCtrl($injector, $scope) {\n            MapElementsCtrlFct.call(this, $injector, $scope);\n\n            this.$parse = $injector.get('$parse');\n            this.pipMapHelperSrv = $injector.get('pipMapHelperSrv');\n        }\n\n\n        var _super = MapElementsCtrlFct.prototype;\n        MapMarkersCtrl.prototype = Object.create(_super);\n\n\n        /**\n         * @ngdoc property\n         * @propertyOf pipMapComponent.MapMarkersCtrl\n         * @name pipMapComponent.MapMarkersCtrl#defaultOptions\n         * @type {Object}\n         *\n         * @description Default map components\n         */\n        MapMarkersCtrl.prototype.defaultOptions = angular.merge({}, _super.defaultOptions, {\n            model: {\n                coords: 'self',\n                icon: 'icon'\n            },\n            connect: false\n        });\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapMarkersCtrl\n         * @name pipMapComponent.MapMarkersCtrl#$onInit\n         *\n         * @description Init component\n         */\n        MapMarkersCtrl.prototype.$onInit = function () {\n            _super.$onInit.call(this);\n            this.setPositionGetterSetter();\n            this.initConnect();\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapMarkersCtrl\n         * @name pipMapComponent.MapMarkersCtrl#initConnect\n         *\n         * @description Init polyline configuration for connections\n         */\n        MapMarkersCtrl.prototype.initConnect = function () {\n            if (!this.options.connect) {\n                return;\n            }\n\n            var options = this.options.connect;\n\n            this.connect = angular.merge({\n                show: true\n            }, options);\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapMarkersCtrl\n         * @name pipMapComponent.MapMarkersCtrl#setPositionGetterSetter\n         *\n         * @description Sets getter for coordinates or null if it not needed. Treats options.model.coords\n         */\n        MapMarkersCtrl.prototype.setPositionGetterSetter = function () {\n            var coordsProp = this.options.model.coords;\n\n            if (coordsProp === 'self') { // take object with coordinates\n                return;\n            }\n\n            this.getPosition = this.$parse(coordsProp);\n            this.setPosition = this.getPosition.assign;\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapMarkersCtrl\n         * @name pipMapComponent.MapMarkersCtrl#setPosition\n         * @param {Object} model Marker to set position for\n         * @param {Array<Map~position>|<Map~position>} position Position to set\n         *\n         * @description Default maker position setter. We use it if coords is set to 'self'\n         */\n        MapMarkersCtrl.prototype.setPosition = function (model, position) {\n            angular.extend(model, position);\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapMarkersCtrl\n         * @name pipMapComponent.MapMarkersCtrl#onShowPopup\n         * @param {Object} model Model to which popup is shown\n         *\n         * @description Closes popup window and clears related data\n         */\n        MapMarkersCtrl.prototype.onShowPopup = function (model) {\n            //this.resetIconActive();\n            this.popUpOpened = model.id;\n            if (!this.options.popup.options.setPosition) {\n                return;\n            }\n\n            //this.setIconActive(model);\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapMarkersCtrl\n         * @name pipMapComponent.MapMarkersCtrl#onClosePopup\n         *\n         * @description Closes popup window and clears related data\n         */\n        MapMarkersCtrl.prototype.onClosePopup = function () {\n            //this.resetIconActive();\n            this.popUpOpened = null;\n        };\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapMarkersCtrl\n         * @name pipMapComponent.MapMarkersCtrl#setIconActive\n         * @param {Object} model Model to set icon for\n         *\n         * @description Sets icon for the marker active\n         */\n        MapMarkersCtrl.prototype.setIconActive = function (model) {\n            if (!model || !model.icon) {\n                return;\n            }\n\n            this.popupModel = model;\n            this.pipMapHelperSrv.setIcon(this.popupModel.icon, true);\n        };\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapMarkersCtrl\n         * @name pipMapComponent.MapMarkersCtrl#resetIconActive\n         *\n         * @description Sets icon for the marker inactive\n         */\n        MapMarkersCtrl.prototype.resetIconActive = function () {\n            if (!this.popupModel || !this.popupModel.icon) {\n                return;\n            }\n\n            this.pipMapHelperSrv.setIcon(this.popupModel.icon, false);\n            this.popupModel = null;\n        };\n\n        return MapMarkersCtrl;\n    }\n\n    /**\n     * Create controller\n     */\n    function MapMarkersCtrlBuilder($controller, $scope, MapMarkersCtrlFct) {\n        var instance = $controller(MapMarkersCtrlFct, {\n            $scope: $scope\n        });\n\n        angular.extend(instance, this);\n        instance.$onInit();\n\n        return instance;\n    }\n\n    function pipMapMarkers(pipMapElementsFct) {\n        return angular.extend({}, pipMapElementsFct, {\n            require: ['^pipMap', 'pipMapMarkers'],\n            controller: 'MapMarkersCtrl',\n            templateUrl: 'elements/markers/map-markers.html'\n        });\n    }\n\n    angular.module('pipMapsElements')\n        .factory('MapMarkersCtrlFct', MapMarkersCtrlFct)\n        .controller('MapMarkersCtrl', MapMarkersCtrlBuilder)\n        .directive('pipMapMarkers', pipMapMarkers);\n})();","(function () {\n    'use strict';\n\n    /**\n     * @ngdoc directive\n     * @name pipMapComponent.pipMapPolygons\n     * @restrict AE\n     *\n     * @scope\n     * @property {Array<Object>} pipModels Polygons array\n     * @property {Object} pipOptions Options for a map polygons\n     *\n     * @description  it extends pipMapElementsFct\n     * @see pipMapComponent.pipMapElementsFct\n     */\n\n    function MapPolygonsCtrlFct(MapElementsCtrlFct) {\n        /*@ngInject*/\n        /**\n         * @ngdoc Controller\n         * @name pipMapComponent.MapPolygonsCtrl\n         * @mixes pipMapComponent.mapEventHandlerMixinFct\n         * @constructor\n         * @extends pipMapComponent.MapElementsCtrl\n         *\n         * @description Controller for a map polygons\n         */\n        function MapPolygonsCtrl($injector, $scope) {\n            MapElementsCtrlFct.call(this, $injector, $scope);\n            this.$parse = $injector.get('$parse');\n        }\n\n\n        var _super = MapElementsCtrlFct.prototype;\n        MapPolygonsCtrl.prototype = Object.create(_super);\n\n\n        /**\n         * @ngdoc property\n         * @propertyOf pipMapComponent.MapPolygonsCtrl\n         * @name pipMapComponent.MapPolygonsCtrl#defaultOptions\n         * @type {Object}\n         *\n         * @description Default map components\n         */\n        MapPolygonsCtrl.prototype.defaultOptions = angular.merge({}, _super.defaultOptions, {\n            path: 'path',\n            stroke: {\n                color: '#ff6262',\n                weight: 5\n            },\n            fitBounds: false\n        });\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapPolygonsCtrl\n         * @name pipMapComponent.MapPolygonsCtrl#$onInit\n         *\n         * @description Init component\n         */\n        MapPolygonsCtrl.prototype.$onInit = function () {\n            _super.$onInit.call(this);\n            this.setPositionGetterSetter();\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapPolygonsCtrl\n         * @name pipMapComponent.MapPolygonsCtrl#setPositionGetterSetter\n         *\n         * @description Sets getter for coordinates or null if it not needed. Treats options.model.coords\n         */\n        MapPolygonsCtrl.prototype.setPositionGetterSetter = function () {\n            var pathProp = this.options.path;\n\n            this.getPosition = this.$parse(pathProp);\n            this.setPosition = this.getPosition.assign;\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapPolygonsCtrl\n         * @name pipMapComponent.MapPolygonsCtrl#setDefaultPositionsIfNeeded\n         * @param {Object} model Marker to set position for\n         *\n         * @description Checks if current positions is empty and sets default if needed\n         */\n        MapPolygonsCtrl.prototype.setDefaultPositionsIfNeeded = function (model) {\n            var positions = this.getPosition(model);\n\n            if (!angular.isArray(positions)) {\n                this.setPosition(model, []);\n            }\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapPolygonsCtrl\n         * @name pipMapComponent.MapPolygonsCtrl#getAllPositions\n         * @returns {Array<Object>} Positions for given model or an empty array\n         *\n         * @description Gets model positions array.\n         */\n        MapPolygonsCtrl.prototype.getAllPositions = function () {\n            var paths = _super.getAllPositions.call(this);\n            return Array.prototype.concat.apply([], paths); //flatten array of arrays\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapPolygonsCtrl\n         * @name pipMapComponent.MapPolygonsCtrl#setPosition\n         * @param {Object} model Marker to set position for\n         * @param {Array<Map~position>|<Map~position>} position Position to set\n         *\n         * @description Default maker position setter. We use it if coords is set to 'self'\n         */\n        MapPolygonsCtrl.prototype.setPosition = function (model, position) {\n            model[this.defaultOptions.path] = position;\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapPolygonsCtrl\n         * @name pipMapComponent.MapPolygonsCtrl#getPosition\n         * @param {Object} model Marker to get position for\n         * @returns {Array<Map~position>|<Map~position>} Position for a model\n         *\n         * @description Default polygon position getter. We use it if coords is set to 'self'\n         */\n        MapPolygonsCtrl.prototype.getPosition = function (model) {\n            return model[this.defaultOptions.path];\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapPolygonsCtrl\n         * @name pipMapComponent.MapPolygonsCtrl#isModelEmpty\n         * @param {Object} model Model to check position for\n         * @returns {boolean} True if current model is empty\n         *\n         * @description Checks whether model is empty\n         */\n        MapPolygonsCtrl.prototype.isModelEmpty = function (model) {\n            var position = this.getPosition(model);\n            return !position || !position.length || !position[0].latitude || !position[0].longitude;\n        };\n\n\n        return MapPolygonsCtrl;\n    }\n\n\n    /**\n     * Create controller\n     */\n    function MapPolygonsCtrlBuilder($controller, $scope, MapPolygonsCtrlFct) {\n        var instance = $controller(MapPolygonsCtrlFct, {\n            $scope: $scope\n        });\n\n        angular.extend(instance, this);\n        instance.$onInit();\n\n        return instance;\n    }\n\n    function pipMapPolygons(pipMapElementsFct) {\n        return angular.extend({}, pipMapElementsFct, {\n            require: ['^pipMap', 'pipMapPolygons'],\n            controller: 'MapPolygonsCtrl',\n            templateUrl: 'elements/polygons/map-polygons.html'\n        });\n    }\n\n    angular.module('pipMapsElements')\n        .factory('MapPolygonsCtrlFct', MapPolygonsCtrlFct)\n        .controller('MapPolygonsCtrl', MapPolygonsCtrlBuilder)\n        .directive('pipMapPolygons', pipMapPolygons);\n})();","(function () {\n    'use strict';\n\n    /**\n     * @ngdoc directive\n     * @name pipMapComponent.pipMapPolylines\n     * @restrict AE\n     *\n     * @scope\n     * @property {Array<Object>} pipModels Polylines array\n     * @property {Object} pipOptions Options for a map polylines\n     *\n     * @description  it extends pipMapElementsFct\n     * @see pipMapComponent.pipMapElementsFct\n     */\n\n    function MapPolylinesCtrlFct(MapPolygonsCtrlFct) {\n        /*@ngInject*/\n        /**\n         * @ngdoc Controller\n         * @name pipMapComponent.MapPolylinesCtrl\n         * @mixes pipMapComponent.mapEventHandlerMixinFct\n         * @constructor\n         * @extends pipMapComponent.MapPolygonsCtrl\n         * @description Controller for a map polylines\n         */\n        function MapPolylinesCtrl($injector, $scope) {\n            MapPolygonsCtrlFct.call(this, $injector, $scope);\n        }\n\n\n        var _super = MapPolygonsCtrlFct.prototype;\n        MapPolylinesCtrl.prototype = Object.create(_super);\n\n\n        /**\n         * @ngdoc property\n         * @propertyOf pipMapComponent.MapPolylinesCtrl\n         * @name pipMapComponent.MapPolylinesCtrl#defaultOptions\n         * @type {Object}\n         * @description Default map components\n         */\n        MapPolylinesCtrl.prototype.defaultOptions = angular.merge({}, _super.defaultOptions, {});\n\n\n        return MapPolylinesCtrl;\n    }\n\n    /**\n     * Create controller\n     */\n    function MapPolylinesCtrlBuilder($controller, $scope, MapPolylinesCtrlFct) {\n        var instance = $controller(MapPolylinesCtrlFct, {\n            $scope: $scope\n        });\n\n        angular.extend(instance, this);\n        instance.$onInit();\n\n        return instance;\n    }\n\n    function pipMapPolylines(pipMapElementsFct) {\n        return angular.extend({}, pipMapElementsFct, {\n            require: ['^pipMap', 'pipMapPolylines'],\n            controller: 'MapPolylinesCtrl',\n            templateUrl: 'elements/polylines/map-polylines.html'\n        });\n    }\n\n    angular.module('pipMapsElements')\n        .factory('MapPolylinesCtrlFct', MapPolylinesCtrlFct)\n        .controller('MapPolylinesCtrl', MapPolylinesCtrlBuilder)\n        .directive('pipMapPolylines', pipMapPolylines);\n})();","\n(() => {\n  'use strict';\n\n  function MapElementPopupFct($injector) {\n    var pipMapHelperSrv = $injector.get('pipMapHelperSrv');\n    var $rootScope = $injector.get('$rootScope');\n\n    /**\n     * @ngdoc service\n     * @name pipMapComponent.MapElementPopupFct\n     *\n     * @class\n     * @description Element popup class\n     */\n    function MapElementPopupFct(options) {\n      var er = new Error();\n      var offset = pipMapHelperSrv.createSize(options.offset.width, options.offset.height);\n\n      this.options = angular.merge({\n        boxClass: 'pip-map-info-window ' + options.className,\n        closeBoxURL: '',\n        pixelOffset: offset\n      }, options.options);\n\n      this.templateUrl = options.templateUrl;\n\n      this.onShow = options.onShow;\n      this.onClose = options.onClose;\n\n      this.initBreakpoints(options.offset.breakpoints);\n    }\n\n\n    /**\n     * @ngdoc method\n     * @methodOf pipMapComponent.MapElementPopupFct\n     * @name pipMapComponent.MapElementPopupFct#initBreakpoints\n     * @private\n     *\n     * @param {Array<Object>} breakpoints Array of breakpoint to init\n     *\n     * @description Init popup breakpoints if any\n     */\n    MapElementPopupFct.prototype.initBreakpoints = function (breakpoints) {\n      breakpoints = breakpoints || [];\n\n      this.breakpoints = breakpoints.map(function (breakpoint) {\n        return {\n          name: breakpoint.name,\n          offset: pipMapHelperSrv.createSize(breakpoint.width, breakpoint.height)\n        };\n      }, this);\n\n      this.defaultOffset = this.options.pixelOffset;\n    };\n\n    MapElementPopupFct.prototype.setNewOptions = function (options) {\n      var offset = pipMapHelperSrv.createSize(options.offset.width, options.offset.height);\n\n      this.options = angular.merge({\n        boxClass: 'pip-map-info-window ' + options.className,\n        closeBoxURL: '',\n        pixelOffset: offset\n      }, options.options);\n\n      this.initBreakpoints(options.offset.breakpoints);\n      this.fitOffset();\n    }\n\n\n    /**\n     * @ngdoc method\n     * @methodOf pipMapComponent.MapElementPopupFct\n     * @name pipMapComponent.MapElementPopupFct#close\n     *\n     * @description Closes element popup\n     */\n    MapElementPopupFct.prototype.close = function () {\n      this.onClose();\n    };\n\n\n    /**\n     * @ngdoc method\n     * @methodOf pipMapComponent.MapElementPopupFct\n     * @name pipMapComponent.MapElementPopupFct#show\n     * @param {Object} model to show popup for\n     *\n     * @description Shows element popup\n     */\n    MapElementPopupFct.prototype.show = function (model) {\n      this.onShow(model);\n      this.fitOffset();\n    };\n\n\n    /**\n     * @ngdoc method\n     * @methodOf pipMapComponent.MapElementPopupFct\n     * @name pipMapComponent.MapElementPopupFct#setPosition\n     *\n     * @description Sets position of the element popup\n     */\n    MapElementPopupFct.prototype.setPosition = function () {\n      this.fitOffset();\n    };\n\n\n    /**\n     * @ngdoc method\n     * @methodOf pipMapComponent.MapElementPopupFct\n     * @name pipMapComponent.MapElementPopupFct#fitOffset\n     *\n     * @description\n     */\n    MapElementPopupFct.prototype.fitOffset = function () {\n      var hasBreakpoint = this.breakpoints.some(function (breakpoint) {\n        var isTargetBreakpoint = $rootScope.utils.hasBreakpoint(breakpoint.name);\n\n        if (isTargetBreakpoint) {\n          this.options.pixelOffset = breakpoint.offset;\n          return true;\n        }\n      }, this);\n\n      if (!hasBreakpoint) {\n        this.options.pixelOffset = this.defaultOffset;\n      }\n    };\n\n\n    return {\n      /**\n       * @ngdoc method\n       * @methodOf pipMapComponent.MapElementPopupFct\n       * @name pipMapComponent.MapElementPopupFct#fitOffset\n       * @static\n       *\n       * @description\n       */\n      create: function (options) {\n        return new MapElementPopupFct(options);\n      }\n    };\n  }\n\n  angular.module('pipMapsPopup')\n    .factory('MapElementPopupFct', MapElementPopupFct);\n\n})();\n","(() => {\n    'use strict';\n\n    /**\n     * @ngdoc directive\n     * @name pipMapComponent.mapPopup\n     * @restrict A\n     *\n     * @description Directive for popup for map elements. Also treats editable elements properly\n     */\n    function mapPopup() {\n        return {\n            strict: 'A',\n            scope: {\n                popup: '=pipMapPopup'\n            },\n            templateUrl: 'popup/map-popup.html'\n        };\n    }\n\n    angular.module('pipMapsPopup')\n        .directive('pipMapPopup', mapPopup);\n})();","(() => {\n  'use strict';\n\n  /**\n   * @ngdoc directive\n   * @name pipMapComponent.mapPopupContent\n   * @restrict AE\n   *\n   * @description Directive for basic popup content. Transcluded.\n   */\n  function mapPopupContent() {\n    return {\n      strict     : 'AE',\n      transclude : true,\n      templateUrl: 'popup/map-popup-content.html'\n    };\n  }\n\n  angular.module('pipMapsPopup')\n    .directive('pipMapPopupContent', mapPopupContent);\n})();\n","(() => {\n    'use strict';\n\n    function MapPopupFct($injector) {\n        var MapElementPopup = $injector.get('MapElementPopupFct');\n        var $rootScope = $injector.get('$rootScope');\n        var $timeout = $injector.get('$timeout');\n\n        /**\n         * @ngdoc service\n         * @name pipMapComponent.MapPopupFct\n         *\n         * @description Controller for popup for map elements directive\n         */\n        function MapPopupFct() {\n            this.elements = [];\n        }\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapPopupFct\n         * @name pipMapComponent.MapPopupFct#add\n         *\n         * @param {Object} options Popup options\n         * @returns {Object}\n         *\n         * @description Init popup configuration\n         */\n        MapPopupFct.prototype.add = function (options) {\n            var element = MapElementPopup.create(options);\n            this.elements.push(element);\n\n            return {\n                toggle: this.toggle.bind(this, element),\n                close: this.close.bind(this, element),\n                setPosition: (position) => {\n                    if (this.element.options.updatePosition === false) return;\n\n                    this.position = position;\n                },\n                setNewOptions: (options) => {\n                    element.setNewOptions(options);\n                }\n            };\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapPopupFct\n         * @name pipMapComponent.MapPopupFct#toggle\n         *\n         * @param {pipMapComponent.MapElementPopupFct} element Element popup to show\n         * @param {Map~eventObj} eventObj Event object for popup\n         *\n         * @description Toggles popup\n         */\n        MapPopupFct.prototype.toggle = function (element, eventObj) {\n            if (this.isNewModel(eventObj)) {\n                // if (this.element !== element) {\n                this.close();\n\n                this.element = element;\n                $timeout(function () {\n                    this.show(element);\n                }.bind(this), 10); //magic number to let info-popup-window to be destroyed and init once again\n                // }\n\n                this.setPosition(eventObj);\n                return;\n            }\n\n            this.close();\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapPopupFct\n         * @name pipMapComponent.MapPopupFct#isNewModel\n         *\n         * @param {Map~eventObj} eventObj Event object for popup\n         * @returns {boolean} true if new\n         *\n         * @description Checks whether this is new popup to show\n         */\n        MapPopupFct.prototype.isNewModel = function (eventObj) {\n            return this.model !== eventObj.model;\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapPopupFct\n         * @name pipMapComponent.MapPopupFct#show\n         *\n         * @param {pipMapComponent.MapElementPopupFct} element Element popup to show\n         *\n         * @description Shows popup for an element with given event object\n         */\n        MapPopupFct.prototype.show = function (element) {\n            if (!this.model || !this.position) {\n                return;\n            }\n\n            this.isEnabled = true;\n\n            this.setBreakpointHandler(element);\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapPopupFct\n         * @name pipMapComponent.MapPopupFct#setPosition\n         *\n         * @param {Map~eventObj} eventObj Event for showing popup\n         *\n         * @description Closes popup window and clears related data\n         */\n        MapPopupFct.prototype.setPosition = function (eventObj) {\n            this.position = this.getPosition(eventObj);\n            this.model = eventObj.model;\n            this.element.show(this.model);\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapPopupFct\n         * @name pipMapComponent.MapPopupFct#setBreakpointHandler\n         * @param {pipMapComponent.MapElementPopupFct} element Element popup to show\n         *\n         * @description Sets breakpoint handler\n         */\n        MapPopupFct.prototype.setBreakpointHandler = function (element) {\n            this.removeBreakpointHandler = $rootScope.$on('pipMainLayoutResized', element.setPosition.bind(element));\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapPopupFct\n         * @name pipMapComponent.MapPopupFct#resetBreakpointHandler\n         *\n         * @description Resets breakpoint handler\n         */\n        MapPopupFct.prototype.resetBreakpointHandler = function () {\n            if (this.removeBreakpointHandler) this.removeBreakpointHandler();\n        };\n\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapPopupFct\n         * @name pipMapComponent.MapPopupFct#close\n         *\n         * @description Closes popup window and clears related data\n         */\n        MapPopupFct.prototype.close = function () {\n            if (!this.element) {\n                return;\n            }\n\n            this.element.close();\n\n            this.resetBreakpointHandler();\n\n            this.model = null;\n            this.isEnabled = false;\n            this.position = null;\n            this.element = null;\n        };\n\n        /**\n         * @ngdoc method\n         * @methodOf pipMapComponent.MapPopupFct\n         * @name pipMapComponent.MapPopupFct#getPosition\n         * @private\n         *\n         * @param {Map~eventObj} eventObj Event for showing popup\n         *\n         * @description Gets position for a popup\n         */\n        MapPopupFct.prototype.getPosition = function (eventObj) {\n            return eventObj.position;\n        };\n\n\n        return {\n            /**\n             * @ngdoc method\n             * @methodOf pipMapComponent.MapPopupFct\n             * @name pipMapComponent.MapPopupFct#create\n             * @returns {pipMapComponent.MapPopupFct} Popup service instance\n             *\n             * @static\n             * @description Creates popup service instance\n             */\n            create: function () {\n                return new MapPopupFct();\n            }\n        };\n    }\n\n    angular.module('pipMapsPopup')\n        .factory('MapPopupFct', MapPopupFct);\n})();","(function(module) {\ntry {\n  module = angular.module('pipMaps.Templates');\n} catch (e) {\n  module = angular.module('pipMaps.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('map.html',\n    '<div class=\"pip-map-side-panel flex-fixed flex-order-1\" ng-if=\"ctrl.sidePanel.show\"><ng-include src=\"ctrl.sidePanel.template\"></ng-include></div><ui-gmap-google-map class=\"flex pip-map-provider-wrapper\" control=\"ctrl.componentOptions.control\" center=\"ctrl.map.center\" zoom=\"ctrl.map.zoom\" options=\"ctrl.map.options\" bounds=\"ctrl.map.bounds\" events=\"ctrl.map.events\"><div pip-map-popup=\"ctrl.popup\" ng-if=\"ctrl.popup\"></div><ng-transclude></ng-transclude></ui-gmap-google-map>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipMaps.Templates');\n} catch (e) {\n  module = angular.module('pipMaps.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('edit/MapEdit.html',\n    '<pip-map pip-options=\"$ctrl.map\"><ui-gmap-drawing-manager options=\"$ctrl.drawingManagerOptions\" control=\"$ctrl.drawingManagerControl\"></ui-gmap-drawing-manager><pip-map-polygons pip-models=\"$ctrl.disabledPolygons\" pip-options=\"$ctrl.disabledPolygonsOptions\"></pip-map-polygons><pip-map-polylines pip-models=\"$ctrl.disabledPolylines\" pip-options=\"$ctrl.disabledPolylinesOptions\"></pip-map-polylines><pip-map-circles pip-models=\"$ctrl.disabledCircles\" pip-options=\"$ctrl.disabledCirclesOptions\"></pip-map-circles></pip-map><div class=\"action-panel w-stretch layout-row layout-align-center-center\" ng-if=\"$ctrl.showPanel\"><div class=\"action-buttons color-primary-bg flex-fixed\"><md-button ng-click=\"$ctrl.clearMap()\" ng-if=\"$ctrl.showAction(\\'clear\\')\">{{ \\'CLEAR_MAP\\' | translate }}</md-button><md-button ng-click=\"$ctrl.addCircle()\" ng-if=\"$ctrl.showAction(\\'circle\\')\">{{ \\'ADD_CIRCLE\\' | translate }}</md-button><md-button ng-click=\"$ctrl.addPolygon()\" ng-if=\"$ctrl.showAction(\\'polygon\\')\">{{ \\'ADD_POLYGON\\' | translate }}</md-button><md-button ng-click=\"$ctrl.addLine()\" ng-if=\"$ctrl.showAction(\\'line\\')\">{{ \\'ADD_LINE\\' | translate }}</md-button></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipMaps.Templates');\n} catch (e) {\n  module = angular.module('pipMaps.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('edit_old/map-edit-tool.html',\n    '<div layout=\"column\" class=\"pip-map-edit-tool theme-text-primary\" ng-init=\"currentElement = editCtrl.currentElement; tool = currentElement.tool; model = tool.currentModel\"><header hide-xs=\"\" class=\"pip-map-edit-header\" layout=\"column\" layout-align=\"space-between\"><h2 class=\"md-title\">{{:: currentElement.getEditTitle() }}</h2><div class=\"pip-map-edit-actions\" layout=\"row\"><span class=\"pip-map-edit-actions-block-main\"><md-button ng-click=\"tool.undo()\" ng-disabled=\"tool.isUndoDisabled()\"><md-icon md-svg-icon=\"map:undo\" aria-label=\"Undo\"></md-icon></md-button></span><md-divider></md-divider><span class=\"pip-map-edit-actions-block-tool\"><md-button ng-repeat=\"action in tool.actions\" ng-disabled=\"tool.isActionDisabled(action)\" ng-click=\"tool.setAction(action)\"><md-icon md-svg-icon=\"{{:: action.definition.icon }}\" aria-label=\"{{:: action.definition.name }}\" ng-class=\"{ active: tool.isActionActive(action) }\"></md-icon></md-button></span></div></header><header hide-gt-xs=\"\" class=\"pip-map-edit-header\" layout=\"column\" layout-align=\"space-between\"><form name=\"editCtrl.modelForm\" ng-include=\"editCtrl.currentElement.tool.template\"></form></header><md-divider></md-divider><section flex=\"auto\" class=\"pip-map-edit-content\"><form hide-xs=\"\" name=\"editCtrl.modelForm\" ng-include=\"editCtrl.currentElement.tool.template\"></form></section><md-divider></md-divider><footer hide-xs=\"\" class=\"pip-map-edit-footer\" layout=\"row\" layout-align=\"end center\"><div flex=\"\"><md-button ng-click=\"editCtrl.remove()\">{{:: \\'DELETE\\' | translate }} {{:: currentElement.name }}</md-button></div><md-button ng-click=\"editCtrl.cancel()\">{{:: \\'CANCEL\\' | translate }}</md-button><md-button ng-click=\"editCtrl.save()\" ng-disabled=\"editCtrl.modelForm.$invalid\">{{:: tool.titleSave | translate }}</md-button></footer><footer hide-gt-xs=\"\" class=\"pip-map-edit-footer\" layout=\"row\" layout-align=\"start center\"><div layout=\"row\" layout-align=\"space-around\"><md-button ng-click=\"tool.undo()\" ng-disabled=\"tool.isUndoDisabled()\"><md-icon md-svg-icon=\"map:undo\" aria-label=\"Remove\"></md-icon></md-button></div><md-divider></md-divider><md-menu flex=\"\" layout=\"column\"><md-button class=\"pip-map-edit-actions-trigger\" ng-click=\"$mdOpenMenu($event)\"><md-icon class=\"active\" md-svg-icon=\"{{ tool.currentAction.definition.icon }}\" aria-label=\"Trigger menu\" md-menu-origin=\"\"></md-icon><md-icon md-svg-icon=\"map:tools\" aria-label=\"Triangle down\"></md-icon></md-button><md-menu-content width=\"4\"><md-menu-item ng-repeat=\"action in tool.actions\"><md-button ng-click=\"tool.setAction(action)\" ng-disabled=\"tool.isActionDisabled(action)\"><md-icon md-svg-icon=\"{{:: action.definition.icon }}\" aria-label=\"{{:: action.definition.name }}\" ng-class=\"{ active: tool.isActionActive(action) }\" md-menu-align-target=\"\"></md-icon>{{:: action.definition.name }}</md-button></md-menu-item></md-menu-content></md-menu><md-divider></md-divider><div layout=\"row\" layout-align=\"space-around\"><md-button ng-click=\"editCtrl.cancel()\"><md-icon md-svg-icon=\"map:cross\" aria-label=\"Close\"></md-icon></md-button><md-button ng-click=\"editCtrl.save()\" ng-disabled=\"editCtrl.modelForm.$invalid\"><md-icon md-svg-icon=\"map:check\" aria-label=\"Sumbit\"></md-icon></md-button></div></footer></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipMaps.Templates');\n} catch (e) {\n  module = angular.module('pipMaps.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('edit_old/map-edit-tools-list.html',\n    '<md-fab-speed-dial class=\"pip-floating-button map-add-button md-scale\" md-direction=\"up\" md-open=\"fab.isOpen\"><md-fab-trigger><md-button class=\"md-fab\" ng-class=\"{\\'md-accent md-raised\\': !fab.isOpen, \\'md-warn\\': fab.isOpen}\"><md-icon md-svg-icon=\"map:plus\" aria-label=\"Open\" class=\"md-headline centered-add-icon\" ng-if=\"!fab.isOpen\"></md-icon><md-icon md-svg-icon=\"map:cross\" aria-label=\"Close\" class=\"md-headline centered-add-icon\" ng-if=\"fab.isOpen\"></md-icon></md-button></md-fab-trigger><md-fab-actions class=\"pip-map-edit-tools-list\"><div ng-repeat=\"element in ::editCtrl.elements\"><span class=\"pip-map-edit-tooltip\">{{:: element.name }}</span><md-button class=\"md-fab md-raised md-mini\" ng-click=\"editCtrl.createElement(element)\"><md-icon md-svg-icon=\"{{:: element.icon }}\" aria-label=\"{{:: element.icon }}\"></md-icon></md-button></div></md-fab-actions></md-fab-speed-dial>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipMaps.Templates');\n} catch (e) {\n  module = angular.module('pipMaps.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('edit_old/map-edit.html',\n    '<script type=\"text/ng-template\" id=\"map-icons.svg\"><svg xmlns=\"http://www.w3.org/2000/svg\"> <defs> <g id=\"trash\" transform=\"translate(512,0) scale(-1,1) rotate(180,256,256)\"><path d=\"M128 107c0-24 19-43 43-43l170 0c24 0 43 19 43 43l0 256-256 0z m277 320l-74 0-22 21-106 0-22-21-74 0 0-43 298 0z\"/></g> <g id=\"plus\" transform=\"translate(512,0) scale(-1,1) rotate(180,256,256)\"><path d=\"M405 235l-128 0 0-128-42 0 0 128-128 0 0 42 128 0 0 128 42 0 0-128 128 0z\"/></g> <g id=\"cross\" transform=\"translate(512,0) scale(-1,1) rotate(180,256,256)\"><path d=\"M405 375l-30 30-119-119-119 119-30-30 119-119-119-119 30-30 119 119 119-119 30 30-119 119z\"/></g> <g id=\"undo\" transform=\"translate(512,0) scale(-1,1) rotate(180,256,256)\"><path d=\"M213 320l0 85-149-149 149-149 0 87c107 0 182-34 235-109-21 107-85 214-235 235z\"/></g> <g id=\"check\" transform=\"translate(512,0) scale(-1,1) rotate(180,256,256)\"><path d=\"M192 167l-89 89-30-30 119-119 256 256-30 30z\"/></g> <g id=\"tools\" transform=\"translate(512,0) scale(-1,1) rotate(180,256,256)\"><path d=\"M149 299l107-107 107 107z\"/></g> <g id=\"add-point\" transform=\"translate(0,0) scale(25)\"><path class=\"cls-1\" d=\"M8.46,9l2.81-.17a0.31,0.31,0,0,0,.2-0.53L3.4,0.09A0.31,0.31,0,0,0,2.87.3V11.81a0.31,0.31,0,0,0,.51.23L5.51,10.2l1.9,4.64a0.31,0.31,0,0,0,.4.17l2.37-1a0.31,0.31,0,0,0,.17-0.4Z\"/><polygon class=\"cls-1\" points=\"14.96 15.62 14.96 12.72 13.49 12.72 13.49 15.62 10.59 15.62 10.59 17.1 13.49 17.1 13.49 20 14.96 20 14.96 17.1 17.87 17.1 17.87 15.62 14.96 15.62\"/></g> <g id=\"remove-point\" transform=\"translate(0,0) scale(25)\"><path class=\"cls-1\" d=\"M8.46,9l2.81-.17a0.31,0.31,0,0,0,.2-0.53L3.4,0.09a0.31,0.31,0,0,0-.53.22V11.82a0.31,0.31,0,0,0,.51.23l2.12-1.84,1.9,4.64a0.31,0.31,0,0,0,.4.17l2.37-1a0.31,0.31,0,0,0,.17-0.4Z\"/><rect class=\"cls-1\" x=\"10.58\" y=\"15.63\" width=\"7.28\" height=\"1.48\"/></g> <g id=\"pan\" transform=\"translate(0,0) scale(25)\"><path d=\"M15.28,6.56V9H11V4.74h2.41a0.31,0.31,0,0,0,.24-0.51L10.24,0.13a0.31,0.31,0,0,0-.47,0L6.31,4.23a0.31,0.31,0,0,0,.24.51H9V9H4.72V6.56a0.31,0.31,0,0,0-.51-0.24L0.11,9.78a0.31,0.31,0,0,0,0,.47l4.11,3.46a0.31,0.31,0,0,0,.51-0.24V11.07H9v4.23H6.54a0.31,0.31,0,0,0-.24.51l3.46,4.11a0.31,0.31,0,0,0,.47,0l3.46-4.11a0.31,0.31,0,0,0-.24-0.51H11V11.07h4.23v2.41a0.31,0.31,0,0,0,.51.24l4.11-3.46a0.31,0.31,0,0,0,0-.47L15.78,6.32A0.31,0.31,0,0,0,15.28,6.56Z\"/></g> <g id=\"pen\" transform=\"translate(0,0) scale(25)\"><path d=\"M18.92,1.08a3.27,3.27,0,0,0-2.33-1,3.9,3.9,0,0,0-2.71,1.25,3.47,3.47,0,0,0-.44.54L5.66,10.66l-0.43-.43A0.36,0.36,0,0,0,5,10.12a0.39,0.39,0,0,0-.27.11L3.62,11.31a0.38,0.38,0,0,0,0,.53l0.45,0.45a8,8,0,0,1-2.46,1.09,0.54,0.54,0,0,0-.35.38v0S1,18.13,0,19.43a0.36,0.36,0,0,0,0,.36h0l0.13,0.14h0A0.57,0.57,0,0,0,.43,20a0.27,0.27,0,0,0,.13,0c1.42-.82,5.62-1.22,5.66-1.22h0a0.55,0.55,0,0,0,.38-0.35,9.52,9.52,0,0,1,1.1-2.45l0.44,0.44a0.36,0.36,0,0,0,.26.11,0.38,0.38,0,0,0,.27-0.11l1.07-1.07A0.39,0.39,0,0,0,9.87,15a0.36,0.36,0,0,0-.11-0.27l-0.43-.43,8.83-7.79a3.46,3.46,0,0,0,.54-0.44,4,4,0,0,0,1.24-2.47A3.22,3.22,0,0,0,18.92,1.08ZM4.66,17a1.15,1.15,0,1,1,0-1.63A1.15,1.15,0,0,1,4.66,17Z\"/></g> <g id=\"select\" transform=\"translate(0,0) scale(25)\"><path d=\"M15.66,11.25L4.71,0.09a0.31,0.31,0,0,0-.53.22V15.94a0.31,0.31,0,0,0,.51.23l3-2.57,2.54,6.21a0.31,0.31,0,0,0,.4.17l3.31-1.35a0.31,0.31,0,0,0,.17-0.4L11.54,12l3.92-.24A0.31,0.31,0,0,0,15.66,11.25Z\"/></g> <g id=\"hand\" transform=\"translate(0,0) scale(25)\"><path d=\"M16.9,3.52a0.92,0.92,0,0,0-.92.92v4a0.44,0.44,0,0,1-.88,0V1.76a1.1,1.1,0,0,0-2.21,0V8.44h0a0.42,0.42,0,0,1-.83,0V1.2a1.2,1.2,0,0,0-2.39,0s0,7.19,0,7.27a0.4,0.4,0,0,1-.8,0V2.24a1.2,1.2,0,1,0-2.39,0c0,8.67,0,7.67,0,8.39a2,2,0,0,1-.13,1c-0.11.08-.25,0-0.43-0.26C5.51,10.79,4.13,9,2.79,9.63a1.33,1.33,0,0,0-.33,1.93s3,4.34,4,5.84c0.59,0.88.75,1.16,1,1.45C8.15,20,8.58,20,9.84,20H15c2.79,0,2.79-3.31,2.79-4.73V4.94C17.82,3.93,17.41,3.52,16.9,3.52Z\"/></g> <g id=\"draw\" transform=\"translate(0,0) scale(25)\"><path d=\"M1.94,4.37L0,2.49A2.08,2.08,0,0,1,.19,2.27L0.41,2l0.27-.26A2.84,2.84,0,0,0,1,1.48l0.39-.34A5.66,5.66,0,0,1,2,.68,6.24,6.24,0,0,1,2.92.27,3,3,0,0,1,4,.09a2.72,2.72,0,0,1,.81.15A2.6,2.6,0,0,1,5.7.79a2.85,2.85,0,0,1,.74,1,3.49,3.49,0,0,1,.3,1.54,4.64,4.64,0,0,1-.1,1,4.76,4.76,0,0,1-.28.88Q6.14,5.59,5.88,6t-0.59.88l-0.46.75q-0.28.46-.59,1L3.68,9.75a9.54,9.54,0,0,0-.43,1,4.27,4.27,0,0,0-.15.85,2,2,0,0,0,.05.67,1,1,0,0,0,.19.45,0.42,0.42,0,0,0,.32.17A0.72,0.72,0,0,0,4,12.79a1.59,1.59,0,0,0,.34-0.26,2.42,2.42,0,0,0,.3-0.3L4.9,12l0.4-.48L6,10.65l0.77-.93q0.39-.46.62-0.77T8.26,8A9.38,9.38,0,0,1,9.5,7a8.58,8.58,0,0,1,1.57-.84,4.66,4.66,0,0,1,1.78-.35,4,4,0,0,1,2,.46,4.25,4.25,0,0,1,1.33,1.16A4.89,4.89,0,0,1,17,9a8.61,8.61,0,0,1,.32,1.48H20V13.2H17.29a9.87,9.87,0,0,1-.74,3.25,7.19,7.19,0,0,1-1.33,2.06,4.55,4.55,0,0,1-1.6,1.08,4.31,4.31,0,0,1-1.5.31,3.5,3.5,0,0,1-1.37-.27,3.43,3.43,0,0,1-1.11-.74,3.47,3.47,0,0,1-.77-1.08,3.12,3.12,0,0,1-.28-1.32,4.63,4.63,0,0,1,.35-1.61A6.43,6.43,0,0,1,10,13.1a7.75,7.75,0,0,1,1.85-1.55,7.63,7.63,0,0,1,2.67-1q-0.05-.31-0.1-0.66a1.6,1.6,0,0,0-.23-0.63,1.25,1.25,0,0,0-.55-0.49,2.45,2.45,0,0,0-1-.18A2.09,2.09,0,0,0,11.5,9a8.11,8.11,0,0,0-1.17.9q-0.57.57-1.15,1.24T8.1,12.4L7.23,13.46a10.26,10.26,0,0,1-.83.88,6.4,6.4,0,0,1-.81.7,2.76,2.76,0,0,1-.86.41,3.09,3.09,0,0,1-.75.12,4.28,4.28,0,0,1-.75,0,4,4,0,0,1-.74-0.22,3,3,0,0,1-.66-0.37A3.32,3.32,0,0,1,.72,13.56a5.4,5.4,0,0,1-.28-0.92,4.69,4.69,0,0,1-.1-1A5.76,5.76,0,0,1,.8,9.5a21.73,21.73,0,0,1,1-2.15q0.57-1,1.07-1.74l0.61-.89,0.27-.46A3,3,0,0,0,4,3.75,0.91,0.91,0,0,0,4.05,3.3,0.38,0.38,0,0,0,3.82,3a0.42,0.42,0,0,0-.34.05A2.67,2.67,0,0,0,3,3.34L2.5,3.81Q2.22,4.06,1.94,4.37ZM12.15,17.23A1.36,1.36,0,0,0,12.81,17a2.31,2.31,0,0,0,.68-0.63,4.77,4.77,0,0,0,.62-1.17,7.65,7.65,0,0,0,.41-1.85A4.78,4.78,0,0,0,13,14a4.59,4.59,0,0,0-1,.85,3.77,3.77,0,0,0-.53.88,1.89,1.89,0,0,0-.17.67,0.74,0.74,0,0,0,.08.34,0.76,0.76,0,0,0,.21.26,0.66,0.66,0,0,0,.25.15A0.79,0.79,0,0,0,12.15,17.23Z\"/></g> <g id=\"point\" transform=\"translate(0,0) scale(25)\"><path d=\"M10,0a6.88,6.88,0,0,1,4.94,2.06A6.88,6.88,0,0,1,17,7q0,3.93-7,13Q3,10.94,3,7A6.88,6.88,0,0,1,5.06,2.06,6.88,6.88,0,0,1,10,0Zm0,9.51a2.41,2.41,0,0,0,1-.2,2.34,2.34,0,0,0,.78-0.55A2.34,2.34,0,0,0,12.31,8a2.47,2.47,0,0,0,0-1.94,2.34,2.34,0,0,0-.55-0.78A2.34,2.34,0,0,0,11,4.7,2.47,2.47,0,0,0,9,4.7a2.34,2.34,0,0,0-.78.55A2.34,2.34,0,0,0,7.69,6,2.47,2.47,0,0,0,7.69,8a2.34,2.34,0,0,0,.55.78A2.34,2.34,0,0,0,9,9.31,2.41,2.41,0,0,0,10,9.51Z\"/></g> </defs></svg></script>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipMaps.Templates');\n} catch (e) {\n  module = angular.module('pipMaps.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('popup/map-popup-content.html',\n    '<div class=\"map-popup-content\"><md-content md-theme=\"{{:: $root.$theme || \\'blue\\' }}\" flex=\"\"><md-button class=\"md-icon-button pip-map-info-window-close-button\" ng-click=\"closeClick(); $event.stopPropagation()\" tabindex=\"-1\" aria-label=\"close\"><md-icon class=\"theme-icon-active\" md-svg-icon=\"icons:cross\"></md-icon></md-button><ng-transclude></ng-transclude></md-content><div class=\"pip-map-info-window-arrow-wrapper\"><div><div></div></div><div><div></div></div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipMaps.Templates');\n} catch (e) {\n  module = angular.module('pipMaps.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('popup/map-popup.html',\n    '<ui-gmap-window ng-if=\"popup.isEnabled\" show=\"popup.isEnabled\" coords=\"popup.position\" templateurl=\":: popup.element.templateUrl\" templateparameter=\":: popup\" options=\":: popup.element.options\" closeclick=\"popup.close()\"></ui-gmap-window>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipMaps.Templates');\n} catch (e) {\n  module = angular.module('pipMaps.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('elements/circles/map-circles.html',\n    '<ui-gmap-circle ng-repeat=\"c in ctrl.models\" center=\"c[ctrl.options.center]\" stroke=\"c[ctrl.options.stroke]\" fill=\"c[ctrl.options.fill]\" radius=\"c[ctrl.options.radius]\" geodesic=\"c.geodesic\" events=\"ctrl.events\" visible=\"true\"></ui-gmap-circle>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipMaps.Templates');\n} catch (e) {\n  module = angular.module('pipMaps.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('elements/kml/map-kml.html',\n    '');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipMaps.Templates');\n} catch (e) {\n  module = angular.module('pipMaps.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('elements/markers/map-markers.html',\n    '<ui-gmap-markers models=\"ctrl.models\" coords=\":: ctrl.options.model.coords\" icon=\":: ctrl.options.model.icon\" options=\"\\'options\\'\" control=\":: ctrl.control\" events=\":: ctrl.events\" fit=\":: ctrl.options.fitBounds\"></ui-gmap-markers><ui-gmap-polylines ng-if=\":: ctrl.connect\" models=\"ctrl.models\" path=\":: ctrl.connect.property\" stroke=\":: ctrl.connect.stroke\" icons=\":: ctrl.connect.icons\"></ui-gmap-polylines>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipMaps.Templates');\n} catch (e) {\n  module = angular.module('pipMaps.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('elements/polygons/map-polygons.html',\n    '<ui-gmap-polygons models=\"ctrl.models\" path=\"ctrl.options.path\" stroke=\"ctrl.options.stroke\" fill=\"ctrl.options.fill\" control=\"ctrl.control\" events=\"ctrl.events\" visible=\"\\'visible\\'\" geodesic=\"\\'geodesic\\'\" editable=\"\\'editable\\'\" draggable=\"\\'draggable\\'\" fit=\":: ctrl.options.fitBounds\"></ui-gmap-polygons>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipMaps.Templates');\n} catch (e) {\n  module = angular.module('pipMaps.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('elements/polylines/map-polylines.html',\n    '<ui-gmap-polylines models=\"ctrl.models\" path=\"ctrl.options.path\" stroke=\"ctrl.options.stroke\" icons=\"ctrl.options.icons\" control=\"ctrl.control\" events=\"ctrl.events\" visible=\"\\'visible\\'\" geodesic=\"\\'geodesic\\'\" editable=\"\\'editable\\'\" draggable=\"\\'draggable\\'\" static=\"ctrl.options.static\" fit=\"ctrl.options.fitBounds\"></ui-gmap-polylines>');\n}]);\n})();\n\n//# sourceMappingURL=pip-suite-map-html.min.js.map\n","{\n    angular.module('pipMapsPopup', []);\n}\n\nimport './MapElementPopupService';\nimport './MapPopup';\nimport './MapPopupContent';\nimport './MapPopupService';","import { ITagDataService, ITagDataProvider } from './ITagDataService';\nimport { PartyTags } from './PartyTags';\nimport { Tag } from './Tag';\n\nclass TagData implements ITagDataService {\n    private RESOURCE: string = 'tags';\n\n    constructor(\n        private pipRest: pip.rest.IRestService,\n        private pipSession: pip.services.ISessionService\n    ) {\n        \"ngInject\";\n    }\n\n    public getUserId(): string {\n        let userId: string;\n        userId = this.pipSession.session ? this.pipSession.session.userId : null;\n\n        return userId;\n    }\n\n    public readTags(params: any, successCallback?: (data: PartyTags) => void, errorCallback?: (error: any) => void): angular.IPromise<any> {\n        params = params || {};\n        params.party_id = params.party_id ? params.party_id : this.getUserId();\n        return this.pipRest.getResource(this.RESOURCE).get(params, successCallback, errorCallback);\n    }\n\n    public createTags(params: any, data: any, successCallback?: (item: any) => void, errorCallback?: (error: any) => void): void {\n        params.party_id = params.party_id ? params.party_id : this.getUserId();\n        this.pipRest.getResource(this.RESOURCE).save(params, data, successCallback, errorCallback);\n    }\n\n    public updateTags(params: any, data: any, successCallback?: (item: any) => void, errorCallback?: (error: any) => void): void {\n        params.party_id = params.party_id ? params.party_id : this.getUserId();\n        this.pipRest.getResource(this.RESOURCE).update(params, data, successCallback, errorCallback);\n    }\n\n}\n\nclass TagDataProvider implements ITagDataProvider {\n    private _service: ITagDataService;\n\n    constructor() { }\n\n    public $get(\n        pipRest: pip.rest.IRestService,\n        pipSession: pip.services.ISessionService\n    ) {\n        \"ngInject\";\n\n        if (this._service == null) {\n            this._service = new TagData(pipRest, pipSession);\n        }\n\n        return this._service;\n    }\n\n}\n\nangular\n    .module('pipTagData', ['pipCommonRest'])\n    .provider('pipTagData', TagDataProvider);\n\n","function configTagResources(pipRestProvider: pip.rest.IRestProvider) {\n    pipRestProvider.registerResource('tags', '/api/1.0/tags/:party_id',\n        { party_id: '@party_id' },\n        {\n            update: { method: 'PUT' }\n        }\n    );\n}\n\nangular\n    .module('pipTag.Rest', [])\n    .config(configTagResources);\n\n","{\n    interface ITagList {\n        tags: string[];\n        type: string;\n        typeLocal: string;\n    }\n\n    class TagListController implements ITagList {\n        public rebind: string;\n\n        public tags: string[];\n        public type: string;\n        public typeLocal: string;\n\n        constructor(\n            $scope: ng.IScope,\n            $element: ng.IRootElementService\n        ) {\n\n            // Set tags\n            $element.css('display', 'block');\n            $element.addClass('pip-tag-list');\n        }\n\n        private toBoolean(value: string): boolean {\n            if (_.isNull(value) || _.isUndefined(value)) return false;\n            if (!value) return false;\n            value = value.toString().toLowerCase();\n            return value == '1' || value == 'true';\n        }\n\n        public $onChanges(changes: TagListChanges) {\n            if (this.rebind && changes.tags) {\n                this.tags = changes.tags.currentValue;\n            }\n\n        }\n\n    }\n\n    interface ITagListBindings {\n        [key: string]: any;\n\n        tags: any,\n        type: any,\n        typeLocal: any,\n        rebuid: any\n    }\n\n    const TagListBindings: ITagListBindings = {\n        tags: '<pipTags',\n        type: '<pipType',\n        typeLocal: '<pipTypeLocal',\n        rebuid: '<pipRebind'\n    }\n\n    class TagListChanges implements ng.IOnChangesObject, ITagListBindings {\n        [key: string]: ng.IChangesObject<any>;\n\n        tags: ng.IChangesObject<string[]>;\n        type: ng.IChangesObject<string>;\n        typeLocal: ng.IChangesObject<string>;\n        rebuid: ng.IChangesObject<boolean>\n    }\n\n    const TagList = {\n        bindings: TagListBindings,\n        templateUrl: 'tag_list/TagList.html',\n        controller: TagListController\n    }\n\n    angular\n        .module('pipTagList', ['pipTranslate'])\n        .component('pipTagList', TagList)\n\n}","(function(module) {\ntry {\n  module = angular.module('pipTags.Templates');\n} catch (e) {\n  module = angular.module('pipTags.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('tag_list/TagList.html',\n    '<div class=\"pip-chip rm4 pip-type-chip pip-type-chip-left {{\\'bg-\\' + $ctrl.type + \\'-chips\\'}}\" ng-if=\"$ctrl.type && !$ctrl.typeLocal\"><span>{{$ctrl.type.toUpperCase() | translate | uppercase}}</span></div><div class=\"pip-chip rm4 pip-type-chip pip-type-chip-left {{\\'bg-\\' + $ctrl.type + \\'-chips\\'}}\" ng-if=\"$ctrl.type && $ctrl.typeLocal\"><span>{{$ctrl.typeLocal.toUpperCase() | translate | uppercase}}</span></div><div class=\"pip-chip rm4\" ng-repeat=\"tag in $ctrl.tags\"><span>{{::tag}}</span></div>');\n}]);\n})();\n\n//# sourceMappingURL=pip-suite-tags-html.min.js.map\n"]}